var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{H as inject,G as watch,aq as onBeforeUnmount,X as onMounted,bU as root,bV as isObject,g as cB,k as cM,d as defineComponent,h,u as useConfig,P as useStyle,C as ref,y as computed,bW as keysOf,br as beforeNextFrameOnce,j as cE,F as cNotM,m as c,s as resolveWrappedSlot,N as NBaseClose,v as useTheme,bX as tagLight,_ as provide,Q as toRef,x as useRtl,A as createKey,z as getMargin,B as useThemeClass,bY as color2Class,a1 as call,D as createInjectionKey,U as useMemo,p as resolveSlot,K as Scrollbar,bZ as onFontsReady,$ as nextTick,b_ as keep,b$ as anchorLight,c0 as insideModal,c1 as insidePopover,c2 as listLight,a3 as throwError}from"./index-CW4GV-YS.js";import{t as toNumber}from"./use-locale-BMHbt4wc.js";function unwrapElement(target){return typeof target=="string"?document.querySelector(target):typeof target=="function"?target():target}__name(unwrapElement,"unwrapElement");function useInjectionCollection(injectionName,collectionKey,valueRef){const injection=inject(injectionName,null);injection!==null&&(collectionKey in injection||(injection[collectionKey]=[]),injection[collectionKey].push(valueRef.value),watch(valueRef,(value,prevValue)=>{const collectionArray=injection[collectionKey],index=collectionArray.findIndex(collectionValue=>collectionValue===prevValue);~index&&collectionArray.splice(index,1),collectionArray.push(value)}),onBeforeUnmount(()=>{const collectionArray=injection[collectionKey],index=collectionArray.findIndex(collectionValue=>collectionValue===valueRef.value);~index&&collectionArray.splice(index,1)}))}__name(useInjectionCollection,"useInjectionCollection");function useInjectionElementCollection(injectionName,collectionKey,getElement){const injection=inject(injectionName,null);injection!==null&&(collectionKey in injection||(injection[collectionKey]=[]),onMounted(()=>{const el=getElement();el&&injection[collectionKey].push(el)}),onBeforeUnmount(()=>{const collectionArray=injection[collectionKey],element=getElement(),index=collectionArray.findIndex(collectionElement=>collectionElement===element);~index&&collectionArray.splice(index,1)}))}__name(useInjectionElementCollection,"useInjectionElementCollection");function getTitleAttribute(value){switch(typeof value){case"string":return value||void 0;case"number":return String(value);default:return}}__name(getTitleAttribute,"getTitleAttribute");function getSlot(instance,slotName="default",fallback=[]){const slot=instance.$slots[slotName];return slot===void 0?fallback:slot()}__name(getSlot,"getSlot");var now=__name(function(){return root.Date.now()},"now"),FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT$1);wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args),result}__name(invokeFunc,"invokeFunc");function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}__name(leadingEdge,"leadingEdge");function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}__name(remainingWait,"remainingWait");function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===void 0||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}__name(shouldInvoke,"shouldInvoke");function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}__name(timerExpired,"timerExpired");function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}__name(trailingEdge,"trailingEdge");function cancel(){timerId!==void 0&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}__name(cancel,"cancel");function flush(){return timerId===void 0?result:trailingEdge(now())}__name(flush,"flush");function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===void 0)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===void 0&&(timerId=setTimeout(timerExpired,wait)),result}return __name(debounced,"debounced"),debounced.cancel=cancel,debounced.flush=flush,debounced}__name(debounce,"debounce");var FUNC_ERROR_TEXT="Expected a function";function throttle(func,wait,options){var leading=!0,trailing=!0;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}__name(throttle,"throttle");const style$3=cB("affix",[cM("affixed",{position:"fixed"},[cM("absolute-positioned",{position:"absolute"})])]);function getScrollTop(target){return target instanceof HTMLElement?target.scrollTop:window.scrollY}__name(getScrollTop,"getScrollTop");function getRect(target){return target instanceof HTMLElement?target.getBoundingClientRect():{top:0,bottom:window.innerHeight}}__name(getRect,"getRect");const affixProps={listenTo:[String,Object,Function],top:Number,bottom:Number,triggerTop:Number,triggerBottom:Number,position:{type:String,default:"fixed"},offsetTop:{type:Number,validator:__name(()=>!0,"validator"),default:void 0},offsetBottom:{type:Number,validator:__name(()=>!0,"validator"),default:void 0},target:{type:Function,validator:__name(()=>!0,"validator"),default:void 0}},affixPropKeys=keysOf(affixProps),NAffix=defineComponent({name:"Affix",props:affixProps,setup(props){const{mergedClsPrefixRef}=useConfig(props);useStyle("-affix",style$3,mergedClsPrefixRef);let scrollTarget=null;const stickToTopRef=ref(!1),stickToBottomRef=ref(!1),bottomAffixedTriggerScrollTopRef=ref(null),topAffixedTriggerScrollTopRef=ref(null),affixedRef=computed(()=>stickToBottomRef.value||stickToTopRef.value),mergedOffsetTopRef=computed(()=>{var _a,_b;return(_b=(_a=props.triggerTop)!==null&&_a!==void 0?_a:props.offsetTop)!==null&&_b!==void 0?_b:props.top}),mergedTopRef=computed(()=>{var _a,_b;return(_b=(_a=props.top)!==null&&_a!==void 0?_a:props.triggerTop)!==null&&_b!==void 0?_b:props.offsetTop}),mergedBottomRef=computed(()=>{var _a,_b;return(_b=(_a=props.bottom)!==null&&_a!==void 0?_a:props.triggerBottom)!==null&&_b!==void 0?_b:props.offsetBottom}),mergedOffsetBottomRef=computed(()=>{var _a,_b;return(_b=(_a=props.triggerBottom)!==null&&_a!==void 0?_a:props.offsetBottom)!==null&&_b!==void 0?_b:props.bottom}),selfRef=ref(null),init=__name(()=>{const{target:getScrollTarget,listenTo}=props;getScrollTarget?scrollTarget=getScrollTarget():listenTo?scrollTarget=unwrapElement(listenTo):scrollTarget=document,scrollTarget&&(scrollTarget.addEventListener("scroll",handleScroll),handleScroll())},"init");function handleScroll(){beforeNextFrameOnce(_handleScroll)}__name(handleScroll,"handleScroll");function _handleScroll(){const{value:selfEl}=selfRef;if(!scrollTarget||!selfEl)return;const scrollTop=getScrollTop(scrollTarget);if(affixedRef.value){topAffixedTriggerScrollTopRef.value!==null&&scrollTop<topAffixedTriggerScrollTopRef.value&&(stickToTopRef.value=!1,topAffixedTriggerScrollTopRef.value=null),bottomAffixedTriggerScrollTopRef.value!==null&&scrollTop>bottomAffixedTriggerScrollTopRef.value&&(stickToBottomRef.value=!1,bottomAffixedTriggerScrollTopRef.value=null);return}const containerRect=getRect(scrollTarget),affixRect=selfEl.getBoundingClientRect(),pxToTop=affixRect.top-containerRect.top,pxToBottom=containerRect.bottom-affixRect.bottom,mergedOffsetTop=mergedOffsetTopRef.value,mergedOffsetBottom=mergedOffsetBottomRef.value;mergedOffsetTop!==void 0&&pxToTop<=mergedOffsetTop?(stickToTopRef.value=!0,topAffixedTriggerScrollTopRef.value=scrollTop-(mergedOffsetTop-pxToTop)):(stickToTopRef.value=!1,topAffixedTriggerScrollTopRef.value=null),mergedOffsetBottom!==void 0&&pxToBottom<=mergedOffsetBottom?(stickToBottomRef.value=!0,bottomAffixedTriggerScrollTopRef.value=scrollTop+mergedOffsetBottom-pxToBottom):(stickToBottomRef.value=!1,bottomAffixedTriggerScrollTopRef.value=null)}return __name(_handleScroll,"_handleScroll"),onMounted(()=>{init()}),onBeforeUnmount(()=>{scrollTarget&&scrollTarget.removeEventListener("scroll",handleScroll)}),{selfRef,affixed:affixedRef,mergedClsPrefix:mergedClsPrefixRef,mergedstyle:computed(()=>{const style2={};return stickToTopRef.value&&mergedOffsetTopRef.value!==void 0&&mergedTopRef.value!==void 0&&(style2.top="".concat(mergedTopRef.value,"px")),stickToBottomRef.value&&mergedOffsetBottomRef.value!==void 0&&mergedBottomRef.value!==void 0&&(style2.bottom="".concat(mergedBottomRef.value,"px")),style2})}},render(){const{mergedClsPrefix}=this;return h("div",{ref:"selfRef",class:["".concat(mergedClsPrefix,"-affix"),{["".concat(mergedClsPrefix,"-affix--affixed")]:this.affixed,["".concat(mergedClsPrefix,"-affix--absolute-positioned")]:this.position==="absolute"}],style:this.mergedstyle},this.$slots)}}),commonProps={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},style$2=cB("tag","\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[cM("strong","\n font-weight: var(--n-font-weight-strong);\n "),cE("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),cE("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),cE("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),cE("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),cM("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[cE("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),cE("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),cM("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),cM("icon, avatar",[cM("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),cM("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),cM("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[cNotM("disabled",[c("&:hover","background-color: var(--n-color-hover-checkable);",[cNotM("checked","color: var(--n-text-color-hover-checkable);")]),c("&:active","background-color: var(--n-color-pressed-checkable);",[cNotM("checked","color: var(--n-text-color-pressed-checkable);")])]),cM("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[cNotM("disabled",[c("&:hover","background-color: var(--n-color-checked-hover);"),c("&:active","background-color: var(--n-color-checked-pressed);")])])])]),tagProps=Object.assign(Object.assign(Object.assign({},useTheme.props),commonProps),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),tagInjectionKey=createInjectionKey("n-tag"),NTag=defineComponent({name:"Tag",props:tagProps,slots:Object,setup(props){const contentRef=ref(null),{mergedBorderedRef,mergedClsPrefixRef,inlineThemeDisabled,mergedRtlRef}=useConfig(props),themeRef=useTheme("Tag","-tag",style$2,tagLight,props,mergedClsPrefixRef);provide(tagInjectionKey,{roundRef:toRef(props,"round")});function handleClick(){if(!props.disabled&&props.checkable){const{checked,onCheckedChange,onUpdateChecked,"onUpdate:checked":_onUpdateChecked}=props;onUpdateChecked&&onUpdateChecked(!checked),_onUpdateChecked&&_onUpdateChecked(!checked),onCheckedChange&&onCheckedChange(!checked)}}__name(handleClick,"handleClick");function handleCloseClick(e){if(props.triggerClickOnClose||e.stopPropagation(),!props.disabled){const{onClose}=props;onClose&&call(onClose,e)}}__name(handleCloseClick,"handleCloseClick");const tagPublicMethods={setTextContent(textContent){const{value}=contentRef;value&&(value.textContent=textContent)}},rtlEnabledRef=useRtl("Tag",mergedRtlRef,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{type,size,color:{color,textColor}={}}=props,{common:{cubicBezierEaseInOut},self:{padding,closeMargin,borderRadius,opacityDisabled,textColorCheckable,textColorHoverCheckable,textColorPressedCheckable,textColorChecked,colorCheckable,colorHoverCheckable,colorPressedCheckable,colorChecked,colorCheckedHover,colorCheckedPressed,closeBorderRadius,fontWeightStrong,[createKey("colorBordered",type)]:colorBordered,[createKey("closeSize",size)]:closeSize,[createKey("closeIconSize",size)]:closeIconSize,[createKey("fontSize",size)]:fontSize,[createKey("height",size)]:height,[createKey("color",type)]:typedColor,[createKey("textColor",type)]:typeTextColor,[createKey("border",type)]:border,[createKey("closeIconColor",type)]:closeIconColor,[createKey("closeIconColorHover",type)]:closeIconColorHover,[createKey("closeIconColorPressed",type)]:closeIconColorPressed,[createKey("closeColorHover",type)]:closeColorHover,[createKey("closeColorPressed",type)]:closeColorPressed}}=themeRef.value,closeMarginDiscrete=getMargin(closeMargin);return{"--n-font-weight-strong":fontWeightStrong,"--n-avatar-size-override":"calc(".concat(height," - 8px)"),"--n-bezier":cubicBezierEaseInOut,"--n-border-radius":borderRadius,"--n-border":border,"--n-close-icon-size":closeIconSize,"--n-close-color-pressed":closeColorPressed,"--n-close-color-hover":closeColorHover,"--n-close-border-radius":closeBorderRadius,"--n-close-icon-color":closeIconColor,"--n-close-icon-color-hover":closeIconColorHover,"--n-close-icon-color-pressed":closeIconColorPressed,"--n-close-icon-color-disabled":closeIconColor,"--n-close-margin-top":closeMarginDiscrete.top,"--n-close-margin-right":closeMarginDiscrete.right,"--n-close-margin-bottom":closeMarginDiscrete.bottom,"--n-close-margin-left":closeMarginDiscrete.left,"--n-close-size":closeSize,"--n-color":color||(mergedBorderedRef.value?colorBordered:typedColor),"--n-color-checkable":colorCheckable,"--n-color-checked":colorChecked,"--n-color-checked-hover":colorCheckedHover,"--n-color-checked-pressed":colorCheckedPressed,"--n-color-hover-checkable":colorHoverCheckable,"--n-color-pressed-checkable":colorPressedCheckable,"--n-font-size":fontSize,"--n-height":height,"--n-opacity-disabled":opacityDisabled,"--n-padding":padding,"--n-text-color":textColor||typeTextColor,"--n-text-color-checkable":textColorCheckable,"--n-text-color-checked":textColorChecked,"--n-text-color-hover-checkable":textColorHoverCheckable,"--n-text-color-pressed-checkable":textColorPressedCheckable}}),themeClassHandle=inlineThemeDisabled?useThemeClass("tag",computed(()=>{let hash="";const{type,size,color:{color,textColor}={}}=props;return hash+=type[0],hash+=size[0],color&&(hash+="a".concat(color2Class(color))),textColor&&(hash+="b".concat(color2Class(textColor))),mergedBorderedRef.value&&(hash+="c"),hash}),cssVarsRef,props):void 0;return Object.assign(Object.assign({},tagPublicMethods),{rtlEnabled:rtlEnabledRef,mergedClsPrefix:mergedClsPrefixRef,contentRef,mergedBordered:mergedBorderedRef,handleClick,handleCloseClick,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender})},render(){var _a,_b;const{mergedClsPrefix,rtlEnabled,closable,color:{borderColor}={},round,onRender,$slots}=this;onRender==null||onRender();const avatarNode=resolveWrappedSlot($slots.avatar,children=>children&&h("div",{class:"".concat(mergedClsPrefix,"-tag__avatar")},children)),iconNode=resolveWrappedSlot($slots.icon,children=>children&&h("div",{class:"".concat(mergedClsPrefix,"-tag__icon")},children));return h("div",{class:["".concat(mergedClsPrefix,"-tag"),this.themeClass,{["".concat(mergedClsPrefix,"-tag--rtl")]:rtlEnabled,["".concat(mergedClsPrefix,"-tag--strong")]:this.strong,["".concat(mergedClsPrefix,"-tag--disabled")]:this.disabled,["".concat(mergedClsPrefix,"-tag--checkable")]:this.checkable,["".concat(mergedClsPrefix,"-tag--checked")]:this.checkable&&this.checked,["".concat(mergedClsPrefix,"-tag--round")]:round,["".concat(mergedClsPrefix,"-tag--avatar")]:avatarNode,["".concat(mergedClsPrefix,"-tag--icon")]:iconNode,["".concat(mergedClsPrefix,"-tag--closable")]:closable}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},iconNode||avatarNode,h("span",{class:"".concat(mergedClsPrefix,"-tag__content"),ref:"contentRef"},(_b=(_a=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a)),!this.checkable&&closable?h(NBaseClose,{clsPrefix:mergedClsPrefix,class:"".concat(mergedClsPrefix,"-tag__close"),disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?h("div",{class:"".concat(mergedClsPrefix,"-tag__border"),style:{borderColor}}):null)}}),anchorInjectionKey=createInjectionKey("n-anchor"),anchorLinkProps={title:String,href:String},NAnchorLink=defineComponent({name:"AnchorLink",props:anchorLinkProps,slots:Object,setup(props,{slots}){const titleRef=ref(null),NAnchor2=inject(anchorInjectionKey),hrefRef=toRef(props,"href"),activeRef=useMemo(()=>hrefRef.value&&hrefRef.value===NAnchor2.activeHref.value);useInjectionCollection(anchorInjectionKey,"collectedLinkHrefs",hrefRef),useInjectionElementCollection(anchorInjectionKey,"titleEls",()=>titleRef.value),watch(activeRef,value=>{value&&titleRef.value&&NAnchor2.updateBarPosition(titleRef.value)});function handleClick(){props.href!==void 0&&NAnchor2.setActiveHref(props.href)}return __name(handleClick,"handleClick"),()=>{var _a;const{value:mergedClsPrefix}=NAnchor2.mergedClsPrefix;return h("div",{class:["".concat(mergedClsPrefix,"-anchor-link"),activeRef.value&&"".concat(mergedClsPrefix,"-anchor-link--active")]},h("a",{ref:titleRef,class:["".concat(mergedClsPrefix,"-anchor-link__title")],href:props.href,title:getTitleAttribute(props.title),onClick:handleClick},{default:__name(()=>resolveSlot(slots.title,()=>[props.title]),"default")}),(_a=slots.default)===null||_a===void 0?void 0:_a.call(slots))}}});function getOffset(el,scrollTarget){const{top:elTop,height}=el.getBoundingClientRect(),scrollTargetTop=scrollTarget instanceof HTMLElement?scrollTarget.getBoundingClientRect().top:0;return{top:elTop-scrollTargetTop,height}}__name(getOffset,"getOffset");const baseAnchorProps={type:{type:String,default:"rail"},showRail:{type:Boolean,default:!0},showBackground:{type:Boolean,default:!0},bound:{type:Number,default:12},internalScrollable:Boolean,ignoreGap:Boolean,offsetTarget:[String,Object,Function]},baseAnchorPropKeys=keysOf(baseAnchorProps),NBaseAnchor=defineComponent({name:"BaseAnchor",props:Object.assign(Object.assign({},baseAnchorProps),{mergedClsPrefix:{type:String,required:!0}}),setup(props){const collectedLinkHrefs=[],titleEls=[],activeHrefRef=ref(null),slotRef=ref(null),barRef=ref(null),selfRef=ref(null),isBlockTypeRef=computed(()=>props.type==="block"),mergedShowRailRef=computed(()=>!isBlockTypeRef.value&&props.showRail);function disableTransitionOneTick(){const{value:barEl}=barRef,{value:slotEl}=slotRef;barEl&&(barEl.style.transition="none"),slotEl&&(slotEl.style.transition="none"),titleEls&&titleEls.forEach(titleEl=>{titleEl.style.transition="none"}),nextTick(()=>{const{value:nextBarEl}=barRef,{value:nextSlotEl}=slotRef;nextBarEl&&(nextBarEl.offsetWidth,nextBarEl.style.transition=""),nextSlotEl&&(nextSlotEl.offsetWidth,nextSlotEl.style.transition=""),titleEls&&titleEls.forEach(titleEl=>{titleEl.offsetWidth,titleEl.style.transition=""})})}__name(disableTransitionOneTick,"disableTransitionOneTick");function updateBarPosition(linkTitleEl,transition=!0){const{value:barEl}=barRef,{value:slotEl}=slotRef,{value:selfEl}=selfRef;if(!selfEl||!barEl)return;transition||(barEl.style.transition="none",slotEl&&(slotEl.style.transition="none"));const{offsetHeight,offsetWidth}=linkTitleEl,{top:linkTitleClientTop,left:linkTitleClientLeft}=linkTitleEl.getBoundingClientRect(),{top:anchorClientTop,left:anchorClientLeft}=selfEl.getBoundingClientRect(),offsetTop=linkTitleClientTop-anchorClientTop,offsetLeft=linkTitleClientLeft-anchorClientLeft;barEl.style.top="".concat(offsetTop,"px"),barEl.style.height="".concat(offsetHeight,"px"),slotEl&&(slotEl.style.top="".concat(offsetTop,"px"),slotEl.style.height="".concat(offsetHeight,"px"),slotEl.style.maxWidth="".concat(offsetWidth+offsetLeft,"px")),barEl.offsetHeight,slotEl&&slotEl.offsetHeight,transition||(barEl.style.transition="",slotEl&&(slotEl.style.transition=""))}__name(updateBarPosition,"updateBarPosition");const handleScroll=throttle(()=>{_handleScroll(!0)},128);function setActiveHref(href,transition=!0){const idMatchResult=/^#([^#]+)$/.exec(href);if(!idMatchResult)return;const linkEl=document.getElementById(idMatchResult[1]);linkEl&&(activeHrefRef.value=href,linkEl.scrollIntoView(),transition||disableTransitionOneTick(),handleScroll())}__name(setActiveHref,"setActiveHref");function _handleScroll(transition=!0){var _a;const links=[],offsetTarget=unwrapElement((_a=props.offsetTarget)!==null&&_a!==void 0?_a:document);collectedLinkHrefs.forEach(href=>{const idMatchResult=/#([^#]+)$/.exec(href);if(!idMatchResult)return;const linkEl=document.getElementById(idMatchResult[1]);if(linkEl&&offsetTarget){const{top,height}=getOffset(linkEl,offsetTarget);links.push({top,height,href})}}),links.sort((a,b)=>a.top>b.top?1:(a.top===b.top&&a.height<b.height,-1));const currentActiveHref=activeHrefRef.value,{bound,ignoreGap}=props,activeLink=links.reduce((prevLink,link)=>link.top+link.height<0?ignoreGap?link:prevLink:link.top<=bound?prevLink===null?link:link.top===prevLink.top?link.href===currentActiveHref?link:prevLink:link.top>prevLink.top?link:prevLink:prevLink,null);transition||disableTransitionOneTick(),activeLink?activeHrefRef.value=activeLink.href:activeHrefRef.value=null}return __name(_handleScroll,"_handleScroll"),provide(anchorInjectionKey,{activeHref:activeHrefRef,mergedClsPrefix:toRef(props,"mergedClsPrefix"),updateBarPosition,setActiveHref,collectedLinkHrefs,titleEls}),onMounted(()=>{document.addEventListener("scroll",handleScroll,!0),setActiveHref(window.location.hash),_handleScroll(!1)}),onFontsReady(()=>{setActiveHref(window.location.hash),_handleScroll(!1)}),onBeforeUnmount(()=>{document.removeEventListener("scroll",handleScroll,!0)}),watch(activeHrefRef,value=>{if(value===null){const{value:slotEl}=slotRef;slotEl&&!isBlockTypeRef.value&&(slotEl.style.maxWidth="0")}}),{selfRef,barRef,slotRef,setActiveHref,activeHref:activeHrefRef,isBlockType:isBlockTypeRef,mergedShowRail:mergedShowRailRef}},render(){var _a;const{mergedClsPrefix,mergedShowRail,isBlockType,$slots}=this,Anchor=h("div",{class:["".concat(mergedClsPrefix,"-anchor"),isBlockType&&"".concat(mergedClsPrefix,"-anchor--block"),mergedShowRail&&"".concat(mergedClsPrefix,"-anchor--show-rail")],ref:"selfRef"},mergedShowRail&&this.showBackground?h("div",{ref:"slotRef",class:"".concat(mergedClsPrefix,"-anchor-link-background")}):null,mergedShowRail?h("div",{class:"".concat(mergedClsPrefix,"-anchor-rail")},h("div",{ref:"barRef",class:["".concat(mergedClsPrefix,"-anchor-rail__bar"),this.activeHref!==null&&"".concat(mergedClsPrefix,"-anchor-rail__bar--active")]})):null,(_a=$slots.default)===null||_a===void 0?void 0:_a.call($slots));return this.internalScrollable?h(Scrollbar,null,{default:__name(()=>Anchor,"default")}):Anchor}}),style$1=cB("anchor","\n position: relative;\n",[cNotM("block","\n padding-left: var(--n-rail-width);\n ",[cB("anchor-link",[c("+, >",[cB("anchor-link","\n margin-top: .5em;\n ")])]),cB("anchor-link-background","\n max-width: 0;\n border-top-right-radius: 10.5px;\n border-bottom-right-radius: 10.5px;\n "),cNotM("show-rail",[c(">",[cB("anchor-link","padding-left: 0;")])])]),cM("block",[cB("anchor-link","\n margin-bottom: 4px;\n padding: 2px 8px;\n transition: background-color .3s var(--n-bezier);\n background-color: transparent;\n border-radius: var(--n-link-border-radius);\n ",[cM("active","\n background-color: var(--n-link-color);\n ")])]),cB("anchor-link-background","\n position: absolute;\n left: calc(var(--n-rail-width) / 2);\n width: 100%;\n background-color: var(--n-link-color);\n transition:\n top .15s var(--n-bezier),\n max-width .15s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),cB("anchor-rail","\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n width: var(--n-rail-width);\n border-radius: calc(var(--n-rail-width) / 2);\n overflow: hidden;\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[cE("bar","\n position: absolute;\n left: 0;\n width: var(--n-rail-width);\n height: 21px;\n background-color: #0000;\n transition: \n top .15s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ",[cM("active",{backgroundColor:"var(--n-rail-color-active)"})])]),cB("anchor-link","\n padding: var(--n-link-padding);\n position: relative;\n line-height: 1.5;\n font-size: var(--n-link-font-size);\n min-height: 1.5em;\n display: flex;\n flex-direction: column;\n ",[cM("active",[c(">",[cE("title","\n color: var(--n-link-text-color-active);\n ")])]),cE("title","\n outline: none;\n max-width: 100%;\n text-decoration: none;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n cursor: pointer;\n display: inline-block;\n padding-right: 16px;\n transition: color .3s var(--n-bezier);\n color: var(--n-link-text-color);\n ",[c("&:hover, &:focus","\n color: var(--n-link-text-color-hover);\n "),c("&:active","\n color: var(--n-link-text-color-pressed);\n ")])])]),anchorProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{affix:Boolean}),affixProps),baseAnchorProps),NAnchor=defineComponent({name:"Anchor",props:anchorProps,setup(props,{slots}){const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Anchor","-anchor",style$1,anchorLight,props,mergedClsPrefixRef),anchorRef=ref(null),cssVarsRef=computed(()=>{const{self:{railColor,linkColor,railColorActive,linkTextColor,linkTextColorHover,linkTextColorPressed,linkTextColorActive,linkFontSize,railWidth,linkPadding,borderRadius},common:{cubicBezierEaseInOut}}=themeRef.value;return{"--n-link-border-radius":borderRadius,"--n-link-color":linkColor,"--n-link-font-size":linkFontSize,"--n-link-text-color":linkTextColor,"--n-link-text-color-hover":linkTextColorHover,"--n-link-text-color-active":linkTextColorActive,"--n-link-text-color-pressed":linkTextColorPressed,"--n-link-padding":linkPadding,"--n-bezier":cubicBezierEaseInOut,"--n-rail-color":railColor,"--n-rail-color-active":railColorActive,"--n-rail-width":railWidth}}),themeClassHandle=inlineThemeDisabled?useThemeClass("anchor",void 0,cssVarsRef,props):void 0;return{scrollTo(href){var _a;(_a=anchorRef.value)===null||_a===void 0||_a.setActiveHref(href)},renderAnchor:__name(()=>(themeClassHandle==null||themeClassHandle.onRender(),h(NBaseAnchor,Object.assign({ref:anchorRef,style:inlineThemeDisabled?void 0:cssVarsRef.value,class:themeClassHandle==null?void 0:themeClassHandle.themeClass.value},keep(props,baseAnchorPropKeys),{mergedClsPrefix:mergedClsPrefixRef.value}),slots)),"renderAnchor")}},render(){return this.affix?h(NAffix,Object.assign({},keep(this,affixPropKeys)),{default:this.renderAnchor}):this.renderAnchor()}}),style=c([cB("list","\n --n-merged-border-color: var(--n-border-color);\n --n-merged-color: var(--n-color);\n --n-merged-color-hover: var(--n-color-hover);\n margin: 0;\n font-size: var(--n-font-size);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n padding: 0;\n list-style-type: none;\n color: var(--n-text-color);\n background-color: var(--n-merged-color);\n ",[cM("show-divider",[cB("list-item",[c("&:not(:last-child)",[cE("divider","\n background-color: var(--n-merged-border-color);\n ")])])]),cM("clickable",[cB("list-item","\n cursor: pointer;\n ")]),cM("bordered","\n border: 1px solid var(--n-merged-border-color);\n border-radius: var(--n-border-radius);\n "),cM("hoverable",[cB("list-item","\n border-radius: var(--n-border-radius);\n ",[c("&:hover","\n background-color: var(--n-merged-color-hover);\n ",[cE("divider","\n background-color: transparent;\n ")])])]),cM("bordered, hoverable",[cB("list-item","\n padding: 12px 20px;\n "),cE("header, footer","\n padding: 12px 20px;\n ")]),cE("header, footer","\n padding: 12px 0;\n box-sizing: border-box;\n transition: border-color .3s var(--n-bezier);\n ",[c("&:not(:last-child)","\n border-bottom: 1px solid var(--n-merged-border-color);\n ")]),cB("list-item","\n position: relative;\n padding: 12px 0; \n box-sizing: border-box;\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[cE("prefix","\n margin-right: 20px;\n flex: 0;\n "),cE("suffix","\n margin-left: 20px;\n flex: 0;\n "),cE("main","\n flex: 1;\n "),cE("divider","\n height: 1px;\n position: absolute;\n bottom: 0;\n left: 0;\n right: 0;\n background-color: transparent;\n transition: background-color .3s var(--n-bezier);\n pointer-events: none;\n ")])]),insideModal(cB("list","\n --n-merged-color-hover: var(--n-color-hover-modal);\n --n-merged-color: var(--n-color-modal);\n --n-merged-border-color: var(--n-border-color-modal);\n ")),insidePopover(cB("list","\n --n-merged-color-hover: var(--n-color-hover-popover);\n --n-merged-color: var(--n-color-popover);\n --n-merged-border-color: var(--n-border-color-popover);\n "))]),listProps=Object.assign(Object.assign({},useTheme.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),listInjectionKey=createInjectionKey("n-list"),NList=defineComponent({name:"List",props:listProps,slots:Object,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled,mergedRtlRef}=useConfig(props),rtlEnabledRef=useRtl("List",mergedRtlRef,mergedClsPrefixRef),themeRef=useTheme("List","-list",style,listLight,props,mergedClsPrefixRef);provide(listInjectionKey,{showDividerRef:toRef(props,"showDivider"),mergedClsPrefixRef});const cssVarsRef=computed(()=>{const{common:{cubicBezierEaseInOut},self:{fontSize,textColor,color,colorModal,colorPopover,borderColor,borderColorModal,borderColorPopover,borderRadius,colorHover,colorHoverModal,colorHoverPopover}}=themeRef.value;return{"--n-font-size":fontSize,"--n-bezier":cubicBezierEaseInOut,"--n-text-color":textColor,"--n-color":color,"--n-border-radius":borderRadius,"--n-border-color":borderColor,"--n-border-color-modal":borderColorModal,"--n-border-color-popover":borderColorPopover,"--n-color-modal":colorModal,"--n-color-popover":colorPopover,"--n-color-hover":colorHover,"--n-color-hover-modal":colorHoverModal,"--n-color-hover-popover":colorHoverPopover}}),themeClassHandle=inlineThemeDisabled?useThemeClass("list",void 0,cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){var _a;const{$slots,mergedClsPrefix,onRender}=this;return onRender==null||onRender(),h("ul",{class:["".concat(mergedClsPrefix,"-list"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-list--rtl"),this.bordered&&"".concat(mergedClsPrefix,"-list--bordered"),this.showDivider&&"".concat(mergedClsPrefix,"-list--show-divider"),this.hoverable&&"".concat(mergedClsPrefix,"-list--hoverable"),this.clickable&&"".concat(mergedClsPrefix,"-list--clickable"),this.themeClass],style:this.cssVars},$slots.header?h("div",{class:"".concat(mergedClsPrefix,"-list__header")},$slots.header()):null,(_a=$slots.default)===null||_a===void 0?void 0:_a.call($slots),$slots.footer?h("div",{class:"".concat(mergedClsPrefix,"-list__footer")},$slots.footer()):null)}}),NListItem=defineComponent({name:"ListItem",slots:Object,setup(){const listInjection=inject(listInjectionKey,null);return listInjection||throwError("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:listInjection.showDividerRef,mergedClsPrefix:listInjection.mergedClsPrefixRef}},render(){const{$slots,mergedClsPrefix}=this;return h("li",{class:"".concat(mergedClsPrefix,"-list-item")},$slots.prefix?h("div",{class:"".concat(mergedClsPrefix,"-list-item__prefix")},$slots.prefix()):null,$slots.default?h("div",{class:"".concat(mergedClsPrefix,"-list-item__main")},$slots):null,$slots.suffix?h("div",{class:"".concat(mergedClsPrefix,"-list-item__suffix")},$slots.suffix()):null,this.showDivider&&h("div",{class:"".concat(mergedClsPrefix,"-list-item__divider")}))}});export{NAnchorLink as N,NAnchor as a,NTag as b,NList as c,NListItem as d,getTitleAttribute as e,getSlot as g};
