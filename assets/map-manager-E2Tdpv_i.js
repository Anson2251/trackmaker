var Je=Object.defineProperty;var et=(e,t,o)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var $=(e,t,o)=>et(e,typeof t!="symbol"?t+"":t,o);import{y as de,G as tt,A as S,e as Ve,az as _e,bh as ot,bi as Be,p as Y,d as ue,F as rt,$ as Ee,r as R,bd as it,n as h,s as x,W as nt,bj as De,E as y,q as s,D as ce,bk as ze,v as he,aG as at,t as Le,bl as st,H as lt,B as a,ax as oe,C as Oe,ay as L,aE as ct,bm as se,bn as Ne,bo as je,a3 as le,a6 as dt,bp as ut,a4 as ht,bq as bt,_ as ft,br as Ce,a9 as D,f as pt,bs as mt,bt as vt,bu as gt,bv as yt,bw as Se,bx as $e,by as xt,bz as wt,w as ee,bA as Ct,bB as kt,bg as zt,bC as ne,bD as St}from"./index-BZjMCwzs.js";import{i as be,c as Me}from"./Element-BMafXRfN.js";const Te=_e("n-form-item");function Ge(e,{defaultSize:t="medium",mergedSize:o,mergedDisabled:n}={}){const i=de(Te,null);tt(Te,null);const k=S(o?()=>o(i):()=>{const{size:C}=e;if(C)return C;if(i){const{mergedSize:B}=i;if(B.value!==void 0)return B.value}return t}),u=S(n?()=>n(i):()=>{const{disabled:C}=e;return C!==void 0?C:i?i.disabled.value:!1}),m=S(()=>{const{status:C}=e;return C||(i==null?void 0:i.mergedValidationStatus.value)});return Ve(()=>{i&&i.restoreValidation()}),{mergedSizeRef:k,mergedDisabledRef:u,mergedStatusRef:m,nTriggerFormBlur(){i&&i.handleContentBlur()},nTriggerFormChange(){i&&i.handleContentChange()},nTriggerFormFocus(){i&&i.handleContentFocus()},nTriggerFormInput(){i&&i.handleContentInput()}}}var $t=/\s/;function Bt(e){for(var t=e.length;t--&&$t.test(e.charAt(t)););return t}var Mt=/^\s+/;function Tt(e){return e&&e.slice(0,Bt(e)+1).replace(Mt,"")}var Re=NaN,Rt=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Ft=parseInt;function Ae(e){if(typeof e=="number")return e;if(ot(e))return Re;if(Be(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Be(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tt(e);var o=It.test(e);return o||Pt.test(e)?Ft(e.slice(2),o?2:8):Rt.test(e)?Re:+e}var Ie=1/0,Ht=17976931348623157e292;function Pe(e){if(!e)return e===0?e:0;if(e=Ae(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*Ht}return e===e?e:0}var Vt=Math.max,_t=Math.min;function Et(e,t,o){return e>=_t(t,o)&&e<Vt(t,o)}function Dt(e,t,o){return t=Pe(t),o===void 0?(o=t,t=0):o=Pe(o),e=Ae(e),Et(e,t,o)}const Lt=Y("base-wave","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n"),Ot=ue({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){rt("-base-wave",Lt,Ee(e,"clsPrefix"));const t=R(null),o=R(!1);let n=null;return Ve(()=>{n!==null&&window.clearTimeout(n)}),{active:o,selfRef:t,play(){n!==null&&(window.clearTimeout(n),o.value=!1,n=null),it(()=>{var i;(i=t.value)===null||i===void 0||i.offsetHeight,o.value=!0,n=window.setTimeout(()=>{o.value=!1,n=null},1e3)})}}},render(){const{clsPrefix:e}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:["".concat(e,"-base-wave"),this.active&&"".concat(e,"-base-wave--active")]})}}),{cubicBezierEaseInOut:Z}=nt;function Nt({duration:e=".2s",delay:t=".1s"}={}){return[x("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),x("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from","\n opacity: 0!important;\n margin-left: 0!important;\n margin-right: 0!important;\n "),x("&.fade-in-width-expand-transition-leave-active","\n overflow: hidden;\n transition:\n opacity ".concat(e," ").concat(Z,",\n max-width ").concat(e," ").concat(Z," ").concat(t,",\n margin-left ").concat(e," ").concat(Z," ").concat(t,",\n margin-right ").concat(e," ").concat(Z," ").concat(t,";\n ")),x("&.fade-in-width-expand-transition-enter-active","\n overflow: hidden;\n transition:\n opacity ".concat(e," ").concat(Z," ").concat(t,",\n max-width ").concat(e," ").concat(Z,",\n margin-left ").concat(e," ").concat(Z,",\n margin-right ").concat(e," ").concat(Z,";\n "))]}const jt=be&&"chrome"in window;be&&navigator.userAgent.includes("Firefox");const Gt=be&&navigator.userAgent.includes("Safari")&&!jt;function q(e){return De(e,[255,255,255,.16])}function ae(e){return De(e,[0,0,0,.12])}const At=_e("n-button-group"),Kt=x([Y("button","\n margin: 0;\n font-weight: var(--n-font-weight);\n line-height: 1;\n font-family: inherit;\n padding: var(--n-padding);\n height: var(--n-height);\n font-size: var(--n-font-size);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n width: var(--n-width);\n white-space: nowrap;\n outline: none;\n position: relative;\n z-index: auto;\n border: none;\n display: inline-flex;\n flex-wrap: nowrap;\n flex-shrink: 0;\n align-items: center;\n justify-content: center;\n user-select: none;\n -webkit-user-select: none;\n text-align: center;\n cursor: pointer;\n text-decoration: none;\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[y("color",[s("border",{borderColor:"var(--n-border-color)"}),y("disabled",[s("border",{borderColor:"var(--n-border-color-disabled)"})]),ce("disabled",[x("&:focus",[s("state-border",{borderColor:"var(--n-border-color-focus)"})]),x("&:hover",[s("state-border",{borderColor:"var(--n-border-color-hover)"})]),x("&:active",[s("state-border",{borderColor:"var(--n-border-color-pressed)"})]),y("pressed",[s("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),y("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[s("border",{border:"var(--n-border-disabled)"})]),ce("disabled",[x("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[s("state-border",{border:"var(--n-border-focus)"})]),x("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[s("state-border",{border:"var(--n-border-hover)"})]),x("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[s("state-border",{border:"var(--n-border-pressed)"})]),y("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[s("state-border",{border:"var(--n-border-pressed)"})])]),y("loading","cursor: wait;"),Y("base-wave","\n pointer-events: none;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n animation-iteration-count: 1;\n animation-duration: var(--n-ripple-duration);\n animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);\n ",[y("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),be&&"MozBoxSizing"in document.createElement("div").style?x("&::moz-focus-inner",{border:0}):null,s("border, state-border","\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n border-radius: inherit;\n transition: border-color .3s var(--n-bezier);\n pointer-events: none;\n "),s("border",{border:"var(--n-border)"}),s("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),s("icon","\n margin: var(--n-icon-margin);\n margin-left: 0;\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n max-width: var(--n-icon-size);\n font-size: var(--n-icon-size);\n position: relative;\n flex-shrink: 0;\n ",[Y("icon-slot","\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n position: absolute;\n left: 0;\n top: 50%;\n transform: translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n ",[ze({top:"50%",originalTransform:"translateY(-50%)"})]),Nt()]),s("content","\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n min-width: 0;\n ",[x("~",[s("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),y("block","\n display: flex;\n width: 100%;\n "),y("dashed",[s("border, state-border",{borderStyle:"dashed !important"})]),y("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),x("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),x("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),Zt=Object.assign(Object.assign({},he.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!Gt}}),lo=ue({name:"Button",props:Zt,setup(e){const t=R(null),o=R(null),n=R(!1),i=at(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),k=de(At,{}),{mergedSizeRef:u}=Ge({},{defaultSize:"medium",mergedSize:l=>{const{size:g}=e;if(g)return g;const{size:T}=k;if(T)return T;const{mergedSize:r}=l||{};return r?r.value:"medium"}}),m=S(()=>e.focusable&&!e.disabled),C=l=>{var g;m.value||l.preventDefault(),!e.nativeFocusBehavior&&(l.preventDefault(),!e.disabled&&m.value&&((g=t.value)===null||g===void 0||g.focus({preventScroll:!0})))},B=l=>{var g;if(!e.disabled&&!e.loading){const{onClick:T}=e;T&&le(T,l),e.text||(g=o.value)===null||g===void 0||g.play()}},W=l=>{switch(l.key){case"Enter":if(!e.keyboard)return;n.value=!1}},O=l=>{switch(l.key){case"Enter":if(!e.keyboard||e.loading){l.preventDefault();return}n.value=!0}},v=()=>{n.value=!1},{inlineThemeDisabled:I,mergedClsPrefixRef:M,mergedRtlRef:fe}=Le(e),pe=he("Button","-button",Kt,st,e,M),me=lt("Button",fe,M),re=S(()=>{const l=pe.value,{common:{cubicBezierEaseInOut:g,cubicBezierEaseOut:T},self:r}=l,{rippleDuration:d,opacityDisabled:V,fontWeight:j,fontWeightStrong:G}=r,z=u.value,{dashed:U,type:_,ghost:X,text:F,color:f,round:P,circle:J,textColor:E,secondary:H,tertiary:A,quaternary:ve,strong:ge}=e,ye={"font-weight":ge?G:j};let b={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const K=_==="tertiary",Q=_==="default",c=K?"default":_;if(F){const p=E||f;b={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":p||r[a("textColorText",c)],"--n-text-color-hover":p?q(p):r[a("textColorTextHover",c)],"--n-text-color-pressed":p?ae(p):r[a("textColorTextPressed",c)],"--n-text-color-focus":p?q(p):r[a("textColorTextHover",c)],"--n-text-color-disabled":p||r[a("textColorTextDisabled",c)]}}else if(X||U){const p=E||f;b={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":f||r[a("rippleColor",c)],"--n-text-color":p||r[a("textColorGhost",c)],"--n-text-color-hover":p?q(p):r[a("textColorGhostHover",c)],"--n-text-color-pressed":p?ae(p):r[a("textColorGhostPressed",c)],"--n-text-color-focus":p?q(p):r[a("textColorGhostHover",c)],"--n-text-color-disabled":p||r[a("textColorGhostDisabled",c)]}}else if(H){const p=Q?r.textColor:K?r.textColorTertiary:r[a("color",c)],w=f||p,ie=_!=="default"&&_!=="tertiary";b={"--n-color":ie?oe(w,{alpha:Number(r.colorOpacitySecondary)}):r.colorSecondary,"--n-color-hover":ie?oe(w,{alpha:Number(r.colorOpacitySecondaryHover)}):r.colorSecondaryHover,"--n-color-pressed":ie?oe(w,{alpha:Number(r.colorOpacitySecondaryPressed)}):r.colorSecondaryPressed,"--n-color-focus":ie?oe(w,{alpha:Number(r.colorOpacitySecondaryHover)}):r.colorSecondaryHover,"--n-color-disabled":r.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":w,"--n-text-color-hover":w,"--n-text-color-pressed":w,"--n-text-color-focus":w,"--n-text-color-disabled":w}}else if(A||ve){const p=Q?r.textColor:K?r.textColorTertiary:r[a("color",c)],w=f||p;A?(b["--n-color"]=r.colorTertiary,b["--n-color-hover"]=r.colorTertiaryHover,b["--n-color-pressed"]=r.colorTertiaryPressed,b["--n-color-focus"]=r.colorSecondaryHover,b["--n-color-disabled"]=r.colorTertiary):(b["--n-color"]=r.colorQuaternary,b["--n-color-hover"]=r.colorQuaternaryHover,b["--n-color-pressed"]=r.colorQuaternaryPressed,b["--n-color-focus"]=r.colorQuaternaryHover,b["--n-color-disabled"]=r.colorQuaternary),b["--n-ripple-color"]="#0000",b["--n-text-color"]=w,b["--n-text-color-hover"]=w,b["--n-text-color-pressed"]=w,b["--n-text-color-focus"]=w,b["--n-text-color-disabled"]=w}else b={"--n-color":f||r[a("color",c)],"--n-color-hover":f?q(f):r[a("colorHover",c)],"--n-color-pressed":f?ae(f):r[a("colorPressed",c)],"--n-color-focus":f?q(f):r[a("colorFocus",c)],"--n-color-disabled":f||r[a("colorDisabled",c)],"--n-ripple-color":f||r[a("rippleColor",c)],"--n-text-color":E||(f?r.textColorPrimary:K?r.textColorTertiary:r[a("textColor",c)]),"--n-text-color-hover":E||(f?r.textColorHoverPrimary:r[a("textColorHover",c)]),"--n-text-color-pressed":E||(f?r.textColorPressedPrimary:r[a("textColorPressed",c)]),"--n-text-color-focus":E||(f?r.textColorFocusPrimary:r[a("textColorFocus",c)]),"--n-text-color-disabled":E||(f?r.textColorDisabledPrimary:r[a("textColorDisabled",c)])};let xe={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};F?xe={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:xe={"--n-border":r[a("border",c)],"--n-border-hover":r[a("borderHover",c)],"--n-border-pressed":r[a("borderPressed",c)],"--n-border-focus":r[a("borderFocus",c)],"--n-border-disabled":r[a("borderDisabled",c)]};const{[a("height",z)]:we,[a("fontSize",z)]:Ke,[a("padding",z)]:Ze,[a("paddingRound",z)]:We,[a("iconSize",z)]:Ue,[a("borderRadius",z)]:qe,[a("iconMargin",z)]:Qe,waveOpacity:Ye}=r,Xe={"--n-width":J&&!F?we:"initial","--n-height":F?"initial":we,"--n-font-size":Ke,"--n-padding":J||F?"initial":P?We:Ze,"--n-icon-size":Ue,"--n-icon-margin":Qe,"--n-border-radius":F?"initial":J||P?we:qe};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":g,"--n-bezier-ease-out":T,"--n-ripple-duration":d,"--n-opacity-disabled":V,"--n-wave-opacity":Ye},ye),b),xe),Xe)}),N=I?Oe("button",S(()=>{let l="";const{dashed:g,type:T,ghost:r,text:d,color:V,round:j,circle:G,textColor:z,secondary:U,tertiary:_,quaternary:X,strong:F}=e;g&&(l+="a"),r&&(l+="b"),d&&(l+="c"),j&&(l+="d"),G&&(l+="e"),U&&(l+="f"),_&&(l+="g"),X&&(l+="h"),F&&(l+="i"),V&&(l+="j".concat(Me(V))),z&&(l+="k".concat(Me(z)));const{value:f}=u;return l+="l".concat(f[0]),l+="m".concat(T[0]),l}),re,e):void 0;return{selfElRef:t,waveElRef:o,mergedClsPrefix:M,mergedFocusable:m,mergedSize:u,showBorder:i,enterPressed:n,rtlEnabled:me,handleMousedown:C,handleKeydown:O,handleBlur:v,handleKeyup:W,handleClick:B,customColorCssVars:S(()=>{const{color:l}=e;if(!l)return null;const g=q(l);return{"--n-border-color":l,"--n-border-color-hover":g,"--n-border-color-pressed":ae(l),"--n-border-color-focus":g,"--n-border-color-disabled":l}}),cssVars:I?void 0:re,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:o}=this;o==null||o();const n=L(this.$slots.default,i=>i&&h("span",{class:"".concat(e,"-button__content")},i));return h(t,{ref:"selfElRef",class:[this.themeClass,"".concat(e,"-button"),"".concat(e,"-button--").concat(this.type,"-type"),"".concat(e,"-button--").concat(this.mergedSize,"-type"),this.rtlEnabled&&"".concat(e,"-button--rtl"),this.disabled&&"".concat(e,"-button--disabled"),this.block&&"".concat(e,"-button--block"),this.enterPressed&&"".concat(e,"-button--pressed"),!this.text&&this.dashed&&"".concat(e,"-button--dashed"),this.color&&"".concat(e,"-button--color"),this.secondary&&"".concat(e,"-button--secondary"),this.loading&&"".concat(e,"-button--loading"),this.ghost&&"".concat(e,"-button--ghost")],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&n,h(ct,{width:!0},{default:()=>L(this.$slots.icon,i=>(this.loading||this.renderIcon||i)&&h("span",{class:"".concat(e,"-button__icon"),style:{margin:se(this.$slots.default)?"0":""}},h(Ne,null,{default:()=>this.loading?h(je,{clsPrefix:e,key:"loading",class:"".concat(e,"-icon-slot"),strokeWidth:20}):h("div",{key:"icon",class:"".concat(e,"-icon-slot"),role:"none"},this.renderIcon?this.renderIcon():i)})))}),this.iconPlacement==="left"&&n,this.text?null:h(Ot,{ref:"waveElRef",clsPrefix:e}),this.showBorder?h("div",{"aria-hidden":!0,class:"".concat(e,"-button__border"),style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:"".concat(e,"-button__state-border"),style:this.customColorCssVars}):null)}});function Wt(e){const{primaryColor:t,opacityDisabled:o,borderRadius:n,textColor3:i}=e;return Object.assign(Object.assign({},ut),{iconColor:i,textColor:"white",loadingColor:t,opacityDisabled:o,railColor:"rgba(0, 0, 0, .14)",railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:"0 0 0 2px ".concat(oe(t,{alpha:.2}))})}const Ut={name:"Switch",common:dt,self:Wt};function co(){const e=de(bt,null);return e===null&&ht("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const qt=Y("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[s("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),s("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),s("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),Y("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[ze({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),s("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),s("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),s("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),x("&:focus",[s("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),y("round",[s("rail","border-radius: calc(var(--n-rail-height) / 2);",[s("button","border-radius: calc(var(--n-button-height) / 2);")])]),ce("disabled",[ce("icon",[y("rubber-band",[y("pressed",[s("rail",[s("button","max-width: var(--n-button-width-pressed);")])]),s("rail",[x("&:active",[s("button","max-width: var(--n-button-width-pressed);")])]),y("active",[y("pressed",[s("rail",[s("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),s("rail",[x("&:active",[s("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),y("active",[s("rail",[s("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),s("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[s("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[ze()]),s("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),y("active",[s("rail","background-color: var(--n-rail-color-active);")]),y("loading",[s("rail","\n cursor: wait;\n ")]),y("disabled",[s("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),Qt=Object.assign(Object.assign({},he.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let te;const uo=ue({name:"Switch",props:Qt,setup(e){te===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?te=CSS.supports("width","max(1px)"):te=!1:te=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Le(e),n=he("Switch","-switch",qt,Ut,e,t),i=Ge(e),{mergedSizeRef:k,mergedDisabledRef:u}=i,m=R(e.defaultValue),C=Ee(e,"value"),B=ft(C,m),W=S(()=>B.value===e.checkedValue),O=R(!1),v=R(!1),I=S(()=>{const{railStyle:d}=e;if(d)return d({focused:v.value,checked:W.value})});function M(d){const{"onUpdate:value":V,onChange:j,onUpdateValue:G}=e,{nTriggerFormInput:z,nTriggerFormChange:U}=i;V&&le(V,d),G&&le(G,d),j&&le(j,d),m.value=d,z(),U()}function fe(){const{nTriggerFormFocus:d}=i;d()}function pe(){const{nTriggerFormBlur:d}=i;d()}function me(){e.loading||u.value||(B.value!==e.checkedValue?M(e.checkedValue):M(e.uncheckedValue))}function re(){v.value=!0,fe()}function N(){v.value=!1,pe(),O.value=!1}function l(d){e.loading||u.value||d.key===" "&&(B.value!==e.checkedValue?M(e.checkedValue):M(e.uncheckedValue),O.value=!1)}function g(d){e.loading||u.value||d.key===" "&&(d.preventDefault(),O.value=!0)}const T=S(()=>{const{value:d}=k,{self:{opacityDisabled:V,railColor:j,railColorActive:G,buttonBoxShadow:z,buttonColor:U,boxShadowFocus:_,loadingColor:X,textColor:F,iconColor:f,[a("buttonHeight",d)]:P,[a("buttonWidth",d)]:J,[a("buttonWidthPressed",d)]:E,[a("railHeight",d)]:H,[a("railWidth",d)]:A,[a("railBorderRadius",d)]:ve,[a("buttonBorderRadius",d)]:ge},common:{cubicBezierEaseInOut:ye}}=n.value;let b,K,Q;return te?(b="calc((".concat(H," - ").concat(P,") / 2)"),K="max(".concat(H,", ").concat(P,")"),Q="max(".concat(A,", calc(").concat(A," + ").concat(P," - ").concat(H,"))")):(b=Ce((D(H)-D(P))/2),K=Ce(Math.max(D(H),D(P))),Q=D(H)>D(P)?A:Ce(D(A)+D(P)-D(H))),{"--n-bezier":ye,"--n-button-border-radius":ge,"--n-button-box-shadow":z,"--n-button-color":U,"--n-button-width":J,"--n-button-width-pressed":E,"--n-button-height":P,"--n-height":K,"--n-offset":b,"--n-opacity-disabled":V,"--n-rail-border-radius":ve,"--n-rail-color":j,"--n-rail-color-active":G,"--n-rail-height":H,"--n-rail-width":A,"--n-width":Q,"--n-box-shadow-focus":_,"--n-loading-color":X,"--n-text-color":F,"--n-icon-color":f}}),r=o?Oe("switch",S(()=>k.value[0]),T,e):void 0;return{handleClick:me,handleBlur:N,handleFocus:re,handleKeyup:l,handleKeydown:g,mergedRailStyle:I,pressed:O,mergedClsPrefix:t,mergedValue:B,checked:W,mergedDisabled:u,cssVars:o?void 0:T,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:o,mergedRailStyle:n,onRender:i,$slots:k}=this;i==null||i();const{checked:u,unchecked:m,icon:C,"checked-icon":B,"unchecked-icon":W}=k,O=!(se(C)&&se(B)&&se(W));return h("div",{role:"switch","aria-checked":o,class:["".concat(e,"-switch"),this.themeClass,O&&"".concat(e,"-switch--icon"),o&&"".concat(e,"-switch--active"),t&&"".concat(e,"-switch--disabled"),this.round&&"".concat(e,"-switch--round"),this.loading&&"".concat(e,"-switch--loading"),this.pressed&&"".concat(e,"-switch--pressed"),this.rubberBand&&"".concat(e,"-switch--rubber-band")],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},h("div",{class:"".concat(e,"-switch__rail"),"aria-hidden":"true",style:n},L(u,v=>L(m,I=>v||I?h("div",{"aria-hidden":!0,class:"".concat(e,"-switch__children-placeholder")},h("div",{class:"".concat(e,"-switch__rail-placeholder")},h("div",{class:"".concat(e,"-switch__button-placeholder")}),v),h("div",{class:"".concat(e,"-switch__rail-placeholder")},h("div",{class:"".concat(e,"-switch__button-placeholder")}),I)):null)),h("div",{class:"".concat(e,"-switch__button")},L(C,v=>L(B,I=>L(W,M=>h(Ne,null,{default:()=>this.loading?h(je,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(I||v)?h("div",{class:"".concat(e,"-switch__button-icon"),key:I?"checked-icon":"icon"},I||v):!this.checked&&(M||v)?h("div",{class:"".concat(e,"-switch__button-icon"),key:M?"unchecked-icon":"icon"},M||v):null})))),L(u,v=>v&&h("div",{key:"checked",class:"".concat(e,"-switch__checked")},v)),L(m,v=>v&&h("div",{key:"unchecked",class:"".concat(e,"-switch__unchecked")},v)))))}}),Yt={size:[String,Number],color:String,tag:String},Xt=Symbol("IconConfigInjection"),Jt="span",ho=ue({name:"Icon",props:Yt,setup(e,{slots:t}){const o=de(Xt,null),n=S(()=>{var u;const m=(u=e.size)!==null&&u!==void 0?u:o==null?void 0:o.size;if(m!==void 0)return typeof m=="number"||/^\d+$/.test(m)?"".concat(m,"px"):m}),i=S(()=>{const{color:u}=e;return u===void 0?o?o.color:void 0:u}),k=S(()=>{var u;const{tag:m}=e;return m===void 0?(u=o==null?void 0:o.tag)!==null&&u!==void 0?u:Jt:m});return pt(()=>{mt()}),()=>h(k.value,{class:"xicon",style:{color:i.value,fontSize:n.value}},[vt(t,"default")])}}),eo=e=>"https://api.maptiler.com/maps/streets-v2/style.json?key=".concat(e),Fe=e=>"https://api.maptiler.com/maps/basic-v2/style.json?key=".concat(e),to=e=>"https://api.maptiler.com/maps/outdoor-v2/style.json?key=".concat(e),oo=e=>"https://api.maptiler.com/maps/satellite/style.json?key=".concat(e);function ro(e,t){switch(e){case"street":return eo(t);case"basic":return Fe(t);case"outdoor":return to(t);case"satellite":return oo(t);default:return console.warn("The map type ".concat(e," is not supported. Fallback to the default map type basic")),Fe(t)}}const ke=e=>Se.convertLocationPoint(e,$e.LNGLAT),He=e=>Se.convertLocationPoint(e,$e.GEOGRAPHIC);class io extends gt{constructor(t,o,n=[]){super(t,o,["pitch","bearing"],n)}initialiseMap(t){const o=new yt.Map({container:this.container,style:ro(t.type,t.credentials),center:Se.convertLocationPoint(this.getCentre(),$e.LNGLAT),zoom:this.getZoom(),maxZoom:this.getZoomRange().max,minZoom:this.getZoomRange().min});return this.properties.nativeHandlers=[],o}getSymbolLayerID(){const t=this.map.getStyle().layers;let o;for(let n=0;n<t.length;n++)if(t[n].type==="symbol"){o=t[n].id;break}return o}startSynchroniseMap(){const t=()=>{this.getMapViewFrozenStatus()&&!xt(this.map.getCenter().toArray(),ke(this.getCentre()))&&this.map.setCenter(ke(this.getCentre()))};this.addEventHandler("viewchangeend",()=>{this.map.setCenter(ke(this.getViewCentre())),this.map.setZoom(this.getZoom()),this.map.setBearing(this.getBearing()),this.map.setPitch(this.getPitch())},!1),this.addEventHandler("pitchend",()=>{this.setPitch(this.map.getPitch(),!0)},!0),this.addEventHandler("zoom",()=>{this.setViewCentre(He(this.map.getCenter().toArray()),!0),this.setZoom(this.map.getZoom(),!0),t()},!0),this.addEventHandler("move",()=>{this.setViewCentre(He(this.map.getCenter().toArray()),!0),t()},!0)}addNativeHandler(t,o){const n=this.properties.nativeHandlers.length>0?this.properties.nativeHandlers[this.properties.nativeHandlers.length-1].id+1:0;this.properties.nativeHandlers.push({handler:o,id:n,type:t}),this.map.on(t,o)}removeNativeHandler(t){const o=this.properties.nativeHandlers.find(n=>n.id===t);if(!o)throw new Error("Cannot find native handler with id ".concat(t));this.map.off(o.type,o.handler)}}class bo{constructor(t,o,n,i="maplibregl"){$(this,"id");$(this,"container");$(this,"map");$(this,"trackingMode",R(!1));$(this,"zoom",R(10));$(this,"pitch",R(0));$(this,"bearing",R(0));$(this,"bearingTweakStickDeg",0);$(this,"backendType");$(this,"message");$(this,"emit");$(this,"props");this.id="MapView-".concat(i.toUpperCase(),"-").concat(wt()),this.message=n,this.emit=o,this.props=t,this.backendType=i,ee(this.pitch,()=>{this.map&&(this.map.verifyPitch(this.pitch.value)?this.map.setPitch(this.pitch.value,!1):(this.pitch.value>this.map.getPitchRange().max?this.message.warning("Already at maximum preset pitch level",1e3):this.pitch.value<this.map.getPitchRange().min&&this.message.warning("Already at minimum preset pitch level",1e3),this.pitch.value=this.map.getPitch()))}),ee(this.bearing,()=>{var u;const k=Math.round(this.bearing.value/90)*90;Dt(Math.abs(k-this.bearing.value),0,this.bearingTweakStickDeg)&&(this.bearing.value=k),(u=this.map)==null||u.setBearing(this.bearing.value,!1)}),ee(this.zoom,()=>{this.map&&(this.map.verifyZoom(this.zoom.value)?this.map.setZoom(this.zoom.value,!1):(this.zoom.value>this.map.getZoomRange().max?this.message.warning("Already at maximum preset zoom level",1e3):this.zoom.value<this.map.getZoomRange().min&&this.message.warning("Already at minimum preset zoom level",1e3),this.zoom.value=this.map.getZoom()))}),ee(this.trackingMode,this.trackingModeEnterLeave.bind(this)),ee(t,this.handleProps.bind(this),{deep:!0})}handleProps(t,o){this.map&&(o.centre&&t.centre&&o.centre!==t.centre&&this.map.setCentre(t.centre||{latitude:0,longitude:0},this.trackingMode.value),o.zoom&&t.zoom&&o.zoom!==t.zoom&&this.map.setZoom(t.zoom||10),o.viewCentre&&t.viewCentre&&o.viewCentre!==t.viewCentre&&this.map.setCentre(t.viewCentre||{latitude:0,longitude:0},this.trackingMode.value))}setupBingMap(){const t={centre:this.props.centre?this.props.centre:{latitude:0,longitude:0},type:this.props.mapType||Microsoft.Maps.MapTypeId.road,supportedMapTypes:[Microsoft.Maps.MapTypeId.road,Microsoft.Maps.MapTypeId.aerial,Microsoft.Maps.MapTypeId.canvasDark,Microsoft.Maps.MapTypeId.canvasLight],zoom:this.props.zoom||10,credentials:Ct,customizedTouchpadBehavior:this.props.customizedTouchpadBehavior||!0,enableInertia:this.props.enableInertia||!1,forceHiDPI:this.props.forceHiDPI||!1,showDashboard:this.props.showDashboard||!1,liteMode:this.props.liteMode||!1,minZoom:1,maxZoom:15},o=this.props.plugin||[];return new kt(this.container,t,o)}setupMapLibreGLMap(){const t={centre:this.props.centre?this.props.centre:{latitude:0,longitude:0},zoom:this.props.zoom||10,type:this.props.mapType,supportedMapTypes:["street","satellite"],credentials:zt,maxZoom:22,minZoom:1},o=this.props.plugin||[];return new io(this.container,t,o)}setupMap(){if(!this.container)throw new Error("Container for ".concat(this.id," is not ready."));switch(this.backendType){case"bing":return this.setupBingMap();case"maplibregl":return this.setupMapLibreGLMap();default:throw new Error("Unsupported map backend type: ".concat(this.backendType))}}initialiseGeolocation(){ne.addListener(t=>{this.map&&(this.map.setCentre(t,this.trackingMode.value),this.trackingMode.value&&this.map.gotoCentre(),this.emit("update:centre",{...t}))}),ne.addHandler("error",(t,o)=>{this.message.error('Fail to update your location, reason: "'.concat(o.message,'".'),3e3)},!0)}initialiseDeviceOrientation(){St.addHandler(t=>{console.log("device orientation",t),this.bearing.value=t})}mount(){this.initialiseGeolocation(),this.initialiseDeviceOrientation(),this.container=document.getElementById(this.id),this.map=this.setupMap(),this.map.addEventHandler("viewchangeend",o=>{this.emit("update:zoom",o.getZoom()),this.emit("update:viewCentre",{...o.getCentre()})},!1);const t=setInterval(()=>{if(ne.isInitialised()){if(!this.map)return;clearInterval(t),this.map.setCentre(ne.getPresent(),!0),this.map.gotoCentre()}});this.trackingModeEnterLeave(),this.emit("ready",this.map)}trackingModeEnterLeave(){if(!this.map){console.log("map not ready");return}this.trackingMode.value?this.map.freezeViewCentre():this.map.unfreezeViewCentre(),this.trackingMode.value&&this.message.info("You're in tracking mode. The map will only follow your geographical location.",3e3)}}export{lo as B,ho as I,bo as M,uo as N,Ge as a,At as b,co as u};
