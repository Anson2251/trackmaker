var ht=Object.defineProperty;var vt=(o,n,r)=>n in o?ht(o,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[n]=r;var B=(o,n,r)=>vt(o,typeof n!="symbol"?n+"":n,r);import{a as mt,u as ft,M as pt,I as W,B as q,N as gt}from"./map-manager-BvmZqViI.js";import{a6 as bt,b7 as wt,b8 as yt,s as P,p as i,E as _,q as J,aS as ze,b2 as xt,b3 as kt,d as E,t as _t,v as Ve,r as C,A as k,$ as St,_ as zt,w as Ce,e as Ct,C as Me,Y as Mt,b9 as he,n as x,ba as Rt,bb as $t,a7 as Tt,bc as Bt,T as Dt,a3 as Q,a8 as ee,aa as te,bd as ce,o as N,c as A,ab as p,be as Vt,b as Ie,aT as ue,al as It,a$ as Lt,b0 as Et,am as Le,ag as Ft,ad as S,ah as l,a as g,bf as Re,bg as ve}from"./index-RYRiCSOH.js";import{N as Ht}from"./Element-D0ANQ4jE.js";function Nt(o){const n="rgba(0, 0, 0, .85)",r="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:c,primaryColor:h,baseColor:m,cardColor:$,modalColor:v,popoverColor:z,borderRadius:d,fontSize:f,opacityDisabled:D}=o;return Object.assign(Object.assign({},wt),{fontSize:f,markFontSize:f,railColor:c,railColorHover:c,fillColor:h,fillColorHover:h,opacityDisabled:D,handleColor:"#FFF",dotColor:$,dotColorModal:v,dotColorPopover:z,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:n,indicatorBoxShadow:r,indicatorTextColor:m,indicatorBorderRadius:d,dotBorder:"2px solid ".concat(c),dotBorderActive:"2px solid ".concat(h),dotBoxShadow:""})}const Pt={name:"Slider",common:bt,self:Nt};function $e(o){return window.TouchEvent&&o instanceof window.TouchEvent}function Te(){const o=new Map,n=r=>c=>{o.set(r,c)};return yt(()=>{o.clear()}),[o,n]}const At=P([i("slider","\n display: block;\n padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n ",[_("reverse",[i("slider-handles",[i("slider-handle-wrapper","\n transform: translate(50%, -50%);\n ")]),i("slider-dots",[i("slider-dot","\n transform: translateX(50%, -50%);\n ")]),_("vertical",[i("slider-handles",[i("slider-handle-wrapper","\n transform: translate(-50%, -50%);\n ")]),i("slider-marks",[i("slider-mark","\n transform: translateY(calc(-50% + var(--n-dot-height) / 2));\n ")]),i("slider-dots",[i("slider-dot","\n transform: translateX(-50%) translateY(0);\n ")])])]),_("vertical","\n padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);\n width: var(--n-rail-width-vertical);\n height: 100%;\n ",[i("slider-handles","\n top: calc(var(--n-handle-size) / 2);\n right: 0;\n bottom: calc(var(--n-handle-size) / 2);\n left: 0;\n ",[i("slider-handle-wrapper","\n top: unset;\n left: 50%;\n transform: translate(-50%, 50%);\n ")]),i("slider-rail","\n height: 100%;\n ",[J("fill","\n top: unset;\n right: 0;\n bottom: unset;\n left: 0;\n ")]),_("with-mark","\n width: var(--n-rail-width-vertical);\n margin: 0 32px 0 8px;\n "),i("slider-marks","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 22px;\n font-size: var(--n-mark-font-size);\n ",[i("slider-mark","\n transform: translateY(50%);\n white-space: nowrap;\n ")]),i("slider-dots","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 50%;\n ",[i("slider-dot","\n transform: translateX(-50%) translateY(50%);\n ")])]),_("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ",[i("slider-handle","\n cursor: not-allowed;\n ")]),_("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),P("&:hover",[i("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[J("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),i("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),_("active",[i("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[J("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),i("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),i("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[i("slider-mark","\n position: absolute;\n transform: translateX(-50%);\n white-space: nowrap;\n ")]),i("slider-rail","\n width: 100%;\n position: relative;\n height: var(--n-rail-height);\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n border-radius: calc(var(--n-rail-height) / 2);\n ",[J("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--n-rail-height) / 2);\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-fill-color);\n ")]),i("slider-handles","\n position: absolute;\n top: 0;\n right: calc(var(--n-handle-size) / 2);\n bottom: 0;\n left: calc(var(--n-handle-size) / 2);\n ",[i("slider-handle-wrapper","\n outline: none;\n position: absolute;\n top: 50%;\n transform: translate(-50%, -50%);\n cursor: pointer;\n display: flex;\n ",[i("slider-handle","\n height: var(--n-handle-size);\n width: var(--n-handle-size);\n border-radius: 50%;\n overflow: hidden;\n transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);\n background-color: var(--n-handle-color);\n box-shadow: var(--n-handle-box-shadow);\n ",[P("&:hover","\n box-shadow: var(--n-handle-box-shadow-hover);\n ")]),P("&:focus",[i("slider-handle","\n box-shadow: var(--n-handle-box-shadow-focus);\n ",[P("&:hover","\n box-shadow: var(--n-handle-box-shadow-active);\n ")])])])]),i("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[_("transition-disabled",[i("slider-dot","transition: none;")]),i("slider-dot","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n transform: translate(-50%, -50%);\n height: var(--n-dot-height);\n width: var(--n-dot-width);\n border-radius: var(--n-dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--n-dot-border);\n background-color: var(--n-dot-color);\n ",[_("active","border: var(--n-dot-border-active);")])])]),i("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[ze()]),i("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[_("top","\n margin-bottom: 12px;\n "),_("right","\n margin-left: 12px;\n "),_("bottom","\n margin-top: 12px;\n "),_("left","\n margin-right: 12px;\n "),ze()]),xt(i("slider",[i("slider-dot","background-color: var(--n-dot-color-modal);")])),kt(i("slider",[i("slider-dot","background-color: var(--n-dot-color-popover);")]))]),jt=0,Ut=Object.assign(Object.assign({},Ve.props),{to:he.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),Be=E({name:"Slider",props:Ut,setup(o){const{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:c}=_t(o),h=Ve("Slider","-slider",At,Pt,o,n),m=C(null),[$,v]=Te(),[z,d]=Te(),f=C(new Set),D=mt(o),{mergedDisabledRef:j}=D,me=k(()=>{const{step:e}=o;if(Number(e)<=0||e==="mark")return 0;const t=e.toString();let a=0;return t.includes(".")&&(a=t.length-t.indexOf(".")-1),a}),ae=C(o.defaultValue),Ee=St(o,"value"),ne=zt(Ee,ae),M=k(()=>{const{value:e}=ne;return(o.range?e:[e]).map(xe)}),fe=k(()=>M.value.length>2),Fe=k(()=>o.placement===void 0?o.vertical?"right":"top":o.placement),pe=k(()=>{const{marks:e}=o;return e?Object.keys(e).map(Number.parseFloat):null}),R=C(-1),ge=C(-1),I=C(-1),L=C(!1),U=C(!1),ie=k(()=>{const{vertical:e,reverse:t}=o;return e?t?"top":"bottom":t?"right":"left"}),He=k(()=>{if(fe.value)return;const e=M.value,t=O(o.range?Math.min(...e):o.min),a=O(o.range?Math.max(...e):e[0]),{value:s}=ie;return o.vertical?{[s]:"".concat(t,"%"),height:"".concat(a-t,"%")}:{[s]:"".concat(t,"%"),width:"".concat(a-t,"%")}}),Ne=k(()=>{const e=[],{marks:t}=o;if(t){const a=M.value.slice();a.sort((w,y)=>w-y);const{value:s}=ie,{value:u}=fe,{range:b}=o,T=u?()=>!1:w=>b?w>=a[0]&&w<=a[a.length-1]:w<=a[0];for(const w of Object.keys(t)){const y=Number(w);e.push({active:T(y),label:t[w],style:{[s]:"".concat(O(y),"%")}})}}return e});function Pe(e,t){const a=O(e),{value:s}=ie;return{[s]:"".concat(a,"%"),zIndex:t===R.value?1:0}}function be(e){return o.showTooltip||I.value===e||R.value===e&&L.value}function Ae(e){return L.value?!(R.value===e&&ge.value===e):!0}function je(e){var t;~e&&(R.value=e,(t=$.get(e))===null||t===void 0||t.focus())}function Ue(){z.forEach((e,t)=>{be(t)&&e.syncPosition()})}function we(e){const{"onUpdate:value":t,onUpdateValue:a}=o,{nTriggerFormInput:s,nTriggerFormChange:u}=D;a&&Q(a,e),t&&Q(t,e),ae.value=e,s(),u()}function ye(e){const{range:t}=o;if(t){if(Array.isArray(e)){const{value:a}=M;e.join()!==a.join()&&we(e)}}else Array.isArray(e)||M.value[0]!==e&&we(e)}function re(e,t){if(o.range){const a=M.value.slice();a.splice(t,1,e),ye(a)}else ye(e)}function se(e,t,a){const s=a!==void 0;a||(a=e-t>0?1:-1);const u=pe.value||[],{step:b}=o;if(b==="mark"){const y=Y(e,u.concat(t),s?a:void 0);return y?y.value:t}if(b<=0)return t;const{value:T}=me;let w;if(s){const y=Number((t/b).toFixed(T)),V=Math.floor(y),le=y>V?V:V-1,de=y<V?V:V+1;w=Y(t,[Number((le*b).toFixed(T)),Number((de*b).toFixed(T)),...u],a)}else{const y=Ye(e);w=Y(e,[...u,y])}return w?xe(w.value):t}function xe(e){return Math.min(o.max,Math.max(o.min,e))}function O(e){const{max:t,min:a}=o;return(e-a)/(t-a)*100}function Oe(e){const{max:t,min:a}=o;return a+(t-a)*e}function Ye(e){const{step:t,min:a}=o;if(Number(t)<=0||t==="mark")return e;const s=Math.round((e-a)/t)*t+a;return Number(s.toFixed(me.value))}function Y(e,t=pe.value,a){if(!(t!=null&&t.length))return null;let s=null,u=-1;for(;++u<t.length;){const b=t[u]-e,T=Math.abs(b);(a===void 0||b*a>0)&&(s===null||T<s.distance)&&(s={index:u,distance:T,value:t[u]})}return s}function ke(e){const t=m.value;if(!t)return;const a=$e(e)?e.touches[0]:e,s=t.getBoundingClientRect();let u;return o.vertical?u=(s.bottom-a.clientY)/s.height:u=(a.clientX-s.left)/s.width,o.reverse&&(u=1-u),Oe(u)}function Xe(e){if(j.value||!o.keyboard)return;const{vertical:t,reverse:a}=o;switch(e.key){case"ArrowUp":e.preventDefault(),X(t&&a?-1:1);break;case"ArrowRight":e.preventDefault(),X(!t&&a?-1:1);break;case"ArrowDown":e.preventDefault(),X(t&&a?1:-1);break;case"ArrowLeft":e.preventDefault(),X(!t&&a?1:-1);break}}function X(e){const t=R.value;if(t===-1)return;const{step:a}=o,s=M.value[t],u=Number(a)<=0||a==="mark"?s:s+a*e;re(se(u,s,e>0?1:-1),t)}function Ke(e){var t,a;if(j.value||!$e(e)&&e.button!==jt)return;const s=ke(e);if(s===void 0)return;const u=M.value.slice(),b=o.range?(a=(t=Y(s,u))===null||t===void 0?void 0:t.index)!==null&&a!==void 0?a:-1:0;b!==-1&&(e.preventDefault(),je(b),Ge(),re(se(s,M.value[b]),b))}function Ge(){L.value||(L.value=!0,o.onDragstart&&Q(o.onDragstart),ee("touchend",document,Z),ee("mouseup",document,Z),ee("touchmove",document,G),ee("mousemove",document,G))}function K(){L.value&&(L.value=!1,o.onDragend&&Q(o.onDragend),te("touchend",document,Z),te("mouseup",document,Z),te("touchmove",document,G),te("mousemove",document,G))}function G(e){const{value:t}=R;if(!L.value||t===-1){K();return}const a=ke(e);a!==void 0&&re(se(a,M.value[t]),t)}function Z(){K()}function Ze(e){R.value=e,j.value||(I.value=e)}function We(e){R.value===e&&(R.value=-1,K()),I.value===e&&(I.value=-1)}function qe(e){I.value=e}function Je(e){I.value===e&&(I.value=-1)}Ce(R,(e,t)=>void ce(()=>ge.value=t)),Ce(ne,()=>{if(o.marks){if(U.value)return;U.value=!0,ce(()=>{U.value=!1})}ce(Ue)}),Ct(()=>{K()});const _e=k(()=>{const{self:{markFontSize:e,railColor:t,railColorHover:a,fillColor:s,fillColorHover:u,handleColor:b,opacityDisabled:T,dotColor:w,dotColorModal:y,handleBoxShadow:V,handleBoxShadowHover:le,handleBoxShadowActive:de,handleBoxShadowFocus:Qe,dotBorder:et,dotBoxShadow:tt,railHeight:ot,railWidthVertical:at,handleSize:nt,dotHeight:it,dotWidth:rt,dotBorderRadius:st,fontSize:lt,dotBorderActive:dt,dotColorPopover:ct},common:{cubicBezierEaseInOut:ut}}=h.value;return{"--n-bezier":ut,"--n-dot-border":et,"--n-dot-border-active":dt,"--n-dot-border-radius":st,"--n-dot-box-shadow":tt,"--n-dot-color":w,"--n-dot-color-modal":y,"--n-dot-color-popover":ct,"--n-dot-height":it,"--n-dot-width":rt,"--n-fill-color":s,"--n-fill-color-hover":u,"--n-font-size":lt,"--n-handle-box-shadow":V,"--n-handle-box-shadow-active":de,"--n-handle-box-shadow-focus":Qe,"--n-handle-box-shadow-hover":le,"--n-handle-color":b,"--n-handle-size":nt,"--n-opacity-disabled":T,"--n-rail-color":t,"--n-rail-color-hover":a,"--n-rail-height":ot,"--n-rail-width-vertical":at,"--n-mark-font-size":e}}),F=c?Me("slider",void 0,_e,o):void 0,Se=k(()=>{const{self:{fontSize:e,indicatorColor:t,indicatorBoxShadow:a,indicatorTextColor:s,indicatorBorderRadius:u}}=h.value;return{"--n-font-size":e,"--n-indicator-border-radius":u,"--n-indicator-box-shadow":a,"--n-indicator-color":t,"--n-indicator-text-color":s}}),H=c?Me("slider-indicator",void 0,Se,o):void 0;return{mergedClsPrefix:n,namespace:r,uncontrolledValue:ae,mergedValue:ne,mergedDisabled:j,mergedPlacement:Fe,isMounted:Mt(),adjustedTo:he(o),dotTransitionDisabled:U,markInfos:Ne,isShowTooltip:be,shouldKeepTooltipTransition:Ae,handleRailRef:m,setHandleRefs:v,setFollowerRefs:d,fillStyle:He,getHandleStyle:Pe,activeIndex:R,arrifiedValues:M,followerEnabledIndexSet:f,handleRailMouseDown:Ke,handleHandleFocus:Ze,handleHandleBlur:We,handleHandleMouseEnter:qe,handleHandleMouseLeave:Je,handleRailKeyDown:Xe,indicatorCssVars:c?void 0:Se,indicatorThemeClass:H==null?void 0:H.themeClass,indicatorOnRender:H==null?void 0:H.onRender,cssVars:c?void 0:_e,themeClass:F==null?void 0:F.themeClass,onRender:F==null?void 0:F.onRender}},render(){var o;const{mergedClsPrefix:n,themeClass:r,formatTooltip:c}=this;return(o=this.onRender)===null||o===void 0||o.call(this),x("div",{class:["".concat(n,"-slider"),r,{["".concat(n,"-slider--disabled")]:this.mergedDisabled,["".concat(n,"-slider--active")]:this.activeIndex!==-1,["".concat(n,"-slider--with-mark")]:this.marks,["".concat(n,"-slider--vertical")]:this.vertical,["".concat(n,"-slider--reverse")]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},x("div",{class:"".concat(n,"-slider-rail")},x("div",{class:"".concat(n,"-slider-rail__fill"),style:this.fillStyle}),this.marks?x("div",{class:["".concat(n,"-slider-dots"),this.dotTransitionDisabled&&"".concat(n,"-slider-dots--transition-disabled")]},this.markInfos.map(h=>x("div",{key:h.label,class:["".concat(n,"-slider-dot"),{["".concat(n,"-slider-dot--active")]:h.active}],style:h.style}))):null,x("div",{ref:"handleRailRef",class:"".concat(n,"-slider-handles")},this.arrifiedValues.map((h,m)=>{const $=this.isShowTooltip(m);return x(Rt,null,{default:()=>[x($t,null,{default:()=>x("div",{ref:this.setHandleRefs(m),class:"".concat(n,"-slider-handle-wrapper"),tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":h,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(h,m),onFocus:()=>{this.handleHandleFocus(m)},onBlur:()=>{this.handleHandleBlur(m)},onMouseenter:()=>{this.handleHandleMouseEnter(m)},onMouseleave:()=>{this.handleHandleMouseLeave(m)}},Tt(this.$slots.thumb,()=>[x("div",{class:"".concat(n,"-slider-handle")})]))}),this.tooltip&&x(Bt,{ref:this.setFollowerRefs(m),show:$,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(m),teleportDisabled:this.adjustedTo===he.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>x(Dt,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(m),onEnter:()=>{this.followerEnabledIndexSet.add(m)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(m)}},{default:()=>{var v;return $?((v=this.indicatorOnRender)===null||v===void 0||v.call(this),x("div",{class:["".concat(n,"-slider-handle-indicator"),this.indicatorThemeClass,"".concat(n,"-slider-handle-indicator--").concat(this.mergedPlacement)],style:this.indicatorCssVars},typeof c=="function"?c(h):h)):null}})})]})})),this.marks?x("div",{class:"".concat(n,"-slider-marks")},this.markInfos.map(h=>x("div",{key:h.label,class:"".concat(n,"-slider-mark"),style:h.style},h.label))):null))}}),Ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Yt=p("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[p("path",{d:"M12 16h4v4"}),p("path",{d:"M19.458 11.042c.86-2.366.722-4.58-.6-5.9c-2.272-2.274-7.185-1.045-10.973 2.743c-3.788 3.788-5.017 8.701-2.744 10.974c2.227 2.226 6.987 1.093 10.74-2.515"})],-1),Xt=[Yt],De=E({name:"Rotate360",render:function(n,r){return N(),A("svg",Ot,Xt)}}),Kt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Gt=Vt('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="10" cy="10" r="7"></circle><path d="M7 10h6"></path><path d="M10 7v6"></path><path d="M21 21l-6-6"></path></g>',1),Zt=[Gt],Wt=E({name:"ZoomIn",render:function(n,r){return N(),A("svg",Kt,Zt)}}),qt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Jt=p("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[p("circle",{cx:"10",cy:"10",r:"7"}),p("path",{d:"M7 10h6"}),p("path",{d:"M21 21l-6-6"})],-1),Qt=[Jt],eo=E({name:"ZoomOut",render:function(n,r){return N(),A("svg",qt,Qt)}}),oe=o=>(Lt("data-v-33182fb1"),o=o(),Et(),o),to=oe(()=>p("div",{class:"pin north-pin"},null,-1)),oo=oe(()=>p("div",{class:"pin east-pin"},null,-1)),ao=oe(()=>p("div",{class:"pin south-pin"},null,-1)),no=oe(()=>p("div",{class:"pin west-pin"},null,-1)),io=[to,oo,ao,no],ro={class:"compass-orientation-text"},so=.3,lo=E({__name:"MapCompass",props:{bearing:{},pitch:{},size:{}},emits:["update:bearing"],setup(o,{emit:n}){const r=o,c=n,h=k(()=>"transform: rotate(".concat(r.bearing,"deg)")),m=k(()=>"transform: rotateX(".concat(Math.min(45,r.pitch?r.pitch:0),"deg); transition: all 0.3s ease;")),$=k(()=>r.size?"--compass-size: ".concat(r.size,"px"):""),v=["N","W","S","E"],z=k(()=>{const d=r.bearing>0?r.bearing:360+r.bearing;return v[Math.round(d%360/90)%4]});return Ie(()=>{const d=document.querySelector(".map-compass");d.onclick=()=>c("update:bearing",0),d&&d.addEventListener("mousewheel",f=>{f.preventDefault();const D=(r.bearing+f.deltaY*so)%360;c("update:bearing",Math.round(D>=0?D:360+D))})}),(d,f)=>(N(),A("div",{style:ue(m.value)},[p("div",{class:"map-compass",style:ue($.value)},[p("div",{class:"compass-panel",style:ue(h.value)},io,4),p("span",ro,It(z.value),1)],4)],4))}}),co=Le(lo,[["__scopeId","data-v-33182fb1"]]),uo=["id"],ho={class:"nav-toolbox"},vo={style:{transform:"rotateX(200deg)"}},mo={style:{transform:"rotateY(20deg)"}},fo={class:"compass-container"},po=E({__name:"MapLibreGLView",props:{plugin:{},centre:{},viewCentre:{},tracking:{type:Boolean},mapType:{},zoom:{}},emits:["ready","update:zoom","update:centre","update:viewCentre","update:mapType"],setup(o,{emit:n}){let r=C(24);const c=ft(),h={info:(z,d)=>c.info(z,{duration:d}),warning:(z,d)=>c.warning(z,{duration:d}),error:(z,d)=>c.error(z,{duration:d})},m=o,$=n,v=new pt(m,$,h,"maplibregl");return Ie(()=>{v.mount(),v.trackingMode.value=!!m.tracking}),(z,d)=>(N(),Ft(l(Ht),{class:"container"},{default:S(()=>[p("div",{id:l(v).id,class:"maplibregl-map-container"},null,8,uo),p("div",ho,[g(l(q),{strong:"",secondary:"",circle:"",type:"primary",onClick:d[0]||(d[0]=f=>l(v).zoom.value+=1)},{default:S(()=>[g(l(W),{size:l(r)-2},{default:S(()=>[g(l(Wt))]),_:1},8,["size"])]),_:1}),g(l(q),{strong:"",secondary:"",circle:"",type:"primary",onClick:d[1]||(d[1]=f=>l(v).zoom.value-=1)},{default:S(()=>[g(l(W),{size:l(r)-2},{default:S(()=>[g(l(eo))]),_:1},8,["size"])]),_:1}),g(l(Re),{placement:"left",trigger:"hover",class:"mapview-tooltip-popover-input"},{trigger:S(()=>[g(l(q),{strong:"",secondary:"",circle:"",type:"primary"},{default:S(()=>[g(l(W),{size:l(r)},{default:S(()=>[p("div",vo,[g(l(De),{style:{transform:"rotate(225deg)"}})])]),_:1},8,["size"])]),_:1})]),default:S(()=>[p("div",null,[g(l(Be),{vertical:"",value:l(v).bearing.value,"onUpdate:value":d[2]||(d[2]=f=>l(v).bearing.value=f),min:0,max:360,style:{height:"16em"},tooltip:!0,placement:"left","format-tooltip":f=>"".concat(f,"°")},null,8,["value","format-tooltip"])])]),_:1}),g(l(Re),{placement:"left",trigger:"hover",class:"mapview-tooltip-popover-input"},{trigger:S(()=>[g(l(q),{strong:"",secondary:"",circle:"",type:"primary"},{default:S(()=>[g(l(W),{size:l(r)},{default:S(()=>[p("div",mo,[g(l(De),{style:{transform:"rotate(-45deg)"}})])]),_:1},8,["size"])]),_:1})]),default:S(()=>[p("div",null,[g(l(Be),{value:l(v).pitch.value,"onUpdate:value":d[3]||(d[3]=f=>l(v).pitch.value=f),min:0,max:60,vertical:"",style:{height:"8em"},tooltip:!0,placement:"left","format-tooltip":f=>"".concat(f,"°")},null,8,["value","format-tooltip"])])]),_:1}),g(l(gt),{value:l(v).trackingMode.value,"onUpdate:value":d[4]||(d[4]=f=>l(v).trackingMode.value=f),size:"small"},null,8,["value"])]),p("div",fo,[g(co,{bearing:l(v).bearing.value,"onUpdate:bearing":d[5]||(d[5]=f=>l(v).bearing.value=f),size:l(r)*2,pitch:l(v).pitch.value},null,8,["bearing","size","pitch"])])]),_:1}))}}),go=Le(po,[["__scopeId","data-v-9b0e253c"]]);class bo{constructor(n){B(this,"host");B(this,"space");B(this,"behaviour");B(this,"shown",!1);this.host=n,this.space="terrainLayer"}initialise(){this.host.map.addSource("terrainSource",{type:"raster-dem",url:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=".concat(ve),tileSize:256}),this.host.map.addSource("hillshadeSource",{type:"raster-dem",url:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=".concat(ve),tileSize:256}),this.host.map.addLayer({id:"hills",type:"hillshade",source:"hillshadeSource",layout:{visibility:"visible"},paint:{"hillshade-shadow-color":"#473B24"}},this.host.getSymbolLayerID()),this.host.map.getLayer("hills").visibility="none"}show(){this.shown||(this.shown=!0,this.host.map.getLayer("hills").visibility="visible",this.host.map.setTerrain({source:"terrainSource",exaggeration:1}))}hide(){this.shown&&(this.shown=!1,this.host.map.getLayer("hills").visibility="none",this.host.map.setTerrain({source:"terrainSource",exaggeration:0}))}mount(){return new Promise(n=>{const r=setInterval(()=>{if(this.host.map.isStyleLoaded()){this.initialise();const c=()=>{this.host.getPitch()>0?this.show():this.hide()};this.host.addEventHandler("pitch",c,!0),this.host.addEventHandler("load",c,!0),clearInterval(r),n(!0)}})})}unmount(){return this.host.map.removeLayer("hills"),this.host.map.removeSource("terrainSource"),this.host.map.removeSource("hillshadeSource"),!0}}class wo{constructor(n){B(this,"host");B(this,"space");B(this,"behaviour");B(this,"shown",!1);this.host=n,this.space="terrainLayer"}initialise(){this.host.map.addSource("maptiler-tiles-building",{url:"https://api.maptiler.com/tiles/v3/tiles.json?key=".concat(ve),type:"vector"}),this.host.map.addLayer({id:"3d-buildings",source:"maptiler-tiles-building","source-layer":"building",type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":["interpolate",["linear"],["get","render_height"],0,"lightgray",200,"royalblue",400,"lightblue"],"fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,16,["get","render_height"]],"fill-extrusion-base":["case",[">=",["get","zoom"],16],["get","render_min_height"],0]}},this.host.getSymbolLayerID()),this.shown=!0}show(){this.shown||(this.shown=!0,this.host.map.getLayer("3d-buildings").visibility="visible")}hide(){this.shown&&(this.shown=!1,this.host.map.getLayer("3d-buildings").visibility="none")}mount(){return console.log("Building layer mounted"),new Promise(n=>{const r=setInterval(()=>{if(this.host.map.isStyleLoaded()){this.initialise();const c=()=>{this.host.getPitch()>0?this.show():this.hide()};this.host.addEventHandler("pitch",c,!0),setTimeout(c,100),clearInterval(r),n(!0)}})})}unmount(){return this.host.map.removeLayer("3d-buildings"),this.host.map.removeSource("maptiler-tiles-building"),!0}}const yo={class:"map-layout"},zo=E({__name:"MapLibreGLJSPreview",setup(o){const n=C([wo,bo]),r=C("basic"),c=C(10);return(h,m)=>(N(),A("div",yo,[g(go,{"map-type":r.value,"lite-mode":!1,plugin:n.value,zoom:c.value,tracking:!0},null,8,["map-type","plugin","zoom"])]))}});export{zo as default};
