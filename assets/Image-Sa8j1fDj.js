import { D as e, M as t, S as n, at as r, f as i, g as a, k as o, l as s, ot as c, u as l, ut as u, v as d, vt as f } from "./Card-DFfja-Mw.js";
import { M as p, O as m, Q as h, T as g, U as _, W as v, X as y, Z as b, et as ee, m as x } from "./light-Dg6C6GM-.js";
import { At as S, Bt as C, Dt as w, J as T, Jt as E, Lt as D, Qt as te, Rt as O, Tt as ne, Z as k, Zt as A, gt as j, mt as M, nn as re, ot as N, tt as P, vt as ie } from "./index-B1aXvQWO.js";
import { t as F } from "./fade-in-scale-up.cssr-DCGaDVf1.js";
import { t as ae } from "./use-locale-D8SgBpSz.js";
import { t as oe } from "./light-IRUhB8ZQ.js";
import { t as se } from "./Tooltip-C6gpMXQd.js";
function ce(e2, t2, n2, r2) {
  var i2 = -1, a2 = e2 == null ? 0 : e2.length;
  for (r2 && a2 && (n2 = e2[++i2]); ++i2 < a2; ) n2 = t2(n2, e2[i2], i2, e2);
  return n2;
}
var le = ce;
function I(e2) {
  return function(t2) {
    return e2 == null ? void 0 : e2[t2];
  };
}
var L = I({ \u00C0: `A`, \u00C1: `A`, \u00C2: `A`, \u00C3: `A`, \u00C4: `A`, \u00C5: `A`, \u00E0: `a`, \u00E1: `a`, \u00E2: `a`, \u00E3: `a`, \u00E4: `a`, \u00E5: `a`, \u00C7: `C`, \u00E7: `c`, \u00D0: `D`, \u00F0: `d`, \u00C8: `E`, \u00C9: `E`, \u00CA: `E`, \u00CB: `E`, \u00E8: `e`, \u00E9: `e`, \u00EA: `e`, \u00EB: `e`, \u00CC: `I`, \u00CD: `I`, \u00CE: `I`, \u00CF: `I`, \u00EC: `i`, \u00ED: `i`, \u00EE: `i`, \u00EF: `i`, \u00D1: `N`, \u00F1: `n`, \u00D2: `O`, \u00D3: `O`, \u00D4: `O`, \u00D5: `O`, \u00D6: `O`, \u00D8: `O`, \u00F2: `o`, \u00F3: `o`, \u00F4: `o`, \u00F5: `o`, \u00F6: `o`, \u00F8: `o`, \u00D9: `U`, \u00DA: `U`, \u00DB: `U`, \u00DC: `U`, \u00F9: `u`, \u00FA: `u`, \u00FB: `u`, \u00FC: `u`, \u00DD: `Y`, \u00FD: `y`, \u00FF: `y`, \u00C6: `Ae`, \u00E6: `ae`, \u00DE: `Th`, \u00FE: `th`, \u00DF: `ss`, \u0100: `A`, \u0102: `A`, \u0104: `A`, \u0101: `a`, \u0103: `a`, \u0105: `a`, \u0106: `C`, \u0108: `C`, \u010A: `C`, \u010C: `C`, \u0107: `c`, \u0109: `c`, \u010B: `c`, \u010D: `c`, \u010E: `D`, \u0110: `D`, \u010F: `d`, \u0111: `d`, \u0112: `E`, \u0114: `E`, \u0116: `E`, \u0118: `E`, \u011A: `E`, \u0113: `e`, \u0115: `e`, \u0117: `e`, \u0119: `e`, \u011B: `e`, \u011C: `G`, \u011E: `G`, \u0120: `G`, \u0122: `G`, \u011D: `g`, \u011F: `g`, \u0121: `g`, \u0123: `g`, \u0124: `H`, \u0126: `H`, \u0125: `h`, \u0127: `h`, \u0128: `I`, \u012A: `I`, \u012C: `I`, \u012E: `I`, \u0130: `I`, \u0129: `i`, \u012B: `i`, \u012D: `i`, \u012F: `i`, \u0131: `i`, \u0134: `J`, \u0135: `j`, \u0136: `K`, \u0137: `k`, \u0138: `k`, \u0139: `L`, \u013B: `L`, \u013D: `L`, \u013F: `L`, \u0141: `L`, \u013A: `l`, \u013C: `l`, \u013E: `l`, \u0140: `l`, \u0142: `l`, \u0143: `N`, \u0145: `N`, \u0147: `N`, \u014A: `N`, \u0144: `n`, \u0146: `n`, \u0148: `n`, \u014B: `n`, \u014C: `O`, \u014E: `O`, \u0150: `O`, \u014D: `o`, \u014F: `o`, \u0151: `o`, \u0154: `R`, \u0156: `R`, \u0158: `R`, \u0155: `r`, \u0157: `r`, \u0159: `r`, \u015A: `S`, \u015C: `S`, \u015E: `S`, \u0160: `S`, \u015B: `s`, \u015D: `s`, \u015F: `s`, \u0161: `s`, \u0162: `T`, \u0164: `T`, \u0166: `T`, \u0163: `t`, \u0165: `t`, \u0167: `t`, \u0168: `U`, \u016A: `U`, \u016C: `U`, \u016E: `U`, \u0170: `U`, \u0172: `U`, \u0169: `u`, \u016B: `u`, \u016D: `u`, \u016F: `u`, \u0171: `u`, \u0173: `u`, \u0174: `W`, \u0175: `w`, \u0176: `Y`, \u0177: `y`, \u0178: `Y`, \u0179: `Z`, \u017B: `Z`, \u017D: `Z`, \u017A: `z`, \u017C: `z`, \u017E: `z`, \u0132: `IJ`, \u0133: `ij`, \u0152: `Oe`, \u0153: `oe`, \u0149: `'n`, \u017F: `s` }), R = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, ue = RegExp(`[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]`, `g`);
function z(e2) {
  return e2 = f(e2), e2 && e2.replace(R, L).replace(ue, ``);
}
var B = z, V = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
function H(e2) {
  return e2.match(V) || [];
}
var de = H, U = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
function fe(e2) {
  return U.test(e2);
}
var pe = fe, W = `\\ud800-\\udfff`, me = `\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff`, G = `\\u2700-\\u27bf`, K = `a-z\\xdf-\\xf6\\xf8-\\xff`, q = `\\xac\\xb1\\xd7\\xf7`, he = `\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf`, ge = `\\u2000-\\u206f`, J = ` \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000`, Y = `A-Z\\xc0-\\xd6\\xd8-\\xde`, _e = `\\ufe0e\\ufe0f`, ve = q + he + ge + J, ye = `['\u2019]`, X = `[` + ve + `]`, be = `[` + me + `]`, Z = `\\d+`, xe = `[` + G + `]`, Se = `[` + K + `]`, Ce = `[^` + W + ve + Z + G + K + Y + `]`, we = `(?:` + be + `|\\ud83c[\\udffb-\\udfff])`, Te = `[^` + W + `]`, Ee = `(?:\\ud83c[\\udde6-\\uddff]){2}`, De = `[\\ud800-\\udbff][\\udc00-\\udfff]`, Q = `[` + Y + `]`, Oe = `\\u200d`, ke = `(?:` + Se + `|` + Ce + `)`, Ae = `(?:` + Q + `|` + Ce + `)`, je = `(?:` + ye + `(?:d|ll|m|re|s|t|ve))?`, Me = `(?:` + ye + `(?:D|LL|M|RE|S|T|VE))?`, Ne = we + `?`, Pe = `[` + _e + `]?`, Fe = `(?:` + Oe + `(?:` + [Te, Ee, De].join(`|`) + `)` + Pe + Ne + `)*`, Ie = `\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])`, Le = `\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])`, Re = Pe + Ne + Fe, ze = `(?:` + [xe, Ee, De].join(`|`) + `)` + Re, Be = RegExp([Q + `?` + Se + `+` + je + `(?=` + [X, Q, `$`].join(`|`) + `)`, Ae + `+` + Me + `(?=` + [X, Q + ke, `$`].join(`|`) + `)`, Q + `?` + ke + `+` + je, Q + `+` + Me, Le, Ie, Z, ze].join(`|`), `g`);
function Ve(e2) {
  return e2.match(Be) || [];
}
var He = Ve;
function Ue(e2, t2, n2) {
  return e2 = f(e2), t2 = n2 ? void 0 : t2, t2 === void 0 ? pe(e2) ? He(e2) : de(e2) : e2.match(t2) || [];
}
var We = Ue, Ge = RegExp(`['\u2019]`, `g`);
function Ke(e2) {
  return function(t2) {
    return le(We(B(t2).replace(Ge, ``)), e2, ``);
  };
}
var qe = Ke(function(e2, t2, n2) {
  return e2 + (n2 ? `-` : ``) + t2.toLowerCase();
});
function Je(e2, t2) {
  if (!e2) return;
  let n2 = document.createElement(`a`);
  n2.href = e2, t2 !== void 0 && (n2.download = t2), document.body.appendChild(n2), n2.click(), document.body.removeChild(n2);
}
var Ye = s(`download`, () => j(`svg`, { viewBox: `0 0 16 16`, version: `1.1`, xmlns: `http://www.w3.org/2000/svg` }, j(`g`, { stroke: `none`, "stroke-width": `1`, fill: `none`, "fill-rule": `evenodd` }, j(`g`, { fill: `currentColor`, "fill-rule": `nonzero` }, j(`path`, { d: `M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z` }))))), Xe = M({ name: `ResizeSmall`, render() {
  return j(`svg`, { xmlns: `http://www.w3.org/2000/svg`, viewBox: `0 0 20 20` }, j(`g`, { fill: `none` }, j(`path`, { d: `M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z`, fill: `currentColor` })));
} }), Ze = s(`rotateClockwise`, () => j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z`, fill: `currentColor` }), j(`path`, { d: `M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z`, fill: `currentColor` }))), Qe = s(`rotateClockwise`, () => j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z`, fill: `currentColor` }), j(`path`, { d: `M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z`, fill: `currentColor` }))), $e = s(`zoomIn`, () => j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z`, fill: `currentColor` }), j(`path`, { d: `M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z`, fill: `currentColor` }))), et = s(`zoomOut`, () => j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z`, fill: `currentColor` }), j(`path`, { d: `M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z`, fill: `currentColor` })));
const tt = p && `loading` in document.createElement(`img`);
function nt(e2 = {}) {
  let { root: t2 = null } = e2;
  return { hash: `${e2.rootMargin || `0px 0px 0px 0px`}-${Array.isArray(e2.threshold) ? e2.threshold.join(`,`) : e2.threshold ?? `0`}`, options: Object.assign(Object.assign({}, e2), { root: (typeof t2 == `string` ? document.querySelector(t2) : t2) || document.documentElement }) };
}
var rt = /* @__PURE__ */ new WeakMap(), it = /* @__PURE__ */ new WeakMap(), at = /* @__PURE__ */ new WeakMap();
const ot = (e2, t2, n2) => {
  if (!e2) return () => {
  };
  let r2 = nt(t2), { root: i2 } = r2.options, a2, o2 = rt.get(i2);
  o2 ? a2 = o2 : (a2 = /* @__PURE__ */ new Map(), rt.set(i2, a2));
  let s2, c2;
  a2.has(r2.hash) ? (c2 = a2.get(r2.hash), c2[1].has(e2) || (s2 = c2[0], c2[1].add(e2), s2.observe(e2))) : (s2 = new IntersectionObserver((e3) => {
    e3.forEach((e4) => {
      if (e4.isIntersecting) {
        let t3 = it.get(e4.target), n3 = at.get(e4.target);
        t3 && t3(), n3 && (n3.value = true);
      }
    });
  }, r2.options), s2.observe(e2), c2 = [s2, /* @__PURE__ */ new Set([e2])], a2.set(r2.hash, c2));
  let l2 = false, u2 = () => {
    l2 || (it.delete(e2), at.delete(e2), l2 = true, c2[1].has(e2) && (c2[0].unobserve(e2), c2[1].delete(e2)), c2[1].size <= 0 && a2.delete(r2.hash), a2.size || rt.delete(i2));
  };
  return it.set(e2, u2), at.set(e2, n2), u2;
};
function st() {
  return j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z`, fill: `currentColor` }));
}
function ct() {
  return j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z`, fill: `currentColor` }));
}
function lt() {
  return j(`svg`, { viewBox: `0 0 20 20`, fill: `none`, xmlns: `http://www.w3.org/2000/svg` }, j(`path`, { d: `M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z`, fill: `currentColor` }));
}
const ut = Object.assign(Object.assign({}, i.props), { onPreviewPrev: Function, onPreviewNext: Function, showToolbar: { type: Boolean, default: true }, showToolbarTooltip: Boolean, renderToolbar: Function }), dt = t(`n-image`);
var ft = r([r(`body >`, [c(`image-container`, `position: fixed;`)]), c(`image-preview-container`, `
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `), c(`image-preview-overlay`, `
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `, [x()]), c(`image-preview-toolbar`, `
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `, [c(`base-icon`, `
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `), x()]), c(`image-preview-wrapper`, `
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `, [F()]), c(`image-preview`, `
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `), c(`image`, `
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `, [u(`preview-disabled`, `
 cursor: pointer;
 `), r(`img`, `
 border-radius: inherit;
 `)])]), $ = 32, pt = M({ name: `ImagePreview`, props: Object.assign(Object.assign({}, ut), { src: String, show: { type: Boolean, default: void 0 }, defaultShow: Boolean, "onUpdate:show": [Function, Array], onUpdateShow: [Function, Array], onNext: Function, onPrev: Function, onClose: [Function, Array] }), setup(t2) {
  let { src: n2 } = te(t2), { mergedClsPrefixRef: r2 } = d(t2), o2 = i(`Image`, `-image`, ft, oe, t2, r2), s2 = null, c2 = E(null), l2 = E(null), u2 = E(false), { localeRef: f2 } = ae(`Image`), p2 = E(t2.defaultShow), m2 = v(A(t2, `show`), p2);
  function h2() {
    let { value: e2 } = l2;
    if (!s2 || !e2) return;
    let { style: t3 } = e2, n3 = s2.getBoundingClientRect();
    t3.transformOrigin = `${n3.left + n3.width / 2}px ${n3.top + n3.height / 2}px`;
  }
  function g2(e2) {
    var n3, r3;
    switch (e2.key) {
      case ` `:
        e2.preventDefault();
        break;
      case `ArrowLeft`:
        (n3 = t2.onPrev) == null || n3.call(t2);
        break;
      case `ArrowRight`:
        (r3 = t2.onNext) == null || r3.call(t2);
        break;
      case `ArrowUp`:
        e2.preventDefault(), q2();
        break;
      case `ArrowDown`:
        e2.preventDefault(), he2();
        break;
      case `Escape`:
        Y2();
        break;
    }
  }
  function x2(n3) {
    let { onUpdateShow: r3, "onUpdate:show": i2 } = t2;
    r3 && e(r3, n3), i2 && e(i2, n3), p2.value = n3, u2.value = true;
  }
  D(m2, (e2) => {
    e2 ? b(`keydown`, document, g2) : y(`keydown`, document, g2);
  }), ne(() => {
    y(`keydown`, document, g2);
  });
  let S2 = 0, C2 = 0, w2 = 0, T2 = 0, O2 = 0, k2 = 0, M2 = 0, P2 = 0, F2 = false;
  function ce2(e2) {
    let { clientX: t3, clientY: n3 } = e2;
    w2 = t3 - S2, T2 = n3 - C2, ee(J2);
  }
  function le2(e2) {
    let { mouseUpClientX: t3, mouseUpClientY: n3, mouseDownClientX: r3, mouseDownClientY: i2 } = e2, a2 = r3 - t3, o3 = i2 - n3;
    return { moveVerticalDirection: `vertical${o3 > 0 ? `Top` : `Bottom`}`, moveHorizontalDirection: `horizontal${a2 > 0 ? `Left` : `Right`}`, deltaHorizontal: a2, deltaVertical: o3 };
  }
  function I2(e2) {
    let { value: t3 } = c2;
    if (!t3) return { offsetX: 0, offsetY: 0 };
    let n3 = t3.getBoundingClientRect(), { moveVerticalDirection: r3, moveHorizontalDirection: i2, deltaHorizontal: a2, deltaVertical: o3 } = e2 || {}, s3 = 0, l3 = 0;
    return s3 = n3.width <= window.innerWidth ? 0 : n3.left > 0 ? (n3.width - window.innerWidth) / 2 : n3.right < window.innerWidth ? -(n3.width - window.innerWidth) / 2 : i2 === `horizontalRight` ? Math.min((n3.width - window.innerWidth) / 2, O2 - (a2 ?? 0)) : Math.max(-((n3.width - window.innerWidth) / 2), O2 - (a2 ?? 0)), l3 = n3.height <= window.innerHeight ? 0 : n3.top > 0 ? (n3.height - window.innerHeight) / 2 : n3.bottom < window.innerHeight ? -(n3.height - window.innerHeight) / 2 : r3 === `verticalBottom` ? Math.min((n3.height - window.innerHeight) / 2, k2 - (o3 ?? 0)) : Math.max(-((n3.height - window.innerHeight) / 2), k2 - (o3 ?? 0)), { offsetX: s3, offsetY: l3 };
  }
  function L2(e2) {
    y(`mousemove`, document, ce2), y(`mouseup`, document, L2);
    let { clientX: t3, clientY: n3 } = e2;
    F2 = false;
    let r3 = I2(le2({ mouseUpClientX: t3, mouseUpClientY: n3, mouseDownClientX: M2, mouseDownClientY: P2 }));
    w2 = r3.offsetX, T2 = r3.offsetY, J2();
  }
  let R2 = ie(dt, null);
  function ue2(e2) {
    var _a;
    var t3, n3;
    if ((n3 = (_a = t3 = R2 == null ? void 0 : R2.previewedImgPropsRef.value) == null ? void 0 : _a.onMousedown) == null || n3.call(t3, e2), e2.button !== 0) return;
    let { clientX: r3, clientY: i2 } = e2;
    F2 = true, S2 = r3 - w2, C2 = i2 - T2, O2 = w2, k2 = T2, M2 = r3, P2 = i2, J2(), b(`mousemove`, document, ce2), b(`mouseup`, document, L2);
  }
  let z2 = 1.5, B2 = 0, V2 = 1, H2 = 0;
  function de2(e2) {
    var _a;
    var t3, n3;
    (n3 = (_a = t3 = R2 == null ? void 0 : R2.previewedImgPropsRef.value) == null ? void 0 : _a.onDblclick) == null || n3.call(t3, e2);
    let r3 = K2();
    V2 = V2 === r3 ? 1 : r3, J2();
  }
  function U2() {
    V2 = 1, B2 = 0;
  }
  function fe2() {
    var e2;
    U2(), H2 = 0, (e2 = t2.onPrev) == null || e2.call(t2);
  }
  function pe2() {
    var e2;
    U2(), H2 = 0, (e2 = t2.onNext) == null || e2.call(t2);
  }
  function W2() {
    H2 -= 90, J2();
  }
  function me2() {
    H2 += 90, J2();
  }
  function G2() {
    let { value: e2 } = c2;
    if (!e2) return 1;
    let { innerWidth: t3, innerHeight: n3 } = window, r3 = Math.max(1, e2.naturalHeight / (n3 - $)), i2 = Math.max(1, e2.naturalWidth / (t3 - $));
    return Math.max(3, r3 * 2, i2 * 2);
  }
  function K2() {
    let { value: e2 } = c2;
    if (!e2) return 1;
    let { innerWidth: t3, innerHeight: n3 } = window, r3 = e2.naturalHeight / (n3 - $), i2 = e2.naturalWidth / (t3 - $);
    return r3 < 1 && i2 < 1 ? 1 : Math.max(r3, i2);
  }
  function q2() {
    let e2 = G2();
    V2 < e2 && (B2 += 1, V2 = Math.min(e2, z2 ** +B2), J2());
  }
  function he2() {
    if (V2 > 0.5) {
      let e2 = V2;
      --B2, V2 = Math.max(0.5, z2 ** +B2);
      let t3 = e2 - V2;
      J2(false);
      let n3 = I2();
      V2 += t3, J2(false), V2 -= t3, w2 = n3.offsetX, T2 = n3.offsetY, J2();
    }
  }
  function ge2() {
    let e2 = n2.value;
    e2 && Je(e2, void 0);
  }
  function J2(e2 = true) {
    var _a;
    let { value: t3 } = c2;
    if (!t3) return;
    let { style: n3 } = t3, r3 = re((_a = R2 == null ? void 0 : R2.previewedImgPropsRef.value) == null ? void 0 : _a.style), i2 = ``;
    if (typeof r3 == `string`) i2 = `${r3};`;
    else for (let e3 in r3) i2 += `${qe(e3)}: ${r3[e3]};`;
    let a2 = `transform-origin: center; transform: translateX(${w2}px) translateY(${T2}px) rotate(${H2}deg) scale(${V2});`;
    F2 ? n3.cssText = `${i2}cursor: grabbing; transition: none;${a2}` : n3.cssText = `${i2}cursor: grab;${a2}${e2 ? `` : `transition: none;`}`, e2 || t3.offsetHeight;
  }
  function Y2() {
    if (m2.value) {
      let { onClose: n3 } = t2;
      n3 && e(n3), x2(false), p2.value = false;
    }
  }
  function _e2() {
    V2 = K2(), B2 = Math.ceil(Math.log(V2) / Math.log(z2)), w2 = 0, T2 = 0, J2();
  }
  let ve2 = { setThumbnailEl: (e2) => {
    s2 = e2;
  } };
  function ye2(e2, n3) {
    if (t2.showToolbarTooltip) {
      let { value: t3 } = o2;
      return j(se, { to: false, theme: t3.peers.Tooltip, themeOverrides: t3.peerOverrides.Tooltip, keepAliveOnHover: false }, { default: () => f2.value[n3], trigger: () => e2 });
    } else return e2;
  }
  let X2 = N(() => {
    let { common: { cubicBezierEaseInOut: e2 }, self: { toolbarIconColor: t3, toolbarBorderRadius: n3, toolbarBoxShadow: r3, toolbarColor: i2 } } = o2.value;
    return { "--n-bezier": e2, "--n-toolbar-icon-color": t3, "--n-toolbar-color": i2, "--n-toolbar-border-radius": n3, "--n-toolbar-box-shadow": r3 };
  }), { inlineThemeDisabled: be2 } = d(), Z2 = be2 ? a(`image-preview`, void 0, X2, t2) : void 0;
  function xe2(e2) {
    e2.preventDefault();
  }
  return Object.assign({ clsPrefix: r2, previewRef: c2, previewWrapperRef: l2, previewSrc: n2, mergedShow: m2, appear: _(), displayed: u2, previewedImgProps: R2 == null ? void 0 : R2.previewedImgPropsRef, handleWheel: xe2, handlePreviewMousedown: ue2, handlePreviewDblclick: de2, syncTransformOrigin: h2, handleAfterLeave: () => {
    U2(), H2 = 0, u2.value = false;
  }, handleDragStart: (e2) => {
    var _a;
    var t3, n3;
    (n3 = (_a = t3 = R2 == null ? void 0 : R2.previewedImgPropsRef.value) == null ? void 0 : _a.onDragstart) == null || n3.call(t3, e2), e2.preventDefault();
  }, zoomIn: q2, zoomOut: he2, handleDownloadClick: ge2, rotateCounterclockwise: W2, rotateClockwise: me2, handleSwitchPrev: fe2, handleSwitchNext: pe2, withTooltip: ye2, resizeToOrignalImageSize: _e2, cssVars: be2 ? void 0 : X2, themeClass: Z2 == null ? void 0 : Z2.themeClass, onRender: Z2 == null ? void 0 : Z2.onRender, doUpdateShow: x2, close: Y2 }, ve2);
}, render() {
  var _a;
  var e2;
  let { clsPrefix: t2, renderToolbar: n2, withTooltip: r2 } = this, i2 = r2(j(l, { clsPrefix: t2, onClick: this.handleSwitchPrev }, { default: st }), `tipPrevious`), a2 = r2(j(l, { clsPrefix: t2, onClick: this.handleSwitchNext }, { default: ct }), `tipNext`), o2 = r2(j(l, { clsPrefix: t2, onClick: this.rotateCounterclockwise }, { default: () => j(Qe, null) }), `tipCounterclockwise`), s2 = r2(j(l, { clsPrefix: t2, onClick: this.rotateClockwise }, { default: () => j(Ze, null) }), `tipClockwise`), c2 = r2(j(l, { clsPrefix: t2, onClick: this.resizeToOrignalImageSize }, { default: () => j(Xe, null) }), `tipOriginalSize`), u2 = r2(j(l, { clsPrefix: t2, onClick: this.zoomOut }, { default: () => j(et, null) }), `tipZoomOut`), d2 = r2(j(l, { clsPrefix: t2, onClick: this.handleDownloadClick }, { default: () => j(Ye, null) }), `tipDownload`), f2 = r2(j(l, { clsPrefix: t2, onClick: () => this.close() }, { default: lt }), `tipClose`), p2 = r2(j(l, { clsPrefix: t2, onClick: this.zoomIn }, { default: () => j($e, null) }), `tipZoomIn`);
  return j(P, null, (_a = (e2 = this.$slots).default) == null ? void 0 : _a.call(e2), j(g, { show: this.mergedShow }, { default: () => {
    var e3;
    return this.mergedShow || this.displayed ? ((e3 = this.onRender) == null || e3.call(this), C(j(`div`, { ref: `containerRef`, class: [`${t2}-image-preview-container`, this.themeClass], style: this.cssVars, onWheel: this.handleWheel }, j(T, { name: `fade-in-transition`, appear: this.appear }, { default: () => this.mergedShow ? j(`div`, { class: `${t2}-image-preview-overlay`, onClick: () => this.close() }) : null }), this.showToolbar ? j(T, { name: `fade-in-transition`, appear: this.appear }, { default: () => this.mergedShow ? j(`div`, { class: `${t2}-image-preview-toolbar` }, n2 ? n2({ nodes: { prev: i2, next: a2, rotateCounterclockwise: o2, rotateClockwise: s2, resizeToOriginalSize: c2, zoomOut: u2, zoomIn: p2, download: d2, close: f2 } }) : j(P, null, this.onPrev ? j(P, null, i2, a2) : null, o2, s2, c2, u2, p2, d2, f2)) : null }) : null, j(T, { name: `fade-in-scale-up-transition`, onAfterLeave: this.handleAfterLeave, appear: this.appear, onEnter: this.syncTransformOrigin, onBeforeLeave: this.syncTransformOrigin }, { default: () => {
      let { previewedImgProps: e4 = {} } = this;
      return C(j(`div`, { class: `${t2}-image-preview-wrapper`, ref: `previewWrapperRef` }, j(`img`, Object.assign({}, e4, { draggable: false, onMousedown: this.handlePreviewMousedown, onDblclick: this.handlePreviewDblclick, class: [`${t2}-image-preview`, e4.class], key: this.previewSrc, src: this.previewSrc, ref: `previewRef`, onDragstart: this.handleDragStart }))), [[k, this.mergedShow]]);
    } })), [[m, { enabled: this.mergedShow }]])) : null;
  } }));
} });
const mt = t(`n-image-group`);
var ht = M({ name: `ImageGroup`, props: Object.assign(Object.assign({}, ut), { srcList: Array, current: Number, defaultCurrent: { type: Number, default: 0 }, show: { type: Boolean, default: void 0 }, defaultShow: Boolean, onUpdateShow: [Function, Array], "onUpdate:show": [Function, Array], onUpdateCurrent: [Function, Array], "onUpdate:current": [Function, Array] }), setup(t2) {
  let { mergedClsPrefixRef: n2 } = d(t2), r2 = `c${h()}`, i2 = E(null), a2 = E(t2.defaultShow), s2 = v(A(t2, `show`), a2), c2 = E(/* @__PURE__ */ new Map()), l2 = N(() => {
    if (t2.srcList) {
      let e2 = /* @__PURE__ */ new Map();
      return t2.srcList.forEach((t3, n3) => {
        e2.set(`p${n3}`, t3);
      }), e2;
    }
    return c2.value;
  }), u2 = N(() => Array.from(l2.value.keys())), f2 = () => u2.value.length;
  function p2(e2, n3) {
    t2.srcList && o(`image-group`, "`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");
    let r3 = `r${e2}`;
    return c2.value.has(`r${r3}`) || c2.value.set(r3, n3), function() {
      c2.value.has(r3) || c2.value.delete(r3);
    };
  }
  let m2 = E(t2.defaultCurrent), g2 = v(A(t2, `current`), m2), _2 = (n3) => {
    if (n3 !== g2.value) {
      let { onUpdateCurrent: r3, "onUpdate:current": i3 } = t2;
      r3 && e(r3, n3), i3 && e(i3, n3), m2.value = n3;
    }
  }, y2 = N(() => u2.value[g2.value]), b2 = (e2) => {
    let t3 = u2.value.indexOf(e2);
    t3 !== g2.value && _2(t3);
  }, ee2 = N(() => l2.value.get(y2.value));
  function x2(n3) {
    let { onUpdateShow: r3, "onUpdate:show": i3 } = t2;
    r3 && e(r3, n3), i3 && e(i3, n3), a2.value = n3;
  }
  function C2() {
    x2(false);
  }
  let w2 = N(() => {
    let e2 = (e3, t4) => {
      for (let n3 = e3; n3 <= t4; n3++) {
        let e4 = u2.value[n3];
        if (l2.value.get(e4)) return n3;
      }
    }, t3 = e2(g2.value + 1, f2() - 1);
    return t3 === void 0 ? e2(0, g2.value - 1) : t3;
  }), T2 = N(() => {
    let e2 = (e3, t4) => {
      for (let n3 = e3; n3 >= t4; n3--) {
        let e4 = u2.value[n3];
        if (l2.value.get(e4)) return n3;
      }
    }, t3 = e2(g2.value - 1, 0);
    return t3 === void 0 ? e2(f2() - 1, g2.value + 1) : t3;
  });
  function D2(e2) {
    var n3, r3;
    e2 === 1 ? (T2.value !== void 0 && _2(w2.value), (n3 = t2.onPreviewNext) == null || n3.call(t2)) : (w2.value !== void 0 && _2(T2.value), (r3 = t2.onPreviewPrev) == null || r3.call(t2));
  }
  return S(mt, { mergedClsPrefixRef: n2, registerImageUrl: p2, setThumbnailEl: (e2) => {
    var t3;
    (t3 = i2.value) == null || t3.setThumbnailEl(e2);
  }, toggleShow: (e2) => {
    x2(true), b2(e2);
  }, groupId: r2, renderToolbarRef: A(t2, `renderToolbar`) }), { mergedClsPrefix: n2, previewInstRef: i2, mergedShow: s2, src: ee2, onClose: C2, next: () => {
    D2(1);
  }, prev: () => {
    D2(-1);
  } };
}, render() {
  return j(pt, { theme: this.theme, themeOverrides: this.themeOverrides, ref: `previewInstRef`, onPrev: this.prev, onNext: this.next, src: this.src, show: this.mergedShow, showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip, renderToolbar: this.renderToolbar, onClose: this.onClose }, this.$slots);
} });
const gt = Object.assign({ alt: String, height: [String, Number], imgProps: Object, previewedImgProps: Object, lazy: Boolean, intersectionObserverOptions: Object, objectFit: { type: String, default: `fill` }, previewSrc: String, fallbackSrc: String, width: [String, Number], src: String, previewDisabled: Boolean, loadDescription: String, onError: Function, onLoad: Function }, ut);
var _t = 0, vt = M({ name: `Image`, props: gt, slots: Object, inheritAttrs: false, setup(e2) {
  let t2 = E(null), n2 = E(false), r2 = E(null), i2 = ie(mt, null), { mergedClsPrefixRef: a2 } = i2 || d(e2), o2 = N(() => e2.previewSrc || e2.src), s2 = E(false), c2 = _t++, l2 = () => {
    if (e2.previewDisabled || n2.value) return;
    if (i2) {
      i2.setThumbnailEl(t2.value), i2.toggleShow(`r${c2}`);
      return;
    }
    let { value: a3 } = r2;
    a3 && (a3.setThumbnailEl(t2.value), s2.value = true);
  }, u2 = { click: () => {
    l2();
  }, showPreview: l2 }, f2 = E(!e2.lazy);
  w(() => {
    var e3;
    (e3 = t2.value) == null || e3.setAttribute(`data-group-id`, (i2 == null ? void 0 : i2.groupId) || ``);
  }), w(() => {
    if (e2.lazy && e2.intersectionObserverOptions) {
      let n3, r3 = O(() => {
        n3 == null ? void 0 : n3(), n3 = void 0, n3 = ot(t2.value, e2.intersectionObserverOptions, f2);
      });
      ne(() => {
        r3(), n3 == null ? void 0 : n3();
      });
    }
  }), O(() => {
    var t3;
    e2.src || (t3 = e2.imgProps) == null || t3.src, n2.value = false;
  }), O((e3) => {
    var _a;
    let t3 = (_a = i2 == null ? void 0 : i2.registerImageUrl) == null ? void 0 : _a.call(i2, c2, o2.value || ``);
    e3(() => {
      t3 == null ? void 0 : t3();
    });
  });
  function p2(t3) {
    var _a;
    var n3, r3;
    u2.showPreview(), (r3 = (_a = n3 = e2.imgProps) == null ? void 0 : _a.onClick) == null || r3.call(n3, t3);
  }
  function m2() {
    s2.value = false;
  }
  let h2 = E(false);
  return S(dt, { previewedImgPropsRef: A(e2, `previewedImgProps`) }), Object.assign({ mergedClsPrefix: a2, groupId: i2 == null ? void 0 : i2.groupId, previewInstRef: r2, imageRef: t2, mergedPreviewSrc: o2, showError: n2, shouldStartLoading: f2, loaded: h2, mergedOnClick: (e3) => {
    p2(e3);
  }, onPreviewClose: m2, mergedOnError: (t3) => {
    if (!f2.value) return;
    n2.value = true;
    let { onError: r3, imgProps: { onError: i3 } = {} } = e2;
    r3 == null ? void 0 : r3(t3), i3 == null ? void 0 : i3(t3);
  }, mergedOnLoad: (t3) => {
    let { onLoad: n3, imgProps: { onLoad: r3 } = {} } = e2;
    n3 == null ? void 0 : n3(t3), r3 == null ? void 0 : r3(t3), h2.value = true;
  }, previewShow: s2 }, u2);
}, render() {
  var _a;
  var e2;
  let { mergedClsPrefix: t2, imgProps: r2 = {}, loaded: i2, $attrs: a2, lazy: o2 } = this, s2 = n(this.$slots.error, () => []), c2 = (_a = (e2 = this.$slots).placeholder) == null ? void 0 : _a.call(e2), l2 = this.src || r2.src, u2 = this.showError && s2.length ? s2 : j(`img`, Object.assign(Object.assign({}, r2), { ref: `imageRef`, width: this.width || r2.width, height: this.height || r2.height, src: this.showError ? this.fallbackSrc : o2 && this.intersectionObserverOptions ? this.shouldStartLoading ? l2 : void 0 : l2, alt: this.alt || r2.alt, "aria-label": this.alt || r2.alt, onClick: this.mergedOnClick, onError: this.mergedOnError, onLoad: this.mergedOnLoad, loading: tt && o2 && !this.intersectionObserverOptions ? `lazy` : `eager`, style: [r2.style || ``, c2 && !i2 ? { height: `0`, width: `0`, visibility: `hidden` } : ``, { objectFit: this.objectFit }], "data-error": this.showError, "data-preview-src": this.previewSrc || this.src }));
  return j(`div`, Object.assign({}, a2, { role: `none`, class: [a2.class, `${t2}-image`, (this.previewDisabled || this.showError) && `${t2}-image--preview-disabled`] }), this.groupId ? u2 : j(pt, { theme: this.theme, themeOverrides: this.themeOverrides, ref: `previewInstRef`, showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip, renderToolbar: this.renderToolbar, src: this.mergedPreviewSrc, show: !this.previewDisabled && this.previewShow, onClose: this.onPreviewClose }, { default: () => u2 }), !i2 && c2);
} });
export {
  Je as i,
  ht as n,
  Ye as r,
  vt as t
};
