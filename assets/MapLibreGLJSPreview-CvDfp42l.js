var ut=Object.defineProperty;var ht=(o,n,s)=>n in o?ut(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s;var B=(o,n,s)=>ht(o,typeof n!="symbol"?n+"":n,s);import{a as vt,u as ft,M as mt,I as W,B as q,N as pt}from"./map-manager-BAL2tL-g.js";import{aa as gt,a$ as bt,b0 as wt,s as N,p as i,E as k,q as J,aO as Se,a6 as xt,a7 as yt,d as L,t as kt,v as De,r as z,y as S,_ as _t,Z as St,w as ze,e as zt,z as Ce,Y as Ct,b1 as ue,n as y,b2 as Mt,b3 as Rt,ab as $t,b4 as Tt,T as Bt,a3 as Q,ac as ee,ae as te,b5 as ce,o as H,c as P,af as m,b6 as Vt,aP as Me,ap as Dt,aU as It,aV as Lt,aq as Ie,az as Et,b as Ft,ak as Ht,ah as _,a as p,al as h,b7 as Re,b8 as he}from"./index-BcJe8KXx.js";import{N as Nt}from"./Element-C2IaPA69.js";function Pt(o){const n="rgba(0, 0, 0, .85)",s="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:l,primaryColor:c,baseColor:u,cardColor:C,modalColor:v,popoverColor:$,borderRadius:f,fontSize:b,opacityDisabled:A}=o;return Object.assign(Object.assign({},bt),{fontSize:b,markFontSize:b,railColor:l,railColorHover:l,fillColor:c,fillColorHover:c,opacityDisabled:A,handleColor:"#FFF",dotColor:C,dotColorModal:v,dotColorPopover:$,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:n,indicatorBoxShadow:s,indicatorTextColor:u,indicatorBorderRadius:f,dotBorder:"2px solid ".concat(l),dotBorderActive:"2px solid ".concat(c),dotBoxShadow:""})}const At={name:"Slider",common:gt,self:Pt};function $e(o){return window.TouchEvent&&o instanceof window.TouchEvent}function Te(){const o=new Map,n=s=>l=>{o.set(s,l)};return wt(()=>{o.clear()}),[o,n]}const jt=N([i("slider","\n display: block;\n padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n ",[k("reverse",[i("slider-handles",[i("slider-handle-wrapper","\n transform: translate(50%, -50%);\n ")]),i("slider-dots",[i("slider-dot","\n transform: translateX(50%, -50%);\n ")]),k("vertical",[i("slider-handles",[i("slider-handle-wrapper","\n transform: translate(-50%, -50%);\n ")]),i("slider-marks",[i("slider-mark","\n transform: translateY(calc(-50% + var(--n-dot-height) / 2));\n ")]),i("slider-dots",[i("slider-dot","\n transform: translateX(-50%) translateY(0);\n ")])])]),k("vertical","\n padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);\n width: var(--n-rail-width-vertical);\n height: 100%;\n ",[i("slider-handles","\n top: calc(var(--n-handle-size) / 2);\n right: 0;\n bottom: calc(var(--n-handle-size) / 2);\n left: 0;\n ",[i("slider-handle-wrapper","\n top: unset;\n left: 50%;\n transform: translate(-50%, 50%);\n ")]),i("slider-rail","\n height: 100%;\n ",[J("fill","\n top: unset;\n right: 0;\n bottom: unset;\n left: 0;\n ")]),k("with-mark","\n width: var(--n-rail-width-vertical);\n margin: 0 32px 0 8px;\n "),i("slider-marks","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 22px;\n font-size: var(--n-mark-font-size);\n ",[i("slider-mark","\n transform: translateY(50%);\n white-space: nowrap;\n ")]),i("slider-dots","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 50%;\n ",[i("slider-dot","\n transform: translateX(-50%) translateY(50%);\n ")])]),k("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ",[i("slider-handle","\n cursor: not-allowed;\n ")]),k("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),N("&:hover",[i("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[J("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),i("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),k("active",[i("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[J("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),i("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),i("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[i("slider-mark","\n position: absolute;\n transform: translateX(-50%);\n white-space: nowrap;\n ")]),i("slider-rail","\n width: 100%;\n position: relative;\n height: var(--n-rail-height);\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n border-radius: calc(var(--n-rail-height) / 2);\n ",[J("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--n-rail-height) / 2);\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-fill-color);\n ")]),i("slider-handles","\n position: absolute;\n top: 0;\n right: calc(var(--n-handle-size) / 2);\n bottom: 0;\n left: calc(var(--n-handle-size) / 2);\n ",[i("slider-handle-wrapper","\n outline: none;\n position: absolute;\n top: 50%;\n transform: translate(-50%, -50%);\n cursor: pointer;\n display: flex;\n ",[i("slider-handle","\n height: var(--n-handle-size);\n width: var(--n-handle-size);\n border-radius: 50%;\n overflow: hidden;\n transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);\n background-color: var(--n-handle-color);\n box-shadow: var(--n-handle-box-shadow);\n ",[N("&:hover","\n box-shadow: var(--n-handle-box-shadow-hover);\n ")]),N("&:focus",[i("slider-handle","\n box-shadow: var(--n-handle-box-shadow-focus);\n ",[N("&:hover","\n box-shadow: var(--n-handle-box-shadow-active);\n ")])])])]),i("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[k("transition-disabled",[i("slider-dot","transition: none;")]),i("slider-dot","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n transform: translate(-50%, -50%);\n height: var(--n-dot-height);\n width: var(--n-dot-width);\n border-radius: var(--n-dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--n-dot-border);\n background-color: var(--n-dot-color);\n ",[k("active","border: var(--n-dot-border-active);")])])]),i("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[Se()]),i("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[k("top","\n margin-bottom: 12px;\n "),k("right","\n margin-left: 12px;\n "),k("bottom","\n margin-top: 12px;\n "),k("left","\n margin-right: 12px;\n "),Se()]),xt(i("slider",[i("slider-dot","background-color: var(--n-dot-color-modal);")])),yt(i("slider",[i("slider-dot","background-color: var(--n-dot-color-popover);")]))]),Ut=0,Ot=Object.assign(Object.assign({},De.props),{to:ue.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),Be=L({name:"Slider",props:Ot,setup(o){const{mergedClsPrefixRef:n,namespaceRef:s,inlineThemeDisabled:l}=kt(o),c=De("Slider","-slider",jt,At,o,n),u=z(null),[C,v]=Te(),[$,f]=Te(),b=z(new Set),A=vt(o),{mergedDisabledRef:j}=A,ve=S(()=>{const{step:e}=o;if(Number(e)<=0||e==="mark")return 0;const t=e.toString();let a=0;return t.includes(".")&&(a=t.length-t.indexOf(".")-1),a}),ae=z(o.defaultValue),Le=_t(o,"value"),ne=St(Le,ae),M=S(()=>{const{value:e}=ne;return(o.range?e:[e]).map(xe)}),fe=S(()=>M.value.length>2),Ee=S(()=>o.placement===void 0?o.vertical?"right":"top":o.placement),me=S(()=>{const{marks:e}=o;return e?Object.keys(e).map(Number.parseFloat):null}),R=z(-1),pe=z(-1),D=z(-1),I=z(!1),U=z(!1),ie=S(()=>{const{vertical:e,reverse:t}=o;return e?t?"top":"bottom":t?"right":"left"}),Fe=S(()=>{if(fe.value)return;const e=M.value,t=O(o.range?Math.min(...e):o.min),a=O(o.range?Math.max(...e):e[0]),{value:r}=ie;return o.vertical?{[r]:"".concat(t,"%"),height:"".concat(a-t,"%")}:{[r]:"".concat(t,"%"),width:"".concat(a-t,"%")}}),He=S(()=>{const e=[],{marks:t}=o;if(t){const a=M.value.slice();a.sort((w,x)=>w-x);const{value:r}=ie,{value:d}=fe,{range:g}=o,T=d?()=>!1:w=>g?w>=a[0]&&w<=a[a.length-1]:w<=a[0];for(const w of Object.keys(t)){const x=Number(w);e.push({active:T(x),label:t[w],style:{[r]:"".concat(O(x),"%")}})}}return e});function Ne(e,t){const a=O(e),{value:r}=ie;return{[r]:"".concat(a,"%"),zIndex:t===R.value?1:0}}function ge(e){return o.showTooltip||D.value===e||R.value===e&&I.value}function Pe(e){return I.value?!(R.value===e&&pe.value===e):!0}function Ae(e){var t;~e&&(R.value=e,(t=C.get(e))===null||t===void 0||t.focus())}function je(){$.forEach((e,t)=>{ge(t)&&e.syncPosition()})}function be(e){const{"onUpdate:value":t,onUpdateValue:a}=o,{nTriggerFormInput:r,nTriggerFormChange:d}=A;a&&Q(a,e),t&&Q(t,e),ae.value=e,r(),d()}function we(e){const{range:t}=o;if(t){if(Array.isArray(e)){const{value:a}=M;e.join()!==a.join()&&be(e)}}else Array.isArray(e)||M.value[0]!==e&&be(e)}function re(e,t){if(o.range){const a=M.value.slice();a.splice(t,1,e),we(a)}else we(e)}function se(e,t,a){const r=a!==void 0;a||(a=e-t>0?1:-1);const d=me.value||[],{step:g}=o;if(g==="mark"){const x=Y(e,d.concat(t),r?a:void 0);return x?x.value:t}if(g<=0)return t;const{value:T}=ve;let w;if(r){const x=Number((t/g).toFixed(T)),V=Math.floor(x),le=x>V?V:V-1,de=x<V?V:V+1;w=Y(t,[Number((le*g).toFixed(T)),Number((de*g).toFixed(T)),...d],a)}else{const x=Oe(e);w=Y(e,[...d,x])}return w?xe(w.value):t}function xe(e){return Math.min(o.max,Math.max(o.min,e))}function O(e){const{max:t,min:a}=o;return(e-a)/(t-a)*100}function Ue(e){const{max:t,min:a}=o;return a+(t-a)*e}function Oe(e){const{step:t,min:a}=o;if(Number(t)<=0||t==="mark")return e;const r=Math.round((e-a)/t)*t+a;return Number(r.toFixed(ve.value))}function Y(e,t=me.value,a){if(!(t!=null&&t.length))return null;let r=null,d=-1;for(;++d<t.length;){const g=t[d]-e,T=Math.abs(g);(a===void 0||g*a>0)&&(r===null||T<r.distance)&&(r={index:d,distance:T,value:t[d]})}return r}function ye(e){const t=u.value;if(!t)return;const a=$e(e)?e.touches[0]:e,r=t.getBoundingClientRect();let d;return o.vertical?d=(r.bottom-a.clientY)/r.height:d=(a.clientX-r.left)/r.width,o.reverse&&(d=1-d),Ue(d)}function Ye(e){if(j.value||!o.keyboard)return;const{vertical:t,reverse:a}=o;switch(e.key){case"ArrowUp":e.preventDefault(),K(t&&a?-1:1);break;case"ArrowRight":e.preventDefault(),K(!t&&a?-1:1);break;case"ArrowDown":e.preventDefault(),K(t&&a?1:-1);break;case"ArrowLeft":e.preventDefault(),K(!t&&a?1:-1);break}}function K(e){const t=R.value;if(t===-1)return;const{step:a}=o,r=M.value[t],d=Number(a)<=0||a==="mark"?r:r+a*e;re(se(d,r,e>0?1:-1),t)}function Ke(e){var t,a;if(j.value||!$e(e)&&e.button!==Ut)return;const r=ye(e);if(r===void 0)return;const d=M.value.slice(),g=o.range?(a=(t=Y(r,d))===null||t===void 0?void 0:t.index)!==null&&a!==void 0?a:-1:0;g!==-1&&(e.preventDefault(),Ae(g),Xe(),re(se(r,M.value[g]),g))}function Xe(){I.value||(I.value=!0,o.onDragstart&&Q(o.onDragstart),ee("touchend",document,Z),ee("mouseup",document,Z),ee("touchmove",document,G),ee("mousemove",document,G))}function X(){I.value&&(I.value=!1,o.onDragend&&Q(o.onDragend),te("touchend",document,Z),te("mouseup",document,Z),te("touchmove",document,G),te("mousemove",document,G))}function G(e){const{value:t}=R;if(!I.value||t===-1){X();return}const a=ye(e);a!==void 0&&re(se(a,M.value[t]),t)}function Z(){X()}function Ge(e){R.value=e,j.value||(D.value=e)}function Ze(e){R.value===e&&(R.value=-1,X()),D.value===e&&(D.value=-1)}function We(e){D.value=e}function qe(e){D.value===e&&(D.value=-1)}ze(R,(e,t)=>void ce(()=>pe.value=t)),ze(ne,()=>{if(o.marks){if(U.value)return;U.value=!0,ce(()=>{U.value=!1})}ce(je)}),zt(()=>{X()});const ke=S(()=>{const{self:{markFontSize:e,railColor:t,railColorHover:a,fillColor:r,fillColorHover:d,handleColor:g,opacityDisabled:T,dotColor:w,dotColorModal:x,handleBoxShadow:V,handleBoxShadowHover:le,handleBoxShadowActive:de,handleBoxShadowFocus:Je,dotBorder:Qe,dotBoxShadow:et,railHeight:tt,railWidthVertical:ot,handleSize:at,dotHeight:nt,dotWidth:it,dotBorderRadius:rt,fontSize:st,dotBorderActive:lt,dotColorPopover:dt},common:{cubicBezierEaseInOut:ct}}=c.value;return{"--n-bezier":ct,"--n-dot-border":Qe,"--n-dot-border-active":lt,"--n-dot-border-radius":rt,"--n-dot-box-shadow":et,"--n-dot-color":w,"--n-dot-color-modal":x,"--n-dot-color-popover":dt,"--n-dot-height":nt,"--n-dot-width":it,"--n-fill-color":r,"--n-fill-color-hover":d,"--n-font-size":st,"--n-handle-box-shadow":V,"--n-handle-box-shadow-active":de,"--n-handle-box-shadow-focus":Je,"--n-handle-box-shadow-hover":le,"--n-handle-color":g,"--n-handle-size":at,"--n-opacity-disabled":T,"--n-rail-color":t,"--n-rail-color-hover":a,"--n-rail-height":tt,"--n-rail-width-vertical":ot,"--n-mark-font-size":e}}),E=l?Ce("slider",void 0,ke,o):void 0,_e=S(()=>{const{self:{fontSize:e,indicatorColor:t,indicatorBoxShadow:a,indicatorTextColor:r,indicatorBorderRadius:d}}=c.value;return{"--n-font-size":e,"--n-indicator-border-radius":d,"--n-indicator-box-shadow":a,"--n-indicator-color":t,"--n-indicator-text-color":r}}),F=l?Ce("slider-indicator",void 0,_e,o):void 0;return{mergedClsPrefix:n,namespace:s,uncontrolledValue:ae,mergedValue:ne,mergedDisabled:j,mergedPlacement:Ee,isMounted:Ct(),adjustedTo:ue(o),dotTransitionDisabled:U,markInfos:He,isShowTooltip:ge,shouldKeepTooltipTransition:Pe,handleRailRef:u,setHandleRefs:v,setFollowerRefs:f,fillStyle:Fe,getHandleStyle:Ne,activeIndex:R,arrifiedValues:M,followerEnabledIndexSet:b,handleRailMouseDown:Ke,handleHandleFocus:Ge,handleHandleBlur:Ze,handleHandleMouseEnter:We,handleHandleMouseLeave:qe,handleRailKeyDown:Ye,indicatorCssVars:l?void 0:_e,indicatorThemeClass:F==null?void 0:F.themeClass,indicatorOnRender:F==null?void 0:F.onRender,cssVars:l?void 0:ke,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){var o;const{mergedClsPrefix:n,themeClass:s,formatTooltip:l}=this;return(o=this.onRender)===null||o===void 0||o.call(this),y("div",{class:["".concat(n,"-slider"),s,{["".concat(n,"-slider--disabled")]:this.mergedDisabled,["".concat(n,"-slider--active")]:this.activeIndex!==-1,["".concat(n,"-slider--with-mark")]:this.marks,["".concat(n,"-slider--vertical")]:this.vertical,["".concat(n,"-slider--reverse")]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},y("div",{class:"".concat(n,"-slider-rail")},y("div",{class:"".concat(n,"-slider-rail__fill"),style:this.fillStyle}),this.marks?y("div",{class:["".concat(n,"-slider-dots"),this.dotTransitionDisabled&&"".concat(n,"-slider-dots--transition-disabled")]},this.markInfos.map(c=>y("div",{key:c.label,class:["".concat(n,"-slider-dot"),{["".concat(n,"-slider-dot--active")]:c.active}],style:c.style}))):null,y("div",{ref:"handleRailRef",class:"".concat(n,"-slider-handles")},this.arrifiedValues.map((c,u)=>{const C=this.isShowTooltip(u);return y(Mt,null,{default:()=>[y(Rt,null,{default:()=>y("div",{ref:this.setHandleRefs(u),class:"".concat(n,"-slider-handle-wrapper"),tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":c,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(c,u),onFocus:()=>{this.handleHandleFocus(u)},onBlur:()=>{this.handleHandleBlur(u)},onMouseenter:()=>{this.handleHandleMouseEnter(u)},onMouseleave:()=>{this.handleHandleMouseLeave(u)}},$t(this.$slots.thumb,()=>[y("div",{class:"".concat(n,"-slider-handle")})]))}),this.tooltip&&y(Tt,{ref:this.setFollowerRefs(u),show:C,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(u),teleportDisabled:this.adjustedTo===ue.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>y(Bt,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(u),onEnter:()=>{this.followerEnabledIndexSet.add(u)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(u)}},{default:()=>{var v;return C?((v=this.indicatorOnRender)===null||v===void 0||v.call(this),y("div",{class:["".concat(n,"-slider-handle-indicator"),this.indicatorThemeClass,"".concat(n,"-slider-handle-indicator--").concat(this.mergedPlacement)],style:this.indicatorCssVars},typeof l=="function"?l(c):c)):null}})})]})})),this.marks?y("div",{class:"".concat(n,"-slider-marks")},this.markInfos.map(c=>y("div",{key:c.label,class:"".concat(n,"-slider-mark"),style:c.style},c.label))):null))}}),Yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Kt=m("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[m("path",{d:"M12 16h4v4"}),m("path",{d:"M19.458 11.042c.86-2.366.722-4.58-.6-5.9c-2.272-2.274-7.185-1.045-10.973 2.743c-3.788 3.788-5.017 8.701-2.744 10.974c2.227 2.226 6.987 1.093 10.74-2.515"})],-1),Xt=[Kt],Ve=L({name:"Rotate360",render:function(n,s){return H(),P("svg",Yt,Xt)}}),Gt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Zt=Vt('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="10" cy="10" r="7"></circle><path d="M7 10h6"></path><path d="M10 7v6"></path><path d="M21 21l-6-6"></path></g>',1),Wt=[Zt],qt=L({name:"ZoomIn",render:function(n,s){return H(),P("svg",Gt,Wt)}}),Jt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Qt=m("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[m("circle",{cx:"10",cy:"10",r:"7"}),m("path",{d:"M7 10h6"}),m("path",{d:"M21 21l-6-6"})],-1),eo=[Qt],to=L({name:"ZoomOut",render:function(n,s){return H(),P("svg",Jt,eo)}}),oe=o=>(It("data-v-1ac928e5"),o=o(),Lt(),o),oo=oe(()=>m("div",{class:"pin north-pin"},null,-1)),ao=oe(()=>m("div",{class:"pin east-pin"},null,-1)),no=oe(()=>m("div",{class:"pin south-pin"},null,-1)),io=oe(()=>m("div",{class:"pin west-pin"},null,-1)),ro=[oo,ao,no,io],so={class:"compass-orientation-text"},lo=L({__name:"MapCompass",props:{bearing:{},size:{}},setup(o){const n=o,s=S(()=>"transform: rotate(".concat(n.bearing,"deg)")),l=S(()=>n.size?"--compass-size: ".concat(n.size,"px"):""),c=["N","W","S","E"],u=S(()=>{const C=n.bearing>0?n.bearing:360+n.bearing;return c[Math.round(C%360/90)%4]});return(C,v)=>(H(),P("div",{class:"map-compass",style:Me(l.value)},[m("div",{class:"compass-panel",style:Me(s.value)},ro,4),m("span",so,Dt(u.value),1)],4))}}),co=Ie(lo,[["__scopeId","data-v-1ac928e5"]]),uo=["id"],ho={class:"nav-toolbox"},vo={style:{transform:"rotateX(200deg)"}},fo={style:{transform:"rotateY(20deg)"}},mo={class:"compass-container"},po=L({__name:"MapLibreGLView",props:{plugin:{},centre:{},viewCentre:{},tracking:{type:Boolean},mapType:{},zoom:{}},emits:["ready","update:zoom","update:centre","update:viewCentre","update:mapType"],setup(o,{emit:n}){let s=z(24);const l=ft(),c={info:($,f)=>l.info($,{duration:f}),warning:($,f)=>l.warning($,{duration:f}),error:($,f)=>l.error($,{duration:f})},u=o,C=n,v=Et(new mt(u,C,c,"maplibregl"));return Ft(()=>{v.mount(),v.trackingMode=!!u.tracking}),($,f)=>(H(),Ht(h(Nt),{class:"container"},{default:_(()=>[m("div",{id:v.id,class:"maplibregl-map-container"},null,8,uo),m("div",ho,[p(h(q),{strong:"",secondary:"",circle:"",type:"primary",onClick:f[0]||(f[0]=b=>v.zoom+=1)},{default:_(()=>[p(h(W),{size:h(s)-2},{default:_(()=>[p(h(qt))]),_:1},8,["size"])]),_:1}),p(h(q),{strong:"",secondary:"",circle:"",type:"primary",onClick:f[1]||(f[1]=b=>v.zoom-=1)},{default:_(()=>[p(h(W),{size:h(s)-2},{default:_(()=>[p(h(to))]),_:1},8,["size"])]),_:1}),p(h(Re),{placement:"left",trigger:"hover",class:"mapview-tooltip-popover-input"},{trigger:_(()=>[p(h(q),{strong:"",secondary:"",circle:"",type:"primary"},{default:_(()=>[p(h(W),{size:h(s)},{default:_(()=>[m("div",vo,[p(h(Ve),{style:{transform:"rotate(225deg)"}})])]),_:1},8,["size"])]),_:1})]),default:_(()=>[m("div",null,[p(h(Be),{vertical:"",value:v.bearing,"onUpdate:value":f[2]||(f[2]=b=>v.bearing=b),min:0,max:360,style:{height:"16em"},tooltip:!0,placement:"left","format-tooltip":b=>"".concat(b,"°")},null,8,["value","format-tooltip"])])]),_:1}),p(h(Re),{placement:"left",trigger:"hover",class:"mapview-tooltip-popover-input"},{trigger:_(()=>[p(h(q),{strong:"",secondary:"",circle:"",type:"primary"},{default:_(()=>[p(h(W),{size:h(s)},{default:_(()=>[m("div",fo,[p(h(Ve),{style:{transform:"rotate(-45deg)"}})])]),_:1},8,["size"])]),_:1})]),default:_(()=>[m("div",null,[p(h(Be),{value:v.pitch,"onUpdate:value":f[3]||(f[3]=b=>v.pitch=b),min:0,max:60,vertical:"",style:{height:"8em"},tooltip:!0,placement:"left","format-tooltip":b=>"".concat(b,"°")},null,8,["value","format-tooltip"])])]),_:1}),p(h(pt),{value:v.trackingMode,"onUpdate:value":f[4]||(f[4]=b=>v.trackingMode=b),size:"small"},null,8,["value"])]),m("div",mo,[p(co,{bearing:v.bearing,size:h(s)*2},null,8,["bearing","size"])])]),_:1}))}}),go=Ie(po,[["__scopeId","data-v-b98e1295"]]);class bo{constructor(n){B(this,"host");B(this,"space");B(this,"behaviour");B(this,"shown",!1);this.host=n,this.space="terrainLayer"}initialise(){this.host.map.addSource("terrainSource",{type:"raster-dem",url:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=".concat(he),tileSize:256}),this.host.map.addSource("hillshadeSource",{type:"raster-dem",url:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=".concat(he),tileSize:256}),this.host.map.addLayer({id:"hills",type:"hillshade",source:"hillshadeSource",layout:{visibility:"visible"},paint:{"hillshade-shadow-color":"#473B24"}},this.host.getSymbolLayerID()),this.host.map.getLayer("hills").visibility="none"}show(){this.shown||(this.shown=!0,this.host.map.getLayer("hills").visibility="visible",this.host.map.setTerrain({source:"terrainSource",exaggeration:1}))}hide(){this.shown&&(this.shown=!1,this.host.map.getLayer("hills").visibility="none",this.host.map.setTerrain({source:"terrainSource",exaggeration:0}))}mount(){return new Promise(n=>{const s=setInterval(()=>{if(this.host.map.isStyleLoaded()){this.initialise();const l=()=>{this.host.getPitch()>0?this.show():this.hide()};this.host.addEventHandler("pitch",l,!0),this.host.addEventHandler("load",l,!0),clearInterval(s),n(!0)}})})}unmount(){return this.host.map.removeLayer("hills"),this.host.map.removeSource("terrainSource"),this.host.map.removeSource("hillshadeSource"),!0}}class wo{constructor(n){B(this,"host");B(this,"space");B(this,"behaviour");B(this,"shown",!1);this.host=n,this.space="terrainLayer"}initialise(){this.host.map.addSource("maptiler-tiles-building",{url:"https://api.maptiler.com/tiles/v3/tiles.json?key=".concat(he),type:"vector"}),this.host.map.addLayer({id:"3d-buildings",source:"maptiler-tiles-building","source-layer":"building",type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":["interpolate",["linear"],["get","render_height"],0,"lightgray",200,"royalblue",400,"lightblue"],"fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,16,["get","render_height"]],"fill-extrusion-base":["case",[">=",["get","zoom"],16],["get","render_min_height"],0]}},this.host.getSymbolLayerID()),this.shown=!0}show(){this.shown||(this.shown=!0,this.host.map.getLayer("3d-buildings").visibility="visible")}hide(){this.shown&&(this.shown=!1,this.host.map.getLayer("3d-buildings").visibility="none")}mount(){return console.log("Building layer mounted"),new Promise(n=>{const s=setInterval(()=>{if(this.host.map.isStyleLoaded()){this.initialise();const l=()=>{this.host.getPitch()>0?this.show():this.hide()};this.host.addEventHandler("pitch",l,!0),setTimeout(l,100),clearInterval(s),n(!0)}})})}unmount(){return this.host.map.removeLayer("3d-buildings"),this.host.map.removeSource("maptiler-tiles-building"),!0}}const xo={class:"map-layout"},zo=L({__name:"MapLibreGLJSPreview",setup(o){const n=z([wo,bo]),s=z("basic"),l=z(10);return(c,u)=>(H(),P("div",xo,[p(go,{"map-type":s.value,"lite-mode":!1,plugin:n.value,zoom:l.value,tracking:!0},null,8,["map-type","plugin","zoom"])]))}});export{zo as default};
