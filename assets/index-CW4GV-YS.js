const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TrackerView-B3R9V3Rr.js","./Image-Dsi0jRaU.js","./use-locale-BMHbt4wc.js","./Suffix-C-BHSqzD.js","./AboutView-Dh2ceOzQ.js","./ListItem-C9bCXnTr.js","./SettingsView-BdaQbb5N.js"])))=>i.map(i=>d[i]);
var __freeze=Object.freeze,__defProp=Object.defineProperty;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!="symbol"?key+"":key,value);var __template=(cooked,raw)=>__freeze(__defProp(cooked,"raw",{value:__freeze(raw||cooked.slice())}));function __vite_legacy_guard(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}__name(__vite_legacy_guard,"__vite_legacy_guard");__name(function(){const relList=document.createElement("link").relList;if(relList&&relList.supports&&relList.supports("modulepreload"))return;for(const link of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(link);new MutationObserver(mutations=>{for(const mutation of mutations)if(mutation.type==="childList")for(const node of mutation.addedNodes)node.tagName==="LINK"&&node.rel==="modulepreload"&&processPreload(node)}).observe(document,{childList:!0,subtree:!0});function getFetchOpts(link){const fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),link.crossOrigin==="use-credentials"?fetchOpts.credentials="include":link.crossOrigin==="anonymous"?fetchOpts.credentials="omit":fetchOpts.credentials="same-origin",fetchOpts}__name(getFetchOpts,"getFetchOpts");function processPreload(link){if(link.ep)return;link.ep=!0;const fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts)}__name(processPreload,"processPreload")},"polyfill")();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(str){const map2=Object.create(null);for(const key of str.split(","))map2[key]=1;return val=>val in map2}__name(makeMap,"makeMap");const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=__name(()=>{},"NOOP"),NO=__name(()=>!1,"NO"),isOn=__name(key=>key.charCodeAt(0)===111&&key.charCodeAt(1)===110&&(key.charCodeAt(2)>122||key.charCodeAt(2)<97),"isOn"),isModelListener=__name(key=>key.startsWith("onUpdate:"),"isModelListener"),extend$1=Object.assign,remove=__name((arr,el)=>{const i=arr.indexOf(el);i>-1&&arr.splice(i,1)},"remove"),hasOwnProperty$f=Object.prototype.hasOwnProperty,hasOwn$1=__name((val,key)=>hasOwnProperty$f.call(val,key),"hasOwn$1"),isArray$3=Array.isArray,isMap$1=__name(val=>toTypeString$1(val)==="[object Map]","isMap$1"),isSet$1=__name(val=>toTypeString$1(val)==="[object Set]","isSet$1"),isRegExp$1=__name(val=>toTypeString$1(val)==="[object RegExp]","isRegExp$1"),isFunction$2=__name(val=>typeof val=="function","isFunction$2"),isString$3=__name(val=>typeof val=="string","isString$3"),isSymbol$1=__name(val=>typeof val=="symbol","isSymbol$1"),isObject$4=__name(val=>val!==null&&typeof val=="object","isObject$4"),isPromise$1=__name(val=>(isObject$4(val)||isFunction$2(val))&&isFunction$2(val.then)&&isFunction$2(val.catch),"isPromise$1"),objectToString$2=Object.prototype.toString,toTypeString$1=__name(value=>objectToString$2.call(value),"toTypeString$1"),toRawType=__name(value=>toTypeString$1(value).slice(8,-1),"toRawType"),isPlainObject$3=__name(val=>toTypeString$1(val)==="[object Object]","isPlainObject$3"),isIntegerKey=__name(key=>isString$3(key)&&key!=="NaN"&&key[0]!=="-"&&""+parseInt(key,10)===key,"isIntegerKey"),isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=__name(fn=>{const cache2=Object.create(null);return str=>cache2[str]||(cache2[str]=fn(str))},"cacheStringFunction"),camelizeRE=/-(\w)/g,camelize=cacheStringFunction(str=>str.replace(camelizeRE,(_,c2)=>c2?c2.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(str=>str.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(str=>str.charAt(0).toUpperCase()+str.slice(1)),toHandlerKey=cacheStringFunction(str=>str?"on".concat(capitalize$1(str)):""),hasChanged=__name((value,oldValue)=>!Object.is(value,oldValue),"hasChanged"),invokeArrayFns=__name((fns,...arg)=>{for(let i=0;i<fns.length;i++)fns[i](...arg)},"invokeArrayFns"),def=__name((obj,key,value,writable=!1)=>{Object.defineProperty(obj,key,{configurable:!0,enumerable:!1,writable,value})},"def"),looseToNumber=__name(val=>{const n=parseFloat(val);return isNaN(n)?val:n},"looseToNumber"),toNumber=__name(val=>{const n=isString$3(val)?Number(val):NaN;return isNaN(n)?val:n},"toNumber");let _globalThis$1;const getGlobalThis$1=__name(()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),"getGlobalThis$1");function normalizeStyle(value){if(isArray$3(value)){const res={};for(let i=0;i<value.length;i++){const item=value[i],normalized=isString$3(item)?parseStringStyle(item):normalizeStyle(item);if(normalized)for(const key in normalized)res[key]=normalized[key]}return res}else if(isString$3(value)||isObject$4(value))return value}__name(normalizeStyle,"normalizeStyle");const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(cssText){const ret={};return cssText.replace(styleCommentRE,"").split(listDelimiterRE).forEach(item=>{if(item){const tmp=item.split(propertyDelimiterRE);tmp.length>1&&(ret[tmp[0].trim()]=tmp[1].trim())}}),ret}__name(parseStringStyle,"parseStringStyle");function normalizeClass(value){let res="";if(isString$3(value))res=value;else if(isArray$3(value))for(let i=0;i<value.length;i++){const normalized=normalizeClass(value[i]);normalized&&(res+=normalized+" ")}else if(isObject$4(value))for(const name in value)value[name]&&(res+=name+" ");return res.trim()}__name(normalizeClass,"normalizeClass");const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(value){return!!value||value===""}__name(includeBooleanAttr,"includeBooleanAttr");const isRef$1=__name(val=>!!(val&&val.__v_isRef===!0),"isRef$1"),toDisplayString$1=__name(val=>isString$3(val)?val:val==null?"":isArray$3(val)||isObject$4(val)&&(val.toString===objectToString$2||!isFunction$2(val.toString))?isRef$1(val)?toDisplayString$1(val.value):JSON.stringify(val,replacer,2):String(val),"toDisplayString$1"),replacer=__name((_key,val)=>isRef$1(val)?replacer(_key,val.value):isMap$1(val)?{["Map(".concat(val.size,")")]:[...val.entries()].reduce((entries,[key,val2],i)=>(entries[stringifySymbol(key,i)+" =>"]=val2,entries),{})}:isSet$1(val)?{["Set(".concat(val.size,")")]:[...val.values()].map(v=>stringifySymbol(v))}:isSymbol$1(val)?stringifySymbol(val):isObject$4(val)&&!isArray$3(val)&&!isPlainObject$3(val)?String(val):val,"replacer"),stringifySymbol=__name((v,i="")=>{var _a4;return isSymbol$1(v)?"Symbol(".concat((_a4=v.description)!=null?_a4:i,")"):v},"stringifySymbol");/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;const _EffectScope=class _EffectScope{constructor(detached=!1){this.detached=detached,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!detached&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let i,l;if(this.scopes)for(i=0,l=this.scopes.length;i<l;i++)this.scopes[i].pause();for(i=0,l=this.effects.length;i<l;i++)this.effects[i].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let i,l;if(this.scopes)for(i=0,l=this.scopes.length;i<l;i++)this.scopes[i].resume();for(i=0,l=this.effects.length;i<l;i++)this.effects[i].resume()}}run(fn){if(this._active){const currentEffectScope=activeEffectScope;try{return activeEffectScope=this,fn()}finally{activeEffectScope=currentEffectScope}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(fromParent){if(this._active){this._active=!1;let i,l;for(i=0,l=this.effects.length;i<l;i++)this.effects[i].stop();for(this.effects.length=0,i=0,l=this.cleanups.length;i<l;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,l=this.scopes.length;i<l;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!fromParent){const last=this.parent.scopes.pop();last&&last!==this&&(this.parent.scopes[this.index]=last,last.index=this.index)}this.parent=void 0}}};__name(_EffectScope,"EffectScope");let EffectScope=_EffectScope;function effectScope(detached){return new EffectScope(detached)}__name(effectScope,"effectScope");function getCurrentScope(){return activeEffectScope}__name(getCurrentScope,"getCurrentScope");function onScopeDispose(fn,failSilently=!1){activeEffectScope&&activeEffectScope.cleanups.push(fn)}__name(onScopeDispose,"onScopeDispose");let activeSub;const pausedQueueEffects=new WeakSet,_ReactiveEffect=class _ReactiveEffect{constructor(fn){this.fn=fn,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const prevEffect=activeSub,prevShouldTrack=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=prevEffect,shouldTrack=prevShouldTrack,this.flags&=-3}}stop(){if(this.flags&1){for(let link=this.deps;link;link=link.nextDep)removeSub(link);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}};__name(_ReactiveEffect,"ReactiveEffect");let ReactiveEffect=_ReactiveEffect,batchDepth=0,batchedSub,batchedComputed;function batch(sub,isComputed2=!1){if(sub.flags|=8,isComputed2){sub.next=batchedComputed,batchedComputed=sub;return}sub.next=batchedSub,batchedSub=sub}__name(batch,"batch");function startBatch(){batchDepth++}__name(startBatch,"startBatch");function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const next=e.next;e.next=void 0,e.flags&=-9,e=next}}let error2;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const next=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(err){error2||(error2=err)}e=next}}if(error2)throw error2}__name(endBatch,"endBatch");function prepareDeps(sub){for(let link=sub.deps;link;link=link.nextDep)link.version=-1,link.prevActiveLink=link.dep.activeLink,link.dep.activeLink=link}__name(prepareDeps,"prepareDeps");function cleanupDeps(sub){let head,tail=sub.depsTail,link=tail;for(;link;){const prev=link.prevDep;link.version===-1?(link===tail&&(tail=prev),removeSub(link),removeDep(link)):head=link,link.dep.activeLink=link.prevActiveLink,link.prevActiveLink=void 0,link=prev}sub.deps=head,sub.depsTail=tail}__name(cleanupDeps,"cleanupDeps");function isDirty(sub){for(let link=sub.deps;link;link=link.nextDep)if(link.dep.version!==link.version||link.dep.computed&&(refreshComputed(link.dep.computed)||link.dep.version!==link.version))return!0;return!!sub._dirty}__name(isDirty,"isDirty");function refreshComputed(computed2){if(computed2.flags&4&&!(computed2.flags&16)||(computed2.flags&=-17,computed2.globalVersion===globalVersion)||(computed2.globalVersion=globalVersion,!computed2.isSSR&&computed2.flags&128&&(!computed2.deps&&!computed2._dirty||!isDirty(computed2))))return;computed2.flags|=2;const dep=computed2.dep,prevSub=activeSub,prevShouldTrack=shouldTrack;activeSub=computed2,shouldTrack=!0;try{prepareDeps(computed2);const value=computed2.fn(computed2._value);(dep.version===0||hasChanged(value,computed2._value))&&(computed2.flags|=128,computed2._value=value,dep.version++)}catch(err){throw dep.version++,err}finally{activeSub=prevSub,shouldTrack=prevShouldTrack,cleanupDeps(computed2),computed2.flags&=-3}}__name(refreshComputed,"refreshComputed");function removeSub(link,soft=!1){const{dep,prevSub,nextSub}=link;if(prevSub&&(prevSub.nextSub=nextSub,link.prevSub=void 0),nextSub&&(nextSub.prevSub=prevSub,link.nextSub=void 0),dep.subs===link&&(dep.subs=prevSub,!prevSub&&dep.computed)){dep.computed.flags&=-5;for(let l=dep.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!soft&&!--dep.sc&&dep.map&&dep.map.delete(dep.key)}__name(removeSub,"removeSub");function removeDep(link){const{prevDep,nextDep}=link;prevDep&&(prevDep.nextDep=nextDep,link.prevDep=void 0),nextDep&&(nextDep.prevDep=prevDep,link.nextDep=void 0)}__name(removeDep,"removeDep");let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}__name(pauseTracking,"pauseTracking");function resetTracking(){const last=trackStack.pop();shouldTrack=last===void 0?!0:last}__name(resetTracking,"resetTracking");function cleanupEffect(e){const{cleanup}=e;if(e.cleanup=void 0,cleanup){const prevSub=activeSub;activeSub=void 0;try{cleanup()}finally{activeSub=prevSub}}}__name(cleanupEffect,"cleanupEffect");let globalVersion=0;const _Link=class _Link{constructor(sub,dep){this.sub=sub,this.dep=dep,this.version=dep.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};__name(_Link,"Link");let Link=_Link;const _Dep=class _Dep{constructor(computed2){this.computed=computed2,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(debugInfo){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let link=this.activeLink;if(link===void 0||link.sub!==activeSub)link=this.activeLink=new Link(activeSub,this),activeSub.deps?(link.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=link,activeSub.depsTail=link):activeSub.deps=activeSub.depsTail=link,addSub(link);else if(link.version===-1&&(link.version=this.version,link.nextDep)){const next=link.nextDep;next.prevDep=link.prevDep,link.prevDep&&(link.prevDep.nextDep=next),link.prevDep=activeSub.depsTail,link.nextDep=void 0,activeSub.depsTail.nextDep=link,activeSub.depsTail=link,activeSub.deps===link&&(activeSub.deps=next)}return link}trigger(debugInfo){this.version++,globalVersion++,this.notify(debugInfo)}notify(debugInfo){startBatch();try{for(let link=this.subs;link;link=link.prevSub)link.sub.notify()&&link.sub.dep.notify()}finally{endBatch()}}};__name(_Dep,"Dep");let Dep=_Dep;function addSub(link){if(link.dep.sc++,link.sub.flags&4){const computed2=link.dep.computed;if(computed2&&!link.dep.subs){computed2.flags|=20;for(let l=computed2.deps;l;l=l.nextDep)addSub(l)}const currentTail=link.dep.subs;currentTail!==link&&(link.prevSub=currentTail,currentTail&&(currentTail.nextSub=link)),link.dep.subs=link}}__name(addSub,"addSub");const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(target,type,key){if(shouldTrack&&activeSub){let depsMap=targetMap.get(target);depsMap||targetMap.set(target,depsMap=new Map);let dep=depsMap.get(key);dep||(depsMap.set(key,dep=new Dep),dep.map=depsMap,dep.key=key),dep.track()}}__name(track,"track");function trigger$1(target,type,key,newValue,oldValue,oldTarget){const depsMap=targetMap.get(target);if(!depsMap){globalVersion++;return}const run=__name(dep=>{dep&&dep.trigger()},"run");if(startBatch(),type==="clear")depsMap.forEach(run);else{const targetIsArray=isArray$3(target),isArrayIndex=targetIsArray&&isIntegerKey(key);if(targetIsArray&&key==="length"){const newLength=Number(newValue);depsMap.forEach((dep,key2)=>{(key2==="length"||key2===ARRAY_ITERATE_KEY||!isSymbol$1(key2)&&key2>=newLength)&&run(dep)})}else switch((key!==void 0||depsMap.has(void 0))&&run(depsMap.get(key)),isArrayIndex&&run(depsMap.get(ARRAY_ITERATE_KEY)),type){case"add":targetIsArray?isArrayIndex&&run(depsMap.get("length")):(run(depsMap.get(ITERATE_KEY)),isMap$1(target)&&run(depsMap.get(MAP_KEY_ITERATE_KEY)));break;case"delete":targetIsArray||(run(depsMap.get(ITERATE_KEY)),isMap$1(target)&&run(depsMap.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(target)&&run(depsMap.get(ITERATE_KEY));break}}endBatch()}__name(trigger$1,"trigger$1");function getDepFromReactive(object,key){const depMap=targetMap.get(object);return depMap&&depMap.get(key)}__name(getDepFromReactive,"getDepFromReactive");function reactiveReadArray(array){const raw=toRaw(array);return raw===array?raw:(track(raw,"iterate",ARRAY_ITERATE_KEY),isShallow(array)?raw:raw.map(toReactive))}__name(reactiveReadArray,"reactiveReadArray");function shallowReadArray(arr){return track(arr=toRaw(arr),"iterate",ARRAY_ITERATE_KEY),arr}__name(shallowReadArray,"shallowReadArray");const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...args){return reactiveReadArray(this).concat(...args.map(x=>isArray$3(x)?reactiveReadArray(x):x))},entries(){return iterator(this,"entries",value=>(value[1]=toReactive(value[1]),value))},every(fn,thisArg){return apply$2(this,"every",fn,thisArg,void 0,arguments)},filter(fn,thisArg){return apply$2(this,"filter",fn,thisArg,v=>v.map(toReactive),arguments)},find(fn,thisArg){return apply$2(this,"find",fn,thisArg,toReactive,arguments)},findIndex(fn,thisArg){return apply$2(this,"findIndex",fn,thisArg,void 0,arguments)},findLast(fn,thisArg){return apply$2(this,"findLast",fn,thisArg,toReactive,arguments)},findLastIndex(fn,thisArg){return apply$2(this,"findLastIndex",fn,thisArg,void 0,arguments)},forEach(fn,thisArg){return apply$2(this,"forEach",fn,thisArg,void 0,arguments)},includes(...args){return searchProxy(this,"includes",args)},indexOf(...args){return searchProxy(this,"indexOf",args)},join(separator){return reactiveReadArray(this).join(separator)},lastIndexOf(...args){return searchProxy(this,"lastIndexOf",args)},map(fn,thisArg){return apply$2(this,"map",fn,thisArg,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...args){return noTracking(this,"push",args)},reduce(fn,...args){return reduce(this,"reduce",fn,args)},reduceRight(fn,...args){return reduce(this,"reduceRight",fn,args)},shift(){return noTracking(this,"shift")},some(fn,thisArg){return apply$2(this,"some",fn,thisArg,void 0,arguments)},splice(...args){return noTracking(this,"splice",args)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(comparer){return reactiveReadArray(this).toSorted(comparer)},toSpliced(...args){return reactiveReadArray(this).toSpliced(...args)},unshift(...args){return noTracking(this,"unshift",args)},values(){return iterator(this,"values",toReactive)}};function iterator(self2,method,wrapValue){const arr=shallowReadArray(self2),iter=arr[method]();return arr!==self2&&!isShallow(self2)&&(iter._next=iter.next,iter.next=()=>{const result=iter._next();return result.value&&(result.value=wrapValue(result.value)),result}),iter}__name(iterator,"iterator");const arrayProto$1=Array.prototype;function apply$2(self2,method,fn,thisArg,wrappedRetFn,args){const arr=shallowReadArray(self2),needsWrap=arr!==self2&&!isShallow(self2),methodFn=arr[method];if(methodFn!==arrayProto$1[method]){const result2=methodFn.apply(self2,args);return needsWrap?toReactive(result2):result2}let wrappedFn=fn;arr!==self2&&(needsWrap?wrappedFn=__name(function(item,index){return fn.call(this,toReactive(item),index,self2)},"wrappedFn"):fn.length>2&&(wrappedFn=__name(function(item,index){return fn.call(this,item,index,self2)},"wrappedFn")));const result=methodFn.call(arr,wrappedFn,thisArg);return needsWrap&&wrappedRetFn?wrappedRetFn(result):result}__name(apply$2,"apply$2");function reduce(self2,method,fn,args){const arr=shallowReadArray(self2);let wrappedFn=fn;return arr!==self2&&(isShallow(self2)?fn.length>3&&(wrappedFn=__name(function(acc,item,index){return fn.call(this,acc,item,index,self2)},"wrappedFn")):wrappedFn=__name(function(acc,item,index){return fn.call(this,acc,toReactive(item),index,self2)},"wrappedFn")),arr[method](wrappedFn,...args)}__name(reduce,"reduce");function searchProxy(self2,method,args){const arr=toRaw(self2);track(arr,"iterate",ARRAY_ITERATE_KEY);const res=arr[method](...args);return(res===-1||res===!1)&&isProxy(args[0])?(args[0]=toRaw(args[0]),arr[method](...args)):res}__name(searchProxy,"searchProxy");function noTracking(self2,method,args=[]){pauseTracking(),startBatch();const res=toRaw(self2)[method].apply(self2,args);return endBatch(),resetTracking(),res}__name(noTracking,"noTracking");const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(key=>key!=="arguments"&&key!=="caller").map(key=>Symbol[key]).filter(isSymbol$1));function hasOwnProperty$e(key){isSymbol$1(key)||(key=String(key));const obj=toRaw(this);return track(obj,"has",key),obj.hasOwnProperty(key)}__name(hasOwnProperty$e,"hasOwnProperty$e");const _BaseReactiveHandler=class _BaseReactiveHandler{constructor(_isReadonly=!1,_isShallow=!1){this._isReadonly=_isReadonly,this._isShallow=_isShallow}get(target,key,receiver){if(key==="__v_skip")return target.__v_skip;const isReadonly2=this._isReadonly,isShallow2=this._isShallow;if(key==="__v_isReactive")return!isReadonly2;if(key==="__v_isReadonly")return isReadonly2;if(key==="__v_isShallow")return isShallow2;if(key==="__v_raw")return receiver===(isReadonly2?isShallow2?shallowReadonlyMap:readonlyMap:isShallow2?shallowReactiveMap:reactiveMap).get(target)||Object.getPrototypeOf(target)===Object.getPrototypeOf(receiver)?target:void 0;const targetIsArray=isArray$3(target);if(!isReadonly2){let fn;if(targetIsArray&&(fn=arrayInstrumentations[key]))return fn;if(key==="hasOwnProperty")return hasOwnProperty$e}const res=Reflect.get(target,key,isRef(target)?target:receiver);return(isSymbol$1(key)?builtInSymbols.has(key):isNonTrackableKeys(key))||(isReadonly2||track(target,"get",key),isShallow2)?res:isRef(res)?targetIsArray&&isIntegerKey(key)?res:res.value:isObject$4(res)?isReadonly2?readonly(res):reactive(res):res}};__name(_BaseReactiveHandler,"BaseReactiveHandler");let BaseReactiveHandler=_BaseReactiveHandler;const _MutableReactiveHandler=class _MutableReactiveHandler extends BaseReactiveHandler{constructor(isShallow2=!1){super(!1,isShallow2)}set(target,key,value,receiver){let oldValue=target[key];if(!this._isShallow){const isOldValueReadonly=isReadonly(oldValue);if(!isShallow(value)&&!isReadonly(value)&&(oldValue=toRaw(oldValue),value=toRaw(value)),!isArray$3(target)&&isRef(oldValue)&&!isRef(value))return isOldValueReadonly?!1:(oldValue.value=value,!0)}const hadKey=isArray$3(target)&&isIntegerKey(key)?Number(key)<target.length:hasOwn$1(target,key),result=Reflect.set(target,key,value,isRef(target)?target:receiver);return target===toRaw(receiver)&&(hadKey?hasChanged(value,oldValue)&&trigger$1(target,"set",key,value):trigger$1(target,"add",key,value)),result}deleteProperty(target,key){const hadKey=hasOwn$1(target,key);target[key];const result=Reflect.deleteProperty(target,key);return result&&hadKey&&trigger$1(target,"delete",key,void 0),result}has(target,key){const result=Reflect.has(target,key);return(!isSymbol$1(key)||!builtInSymbols.has(key))&&track(target,"has",key),result}ownKeys(target){return track(target,"iterate",isArray$3(target)?"length":ITERATE_KEY),Reflect.ownKeys(target)}};__name(_MutableReactiveHandler,"MutableReactiveHandler");let MutableReactiveHandler=_MutableReactiveHandler;const _ReadonlyReactiveHandler=class _ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(isShallow2=!1){super(!0,isShallow2)}set(target,key){return!0}deleteProperty(target,key){return!0}};__name(_ReadonlyReactiveHandler,"ReadonlyReactiveHandler");let ReadonlyReactiveHandler=_ReadonlyReactiveHandler;const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0);const toShallow=__name(value=>value,"toShallow"),getProto=__name(v=>Reflect.getPrototypeOf(v),"getProto");function createIterableMethod(method,isReadonly2,isShallow2){return function(...args){const target=this.__v_raw,rawTarget=toRaw(target),targetIsMap=isMap$1(rawTarget),isPair=method==="entries"||method===Symbol.iterator&&targetIsMap,isKeyOnly=method==="keys"&&targetIsMap,innerIterator=target[method](...args),wrap=isShallow2?toShallow:isReadonly2?toReadonly:toReactive;return!isReadonly2&&track(rawTarget,"iterate",isKeyOnly?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value,done}=innerIterator.next();return done?{value,done}:{value:isPair?[wrap(value[0]),wrap(value[1])]:wrap(value),done}},[Symbol.iterator](){return this}}}}__name(createIterableMethod,"createIterableMethod");function createReadonlyMethod(type){return function(...args){return type==="delete"?!1:type==="clear"?void 0:this}}__name(createReadonlyMethod,"createReadonlyMethod");function createInstrumentations(readonly2,shallow){const instrumentations={get(key){const target=this.__v_raw,rawTarget=toRaw(target),rawKey=toRaw(key);readonly2||(hasChanged(key,rawKey)&&track(rawTarget,"get",key),track(rawTarget,"get",rawKey));const{has:has2}=getProto(rawTarget),wrap=shallow?toShallow:readonly2?toReadonly:toReactive;if(has2.call(rawTarget,key))return wrap(target.get(key));if(has2.call(rawTarget,rawKey))return wrap(target.get(rawKey));target!==rawTarget&&target.get(key)},get size(){const target=this.__v_raw;return!readonly2&&track(toRaw(target),"iterate",ITERATE_KEY),Reflect.get(target,"size",target)},has(key){const target=this.__v_raw,rawTarget=toRaw(target),rawKey=toRaw(key);return readonly2||(hasChanged(key,rawKey)&&track(rawTarget,"has",key),track(rawTarget,"has",rawKey)),key===rawKey?target.has(key):target.has(key)||target.has(rawKey)},forEach(callback,thisArg){const observed=this,target=observed.__v_raw,rawTarget=toRaw(target),wrap=shallow?toShallow:readonly2?toReadonly:toReactive;return!readonly2&&track(rawTarget,"iterate",ITERATE_KEY),target.forEach((value,key)=>callback.call(thisArg,wrap(value),wrap(key),observed))}};return extend$1(instrumentations,readonly2?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(value){!shallow&&!isShallow(value)&&!isReadonly(value)&&(value=toRaw(value));const target=toRaw(this);return getProto(target).has.call(target,value)||(target.add(value),trigger$1(target,"add",value,value)),this},set(key,value){!shallow&&!isShallow(value)&&!isReadonly(value)&&(value=toRaw(value));const target=toRaw(this),{has:has2,get:get2}=getProto(target);let hadKey=has2.call(target,key);hadKey||(key=toRaw(key),hadKey=has2.call(target,key));const oldValue=get2.call(target,key);return target.set(key,value),hadKey?hasChanged(value,oldValue)&&trigger$1(target,"set",key,value):trigger$1(target,"add",key,value),this},delete(key){const target=toRaw(this),{has:has2,get:get2}=getProto(target);let hadKey=has2.call(target,key);hadKey||(key=toRaw(key),hadKey=has2.call(target,key)),get2&&get2.call(target,key);const result=target.delete(key);return hadKey&&trigger$1(target,"delete",key,void 0),result},clear(){const target=toRaw(this),hadItems=target.size!==0,result=target.clear();return hadItems&&trigger$1(target,"clear",void 0,void 0),result}}),["keys","values","entries",Symbol.iterator].forEach(method=>{instrumentations[method]=createIterableMethod(method,readonly2,shallow)}),instrumentations}__name(createInstrumentations,"createInstrumentations");function createInstrumentationGetter(isReadonly2,shallow){const instrumentations=createInstrumentations(isReadonly2,shallow);return(target,key,receiver)=>key==="__v_isReactive"?!isReadonly2:key==="__v_isReadonly"?isReadonly2:key==="__v_raw"?target:Reflect.get(hasOwn$1(instrumentations,key)&&key in target?instrumentations:target,key,receiver)}__name(createInstrumentationGetter,"createInstrumentationGetter");const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)};const reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(rawType){switch(rawType){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}__name(targetTypeMap,"targetTypeMap");function getTargetType(value){return value.__v_skip||!Object.isExtensible(value)?0:targetTypeMap(toRawType(value))}__name(getTargetType,"getTargetType");function reactive(target){return isReadonly(target)?target:createReactiveObject(target,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}__name(reactive,"reactive");function shallowReactive(target){return createReactiveObject(target,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}__name(shallowReactive,"shallowReactive");function readonly(target){return createReactiveObject(target,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}__name(readonly,"readonly");function createReactiveObject(target,isReadonly2,baseHandlers,collectionHandlers,proxyMap){if(!isObject$4(target)||target.__v_raw&&!(isReadonly2&&target.__v_isReactive))return target;const targetType=getTargetType(target);if(targetType===0)return target;const existingProxy=proxyMap.get(target);if(existingProxy)return existingProxy;const proxy=new Proxy(target,targetType===2?collectionHandlers:baseHandlers);return proxyMap.set(target,proxy),proxy}__name(createReactiveObject,"createReactiveObject");function isReactive(value){return isReadonly(value)?isReactive(value.__v_raw):!!(value&&value.__v_isReactive)}__name(isReactive,"isReactive");function isReadonly(value){return!!(value&&value.__v_isReadonly)}__name(isReadonly,"isReadonly");function isShallow(value){return!!(value&&value.__v_isShallow)}__name(isShallow,"isShallow");function isProxy(value){return value?!!value.__v_raw:!1}__name(isProxy,"isProxy");function toRaw(observed){const raw=observed&&observed.__v_raw;return raw?toRaw(raw):observed}__name(toRaw,"toRaw");function markRaw(value){return!hasOwn$1(value,"__v_skip")&&Object.isExtensible(value)&&def(value,"__v_skip",!0),value}__name(markRaw,"markRaw");const toReactive=__name(value=>isObject$4(value)?reactive(value):value,"toReactive"),toReadonly=__name(value=>isObject$4(value)?readonly(value):value,"toReadonly");function isRef(r){return r?r.__v_isRef===!0:!1}__name(isRef,"isRef");function ref(value){return createRef(value,!1)}__name(ref,"ref");function shallowRef(value){return createRef(value,!0)}__name(shallowRef,"shallowRef");function createRef(rawValue,shallow){return isRef(rawValue)?rawValue:new RefImpl(rawValue,shallow)}__name(createRef,"createRef");const _RefImpl=class _RefImpl{constructor(value,isShallow2){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=isShallow2?value:toRaw(value),this._value=isShallow2?value:toReactive(value),this.__v_isShallow=isShallow2}get value(){return this.dep.track(),this._value}set value(newValue){const oldValue=this._rawValue,useDirectValue=this.__v_isShallow||isShallow(newValue)||isReadonly(newValue);newValue=useDirectValue?newValue:toRaw(newValue),hasChanged(newValue,oldValue)&&(this._rawValue=newValue,this._value=useDirectValue?newValue:toReactive(newValue),this.dep.trigger())}};__name(_RefImpl,"RefImpl");let RefImpl=_RefImpl;function unref(ref2){return isRef(ref2)?ref2.value:ref2}__name(unref,"unref");function toValue(source){return isFunction$2(source)?source():unref(source)}__name(toValue,"toValue");const shallowUnwrapHandlers={get:__name((target,key,receiver)=>key==="__v_raw"?target:unref(Reflect.get(target,key,receiver)),"get"),set:__name((target,key,value,receiver)=>{const oldValue=target[key];return isRef(oldValue)&&!isRef(value)?(oldValue.value=value,!0):Reflect.set(target,key,value,receiver)},"set")};function proxyRefs(objectWithRefs){return isReactive(objectWithRefs)?objectWithRefs:new Proxy(objectWithRefs,shallowUnwrapHandlers)}__name(proxyRefs,"proxyRefs");const _CustomRefImpl=class _CustomRefImpl{constructor(factory){this.__v_isRef=!0,this._value=void 0;const dep=this.dep=new Dep,{get:get2,set}=factory(dep.track.bind(dep),dep.trigger.bind(dep));this._get=get2,this._set=set}get value(){return this._value=this._get()}set value(newVal){this._set(newVal)}};__name(_CustomRefImpl,"CustomRefImpl");let CustomRefImpl=_CustomRefImpl;function customRef(factory){return new CustomRefImpl(factory)}__name(customRef,"customRef");function toRefs(object){const ret=isArray$3(object)?new Array(object.length):{};for(const key in object)ret[key]=propertyToRef(object,key);return ret}__name(toRefs,"toRefs");const _ObjectRefImpl=class _ObjectRefImpl{constructor(_object,_key,_defaultValue){this._object=_object,this._key=_key,this._defaultValue=_defaultValue,this.__v_isRef=!0,this._value=void 0}get value(){const val=this._object[this._key];return this._value=val===void 0?this._defaultValue:val}set value(newVal){this._object[this._key]=newVal}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}};__name(_ObjectRefImpl,"ObjectRefImpl");let ObjectRefImpl=_ObjectRefImpl;const _GetterRefImpl=class _GetterRefImpl{constructor(_getter){this._getter=_getter,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};__name(_GetterRefImpl,"GetterRefImpl");let GetterRefImpl=_GetterRefImpl;function toRef(source,key,defaultValue){return isRef(source)?source:isFunction$2(source)?new GetterRefImpl(source):isObject$4(source)&&arguments.length>1?propertyToRef(source,key,defaultValue):ref(source)}__name(toRef,"toRef");function propertyToRef(source,key,defaultValue){const val=source[key];return isRef(val)?val:new ObjectRefImpl(source,key,defaultValue)}__name(propertyToRef,"propertyToRef");const _ComputedRefImpl=class _ComputedRefImpl{constructor(fn,setter,isSSR){this.fn=fn,this.setter=setter,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!setter,this.isSSR=isSSR}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const link=this.dep.track();return refreshComputed(this),link&&(link.version=this.dep.version),this._value}set value(newValue){this.setter&&this.setter(newValue)}};__name(_ComputedRefImpl,"ComputedRefImpl");let ComputedRefImpl=_ComputedRefImpl;function computed$1(getterOrOptions,debugOptions,isSSR=!1){let getter,setter;return isFunction$2(getterOrOptions)?getter=getterOrOptions:(getter=getterOrOptions.get,setter=getterOrOptions.set),new ComputedRefImpl(getter,setter,isSSR)}__name(computed$1,"computed$1");const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(cleanupFn,failSilently=!1,owner=activeWatcher){if(owner){let cleanups=cleanupMap.get(owner);cleanups||cleanupMap.set(owner,cleanups=[]),cleanups.push(cleanupFn)}}__name(onWatcherCleanup,"onWatcherCleanup");function watch$1(source,cb,options=EMPTY_OBJ){const{immediate,deep,once,scheduler:scheduler2,augmentJob,call:call2}=options,reactiveGetter=__name(source2=>deep?source2:isShallow(source2)||deep===!1||deep===0?traverse(source2,1):traverse(source2),"reactiveGetter");let effect2,getter,cleanup,boundCleanup,forceTrigger=!1,isMultiSource=!1;if(isRef(source)?(getter=__name(()=>source.value,"getter"),forceTrigger=isShallow(source)):isReactive(source)?(getter=__name(()=>reactiveGetter(source),"getter"),forceTrigger=!0):isArray$3(source)?(isMultiSource=!0,forceTrigger=source.some(s=>isReactive(s)||isShallow(s)),getter=__name(()=>source.map(s=>{if(isRef(s))return s.value;if(isReactive(s))return reactiveGetter(s);if(isFunction$2(s))return call2?call2(s,2):s()}),"getter")):isFunction$2(source)?cb?getter=call2?()=>call2(source,2):source:getter=__name(()=>{if(cleanup){pauseTracking();try{cleanup()}finally{resetTracking()}}const currentEffect=activeWatcher;activeWatcher=effect2;try{return call2?call2(source,3,[boundCleanup]):source(boundCleanup)}finally{activeWatcher=currentEffect}},"getter"):getter=NOOP,cb&&deep){const baseGetter=getter,depth=deep===!0?1/0:deep;getter=__name(()=>traverse(baseGetter(),depth),"getter")}const scope=getCurrentScope(),watchHandle=__name(()=>{effect2.stop(),scope&&scope.active&&remove(scope.effects,effect2)},"watchHandle");if(once&&cb){const _cb=cb;cb=__name((...args)=>{_cb(...args),watchHandle()},"cb")}let oldValue=isMultiSource?new Array(source.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const job=__name(immediateFirstRun=>{if(!(!(effect2.flags&1)||!effect2.dirty&&!immediateFirstRun))if(cb){const newValue=effect2.run();if(deep||forceTrigger||(isMultiSource?newValue.some((v,i)=>hasChanged(v,oldValue[i])):hasChanged(newValue,oldValue))){cleanup&&cleanup();const currentWatcher=activeWatcher;activeWatcher=effect2;try{const args=[newValue,oldValue===INITIAL_WATCHER_VALUE?void 0:isMultiSource&&oldValue[0]===INITIAL_WATCHER_VALUE?[]:oldValue,boundCleanup];oldValue=newValue,call2?call2(cb,3,args):cb(...args)}finally{activeWatcher=currentWatcher}}}else effect2.run()},"job");return augmentJob&&augmentJob(job),effect2=new ReactiveEffect(getter),effect2.scheduler=scheduler2?()=>scheduler2(job,!1):job,boundCleanup=__name(fn=>onWatcherCleanup(fn,!1,effect2),"boundCleanup"),cleanup=effect2.onStop=()=>{const cleanups=cleanupMap.get(effect2);if(cleanups){if(call2)call2(cleanups,4);else for(const cleanup2 of cleanups)cleanup2();cleanupMap.delete(effect2)}},cb?immediate?job(!0):oldValue=effect2.run():scheduler2?scheduler2(job.bind(null,!0),!0):effect2.run(),watchHandle.pause=effect2.pause.bind(effect2),watchHandle.resume=effect2.resume.bind(effect2),watchHandle.stop=watchHandle,watchHandle}__name(watch$1,"watch$1");function traverse(value,depth=1/0,seen2){if(depth<=0||!isObject$4(value)||value.__v_skip||(seen2=seen2||new Set,seen2.has(value)))return value;if(seen2.add(value),depth--,isRef(value))traverse(value.value,depth,seen2);else if(isArray$3(value))for(let i=0;i<value.length;i++)traverse(value[i],depth,seen2);else if(isSet$1(value)||isMap$1(value))value.forEach(v=>{traverse(v,depth,seen2)});else if(isPlainObject$3(value)){for(const key in value)traverse(value[key],depth,seen2);for(const key of Object.getOwnPropertySymbols(value))Object.prototype.propertyIsEnumerable.call(value,key)&&traverse(value[key],depth,seen2)}return value}__name(traverse,"traverse");/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function callWithErrorHandling(fn,instance2,type,args){try{return args?fn(...args):fn()}catch(err){handleError(err,instance2,type)}}__name(callWithErrorHandling,"callWithErrorHandling");function callWithAsyncErrorHandling(fn,instance2,type,args){if(isFunction$2(fn)){const res=callWithErrorHandling(fn,instance2,type,args);return res&&isPromise$1(res)&&res.catch(err=>{handleError(err,instance2,type)}),res}if(isArray$3(fn)){const values=[];for(let i=0;i<fn.length;i++)values.push(callWithAsyncErrorHandling(fn[i],instance2,type,args));return values}}__name(callWithAsyncErrorHandling,"callWithAsyncErrorHandling");function handleError(err,instance2,type,throwInDev=!0){const contextVNode=instance2?instance2.vnode:null,{errorHandler,throwUnhandledErrorInProduction}=instance2&&instance2.appContext.config||EMPTY_OBJ;if(instance2){let cur=instance2.parent;const exposedInstance=instance2.proxy,errorInfo="https://vuejs.org/error-reference/#runtime-".concat(type);for(;cur;){const errorCapturedHooks=cur.ec;if(errorCapturedHooks){for(let i=0;i<errorCapturedHooks.length;i++)if(errorCapturedHooks[i](err,exposedInstance,errorInfo)===!1)return}cur=cur.parent}if(errorHandler){pauseTracking(),callWithErrorHandling(errorHandler,null,10,[err,exposedInstance,errorInfo]),resetTracking();return}}logError(err,type,contextVNode,throwInDev,throwUnhandledErrorInProduction)}__name(handleError,"handleError");function logError(err,type,contextVNode,throwInDev=!0,throwInProd=!1){if(throwInProd)throw err;console.error(err)}__name(logError,"logError");const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(fn){const p2=currentFlushPromise||resolvedPromise;return fn?p2.then(this?fn.bind(this):fn):p2}__name(nextTick,"nextTick");function findInsertionIndex$1(id){let start=flushIndex+1,end=queue.length;for(;start<end;){const middle=start+end>>>1,middleJob=queue[middle],middleJobId=getId(middleJob);middleJobId<id||middleJobId===id&&middleJob.flags&2?start=middle+1:end=middle}return start}__name(findInsertionIndex$1,"findInsertionIndex$1");function queueJob(job){if(!(job.flags&1)){const jobId=getId(job),lastJob=queue[queue.length-1];!lastJob||!(job.flags&2)&&jobId>=getId(lastJob)?queue.push(job):queue.splice(findInsertionIndex$1(jobId),0,job),job.flags|=1,queueFlush()}}__name(queueJob,"queueJob");function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}__name(queueFlush,"queueFlush");function queuePostFlushCb(cb){isArray$3(cb)?pendingPostFlushCbs.push(...cb):activePostFlushCbs&&cb.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,cb):cb.flags&1||(pendingPostFlushCbs.push(cb),cb.flags|=1),queueFlush()}__name(queuePostFlushCb,"queuePostFlushCb");function flushPreFlushCbs(instance2,seen2,i=flushIndex+1){for(;i<queue.length;i++){const cb=queue[i];if(cb&&cb.flags&2){if(instance2&&cb.id!==instance2.uid)continue;queue.splice(i,1),i--,cb.flags&4&&(cb.flags&=-2),cb(),cb.flags&4||(cb.flags&=-2)}}}__name(flushPreFlushCbs,"flushPreFlushCbs");function flushPostFlushCbs(seen2){if(pendingPostFlushCbs.length){const deduped=[...new Set(pendingPostFlushCbs)].sort((a,b)=>getId(a)-getId(b));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...deduped);return}for(activePostFlushCbs=deduped,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const cb=activePostFlushCbs[postFlushIndex];cb.flags&4&&(cb.flags&=-2),cb.flags&8||cb(),cb.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}__name(flushPostFlushCbs,"flushPostFlushCbs");const getId=__name(job=>job.id==null?job.flags&2?-1:1/0:job.id,"getId");function flushJobs(seen2){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const job=queue[flushIndex];job&&!(job.flags&8)&&(job.flags&4&&(job.flags&=-2),callWithErrorHandling(job,job.i,job.i?15:14),job.flags&4||(job.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const job=queue[flushIndex];job&&(job.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}__name(flushJobs,"flushJobs");let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(instance2){const prev=currentRenderingInstance;return currentRenderingInstance=instance2,currentScopeId=instance2&&instance2.type.__scopeId||null,prev}__name(setCurrentRenderingInstance,"setCurrentRenderingInstance");function withCtx(fn,ctx2=currentRenderingInstance,isNonScopedSlot){if(!ctx2||fn._n)return fn;const renderFnWithContext=__name((...args)=>{renderFnWithContext._d&&setBlockTracking(-1);const prevInstance=setCurrentRenderingInstance(ctx2);let res;try{res=fn(...args)}finally{setCurrentRenderingInstance(prevInstance),renderFnWithContext._d&&setBlockTracking(1)}return res},"renderFnWithContext");return renderFnWithContext._n=!0,renderFnWithContext._c=!0,renderFnWithContext._d=!0,renderFnWithContext}__name(withCtx,"withCtx");function withDirectives(vnode,directives){if(currentRenderingInstance===null)return vnode;const instance2=getComponentPublicInstance(currentRenderingInstance),bindings=vnode.dirs||(vnode.dirs=[]);for(let i=0;i<directives.length;i++){let[dir,value,arg,modifiers=EMPTY_OBJ]=directives[i];dir&&(isFunction$2(dir)&&(dir={mounted:dir,updated:dir}),dir.deep&&traverse(value),bindings.push({dir,instance:instance2,value,oldValue:void 0,arg,modifiers}))}return vnode}__name(withDirectives,"withDirectives");function invokeDirectiveHook(vnode,prevVNode,instance2,name){const bindings=vnode.dirs,oldBindings=prevVNode&&prevVNode.dirs;for(let i=0;i<bindings.length;i++){const binding=bindings[i];oldBindings&&(binding.oldValue=oldBindings[i].value);let hook=binding.dir[name];hook&&(pauseTracking(),callWithAsyncErrorHandling(hook,instance2,8,[vnode.el,binding,vnode,prevVNode]),resetTracking())}}__name(invokeDirectiveHook,"invokeDirectiveHook");const TeleportEndKey=Symbol("_vte"),isTeleport=__name(type=>type.__isTeleport,"isTeleport"),isTeleportDisabled=__name(props=>props&&(props.disabled||props.disabled===""),"isTeleportDisabled"),isTeleportDeferred=__name(props=>props&&(props.defer||props.defer===""),"isTeleportDeferred"),isTargetSVG=__name(target=>typeof SVGElement<"u"&&target instanceof SVGElement,"isTargetSVG"),isTargetMathML=__name(target=>typeof MathMLElement=="function"&&target instanceof MathMLElement,"isTargetMathML"),resolveTarget=__name((props,select)=>{const targetSelector=props&&props.to;return isString$3(targetSelector)?select?select(targetSelector):null:targetSelector},"resolveTarget"),TeleportImpl={name:"Teleport",__isTeleport:!0,process(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized,internals){const{mc:mountChildren,pc:patchChildren,pbc:patchBlockChildren,o:{insert,querySelector,createText,createComment}}=internals,disabled=isTeleportDisabled(n2.props);let{shapeFlag,children,dynamicChildren}=n2;if(n1==null){const placeholder=n2.el=createText(""),mainAnchor=n2.anchor=createText("");insert(placeholder,container,anchor),insert(mainAnchor,container,anchor);const mount2=__name((container2,anchor2)=>{shapeFlag&16&&(parentComponent&&parentComponent.isCE&&(parentComponent.ce._teleportTarget=container2),mountChildren(children,container2,anchor2,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized))},"mount"),mountToTarget=__name(()=>{const target=n2.target=resolveTarget(n2.props,querySelector),targetAnchor=prepareAnchor(target,n2,createText,insert);target&&(namespace2!=="svg"&&isTargetSVG(target)?namespace2="svg":namespace2!=="mathml"&&isTargetMathML(target)&&(namespace2="mathml"),disabled||(mount2(target,targetAnchor),updateCssVars(n2,!1)))},"mountToTarget");disabled&&(mount2(container,mainAnchor),updateCssVars(n2,!0)),isTeleportDeferred(n2.props)?(n2.el.__isMounted=!1,queuePostRenderEffect(()=>{mountToTarget(),delete n2.el.__isMounted},parentSuspense)):mountToTarget()}else{if(isTeleportDeferred(n2.props)&&n1.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized,internals)},parentSuspense);return}n2.el=n1.el,n2.targetStart=n1.targetStart;const mainAnchor=n2.anchor=n1.anchor,target=n2.target=n1.target,targetAnchor=n2.targetAnchor=n1.targetAnchor,wasDisabled=isTeleportDisabled(n1.props),currentContainer=wasDisabled?container:target,currentAnchor=wasDisabled?mainAnchor:targetAnchor;if(namespace2==="svg"||isTargetSVG(target)?namespace2="svg":(namespace2==="mathml"||isTargetMathML(target))&&(namespace2="mathml"),dynamicChildren?(patchBlockChildren(n1.dynamicChildren,dynamicChildren,currentContainer,parentComponent,parentSuspense,namespace2,slotScopeIds),traverseStaticChildren(n1,n2,!0)):optimized||patchChildren(n1,n2,currentContainer,currentAnchor,parentComponent,parentSuspense,namespace2,slotScopeIds,!1),disabled)wasDisabled?n2.props&&n1.props&&n2.props.to!==n1.props.to&&(n2.props.to=n1.props.to):moveTeleport(n2,container,mainAnchor,internals,1);else if((n2.props&&n2.props.to)!==(n1.props&&n1.props.to)){const nextTarget=n2.target=resolveTarget(n2.props,querySelector);nextTarget&&moveTeleport(n2,nextTarget,null,internals,0)}else wasDisabled&&moveTeleport(n2,target,targetAnchor,internals,1);updateCssVars(n2,disabled)}},remove(vnode,parentComponent,parentSuspense,{um:unmount2,o:{remove:hostRemove}},doRemove){const{shapeFlag,children,anchor,targetStart,targetAnchor,target,props}=vnode;if(target&&(hostRemove(targetStart),hostRemove(targetAnchor)),doRemove&&hostRemove(anchor),shapeFlag&16){const shouldRemove=doRemove||!isTeleportDisabled(props);for(let i=0;i<children.length;i++){const child=children[i];unmount2(child,parentComponent,parentSuspense,shouldRemove,!!child.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(vnode,container,parentAnchor,{o:{insert},m:move2},moveType=2){moveType===0&&insert(vnode.targetAnchor,container,parentAnchor);const{el,anchor,shapeFlag,children,props}=vnode,isReorder=moveType===2;if(isReorder&&insert(el,container,parentAnchor),(!isReorder||isTeleportDisabled(props))&&shapeFlag&16)for(let i=0;i<children.length;i++)move2(children[i],container,parentAnchor,2);isReorder&&insert(anchor,container,parentAnchor)}__name(moveTeleport,"moveTeleport");function hydrateTeleport(node,vnode,parentComponent,parentSuspense,slotScopeIds,optimized,{o:{nextSibling,parentNode,querySelector,insert,createText}},hydrateChildren){const target=vnode.target=resolveTarget(vnode.props,querySelector);if(target){const disabled=isTeleportDisabled(vnode.props),targetNode=target._lpa||target.firstChild;if(vnode.shapeFlag&16)if(disabled)vnode.anchor=hydrateChildren(nextSibling(node),vnode,parentNode(node),parentComponent,parentSuspense,slotScopeIds,optimized),vnode.targetStart=targetNode,vnode.targetAnchor=targetNode&&nextSibling(targetNode);else{vnode.anchor=nextSibling(node);let targetAnchor=targetNode;for(;targetAnchor;){if(targetAnchor&&targetAnchor.nodeType===8){if(targetAnchor.data==="teleport start anchor")vnode.targetStart=targetAnchor;else if(targetAnchor.data==="teleport anchor"){vnode.targetAnchor=targetAnchor,target._lpa=vnode.targetAnchor&&nextSibling(vnode.targetAnchor);break}}targetAnchor=nextSibling(targetAnchor)}vnode.targetAnchor||prepareAnchor(target,vnode,createText,insert),hydrateChildren(targetNode&&nextSibling(targetNode),vnode,target,parentComponent,parentSuspense,slotScopeIds,optimized)}updateCssVars(vnode,disabled)}return vnode.anchor&&nextSibling(vnode.anchor)}__name(hydrateTeleport,"hydrateTeleport");const Teleport=TeleportImpl;function updateCssVars(vnode,isDisabled2){const ctx2=vnode.ctx;if(ctx2&&ctx2.ut){let node,anchor;for(isDisabled2?(node=vnode.el,anchor=vnode.anchor):(node=vnode.targetStart,anchor=vnode.targetAnchor);node&&node!==anchor;)node.nodeType===1&&node.setAttribute("data-v-owner",ctx2.uid),node=node.nextSibling;ctx2.ut()}}__name(updateCssVars,"updateCssVars");function prepareAnchor(target,vnode,createText,insert){const targetStart=vnode.targetStart=createText(""),targetAnchor=vnode.targetAnchor=createText("");return targetStart[TeleportEndKey]=targetAnchor,target&&(insert(targetStart,target),insert(targetAnchor,target)),targetAnchor}__name(prepareAnchor,"prepareAnchor");const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const state={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{state.isMounted=!0}),onBeforeUnmount(()=>{state.isUnmounting=!0}),state}__name(useTransitionState,"useTransitionState");const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=__name(instance2=>{const subTree=instance2.subTree;return subTree.component?recursiveGetSubtree(subTree.component):subTree},"recursiveGetSubtree"),BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(props,{slots}){const instance2=getCurrentInstance(),state=useTransitionState();return()=>{const children=slots.default&&getTransitionRawChildren(slots.default(),!0);if(!children||!children.length)return;const child=findNonCommentChild(children),rawProps=toRaw(props),{mode}=rawProps;if(state.isLeaving)return emptyPlaceholder(child);const innerChild=getInnerChild$1(child);if(!innerChild)return emptyPlaceholder(child);let enterHooks=resolveTransitionHooks(innerChild,rawProps,state,instance2,hooks=>enterHooks=hooks);innerChild.type!==Comment&&setTransitionHooks(innerChild,enterHooks);let oldInnerChild=instance2.subTree&&getInnerChild$1(instance2.subTree);if(oldInnerChild&&oldInnerChild.type!==Comment&&!isSameVNodeType(innerChild,oldInnerChild)&&recursiveGetSubtree(instance2).type!==Comment){let leavingHooks=resolveTransitionHooks(oldInnerChild,rawProps,state,instance2);if(setTransitionHooks(oldInnerChild,leavingHooks),mode==="out-in"&&innerChild.type!==Comment)return state.isLeaving=!0,leavingHooks.afterLeave=()=>{state.isLeaving=!1,instance2.job.flags&8||instance2.update(),delete leavingHooks.afterLeave,oldInnerChild=void 0},emptyPlaceholder(child);mode==="in-out"&&innerChild.type!==Comment?leavingHooks.delayLeave=(el,earlyRemove,delayedLeave)=>{const leavingVNodesCache=getLeavingNodesForType(state,oldInnerChild);leavingVNodesCache[String(oldInnerChild.key)]=oldInnerChild,el[leaveCbKey]=()=>{earlyRemove(),el[leaveCbKey]=void 0,delete enterHooks.delayedLeave,oldInnerChild=void 0},enterHooks.delayedLeave=()=>{delayedLeave(),delete enterHooks.delayedLeave,oldInnerChild=void 0}}:oldInnerChild=void 0}else oldInnerChild&&(oldInnerChild=void 0);return child}}};function findNonCommentChild(children){let child=children[0];if(children.length>1){for(const c2 of children)if(c2.type!==Comment){child=c2;break}}return child}__name(findNonCommentChild,"findNonCommentChild");const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(state,vnode){const{leavingVNodes}=state;let leavingVNodesCache=leavingVNodes.get(vnode.type);return leavingVNodesCache||(leavingVNodesCache=Object.create(null),leavingVNodes.set(vnode.type,leavingVNodesCache)),leavingVNodesCache}__name(getLeavingNodesForType,"getLeavingNodesForType");function resolveTransitionHooks(vnode,props,state,instance2,postClone){const{appear,mode,persisted=!1,onBeforeEnter,onEnter,onAfterEnter,onEnterCancelled,onBeforeLeave,onLeave,onAfterLeave,onLeaveCancelled,onBeforeAppear,onAppear,onAfterAppear,onAppearCancelled}=props,key=String(vnode.key),leavingVNodesCache=getLeavingNodesForType(state,vnode),callHook2=__name((hook,args)=>{hook&&callWithAsyncErrorHandling(hook,instance2,9,args)},"callHook2"),callAsyncHook=__name((hook,args)=>{const done=args[1];callHook2(hook,args),isArray$3(hook)?hook.every(hook2=>hook2.length<=1)&&done():hook.length<=1&&done()},"callAsyncHook"),hooks={mode,persisted,beforeEnter(el){let hook=onBeforeEnter;if(!state.isMounted)if(appear)hook=onBeforeAppear||onBeforeEnter;else return;el[leaveCbKey]&&el[leaveCbKey](!0);const leavingVNode=leavingVNodesCache[key];leavingVNode&&isSameVNodeType(vnode,leavingVNode)&&leavingVNode.el[leaveCbKey]&&leavingVNode.el[leaveCbKey](),callHook2(hook,[el])},enter(el){let hook=onEnter,afterHook=onAfterEnter,cancelHook=onEnterCancelled;if(!state.isMounted)if(appear)hook=onAppear||onEnter,afterHook=onAfterAppear||onAfterEnter,cancelHook=onAppearCancelled||onEnterCancelled;else return;let called=!1;const done=el[enterCbKey$1]=cancelled=>{called||(called=!0,cancelled?callHook2(cancelHook,[el]):callHook2(afterHook,[el]),hooks.delayedLeave&&hooks.delayedLeave(),el[enterCbKey$1]=void 0)};hook?callAsyncHook(hook,[el,done]):done()},leave(el,remove2){const key2=String(vnode.key);if(el[enterCbKey$1]&&el[enterCbKey$1](!0),state.isUnmounting)return remove2();callHook2(onBeforeLeave,[el]);let called=!1;const done=el[leaveCbKey]=cancelled=>{called||(called=!0,remove2(),cancelled?callHook2(onLeaveCancelled,[el]):callHook2(onAfterLeave,[el]),el[leaveCbKey]=void 0,leavingVNodesCache[key2]===vnode&&delete leavingVNodesCache[key2])};leavingVNodesCache[key2]=vnode,onLeave?callAsyncHook(onLeave,[el,done]):done()},clone(vnode2){const hooks2=resolveTransitionHooks(vnode2,props,state,instance2,postClone);return postClone&&postClone(hooks2),hooks2}};return hooks}__name(resolveTransitionHooks,"resolveTransitionHooks");function emptyPlaceholder(vnode){if(isKeepAlive(vnode))return vnode=cloneVNode(vnode),vnode.children=null,vnode}__name(emptyPlaceholder,"emptyPlaceholder");function getInnerChild$1(vnode){if(!isKeepAlive(vnode))return isTeleport(vnode.type)&&vnode.children?findNonCommentChild(vnode.children):vnode;if(vnode.component)return vnode.component.subTree;const{shapeFlag,children}=vnode;if(children){if(shapeFlag&16)return children[0];if(shapeFlag&32&&isFunction$2(children.default))return children.default()}}__name(getInnerChild$1,"getInnerChild$1");function setTransitionHooks(vnode,hooks){vnode.shapeFlag&6&&vnode.component?(vnode.transition=hooks,setTransitionHooks(vnode.component.subTree,hooks)):vnode.shapeFlag&128?(vnode.ssContent.transition=hooks.clone(vnode.ssContent),vnode.ssFallback.transition=hooks.clone(vnode.ssFallback)):vnode.transition=hooks}__name(setTransitionHooks,"setTransitionHooks");function getTransitionRawChildren(children,keepComment=!1,parentKey){let ret=[],keyedFragmentCount=0;for(let i=0;i<children.length;i++){let child=children[i];const key=parentKey==null?child.key:String(parentKey)+String(child.key!=null?child.key:i);child.type===Fragment?(child.patchFlag&128&&keyedFragmentCount++,ret=ret.concat(getTransitionRawChildren(child.children,keepComment,key))):(keepComment||child.type!==Comment)&&ret.push(key!=null?cloneVNode(child,{key}):child)}if(keyedFragmentCount>1)for(let i=0;i<ret.length;i++)ret[i].patchFlag=-2;return ret}__name(getTransitionRawChildren,"getTransitionRawChildren");/*! #__NO_SIDE_EFFECTS__ */function defineComponent(options,extraOptions){return isFunction$2(options)?extend$1({name:options.name},extraOptions,{setup:options}):options}__name(defineComponent,"defineComponent");function markAsyncBoundary(instance2){instance2.ids=[instance2.ids[0]+instance2.ids[2]+++"-",0,0]}__name(markAsyncBoundary,"markAsyncBoundary");function useTemplateRef(key){const i=getCurrentInstance(),r=shallowRef(null);if(i){const refs=i.refs===EMPTY_OBJ?i.refs={}:i.refs;Object.defineProperty(refs,key,{enumerable:!0,get:__name(()=>r.value,"get"),set:__name(val=>r.value=val,"set")})}return r}__name(useTemplateRef,"useTemplateRef");function setRef(rawRef,oldRawRef,parentSuspense,vnode,isUnmount=!1){if(isArray$3(rawRef)){rawRef.forEach((r,i)=>setRef(r,oldRawRef&&(isArray$3(oldRawRef)?oldRawRef[i]:oldRawRef),parentSuspense,vnode,isUnmount));return}if(isAsyncWrapper(vnode)&&!isUnmount){vnode.shapeFlag&512&&vnode.type.__asyncResolved&&vnode.component.subTree.component&&setRef(rawRef,oldRawRef,parentSuspense,vnode.component.subTree);return}const refValue=vnode.shapeFlag&4?getComponentPublicInstance(vnode.component):vnode.el,value=isUnmount?null:refValue,{i:owner,r:ref3}=rawRef,oldRef=oldRawRef&&oldRawRef.r,refs=owner.refs===EMPTY_OBJ?owner.refs={}:owner.refs,setupState=owner.setupState,rawSetupState=toRaw(setupState),canSetSetupRef=setupState===EMPTY_OBJ?()=>!1:key=>hasOwn$1(rawSetupState,key);if(oldRef!=null&&oldRef!==ref3&&(isString$3(oldRef)?(refs[oldRef]=null,canSetSetupRef(oldRef)&&(setupState[oldRef]=null)):isRef(oldRef)&&(oldRef.value=null)),isFunction$2(ref3))callWithErrorHandling(ref3,owner,12,[value,refs]);else{const _isString=isString$3(ref3),_isRef=isRef(ref3);if(_isString||_isRef){const doSet=__name(()=>{if(rawRef.f){const existing=_isString?canSetSetupRef(ref3)?setupState[ref3]:refs[ref3]:ref3.value;isUnmount?isArray$3(existing)&&remove(existing,refValue):isArray$3(existing)?existing.includes(refValue)||existing.push(refValue):_isString?(refs[ref3]=[refValue],canSetSetupRef(ref3)&&(setupState[ref3]=refs[ref3])):(ref3.value=[refValue],rawRef.k&&(refs[rawRef.k]=ref3.value))}else _isString?(refs[ref3]=value,canSetSetupRef(ref3)&&(setupState[ref3]=value)):_isRef&&(ref3.value=value,rawRef.k&&(refs[rawRef.k]=value))},"doSet");value?(doSet.id=-1,queuePostRenderEffect(doSet,parentSuspense)):doSet()}}}__name(setRef,"setRef");getGlobalThis$1().requestIdleCallback;getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=__name(i=>!!i.type.__asyncLoader,"isAsyncWrapper"),isKeepAlive=__name(vnode=>vnode.type.__isKeepAlive,"isKeepAlive"),KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(props,{slots}){const instance2=getCurrentInstance(),sharedContext=instance2.ctx;if(!sharedContext.renderer)return()=>{const children=slots.default&&slots.default();return children&&children.length===1?children[0]:children};const cache2=new Map,keys2=new Set;let current=null;const parentSuspense=instance2.suspense,{renderer:{p:patch,m:move2,um:_unmount,o:{createElement:createElement2}}}=sharedContext,storageContainer=createElement2("div");sharedContext.activate=(vnode,container,anchor,namespace2,optimized)=>{const instance22=vnode.component;move2(vnode,container,anchor,0,parentSuspense),patch(instance22.vnode,vnode,container,anchor,instance22,parentSuspense,namespace2,vnode.slotScopeIds,optimized),queuePostRenderEffect(()=>{instance22.isDeactivated=!1,instance22.a&&invokeArrayFns(instance22.a);const vnodeHook=vnode.props&&vnode.props.onVnodeMounted;vnodeHook&&invokeVNodeHook(vnodeHook,instance22.parent,vnode)},parentSuspense)},sharedContext.deactivate=vnode=>{const instance22=vnode.component;invalidateMount(instance22.m),invalidateMount(instance22.a),move2(vnode,storageContainer,null,1,parentSuspense),queuePostRenderEffect(()=>{instance22.da&&invokeArrayFns(instance22.da);const vnodeHook=vnode.props&&vnode.props.onVnodeUnmounted;vnodeHook&&invokeVNodeHook(vnodeHook,instance22.parent,vnode),instance22.isDeactivated=!0},parentSuspense)};function unmount2(vnode){resetShapeFlag(vnode),_unmount(vnode,instance2,parentSuspense,!0)}__name(unmount2,"unmount");function pruneCache(filter){cache2.forEach((vnode,key)=>{const name=getComponentName(vnode.type);name&&!filter(name)&&pruneCacheEntry(key)})}__name(pruneCache,"pruneCache");function pruneCacheEntry(key){const cached=cache2.get(key);cached&&(!current||!isSameVNodeType(cached,current))?unmount2(cached):current&&resetShapeFlag(current),cache2.delete(key),keys2.delete(key)}__name(pruneCacheEntry,"pruneCacheEntry"),watch(()=>[props.include,props.exclude],([include,exclude])=>{include&&pruneCache(name=>matches(include,name)),exclude&&pruneCache(name=>!matches(exclude,name))},{flush:"post",deep:!0});let pendingCacheKey=null;const cacheSubtree=__name(()=>{pendingCacheKey!=null&&(isSuspense(instance2.subTree.type)?queuePostRenderEffect(()=>{cache2.set(pendingCacheKey,getInnerChild(instance2.subTree))},instance2.subTree.suspense):cache2.set(pendingCacheKey,getInnerChild(instance2.subTree)))},"cacheSubtree");return onMounted(cacheSubtree),onUpdated(cacheSubtree),onBeforeUnmount(()=>{cache2.forEach(cached=>{const{subTree,suspense}=instance2,vnode=getInnerChild(subTree);if(cached.type===vnode.type&&cached.key===vnode.key){resetShapeFlag(vnode);const da=vnode.component.da;da&&queuePostRenderEffect(da,suspense);return}unmount2(cached)})}),()=>{if(pendingCacheKey=null,!slots.default)return current=null;const children=slots.default(),rawVNode=children[0];if(children.length>1)return current=null,children;if(!isVNode$1(rawVNode)||!(rawVNode.shapeFlag&4)&&!(rawVNode.shapeFlag&128))return current=null,rawVNode;let vnode=getInnerChild(rawVNode);if(vnode.type===Comment)return current=null,vnode;const comp=vnode.type,name=getComponentName(isAsyncWrapper(vnode)?vnode.type.__asyncResolved||{}:comp),{include,exclude,max}=props;if(include&&(!name||!matches(include,name))||exclude&&name&&matches(exclude,name))return vnode.shapeFlag&=-257,current=vnode,rawVNode;const key=vnode.key==null?comp:vnode.key,cachedVNode=cache2.get(key);return vnode.el&&(vnode=cloneVNode(vnode),rawVNode.shapeFlag&128&&(rawVNode.ssContent=vnode)),pendingCacheKey=key,cachedVNode?(vnode.el=cachedVNode.el,vnode.component=cachedVNode.component,vnode.transition&&setTransitionHooks(vnode,vnode.transition),vnode.shapeFlag|=512,keys2.delete(key),keys2.add(key)):(keys2.add(key),max&&keys2.size>parseInt(max,10)&&pruneCacheEntry(keys2.values().next().value)),vnode.shapeFlag|=256,current=vnode,isSuspense(rawVNode.type)?rawVNode:vnode}}},KeepAlive=KeepAliveImpl;function matches(pattern,name){return isArray$3(pattern)?pattern.some(p2=>matches(p2,name)):isString$3(pattern)?pattern.split(",").includes(name):isRegExp$1(pattern)?(pattern.lastIndex=0,pattern.test(name)):!1}__name(matches,"matches");function onActivated(hook,target){registerKeepAliveHook(hook,"a",target)}__name(onActivated,"onActivated");function onDeactivated(hook,target){registerKeepAliveHook(hook,"da",target)}__name(onDeactivated,"onDeactivated");function registerKeepAliveHook(hook,type,target=currentInstance){const wrappedHook=hook.__wdc||(hook.__wdc=()=>{let current=target;for(;current;){if(current.isDeactivated)return;current=current.parent}return hook()});if(injectHook(type,wrappedHook,target),target){let current=target.parent;for(;current&&current.parent;)isKeepAlive(current.parent.vnode)&&injectToKeepAliveRoot(wrappedHook,type,target,current),current=current.parent}}__name(registerKeepAliveHook,"registerKeepAliveHook");function injectToKeepAliveRoot(hook,type,target,keepAliveRoot){const injected=injectHook(type,hook,keepAliveRoot,!0);onUnmounted(()=>{remove(keepAliveRoot[type],injected)},target)}__name(injectToKeepAliveRoot,"injectToKeepAliveRoot");function resetShapeFlag(vnode){vnode.shapeFlag&=-257,vnode.shapeFlag&=-513}__name(resetShapeFlag,"resetShapeFlag");function getInnerChild(vnode){return vnode.shapeFlag&128?vnode.ssContent:vnode}__name(getInnerChild,"getInnerChild");function injectHook(type,hook,target=currentInstance,prepend=!1){if(target){const hooks=target[type]||(target[type]=[]),wrappedHook=hook.__weh||(hook.__weh=(...args)=>{pauseTracking();const reset=setCurrentInstance(target),res=callWithAsyncErrorHandling(hook,target,type,args);return reset(),resetTracking(),res});return prepend?hooks.unshift(wrappedHook):hooks.push(wrappedHook),wrappedHook}}__name(injectHook,"injectHook");const createHook=__name(lifecycle=>(hook,target=currentInstance)=>{(!isInSSRComponentSetup||lifecycle==="sp")&&injectHook(lifecycle,(...args)=>hook(...args),target)},"createHook"),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(hook,target=currentInstance){injectHook("ec",hook,target)}__name(onErrorCaptured,"onErrorCaptured");const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(component){return isString$3(component)?resolveAsset(COMPONENTS,component,!1)||component:component||NULL_DYNAMIC_COMPONENT}__name(resolveDynamicComponent,"resolveDynamicComponent");function resolveAsset(type,name,warnMissing=!0,maybeSelfReference=!1){const instance2=currentRenderingInstance||currentInstance;if(instance2){const Component=instance2.type;{const selfName=getComponentName(Component,!1);if(selfName&&(selfName===name||selfName===camelize(name)||selfName===capitalize$1(camelize(name))))return Component}const res=resolve(instance2[type]||Component[type],name)||resolve(instance2.appContext[type],name);return!res&&maybeSelfReference?Component:res}}__name(resolveAsset,"resolveAsset");function resolve(registry,name){return registry&&(registry[name]||registry[camelize(name)]||registry[capitalize$1(camelize(name))])}__name(resolve,"resolve");function renderList(source,renderItem,cache2,index){let ret;const cached=cache2,sourceIsArray=isArray$3(source);if(sourceIsArray||isString$3(source)){const sourceIsReactiveArray=sourceIsArray&&isReactive(source);let needsWrap=!1,isReadonlySource=!1;sourceIsReactiveArray&&(needsWrap=!isShallow(source),isReadonlySource=isReadonly(source),source=shallowReadArray(source)),ret=new Array(source.length);for(let i=0,l=source.length;i<l;i++)ret[i]=renderItem(needsWrap?isReadonlySource?toReadonly(toReactive(source[i])):toReactive(source[i]):source[i],i,void 0,cached)}else if(typeof source=="number"){ret=new Array(source);for(let i=0;i<source;i++)ret[i]=renderItem(i+1,i,void 0,cached)}else if(isObject$4(source))if(source[Symbol.iterator])ret=Array.from(source,(item,i)=>renderItem(item,i,void 0,cached));else{const keys2=Object.keys(source);ret=new Array(keys2.length);for(let i=0,l=keys2.length;i<l;i++){const key=keys2[i];ret[i]=renderItem(source[key],key,i,cached)}}else ret=[];return ret}__name(renderList,"renderList");function renderSlot(slots,name,props={},fallback,noSlotted){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return name!=="default"&&(props.name=name),openBlock(),createBlock(Fragment,null,[createVNode("slot",props,fallback&&fallback())],64);let slot=slots[name];slot&&slot._c&&(slot._d=!1),openBlock();const validSlotContent=slot&&ensureValidVNode$1(slot(props)),slotKey=props.key||validSlotContent&&validSlotContent.key,rendered=createBlock(Fragment,{key:(slotKey&&!isSymbol$1(slotKey)?slotKey:"_".concat(name))+(!validSlotContent&&fallback?"_fb":"")},validSlotContent||(fallback?fallback():[]),validSlotContent&&slots._===1?64:-2);return!noSlotted&&rendered.scopeId&&(rendered.slotScopeIds=[rendered.scopeId+"-s"]),slot&&slot._c&&(slot._d=!0),rendered}__name(renderSlot,"renderSlot");function ensureValidVNode$1(vnodes){return vnodes.some(child=>isVNode$1(child)?!(child.type===Comment||child.type===Fragment&&!ensureValidVNode$1(child.children)):!0)?vnodes:null}__name(ensureValidVNode$1,"ensureValidVNode$1");const getPublicInstance=__name(i=>i?isStatefulComponent(i)?getComponentPublicInstance(i):getPublicInstance(i.parent):null,"getPublicInstance"),publicPropertiesMap=extend$1(Object.create(null),{$:__name(i=>i,"$"),$el:__name(i=>i.vnode.el,"$el"),$data:__name(i=>i.data,"$data"),$props:__name(i=>i.props,"$props"),$attrs:__name(i=>i.attrs,"$attrs"),$slots:__name(i=>i.slots,"$slots"),$refs:__name(i=>i.refs,"$refs"),$parent:__name(i=>getPublicInstance(i.parent),"$parent"),$root:__name(i=>getPublicInstance(i.root),"$root"),$host:__name(i=>i.ce,"$host"),$emit:__name(i=>i.emit,"$emit"),$options:__name(i=>resolveMergedOptions(i),"$options"),$forceUpdate:__name(i=>i.f||(i.f=()=>{queueJob(i.update)}),"$forceUpdate"),$nextTick:__name(i=>i.n||(i.n=nextTick.bind(i.proxy)),"$nextTick"),$watch:__name(i=>instanceWatch.bind(i),"$watch")}),hasSetupBinding=__name((state,key)=>state!==EMPTY_OBJ&&!state.__isScriptSetup&&hasOwn$1(state,key),"hasSetupBinding"),PublicInstanceProxyHandlers={get({_:instance2},key){if(key==="__v_skip")return!0;const{ctx:ctx2,setupState,data,props,accessCache,type,appContext}=instance2;let normalizedProps;if(key[0]!=="$"){const n=accessCache[key];if(n!==void 0)switch(n){case 1:return setupState[key];case 2:return data[key];case 4:return ctx2[key];case 3:return props[key]}else{if(hasSetupBinding(setupState,key))return accessCache[key]=1,setupState[key];if(data!==EMPTY_OBJ&&hasOwn$1(data,key))return accessCache[key]=2,data[key];if((normalizedProps=instance2.propsOptions[0])&&hasOwn$1(normalizedProps,key))return accessCache[key]=3,props[key];if(ctx2!==EMPTY_OBJ&&hasOwn$1(ctx2,key))return accessCache[key]=4,ctx2[key];shouldCacheAccess&&(accessCache[key]=0)}}const publicGetter=publicPropertiesMap[key];let cssModule,globalProperties;if(publicGetter)return key==="$attrs"&&track(instance2.attrs,"get",""),publicGetter(instance2);if((cssModule=type.__cssModules)&&(cssModule=cssModule[key]))return cssModule;if(ctx2!==EMPTY_OBJ&&hasOwn$1(ctx2,key))return accessCache[key]=4,ctx2[key];if(globalProperties=appContext.config.globalProperties,hasOwn$1(globalProperties,key))return globalProperties[key]},set({_:instance2},key,value){const{data,setupState,ctx:ctx2}=instance2;return hasSetupBinding(setupState,key)?(setupState[key]=value,!0):data!==EMPTY_OBJ&&hasOwn$1(data,key)?(data[key]=value,!0):hasOwn$1(instance2.props,key)||key[0]==="$"&&key.slice(1)in instance2?!1:(ctx2[key]=value,!0)},has({_:{data,setupState,accessCache,ctx:ctx2,appContext,propsOptions}},key){let normalizedProps;return!!accessCache[key]||data!==EMPTY_OBJ&&hasOwn$1(data,key)||hasSetupBinding(setupState,key)||(normalizedProps=propsOptions[0])&&hasOwn$1(normalizedProps,key)||hasOwn$1(ctx2,key)||hasOwn$1(publicPropertiesMap,key)||hasOwn$1(appContext.config.globalProperties,key)},defineProperty(target,key,descriptor){return descriptor.get!=null?target._.accessCache[key]=0:hasOwn$1(descriptor,"value")&&this.set(target,key,descriptor.value,null),Reflect.defineProperty(target,key,descriptor)}};function normalizePropsOrEmits(props){return isArray$3(props)?props.reduce((normalized,p2)=>(normalized[p2]=null,normalized),{}):props}__name(normalizePropsOrEmits,"normalizePropsOrEmits");function mergeModels(a,b){return!a||!b?a||b:isArray$3(a)&&isArray$3(b)?a.concat(b):extend$1({},normalizePropsOrEmits(a),normalizePropsOrEmits(b))}__name(mergeModels,"mergeModels");let shouldCacheAccess=!0;function applyOptions(instance2){const options=resolveMergedOptions(instance2),publicThis=instance2.proxy,ctx2=instance2.ctx;shouldCacheAccess=!1,options.beforeCreate&&callHook$1(options.beforeCreate,instance2,"bc");const{data:dataOptions,computed:computedOptions,methods,watch:watchOptions,provide:provideOptions,inject:injectOptions,created,beforeMount,mounted,beforeUpdate,updated,activated,deactivated,beforeDestroy,beforeUnmount,destroyed,unmounted,render:render5,renderTracked,renderTriggered,errorCaptured,serverPrefetch,expose,inheritAttrs,components:components2,directives,filters}=options;if(injectOptions&&resolveInjections(injectOptions,ctx2,null),methods)for(const key in methods){const methodHandler=methods[key];isFunction$2(methodHandler)&&(ctx2[key]=methodHandler.bind(publicThis))}if(dataOptions){const data=dataOptions.call(publicThis,publicThis);isObject$4(data)&&(instance2.data=reactive(data))}if(shouldCacheAccess=!0,computedOptions)for(const key in computedOptions){const opt=computedOptions[key],get2=isFunction$2(opt)?opt.bind(publicThis,publicThis):isFunction$2(opt.get)?opt.get.bind(publicThis,publicThis):NOOP,set=!isFunction$2(opt)&&isFunction$2(opt.set)?opt.set.bind(publicThis):NOOP,c2=computed({get:get2,set});Object.defineProperty(ctx2,key,{enumerable:!0,configurable:!0,get:__name(()=>c2.value,"get"),set:__name(v=>c2.value=v,"set")})}if(watchOptions)for(const key in watchOptions)createWatcher(watchOptions[key],ctx2,publicThis,key);if(provideOptions){const provides=isFunction$2(provideOptions)?provideOptions.call(publicThis):provideOptions;Reflect.ownKeys(provides).forEach(key=>{provide(key,provides[key])})}created&&callHook$1(created,instance2,"c");function registerLifecycleHook(register,hook){isArray$3(hook)?hook.forEach(_hook=>register(_hook.bind(publicThis))):hook&&register(hook.bind(publicThis))}if(__name(registerLifecycleHook,"registerLifecycleHook"),registerLifecycleHook(onBeforeMount,beforeMount),registerLifecycleHook(onMounted,mounted),registerLifecycleHook(onBeforeUpdate,beforeUpdate),registerLifecycleHook(onUpdated,updated),registerLifecycleHook(onActivated,activated),registerLifecycleHook(onDeactivated,deactivated),registerLifecycleHook(onErrorCaptured,errorCaptured),registerLifecycleHook(onRenderTracked,renderTracked),registerLifecycleHook(onRenderTriggered,renderTriggered),registerLifecycleHook(onBeforeUnmount,beforeUnmount),registerLifecycleHook(onUnmounted,unmounted),registerLifecycleHook(onServerPrefetch,serverPrefetch),isArray$3(expose))if(expose.length){const exposed=instance2.exposed||(instance2.exposed={});expose.forEach(key=>{Object.defineProperty(exposed,key,{get:__name(()=>publicThis[key],"get"),set:__name(val=>publicThis[key]=val,"set")})})}else instance2.exposed||(instance2.exposed={});render5&&instance2.render===NOOP&&(instance2.render=render5),inheritAttrs!=null&&(instance2.inheritAttrs=inheritAttrs),components2&&(instance2.components=components2),directives&&(instance2.directives=directives),serverPrefetch&&markAsyncBoundary(instance2)}__name(applyOptions,"applyOptions");function resolveInjections(injectOptions,ctx2,checkDuplicateProperties=NOOP){isArray$3(injectOptions)&&(injectOptions=normalizeInject(injectOptions));for(const key in injectOptions){const opt=injectOptions[key];let injected;isObject$4(opt)?"default"in opt?injected=inject(opt.from||key,opt.default,!0):injected=inject(opt.from||key):injected=inject(opt),isRef(injected)?Object.defineProperty(ctx2,key,{enumerable:!0,configurable:!0,get:__name(()=>injected.value,"get"),set:__name(v=>injected.value=v,"set")}):ctx2[key]=injected}}__name(resolveInjections,"resolveInjections");function callHook$1(hook,instance2,type){callWithAsyncErrorHandling(isArray$3(hook)?hook.map(h2=>h2.bind(instance2.proxy)):hook.bind(instance2.proxy),instance2,type)}__name(callHook$1,"callHook$1");function createWatcher(raw,ctx2,publicThis,key){let getter=key.includes(".")?createPathGetter(publicThis,key):()=>publicThis[key];if(isString$3(raw)){const handler=ctx2[raw];isFunction$2(handler)&&watch(getter,handler)}else if(isFunction$2(raw))watch(getter,raw.bind(publicThis));else if(isObject$4(raw))if(isArray$3(raw))raw.forEach(r=>createWatcher(r,ctx2,publicThis,key));else{const handler=isFunction$2(raw.handler)?raw.handler.bind(publicThis):ctx2[raw.handler];isFunction$2(handler)&&watch(getter,handler,raw)}}__name(createWatcher,"createWatcher");function resolveMergedOptions(instance2){const base2=instance2.type,{mixins,extends:extendsOptions}=base2,{mixins:globalMixins,optionsCache:cache2,config:{optionMergeStrategies}}=instance2.appContext,cached=cache2.get(base2);let resolved;return cached?resolved=cached:!globalMixins.length&&!mixins&&!extendsOptions?resolved=base2:(resolved={},globalMixins.length&&globalMixins.forEach(m=>mergeOptions$1(resolved,m,optionMergeStrategies,!0)),mergeOptions$1(resolved,base2,optionMergeStrategies)),isObject$4(base2)&&cache2.set(base2,resolved),resolved}__name(resolveMergedOptions,"resolveMergedOptions");function mergeOptions$1(to,from,strats,asMixin=!1){const{mixins,extends:extendsOptions}=from;extendsOptions&&mergeOptions$1(to,extendsOptions,strats,!0),mixins&&mixins.forEach(m=>mergeOptions$1(to,m,strats,!0));for(const key in from)if(!(asMixin&&key==="expose")){const strat=internalOptionMergeStrats[key]||strats&&strats[key];to[key]=strat?strat(to[key],from[key]):from[key]}return to}__name(mergeOptions$1,"mergeOptions$1");const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(to,from){return from?to?__name(function(){return extend$1(isFunction$2(to)?to.call(this,this):to,isFunction$2(from)?from.call(this,this):from)},"mergedDataFn"):from:to}__name(mergeDataFn,"mergeDataFn");function mergeInject(to,from){return mergeObjectOptions(normalizeInject(to),normalizeInject(from))}__name(mergeInject,"mergeInject");function normalizeInject(raw){if(isArray$3(raw)){const res={};for(let i=0;i<raw.length;i++)res[raw[i]]=raw[i];return res}return raw}__name(normalizeInject,"normalizeInject");function mergeAsArray(to,from){return to?[...new Set([].concat(to,from))]:from}__name(mergeAsArray,"mergeAsArray");function mergeObjectOptions(to,from){return to?extend$1(Object.create(null),to,from):from}__name(mergeObjectOptions,"mergeObjectOptions");function mergeEmitsOrPropsOptions(to,from){return to?isArray$3(to)&&isArray$3(from)?[...new Set([...to,...from])]:extend$1(Object.create(null),normalizePropsOrEmits(to),normalizePropsOrEmits(from!=null?from:{})):from}__name(mergeEmitsOrPropsOptions,"mergeEmitsOrPropsOptions");function mergeWatchOptions(to,from){if(!to)return from;if(!from)return to;const merged=extend$1(Object.create(null),to);for(const key in from)merged[key]=mergeAsArray(to[key],from[key]);return merged}__name(mergeWatchOptions,"mergeWatchOptions");function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}__name(createAppContext,"createAppContext");let uid$1=0;function createAppAPI(render5,hydrate){return __name(function(rootComponent,rootProps=null){isFunction$2(rootComponent)||(rootComponent=extend$1({},rootComponent)),rootProps!=null&&!isObject$4(rootProps)&&(rootProps=null);const context=createAppContext(),installedPlugins=new WeakSet,pluginCleanupFns=[];let isMounted2=!1;const app2=context.app={_uid:uid$1++,_component:rootComponent,_props:rootProps,_container:null,_context:context,_instance:null,version,get config(){return context.config},set config(v){},use(plugin2,...options){return installedPlugins.has(plugin2)||(plugin2&&isFunction$2(plugin2.install)?(installedPlugins.add(plugin2),plugin2.install(app2,...options)):isFunction$2(plugin2)&&(installedPlugins.add(plugin2),plugin2(app2,...options))),app2},mixin(mixin){return context.mixins.includes(mixin)||context.mixins.push(mixin),app2},component(name,component){return component?(context.components[name]=component,app2):context.components[name]},directive(name,directive){return directive?(context.directives[name]=directive,app2):context.directives[name]},mount(rootContainer,isHydrate,namespace2){if(!isMounted2){const vnode=app2._ceVNode||createVNode(rootComponent,rootProps);return vnode.appContext=context,namespace2===!0?namespace2="svg":namespace2===!1&&(namespace2=void 0),render5(vnode,rootContainer,namespace2),isMounted2=!0,app2._container=rootContainer,rootContainer.__vue_app__=app2,getComponentPublicInstance(vnode.component)}},onUnmount(cleanupFn){pluginCleanupFns.push(cleanupFn)},unmount(){isMounted2&&(callWithAsyncErrorHandling(pluginCleanupFns,app2._instance,16),render5(null,app2._container),delete app2._container.__vue_app__)},provide(key,value){return context.provides[key]=value,app2},runWithContext(fn){const lastApp=currentApp;currentApp=app2;try{return fn()}finally{currentApp=lastApp}}};return app2},"createApp")}__name(createAppAPI,"createAppAPI");let currentApp=null;function provide(key,value){if(currentInstance){let provides=currentInstance.provides;const parentProvides=currentInstance.parent&&currentInstance.parent.provides;parentProvides===provides&&(provides=currentInstance.provides=Object.create(parentProvides)),provides[key]=value}}__name(provide,"provide");function inject(key,defaultValue,treatDefaultAsFactory=!1){const instance2=currentInstance||currentRenderingInstance;if(instance2||currentApp){let provides=currentApp?currentApp._context.provides:instance2?instance2.parent==null||instance2.ce?instance2.vnode.appContext&&instance2.vnode.appContext.provides:instance2.parent.provides:void 0;if(provides&&key in provides)return provides[key];if(arguments.length>1)return treatDefaultAsFactory&&isFunction$2(defaultValue)?defaultValue.call(instance2&&instance2.proxy):defaultValue}}__name(inject,"inject");function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}__name(hasInjectionContext,"hasInjectionContext");const internalObjectProto={},createInternalObject=__name(()=>Object.create(internalObjectProto),"createInternalObject"),isInternalObject=__name(obj=>Object.getPrototypeOf(obj)===internalObjectProto,"isInternalObject");function initProps(instance2,rawProps,isStateful,isSSR=!1){const props={},attrs=createInternalObject();instance2.propsDefaults=Object.create(null),setFullProps(instance2,rawProps,props,attrs);for(const key in instance2.propsOptions[0])key in props||(props[key]=void 0);isStateful?instance2.props=isSSR?props:shallowReactive(props):instance2.type.props?instance2.props=props:instance2.props=attrs,instance2.attrs=attrs}__name(initProps,"initProps");function updateProps(instance2,rawProps,rawPrevProps,optimized){const{props,attrs,vnode:{patchFlag}}=instance2,rawCurrentProps=toRaw(props),[options]=instance2.propsOptions;let hasAttrsChanged=!1;if((optimized||patchFlag>0)&&!(patchFlag&16)){if(patchFlag&8){const propsToUpdate=instance2.vnode.dynamicProps;for(let i=0;i<propsToUpdate.length;i++){let key=propsToUpdate[i];if(isEmitListener(instance2.emitsOptions,key))continue;const value=rawProps[key];if(options)if(hasOwn$1(attrs,key))value!==attrs[key]&&(attrs[key]=value,hasAttrsChanged=!0);else{const camelizedKey=camelize(key);props[camelizedKey]=resolvePropValue(options,rawCurrentProps,camelizedKey,value,instance2,!1)}else value!==attrs[key]&&(attrs[key]=value,hasAttrsChanged=!0)}}}else{setFullProps(instance2,rawProps,props,attrs)&&(hasAttrsChanged=!0);let kebabKey;for(const key in rawCurrentProps)(!rawProps||!hasOwn$1(rawProps,key)&&((kebabKey=hyphenate(key))===key||!hasOwn$1(rawProps,kebabKey)))&&(options?rawPrevProps&&(rawPrevProps[key]!==void 0||rawPrevProps[kebabKey]!==void 0)&&(props[key]=resolvePropValue(options,rawCurrentProps,key,void 0,instance2,!0)):delete props[key]);if(attrs!==rawCurrentProps)for(const key in attrs)(!rawProps||!hasOwn$1(rawProps,key))&&(delete attrs[key],hasAttrsChanged=!0)}hasAttrsChanged&&trigger$1(instance2.attrs,"set","")}__name(updateProps,"updateProps");function setFullProps(instance2,rawProps,props,attrs){const[options,needCastKeys]=instance2.propsOptions;let hasAttrsChanged=!1,rawCastValues;if(rawProps)for(let key in rawProps){if(isReservedProp(key))continue;const value=rawProps[key];let camelKey;options&&hasOwn$1(options,camelKey=camelize(key))?!needCastKeys||!needCastKeys.includes(camelKey)?props[camelKey]=value:(rawCastValues||(rawCastValues={}))[camelKey]=value:isEmitListener(instance2.emitsOptions,key)||(!(key in attrs)||value!==attrs[key])&&(attrs[key]=value,hasAttrsChanged=!0)}if(needCastKeys){const rawCurrentProps=toRaw(props),castValues=rawCastValues||EMPTY_OBJ;for(let i=0;i<needCastKeys.length;i++){const key=needCastKeys[i];props[key]=resolvePropValue(options,rawCurrentProps,key,castValues[key],instance2,!hasOwn$1(castValues,key))}}return hasAttrsChanged}__name(setFullProps,"setFullProps");function resolvePropValue(options,props,key,value,instance2,isAbsent){const opt=options[key];if(opt!=null){const hasDefault=hasOwn$1(opt,"default");if(hasDefault&&value===void 0){const defaultValue=opt.default;if(opt.type!==Function&&!opt.skipFactory&&isFunction$2(defaultValue)){const{propsDefaults}=instance2;if(key in propsDefaults)value=propsDefaults[key];else{const reset=setCurrentInstance(instance2);value=propsDefaults[key]=defaultValue.call(null,props),reset()}}else value=defaultValue;instance2.ce&&instance2.ce._setProp(key,value)}opt[0]&&(isAbsent&&!hasDefault?value=!1:opt[1]&&(value===""||value===hyphenate(key))&&(value=!0))}return value}__name(resolvePropValue,"resolvePropValue");const mixinPropsCache=new WeakMap;function normalizePropsOptions(comp,appContext,asMixin=!1){const cache2=asMixin?mixinPropsCache:appContext.propsCache,cached=cache2.get(comp);if(cached)return cached;const raw=comp.props,normalized={},needCastKeys=[];let hasExtends=!1;if(!isFunction$2(comp)){const extendProps=__name(raw2=>{hasExtends=!0;const[props,keys2]=normalizePropsOptions(raw2,appContext,!0);extend$1(normalized,props),keys2&&needCastKeys.push(...keys2)},"extendProps");!asMixin&&appContext.mixins.length&&appContext.mixins.forEach(extendProps),comp.extends&&extendProps(comp.extends),comp.mixins&&comp.mixins.forEach(extendProps)}if(!raw&&!hasExtends)return isObject$4(comp)&&cache2.set(comp,EMPTY_ARR),EMPTY_ARR;if(isArray$3(raw))for(let i=0;i<raw.length;i++){const normalizedKey=camelize(raw[i]);validatePropName(normalizedKey)&&(normalized[normalizedKey]=EMPTY_OBJ)}else if(raw)for(const key in raw){const normalizedKey=camelize(key);if(validatePropName(normalizedKey)){const opt=raw[key],prop=normalized[normalizedKey]=isArray$3(opt)||isFunction$2(opt)?{type:opt}:extend$1({},opt),propType=prop.type;let shouldCast=!1,shouldCastTrue=!0;if(isArray$3(propType))for(let index=0;index<propType.length;++index){const type=propType[index],typeName=isFunction$2(type)&&type.name;if(typeName==="Boolean"){shouldCast=!0;break}else typeName==="String"&&(shouldCastTrue=!1)}else shouldCast=isFunction$2(propType)&&propType.name==="Boolean";prop[0]=shouldCast,prop[1]=shouldCastTrue,(shouldCast||hasOwn$1(prop,"default"))&&needCastKeys.push(normalizedKey)}}const res=[normalized,needCastKeys];return isObject$4(comp)&&cache2.set(comp,res),res}__name(normalizePropsOptions,"normalizePropsOptions");function validatePropName(key){return key[0]!=="$"&&!isReservedProp(key)}__name(validatePropName,"validatePropName");const isInternalKey=__name(key=>key[0]==="_"||key==="$stable","isInternalKey"),normalizeSlotValue=__name(value=>isArray$3(value)?value.map(normalizeVNode):[normalizeVNode(value)],"normalizeSlotValue"),normalizeSlot$1=__name((key,rawSlot,ctx2)=>{if(rawSlot._n)return rawSlot;const normalized=withCtx((...args)=>normalizeSlotValue(rawSlot(...args)),ctx2);return normalized._c=!1,normalized},"normalizeSlot$1"),normalizeObjectSlots=__name((rawSlots,slots,instance2)=>{const ctx2=rawSlots._ctx;for(const key in rawSlots){if(isInternalKey(key))continue;const value=rawSlots[key];if(isFunction$2(value))slots[key]=normalizeSlot$1(key,value,ctx2);else if(value!=null){const normalized=normalizeSlotValue(value);slots[key]=()=>normalized}}},"normalizeObjectSlots"),normalizeVNodeSlots=__name((instance2,children)=>{const normalized=normalizeSlotValue(children);instance2.slots.default=()=>normalized},"normalizeVNodeSlots"),assignSlots=__name((slots,children,optimized)=>{for(const key in children)(optimized||!isInternalKey(key))&&(slots[key]=children[key])},"assignSlots"),initSlots=__name((instance2,children,optimized)=>{const slots=instance2.slots=createInternalObject();if(instance2.vnode.shapeFlag&32){const cacheIndexes=children.__;cacheIndexes&&def(slots,"__",cacheIndexes,!0);const type=children._;type?(assignSlots(slots,children,optimized),optimized&&def(slots,"_",type,!0)):normalizeObjectSlots(children,slots)}else children&&normalizeVNodeSlots(instance2,children)},"initSlots"),updateSlots=__name((instance2,children,optimized)=>{const{vnode,slots}=instance2;let needDeletionCheck=!0,deletionComparisonTarget=EMPTY_OBJ;if(vnode.shapeFlag&32){const type=children._;type?optimized&&type===1?needDeletionCheck=!1:assignSlots(slots,children,optimized):(needDeletionCheck=!children.$stable,normalizeObjectSlots(children,slots)),deletionComparisonTarget=children}else children&&(normalizeVNodeSlots(instance2,children),deletionComparisonTarget={default:1});if(needDeletionCheck)for(const key in slots)!isInternalKey(key)&&deletionComparisonTarget[key]==null&&delete slots[key]},"updateSlots"),queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(options){return baseCreateRenderer(options)}__name(createRenderer,"createRenderer");function baseCreateRenderer(options,createHydrationFns){const target=getGlobalThis$1();target.__VUE__=!0;const{insert:hostInsert,remove:hostRemove,patchProp:hostPatchProp,createElement:hostCreateElement,createText:hostCreateText,createComment:hostCreateComment,setText:hostSetText,setElementText:hostSetElementText,parentNode:hostParentNode,nextSibling:hostNextSibling,setScopeId:hostSetScopeId=NOOP,insertStaticContent:hostInsertStaticContent}=options,patch=__name((n1,n2,container,anchor=null,parentComponent=null,parentSuspense=null,namespace2=void 0,slotScopeIds=null,optimized=!!n2.dynamicChildren)=>{if(n1===n2)return;n1&&!isSameVNodeType(n1,n2)&&(anchor=getNextHostNode(n1),unmount2(n1,parentComponent,parentSuspense,!0),n1=null),n2.patchFlag===-2&&(optimized=!1,n2.dynamicChildren=null);const{type,ref:ref3,shapeFlag}=n2;switch(type){case Text:processText(n1,n2,container,anchor);break;case Comment:processCommentNode(n1,n2,container,anchor);break;case Static:n1==null&&mountStaticNode(n2,container,anchor,namespace2);break;case Fragment:processFragment(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized);break;default:shapeFlag&1?processElement(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized):shapeFlag&6?processComponent(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized):(shapeFlag&64||shapeFlag&128)&&type.process(n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized,internals)}ref3!=null&&parentComponent?setRef(ref3,n1&&n1.ref,parentSuspense,n2||n1,!n2):ref3==null&&n1&&n1.ref!=null&&setRef(n1.ref,null,parentSuspense,n1,!0)},"patch"),processText=__name((n1,n2,container,anchor)=>{if(n1==null)hostInsert(n2.el=hostCreateText(n2.children),container,anchor);else{const el=n2.el=n1.el;n2.children!==n1.children&&hostSetText(el,n2.children)}},"processText"),processCommentNode=__name((n1,n2,container,anchor)=>{n1==null?hostInsert(n2.el=hostCreateComment(n2.children||""),container,anchor):n2.el=n1.el},"processCommentNode"),mountStaticNode=__name((n2,container,anchor,namespace2)=>{[n2.el,n2.anchor]=hostInsertStaticContent(n2.children,container,anchor,namespace2,n2.el,n2.anchor)},"mountStaticNode"),moveStaticNode=__name(({el,anchor},container,nextSibling)=>{let next;for(;el&&el!==anchor;)next=hostNextSibling(el),hostInsert(el,container,nextSibling),el=next;hostInsert(anchor,container,nextSibling)},"moveStaticNode"),removeStaticNode=__name(({el,anchor})=>{let next;for(;el&&el!==anchor;)next=hostNextSibling(el),hostRemove(el),el=next;hostRemove(anchor)},"removeStaticNode"),processElement=__name((n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{n2.type==="svg"?namespace2="svg":n2.type==="math"&&(namespace2="mathml"),n1==null?mountElement(n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized):patchElement(n1,n2,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)},"processElement"),mountElement=__name((vnode,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{let el,vnodeHook;const{props,shapeFlag,transition,dirs}=vnode;if(el=vnode.el=hostCreateElement(vnode.type,namespace2,props&&props.is,props),shapeFlag&8?hostSetElementText(el,vnode.children):shapeFlag&16&&mountChildren(vnode.children,el,null,parentComponent,parentSuspense,resolveChildrenNamespace(vnode,namespace2),slotScopeIds,optimized),dirs&&invokeDirectiveHook(vnode,null,parentComponent,"created"),setScopeId(el,vnode,vnode.scopeId,slotScopeIds,parentComponent),props){for(const key in props)key!=="value"&&!isReservedProp(key)&&hostPatchProp(el,key,null,props[key],namespace2,parentComponent);"value"in props&&hostPatchProp(el,"value",null,props.value,namespace2),(vnodeHook=props.onVnodeBeforeMount)&&invokeVNodeHook(vnodeHook,parentComponent,vnode)}dirs&&invokeDirectiveHook(vnode,null,parentComponent,"beforeMount");const needCallTransitionHooks=needTransition(parentSuspense,transition);needCallTransitionHooks&&transition.beforeEnter(el),hostInsert(el,container,anchor),((vnodeHook=props&&props.onVnodeMounted)||needCallTransitionHooks||dirs)&&queuePostRenderEffect(()=>{vnodeHook&&invokeVNodeHook(vnodeHook,parentComponent,vnode),needCallTransitionHooks&&transition.enter(el),dirs&&invokeDirectiveHook(vnode,null,parentComponent,"mounted")},parentSuspense)},"mountElement"),setScopeId=__name((el,vnode,scopeId,slotScopeIds,parentComponent)=>{if(scopeId&&hostSetScopeId(el,scopeId),slotScopeIds)for(let i=0;i<slotScopeIds.length;i++)hostSetScopeId(el,slotScopeIds[i]);if(parentComponent){let subTree=parentComponent.subTree;if(vnode===subTree||isSuspense(subTree.type)&&(subTree.ssContent===vnode||subTree.ssFallback===vnode)){const parentVNode=parentComponent.vnode;setScopeId(el,parentVNode,parentVNode.scopeId,parentVNode.slotScopeIds,parentComponent.parent)}}},"setScopeId"),mountChildren=__name((children,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized,start=0)=>{for(let i=start;i<children.length;i++){const child=children[i]=optimized?cloneIfMounted(children[i]):normalizeVNode(children[i]);patch(null,child,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)}},"mountChildren"),patchElement=__name((n1,n2,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{const el=n2.el=n1.el;let{patchFlag,dynamicChildren,dirs}=n2;patchFlag|=n1.patchFlag&16;const oldProps=n1.props||EMPTY_OBJ,newProps=n2.props||EMPTY_OBJ;let vnodeHook;if(parentComponent&&toggleRecurse(parentComponent,!1),(vnodeHook=newProps.onVnodeBeforeUpdate)&&invokeVNodeHook(vnodeHook,parentComponent,n2,n1),dirs&&invokeDirectiveHook(n2,n1,parentComponent,"beforeUpdate"),parentComponent&&toggleRecurse(parentComponent,!0),(oldProps.innerHTML&&newProps.innerHTML==null||oldProps.textContent&&newProps.textContent==null)&&hostSetElementText(el,""),dynamicChildren?patchBlockChildren(n1.dynamicChildren,dynamicChildren,el,parentComponent,parentSuspense,resolveChildrenNamespace(n2,namespace2),slotScopeIds):optimized||patchChildren(n1,n2,el,null,parentComponent,parentSuspense,resolveChildrenNamespace(n2,namespace2),slotScopeIds,!1),patchFlag>0){if(patchFlag&16)patchProps(el,oldProps,newProps,parentComponent,namespace2);else if(patchFlag&2&&oldProps.class!==newProps.class&&hostPatchProp(el,"class",null,newProps.class,namespace2),patchFlag&4&&hostPatchProp(el,"style",oldProps.style,newProps.style,namespace2),patchFlag&8){const propsToUpdate=n2.dynamicProps;for(let i=0;i<propsToUpdate.length;i++){const key=propsToUpdate[i],prev=oldProps[key],next=newProps[key];(next!==prev||key==="value")&&hostPatchProp(el,key,prev,next,namespace2,parentComponent)}}patchFlag&1&&n1.children!==n2.children&&hostSetElementText(el,n2.children)}else!optimized&&dynamicChildren==null&&patchProps(el,oldProps,newProps,parentComponent,namespace2);((vnodeHook=newProps.onVnodeUpdated)||dirs)&&queuePostRenderEffect(()=>{vnodeHook&&invokeVNodeHook(vnodeHook,parentComponent,n2,n1),dirs&&invokeDirectiveHook(n2,n1,parentComponent,"updated")},parentSuspense)},"patchElement"),patchBlockChildren=__name((oldChildren,newChildren,fallbackContainer,parentComponent,parentSuspense,namespace2,slotScopeIds)=>{for(let i=0;i<newChildren.length;i++){const oldVNode=oldChildren[i],newVNode=newChildren[i],container=oldVNode.el&&(oldVNode.type===Fragment||!isSameVNodeType(oldVNode,newVNode)||oldVNode.shapeFlag&198)?hostParentNode(oldVNode.el):fallbackContainer;patch(oldVNode,newVNode,container,null,parentComponent,parentSuspense,namespace2,slotScopeIds,!0)}},"patchBlockChildren"),patchProps=__name((el,oldProps,newProps,parentComponent,namespace2)=>{if(oldProps!==newProps){if(oldProps!==EMPTY_OBJ)for(const key in oldProps)!isReservedProp(key)&&!(key in newProps)&&hostPatchProp(el,key,oldProps[key],null,namespace2,parentComponent);for(const key in newProps){if(isReservedProp(key))continue;const next=newProps[key],prev=oldProps[key];next!==prev&&key!=="value"&&hostPatchProp(el,key,prev,next,namespace2,parentComponent)}"value"in newProps&&hostPatchProp(el,"value",oldProps.value,newProps.value,namespace2)}},"patchProps"),processFragment=__name((n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{const fragmentStartAnchor=n2.el=n1?n1.el:hostCreateText(""),fragmentEndAnchor=n2.anchor=n1?n1.anchor:hostCreateText("");let{patchFlag,dynamicChildren,slotScopeIds:fragmentSlotScopeIds}=n2;fragmentSlotScopeIds&&(slotScopeIds=slotScopeIds?slotScopeIds.concat(fragmentSlotScopeIds):fragmentSlotScopeIds),n1==null?(hostInsert(fragmentStartAnchor,container,anchor),hostInsert(fragmentEndAnchor,container,anchor),mountChildren(n2.children||[],container,fragmentEndAnchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)):patchFlag>0&&patchFlag&64&&dynamicChildren&&n1.dynamicChildren?(patchBlockChildren(n1.dynamicChildren,dynamicChildren,container,parentComponent,parentSuspense,namespace2,slotScopeIds),(n2.key!=null||parentComponent&&n2===parentComponent.subTree)&&traverseStaticChildren(n1,n2,!0)):patchChildren(n1,n2,container,fragmentEndAnchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)},"processFragment"),processComponent=__name((n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{n2.slotScopeIds=slotScopeIds,n1==null?n2.shapeFlag&512?parentComponent.ctx.activate(n2,container,anchor,namespace2,optimized):mountComponent(n2,container,anchor,parentComponent,parentSuspense,namespace2,optimized):updateComponent(n1,n2,optimized)},"processComponent"),mountComponent=__name((initialVNode,container,anchor,parentComponent,parentSuspense,namespace2,optimized)=>{const instance2=initialVNode.component=createComponentInstance(initialVNode,parentComponent,parentSuspense);if(isKeepAlive(initialVNode)&&(instance2.ctx.renderer=internals),setupComponent(instance2,!1,optimized),instance2.asyncDep){if(parentSuspense&&parentSuspense.registerDep(instance2,setupRenderEffect,optimized),!initialVNode.el){const placeholder=instance2.subTree=createVNode(Comment);processCommentNode(null,placeholder,container,anchor)}}else setupRenderEffect(instance2,initialVNode,container,anchor,parentSuspense,namespace2,optimized)},"mountComponent"),updateComponent=__name((n1,n2,optimized)=>{const instance2=n2.component=n1.component;if(shouldUpdateComponent(n1,n2,optimized))if(instance2.asyncDep&&!instance2.asyncResolved){updateComponentPreRender(instance2,n2,optimized);return}else instance2.next=n2,instance2.update();else n2.el=n1.el,instance2.vnode=n2},"updateComponent"),setupRenderEffect=__name((instance2,initialVNode,container,anchor,parentSuspense,namespace2,optimized)=>{const componentUpdateFn=__name(()=>{if(instance2.isMounted){let{next,bu,u,parent,vnode}=instance2;{const nonHydratedAsyncRoot=locateNonHydratedAsyncRoot(instance2);if(nonHydratedAsyncRoot){next&&(next.el=vnode.el,updateComponentPreRender(instance2,next,optimized)),nonHydratedAsyncRoot.asyncDep.then(()=>{instance2.isUnmounted||componentUpdateFn()});return}}let originNext=next,vnodeHook;toggleRecurse(instance2,!1),next?(next.el=vnode.el,updateComponentPreRender(instance2,next,optimized)):next=vnode,bu&&invokeArrayFns(bu),(vnodeHook=next.props&&next.props.onVnodeBeforeUpdate)&&invokeVNodeHook(vnodeHook,parent,next,vnode),toggleRecurse(instance2,!0);const nextTree=renderComponentRoot(instance2),prevTree=instance2.subTree;instance2.subTree=nextTree,patch(prevTree,nextTree,hostParentNode(prevTree.el),getNextHostNode(prevTree),instance2,parentSuspense,namespace2),next.el=nextTree.el,originNext===null&&updateHOCHostEl(instance2,nextTree.el),u&&queuePostRenderEffect(u,parentSuspense),(vnodeHook=next.props&&next.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(vnodeHook,parent,next,vnode),parentSuspense)}else{let vnodeHook;const{el,props}=initialVNode,{bm,m,parent,root:root2,type}=instance2,isAsyncWrapperVNode=isAsyncWrapper(initialVNode);toggleRecurse(instance2,!1),bm&&invokeArrayFns(bm),!isAsyncWrapperVNode&&(vnodeHook=props&&props.onVnodeBeforeMount)&&invokeVNodeHook(vnodeHook,parent,initialVNode),toggleRecurse(instance2,!0);{root2.ce&&root2.ce._def.shadowRoot!==!1&&root2.ce._injectChildStyle(type);const subTree=instance2.subTree=renderComponentRoot(instance2);patch(null,subTree,container,anchor,instance2,parentSuspense,namespace2),initialVNode.el=subTree.el}if(m&&queuePostRenderEffect(m,parentSuspense),!isAsyncWrapperVNode&&(vnodeHook=props&&props.onVnodeMounted)){const scopedInitialVNode=initialVNode;queuePostRenderEffect(()=>invokeVNodeHook(vnodeHook,parent,scopedInitialVNode),parentSuspense)}(initialVNode.shapeFlag&256||parent&&isAsyncWrapper(parent.vnode)&&parent.vnode.shapeFlag&256)&&instance2.a&&queuePostRenderEffect(instance2.a,parentSuspense),instance2.isMounted=!0,initialVNode=container=anchor=null}},"componentUpdateFn");instance2.scope.on();const effect2=instance2.effect=new ReactiveEffect(componentUpdateFn);instance2.scope.off();const update=instance2.update=effect2.run.bind(effect2),job=instance2.job=effect2.runIfDirty.bind(effect2);job.i=instance2,job.id=instance2.uid,effect2.scheduler=()=>queueJob(job),toggleRecurse(instance2,!0),update()},"setupRenderEffect"),updateComponentPreRender=__name((instance2,nextVNode,optimized)=>{nextVNode.component=instance2;const prevProps=instance2.vnode.props;instance2.vnode=nextVNode,instance2.next=null,updateProps(instance2,nextVNode.props,prevProps,optimized),updateSlots(instance2,nextVNode.children,optimized),pauseTracking(),flushPreFlushCbs(instance2),resetTracking()},"updateComponentPreRender"),patchChildren=__name((n1,n2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized=!1)=>{const c1=n1&&n1.children,prevShapeFlag=n1?n1.shapeFlag:0,c2=n2.children,{patchFlag,shapeFlag}=n2;if(patchFlag>0){if(patchFlag&128){patchKeyedChildren(c1,c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized);return}else if(patchFlag&256){patchUnkeyedChildren(c1,c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized);return}}shapeFlag&8?(prevShapeFlag&16&&unmountChildren(c1,parentComponent,parentSuspense),c2!==c1&&hostSetElementText(container,c2)):prevShapeFlag&16?shapeFlag&16?patchKeyedChildren(c1,c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized):unmountChildren(c1,parentComponent,parentSuspense,!0):(prevShapeFlag&8&&hostSetElementText(container,""),shapeFlag&16&&mountChildren(c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized))},"patchChildren"),patchUnkeyedChildren=__name((c1,c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{c1=c1||EMPTY_ARR,c2=c2||EMPTY_ARR;const oldLength=c1.length,newLength=c2.length,commonLength=Math.min(oldLength,newLength);let i;for(i=0;i<commonLength;i++){const nextChild=c2[i]=optimized?cloneIfMounted(c2[i]):normalizeVNode(c2[i]);patch(c1[i],nextChild,container,null,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)}oldLength>newLength?unmountChildren(c1,parentComponent,parentSuspense,!0,!1,commonLength):mountChildren(c2,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized,commonLength)},"patchUnkeyedChildren"),patchKeyedChildren=__name((c1,c2,container,parentAnchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized)=>{let i=0;const l2=c2.length;let e1=c1.length-1,e2=l2-1;for(;i<=e1&&i<=e2;){const n1=c1[i],n2=c2[i]=optimized?cloneIfMounted(c2[i]):normalizeVNode(c2[i]);if(isSameVNodeType(n1,n2))patch(n1,n2,container,null,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized);else break;i++}for(;i<=e1&&i<=e2;){const n1=c1[e1],n2=c2[e2]=optimized?cloneIfMounted(c2[e2]):normalizeVNode(c2[e2]);if(isSameVNodeType(n1,n2))patch(n1,n2,container,null,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized);else break;e1--,e2--}if(i>e1){if(i<=e2){const nextPos=e2+1,anchor=nextPos<l2?c2[nextPos].el:parentAnchor;for(;i<=e2;)patch(null,c2[i]=optimized?cloneIfMounted(c2[i]):normalizeVNode(c2[i]),container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized),i++}}else if(i>e2)for(;i<=e1;)unmount2(c1[i],parentComponent,parentSuspense,!0),i++;else{const s1=i,s2=i,keyToNewIndexMap=new Map;for(i=s2;i<=e2;i++){const nextChild=c2[i]=optimized?cloneIfMounted(c2[i]):normalizeVNode(c2[i]);nextChild.key!=null&&keyToNewIndexMap.set(nextChild.key,i)}let j,patched=0;const toBePatched=e2-s2+1;let moved=!1,maxNewIndexSoFar=0;const newIndexToOldIndexMap=new Array(toBePatched);for(i=0;i<toBePatched;i++)newIndexToOldIndexMap[i]=0;for(i=s1;i<=e1;i++){const prevChild=c1[i];if(patched>=toBePatched){unmount2(prevChild,parentComponent,parentSuspense,!0);continue}let newIndex;if(prevChild.key!=null)newIndex=keyToNewIndexMap.get(prevChild.key);else for(j=s2;j<=e2;j++)if(newIndexToOldIndexMap[j-s2]===0&&isSameVNodeType(prevChild,c2[j])){newIndex=j;break}newIndex===void 0?unmount2(prevChild,parentComponent,parentSuspense,!0):(newIndexToOldIndexMap[newIndex-s2]=i+1,newIndex>=maxNewIndexSoFar?maxNewIndexSoFar=newIndex:moved=!0,patch(prevChild,c2[newIndex],container,null,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized),patched++)}const increasingNewIndexSequence=moved?getSequence(newIndexToOldIndexMap):EMPTY_ARR;for(j=increasingNewIndexSequence.length-1,i=toBePatched-1;i>=0;i--){const nextIndex=s2+i,nextChild=c2[nextIndex],anchor=nextIndex+1<l2?c2[nextIndex+1].el:parentAnchor;newIndexToOldIndexMap[i]===0?patch(null,nextChild,container,anchor,parentComponent,parentSuspense,namespace2,slotScopeIds,optimized):moved&&(j<0||i!==increasingNewIndexSequence[j]?move2(nextChild,container,anchor,2):j--)}}},"patchKeyedChildren"),move2=__name((vnode,container,anchor,moveType,parentSuspense=null)=>{const{el,type,transition,children,shapeFlag}=vnode;if(shapeFlag&6){move2(vnode.component.subTree,container,anchor,moveType);return}if(shapeFlag&128){vnode.suspense.move(container,anchor,moveType);return}if(shapeFlag&64){type.move(vnode,container,anchor,internals);return}if(type===Fragment){hostInsert(el,container,anchor);for(let i=0;i<children.length;i++)move2(children[i],container,anchor,moveType);hostInsert(vnode.anchor,container,anchor);return}if(type===Static){moveStaticNode(vnode,container,anchor);return}if(moveType!==2&&shapeFlag&1&&transition)if(moveType===0)transition.beforeEnter(el),hostInsert(el,container,anchor),queuePostRenderEffect(()=>transition.enter(el),parentSuspense);else{const{leave,delayLeave,afterLeave}=transition,remove22=__name(()=>{vnode.ctx.isUnmounted?hostRemove(el):hostInsert(el,container,anchor)},"remove22"),performLeave=__name(()=>{leave(el,()=>{remove22(),afterLeave&&afterLeave()})},"performLeave");delayLeave?delayLeave(el,remove22,performLeave):performLeave()}else hostInsert(el,container,anchor)},"move"),unmount2=__name((vnode,parentComponent,parentSuspense,doRemove=!1,optimized=!1)=>{const{type,props,ref:ref3,children,dynamicChildren,shapeFlag,patchFlag,dirs,cacheIndex}=vnode;if(patchFlag===-2&&(optimized=!1),ref3!=null&&(pauseTracking(),setRef(ref3,null,parentSuspense,vnode,!0),resetTracking()),cacheIndex!=null&&(parentComponent.renderCache[cacheIndex]=void 0),shapeFlag&256){parentComponent.ctx.deactivate(vnode);return}const shouldInvokeDirs=shapeFlag&1&&dirs,shouldInvokeVnodeHook=!isAsyncWrapper(vnode);let vnodeHook;if(shouldInvokeVnodeHook&&(vnodeHook=props&&props.onVnodeBeforeUnmount)&&invokeVNodeHook(vnodeHook,parentComponent,vnode),shapeFlag&6)unmountComponent(vnode.component,parentSuspense,doRemove);else{if(shapeFlag&128){vnode.suspense.unmount(parentSuspense,doRemove);return}shouldInvokeDirs&&invokeDirectiveHook(vnode,null,parentComponent,"beforeUnmount"),shapeFlag&64?vnode.type.remove(vnode,parentComponent,parentSuspense,internals,doRemove):dynamicChildren&&!dynamicChildren.hasOnce&&(type!==Fragment||patchFlag>0&&patchFlag&64)?unmountChildren(dynamicChildren,parentComponent,parentSuspense,!1,!0):(type===Fragment&&patchFlag&384||!optimized&&shapeFlag&16)&&unmountChildren(children,parentComponent,parentSuspense),doRemove&&remove2(vnode)}(shouldInvokeVnodeHook&&(vnodeHook=props&&props.onVnodeUnmounted)||shouldInvokeDirs)&&queuePostRenderEffect(()=>{vnodeHook&&invokeVNodeHook(vnodeHook,parentComponent,vnode),shouldInvokeDirs&&invokeDirectiveHook(vnode,null,parentComponent,"unmounted")},parentSuspense)},"unmount"),remove2=__name(vnode=>{const{type,el,anchor,transition}=vnode;if(type===Fragment){removeFragment(el,anchor);return}if(type===Static){removeStaticNode(vnode);return}const performRemove=__name(()=>{hostRemove(el),transition&&!transition.persisted&&transition.afterLeave&&transition.afterLeave()},"performRemove");if(vnode.shapeFlag&1&&transition&&!transition.persisted){const{leave,delayLeave}=transition,performLeave=__name(()=>leave(el,performRemove),"performLeave");delayLeave?delayLeave(vnode.el,performRemove,performLeave):performLeave()}else performRemove()},"remove2"),removeFragment=__name((cur,end)=>{let next;for(;cur!==end;)next=hostNextSibling(cur),hostRemove(cur),cur=next;hostRemove(end)},"removeFragment"),unmountComponent=__name((instance2,parentSuspense,doRemove)=>{const{bum,scope,job,subTree,um,m,a,parent,slots:{__:slotCacheKeys}}=instance2;invalidateMount(m),invalidateMount(a),bum&&invokeArrayFns(bum),parent&&isArray$3(slotCacheKeys)&&slotCacheKeys.forEach(v=>{parent.renderCache[v]=void 0}),scope.stop(),job&&(job.flags|=8,unmount2(subTree,instance2,parentSuspense,doRemove)),um&&queuePostRenderEffect(um,parentSuspense),queuePostRenderEffect(()=>{instance2.isUnmounted=!0},parentSuspense),parentSuspense&&parentSuspense.pendingBranch&&!parentSuspense.isUnmounted&&instance2.asyncDep&&!instance2.asyncResolved&&instance2.suspenseId===parentSuspense.pendingId&&(parentSuspense.deps--,parentSuspense.deps===0&&parentSuspense.resolve())},"unmountComponent"),unmountChildren=__name((children,parentComponent,parentSuspense,doRemove=!1,optimized=!1,start=0)=>{for(let i=start;i<children.length;i++)unmount2(children[i],parentComponent,parentSuspense,doRemove,optimized)},"unmountChildren"),getNextHostNode=__name(vnode=>{if(vnode.shapeFlag&6)return getNextHostNode(vnode.component.subTree);if(vnode.shapeFlag&128)return vnode.suspense.next();const el=hostNextSibling(vnode.anchor||vnode.el),teleportEnd=el&&el[TeleportEndKey];return teleportEnd?hostNextSibling(teleportEnd):el},"getNextHostNode");let isFlushing=!1;const render5=__name((vnode,container,namespace2)=>{vnode==null?container._vnode&&unmount2(container._vnode,null,null,!0):patch(container._vnode||null,vnode,container,null,null,null,namespace2),container._vnode=vnode,isFlushing||(isFlushing=!0,flushPreFlushCbs(),flushPostFlushCbs(),isFlushing=!1)},"render"),internals={p:patch,um:unmount2,m:move2,r:remove2,mt:mountComponent,mc:mountChildren,pc:patchChildren,pbc:patchBlockChildren,n:getNextHostNode,o:options};return{render:render5,hydrate:void 0,createApp:createAppAPI(render5)}}__name(baseCreateRenderer,"baseCreateRenderer");function resolveChildrenNamespace({type,props},currentNamespace){return currentNamespace==="svg"&&type==="foreignObject"||currentNamespace==="mathml"&&type==="annotation-xml"&&props&&props.encoding&&props.encoding.includes("html")?void 0:currentNamespace}__name(resolveChildrenNamespace,"resolveChildrenNamespace");function toggleRecurse({effect:effect2,job},allowed){allowed?(effect2.flags|=32,job.flags|=4):(effect2.flags&=-33,job.flags&=-5)}__name(toggleRecurse,"toggleRecurse");function needTransition(parentSuspense,transition){return(!parentSuspense||parentSuspense&&!parentSuspense.pendingBranch)&&transition&&!transition.persisted}__name(needTransition,"needTransition");function traverseStaticChildren(n1,n2,shallow=!1){const ch1=n1.children,ch2=n2.children;if(isArray$3(ch1)&&isArray$3(ch2))for(let i=0;i<ch1.length;i++){const c1=ch1[i];let c2=ch2[i];c2.shapeFlag&1&&!c2.dynamicChildren&&((c2.patchFlag<=0||c2.patchFlag===32)&&(c2=ch2[i]=cloneIfMounted(ch2[i]),c2.el=c1.el),!shallow&&c2.patchFlag!==-2&&traverseStaticChildren(c1,c2)),c2.type===Text&&(c2.el=c1.el),c2.type===Comment&&!c2.el&&(c2.el=c1.el)}}__name(traverseStaticChildren,"traverseStaticChildren");function getSequence(arr){const p2=arr.slice(),result=[0];let i,j,u,v,c2;const len=arr.length;for(i=0;i<len;i++){const arrI=arr[i];if(arrI!==0){if(j=result[result.length-1],arr[j]<arrI){p2[i]=j,result.push(i);continue}for(u=0,v=result.length-1;u<v;)c2=u+v>>1,arr[result[c2]]<arrI?u=c2+1:v=c2;arrI<arr[result[u]]&&(u>0&&(p2[i]=result[u-1]),result[u]=i)}}for(u=result.length,v=result[u-1];u-- >0;)result[u]=v,v=p2[v];return result}__name(getSequence,"getSequence");function locateNonHydratedAsyncRoot(instance2){const subComponent=instance2.subTree.component;if(subComponent)return subComponent.asyncDep&&!subComponent.asyncResolved?subComponent:locateNonHydratedAsyncRoot(subComponent)}__name(locateNonHydratedAsyncRoot,"locateNonHydratedAsyncRoot");function invalidateMount(hooks){if(hooks)for(let i=0;i<hooks.length;i++)hooks[i].flags|=8}__name(invalidateMount,"invalidateMount");const ssrContextKey$1=Symbol.for("v-scx"),useSSRContext=__name(()=>inject(ssrContextKey$1),"useSSRContext");function watchEffect(effect2,options){return doWatch(effect2,null,options)}__name(watchEffect,"watchEffect");function watchSyncEffect(effect2,options){return doWatch(effect2,null,{flush:"sync"})}__name(watchSyncEffect,"watchSyncEffect");function watch(source,cb,options){return doWatch(source,cb,options)}__name(watch,"watch");function doWatch(source,cb,options=EMPTY_OBJ){const{immediate,deep,flush,once}=options,baseWatchOptions=extend$1({},options),runsImmediately=cb&&immediate||!cb&&flush!=="post";let ssrCleanup;if(isInSSRComponentSetup){if(flush==="sync"){const ctx2=useSSRContext();ssrCleanup=ctx2.__watcherHandles||(ctx2.__watcherHandles=[])}else if(!runsImmediately){const watchStopHandle=__name(()=>{},"watchStopHandle");return watchStopHandle.stop=NOOP,watchStopHandle.resume=NOOP,watchStopHandle.pause=NOOP,watchStopHandle}}const instance2=currentInstance;baseWatchOptions.call=(fn,type,args)=>callWithAsyncErrorHandling(fn,instance2,type,args);let isPre=!1;flush==="post"?baseWatchOptions.scheduler=job=>{queuePostRenderEffect(job,instance2&&instance2.suspense)}:flush!=="sync"&&(isPre=!0,baseWatchOptions.scheduler=(job,isFirstRun)=>{isFirstRun?job():queueJob(job)}),baseWatchOptions.augmentJob=job=>{cb&&(job.flags|=4),isPre&&(job.flags|=2,instance2&&(job.id=instance2.uid,job.i=instance2))};const watchHandle=watch$1(source,cb,baseWatchOptions);return isInSSRComponentSetup&&(ssrCleanup?ssrCleanup.push(watchHandle):runsImmediately&&watchHandle()),watchHandle}__name(doWatch,"doWatch");function instanceWatch(source,value,options){const publicThis=this.proxy,getter=isString$3(source)?source.includes(".")?createPathGetter(publicThis,source):()=>publicThis[source]:source.bind(publicThis,publicThis);let cb;isFunction$2(value)?cb=value:(cb=value.handler,options=value);const reset=setCurrentInstance(this),res=doWatch(getter,cb.bind(publicThis),options);return reset(),res}__name(instanceWatch,"instanceWatch");function createPathGetter(ctx2,path){const segments=path.split(".");return()=>{let cur=ctx2;for(let i=0;i<segments.length&&cur;i++)cur=cur[segments[i]];return cur}}__name(createPathGetter,"createPathGetter");function useModel(props,name,options=EMPTY_OBJ){const i=getCurrentInstance(),camelizedName=camelize(name),hyphenatedName=hyphenate(name),modifiers=getModelModifiers(props,camelizedName),res=customRef((track2,trigger2)=>{let localValue,prevSetValue=EMPTY_OBJ,prevEmittedValue;return watchSyncEffect(()=>{const propValue=props[camelizedName];hasChanged(localValue,propValue)&&(localValue=propValue,trigger2())}),{get(){return track2(),options.get?options.get(localValue):localValue},set(value){const emittedValue=options.set?options.set(value):value;if(!hasChanged(emittedValue,localValue)&&!(prevSetValue!==EMPTY_OBJ&&hasChanged(value,prevSetValue)))return;const rawProps=i.vnode.props;rawProps&&(name in rawProps||camelizedName in rawProps||hyphenatedName in rawProps)&&("onUpdate:".concat(name)in rawProps||"onUpdate:".concat(camelizedName)in rawProps||"onUpdate:".concat(hyphenatedName)in rawProps)||(localValue=value,trigger2()),i.emit("update:".concat(name),emittedValue),hasChanged(value,emittedValue)&&hasChanged(value,prevSetValue)&&!hasChanged(emittedValue,prevEmittedValue)&&trigger2(),prevSetValue=value,prevEmittedValue=emittedValue}}});return res[Symbol.iterator]=()=>{let i2=0;return{next(){return i2<2?{value:i2++?modifiers||EMPTY_OBJ:res,done:!1}:{done:!0}}}},res}__name(useModel,"useModel");const getModelModifiers=__name((props,modelName)=>modelName==="modelValue"||modelName==="model-value"?props.modelModifiers:props["".concat(modelName,"Modifiers")]||props["".concat(camelize(modelName),"Modifiers")]||props["".concat(hyphenate(modelName),"Modifiers")],"getModelModifiers");function emit(instance2,event,...rawArgs){if(instance2.isUnmounted)return;const props=instance2.vnode.props||EMPTY_OBJ;let args=rawArgs;const isModelListener2=event.startsWith("update:"),modifiers=isModelListener2&&getModelModifiers(props,event.slice(7));modifiers&&(modifiers.trim&&(args=rawArgs.map(a=>isString$3(a)?a.trim():a)),modifiers.number&&(args=rawArgs.map(looseToNumber)));let handlerName,handler=props[handlerName=toHandlerKey(event)]||props[handlerName=toHandlerKey(camelize(event))];!handler&&isModelListener2&&(handler=props[handlerName=toHandlerKey(hyphenate(event))]),handler&&callWithAsyncErrorHandling(handler,instance2,6,args);const onceHandler=props[handlerName+"Once"];if(onceHandler){if(!instance2.emitted)instance2.emitted={};else if(instance2.emitted[handlerName])return;instance2.emitted[handlerName]=!0,callWithAsyncErrorHandling(onceHandler,instance2,6,args)}}__name(emit,"emit");function normalizeEmitsOptions(comp,appContext,asMixin=!1){const cache2=appContext.emitsCache,cached=cache2.get(comp);if(cached!==void 0)return cached;const raw=comp.emits;let normalized={},hasExtends=!1;if(!isFunction$2(comp)){const extendEmits=__name(raw2=>{const normalizedFromExtend=normalizeEmitsOptions(raw2,appContext,!0);normalizedFromExtend&&(hasExtends=!0,extend$1(normalized,normalizedFromExtend))},"extendEmits");!asMixin&&appContext.mixins.length&&appContext.mixins.forEach(extendEmits),comp.extends&&extendEmits(comp.extends),comp.mixins&&comp.mixins.forEach(extendEmits)}return!raw&&!hasExtends?(isObject$4(comp)&&cache2.set(comp,null),null):(isArray$3(raw)?raw.forEach(key=>normalized[key]=null):extend$1(normalized,raw),isObject$4(comp)&&cache2.set(comp,normalized),normalized)}__name(normalizeEmitsOptions,"normalizeEmitsOptions");function isEmitListener(options,key){return!options||!isOn(key)?!1:(key=key.slice(2).replace(/Once$/,""),hasOwn$1(options,key[0].toLowerCase()+key.slice(1))||hasOwn$1(options,hyphenate(key))||hasOwn$1(options,key))}__name(isEmitListener,"isEmitListener");function renderComponentRoot(instance2){const{type:Component,vnode,proxy,withProxy,propsOptions:[propsOptions],slots,attrs,emit:emit2,render:render5,renderCache,props,data,setupState,ctx:ctx2,inheritAttrs}=instance2,prev=setCurrentRenderingInstance(instance2);let result,fallthroughAttrs;try{if(vnode.shapeFlag&4){const proxyToUse=withProxy||proxy,thisProxy=proxyToUse;result=normalizeVNode(render5.call(thisProxy,proxyToUse,renderCache,props,setupState,data,ctx2)),fallthroughAttrs=attrs}else{const render22=Component;result=normalizeVNode(render22.length>1?render22(props,{attrs,slots,emit:emit2}):render22(props,null)),fallthroughAttrs=Component.props?attrs:getFunctionalFallthrough(attrs)}}catch(err){blockStack.length=0,handleError(err,instance2,1),result=createVNode(Comment)}let root2=result;if(fallthroughAttrs&&inheritAttrs!==!1){const keys2=Object.keys(fallthroughAttrs),{shapeFlag}=root2;keys2.length&&shapeFlag&7&&(propsOptions&&keys2.some(isModelListener)&&(fallthroughAttrs=filterModelListeners(fallthroughAttrs,propsOptions)),root2=cloneVNode(root2,fallthroughAttrs,!1,!0))}return vnode.dirs&&(root2=cloneVNode(root2,null,!1,!0),root2.dirs=root2.dirs?root2.dirs.concat(vnode.dirs):vnode.dirs),vnode.transition&&setTransitionHooks(root2,vnode.transition),result=root2,setCurrentRenderingInstance(prev),result}__name(renderComponentRoot,"renderComponentRoot");const getFunctionalFallthrough=__name(attrs=>{let res;for(const key in attrs)(key==="class"||key==="style"||isOn(key))&&((res||(res={}))[key]=attrs[key]);return res},"getFunctionalFallthrough"),filterModelListeners=__name((attrs,props)=>{const res={};for(const key in attrs)(!isModelListener(key)||!(key.slice(9)in props))&&(res[key]=attrs[key]);return res},"filterModelListeners");function shouldUpdateComponent(prevVNode,nextVNode,optimized){const{props:prevProps,children:prevChildren,component}=prevVNode,{props:nextProps,children:nextChildren,patchFlag}=nextVNode,emits=component.emitsOptions;if(nextVNode.dirs||nextVNode.transition)return!0;if(optimized&&patchFlag>=0){if(patchFlag&1024)return!0;if(patchFlag&16)return prevProps?hasPropsChanged(prevProps,nextProps,emits):!!nextProps;if(patchFlag&8){const dynamicProps=nextVNode.dynamicProps;for(let i=0;i<dynamicProps.length;i++){const key=dynamicProps[i];if(nextProps[key]!==prevProps[key]&&!isEmitListener(emits,key))return!0}}}else return(prevChildren||nextChildren)&&(!nextChildren||!nextChildren.$stable)?!0:prevProps===nextProps?!1:prevProps?nextProps?hasPropsChanged(prevProps,nextProps,emits):!0:!!nextProps;return!1}__name(shouldUpdateComponent,"shouldUpdateComponent");function hasPropsChanged(prevProps,nextProps,emitsOptions){const nextKeys=Object.keys(nextProps);if(nextKeys.length!==Object.keys(prevProps).length)return!0;for(let i=0;i<nextKeys.length;i++){const key=nextKeys[i];if(nextProps[key]!==prevProps[key]&&!isEmitListener(emitsOptions,key))return!0}return!1}__name(hasPropsChanged,"hasPropsChanged");function updateHOCHostEl({vnode,parent},el){for(;parent;){const root2=parent.subTree;if(root2.suspense&&root2.suspense.activeBranch===vnode&&(root2.el=vnode.el),root2===vnode)(vnode=parent.vnode).el=el,parent=parent.parent;else break}}__name(updateHOCHostEl,"updateHOCHostEl");const isSuspense=__name(type=>type.__isSuspense,"isSuspense");function queueEffectWithSuspense(fn,suspense){suspense&&suspense.pendingBranch?isArray$3(fn)?suspense.effects.push(...fn):suspense.effects.push(fn):queuePostFlushCb(fn)}__name(queueEffectWithSuspense,"queueEffectWithSuspense");const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(disableTracking=!1){blockStack.push(currentBlock=disableTracking?null:[])}__name(openBlock,"openBlock");function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}__name(closeBlock,"closeBlock");let isBlockTreeEnabled=1;function setBlockTracking(value,inVOnce=!1){isBlockTreeEnabled+=value,value<0&&currentBlock&&inVOnce&&(currentBlock.hasOnce=!0)}__name(setBlockTracking,"setBlockTracking");function setupBlock(vnode){return vnode.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(vnode),vnode}__name(setupBlock,"setupBlock");function createElementBlock(type,props,children,patchFlag,dynamicProps,shapeFlag){return setupBlock(createBaseVNode(type,props,children,patchFlag,dynamicProps,shapeFlag,!0))}__name(createElementBlock,"createElementBlock");function createBlock(type,props,children,patchFlag,dynamicProps){return setupBlock(createVNode(type,props,children,patchFlag,dynamicProps,!0))}__name(createBlock,"createBlock");function isVNode$1(value){return value?value.__v_isVNode===!0:!1}__name(isVNode$1,"isVNode$1");function isSameVNodeType(n1,n2){return n1.type===n2.type&&n1.key===n2.key}__name(isSameVNodeType,"isSameVNodeType");const normalizeKey=__name(({key})=>key!=null?key:null,"normalizeKey"),normalizeRef=__name(({ref:ref3,ref_key,ref_for})=>(typeof ref3=="number"&&(ref3=""+ref3),ref3!=null?isString$3(ref3)||isRef(ref3)||isFunction$2(ref3)?{i:currentRenderingInstance,r:ref3,k:ref_key,f:!!ref_for}:ref3:null),"normalizeRef");function createBaseVNode(type,props=null,children=null,patchFlag=0,dynamicProps=null,shapeFlag=type===Fragment?0:1,isBlockNode=!1,needFullChildrenNormalization=!1){const vnode={__v_isVNode:!0,__v_skip:!0,type,props,key:props&&normalizeKey(props),ref:props&&normalizeRef(props),scopeId:currentScopeId,slotScopeIds:null,children,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag,patchFlag,dynamicProps,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return needFullChildrenNormalization?(normalizeChildren(vnode,children),shapeFlag&128&&type.normalize(vnode)):children&&(vnode.shapeFlag|=isString$3(children)?8:16),isBlockTreeEnabled>0&&!isBlockNode&&currentBlock&&(vnode.patchFlag>0||shapeFlag&6)&&vnode.patchFlag!==32&&currentBlock.push(vnode),vnode}__name(createBaseVNode,"createBaseVNode");const createVNode=_createVNode;function _createVNode(type,props=null,children=null,patchFlag=0,dynamicProps=null,isBlockNode=!1){if((!type||type===NULL_DYNAMIC_COMPONENT)&&(type=Comment),isVNode$1(type)){const cloned=cloneVNode(type,props,!0);return children&&normalizeChildren(cloned,children),isBlockTreeEnabled>0&&!isBlockNode&&currentBlock&&(cloned.shapeFlag&6?currentBlock[currentBlock.indexOf(type)]=cloned:currentBlock.push(cloned)),cloned.patchFlag=-2,cloned}if(isClassComponent(type)&&(type=type.__vccOpts),props){props=guardReactiveProps(props);let{class:klass,style:style2}=props;klass&&!isString$3(klass)&&(props.class=normalizeClass(klass)),isObject$4(style2)&&(isProxy(style2)&&!isArray$3(style2)&&(style2=extend$1({},style2)),props.style=normalizeStyle(style2))}const shapeFlag=isString$3(type)?1:isSuspense(type)?128:isTeleport(type)?64:isObject$4(type)?4:isFunction$2(type)?2:0;return createBaseVNode(type,props,children,patchFlag,dynamicProps,shapeFlag,isBlockNode,!0)}__name(_createVNode,"_createVNode");function guardReactiveProps(props){return props?isProxy(props)||isInternalObject(props)?extend$1({},props):props:null}__name(guardReactiveProps,"guardReactiveProps");function cloneVNode(vnode,extraProps,mergeRef=!1,cloneTransition=!1){const{props,ref:ref3,patchFlag,children,transition}=vnode,mergedProps=extraProps?mergeProps(props||{},extraProps):props,cloned={__v_isVNode:!0,__v_skip:!0,type:vnode.type,props:mergedProps,key:mergedProps&&normalizeKey(mergedProps),ref:extraProps&&extraProps.ref?mergeRef&&ref3?isArray$3(ref3)?ref3.concat(normalizeRef(extraProps)):[ref3,normalizeRef(extraProps)]:normalizeRef(extraProps):ref3,scopeId:vnode.scopeId,slotScopeIds:vnode.slotScopeIds,children,target:vnode.target,targetStart:vnode.targetStart,targetAnchor:vnode.targetAnchor,staticCount:vnode.staticCount,shapeFlag:vnode.shapeFlag,patchFlag:extraProps&&vnode.type!==Fragment?patchFlag===-1?16:patchFlag|16:patchFlag,dynamicProps:vnode.dynamicProps,dynamicChildren:vnode.dynamicChildren,appContext:vnode.appContext,dirs:vnode.dirs,transition,component:vnode.component,suspense:vnode.suspense,ssContent:vnode.ssContent&&cloneVNode(vnode.ssContent),ssFallback:vnode.ssFallback&&cloneVNode(vnode.ssFallback),el:vnode.el,anchor:vnode.anchor,ctx:vnode.ctx,ce:vnode.ce};return transition&&cloneTransition&&setTransitionHooks(cloned,transition.clone(cloned)),cloned}__name(cloneVNode,"cloneVNode");function createTextVNode(text=" ",flag=0){return createVNode(Text,null,text,flag)}__name(createTextVNode,"createTextVNode");function createStaticVNode(content,numberOfNodes){const vnode=createVNode(Static,null,content);return vnode.staticCount=numberOfNodes,vnode}__name(createStaticVNode,"createStaticVNode");function createCommentVNode(text="",asBlock=!1){return asBlock?(openBlock(),createBlock(Comment,null,text)):createVNode(Comment,null,text)}__name(createCommentVNode,"createCommentVNode");function normalizeVNode(child){return child==null||typeof child=="boolean"?createVNode(Comment):isArray$3(child)?createVNode(Fragment,null,child.slice()):isVNode$1(child)?cloneIfMounted(child):createVNode(Text,null,String(child))}__name(normalizeVNode,"normalizeVNode");function cloneIfMounted(child){return child.el===null&&child.patchFlag!==-1||child.memo?child:cloneVNode(child)}__name(cloneIfMounted,"cloneIfMounted");function normalizeChildren(vnode,children){let type=0;const{shapeFlag}=vnode;if(children==null)children=null;else if(isArray$3(children))type=16;else if(typeof children=="object")if(shapeFlag&65){const slot=children.default;slot&&(slot._c&&(slot._d=!1),normalizeChildren(vnode,slot()),slot._c&&(slot._d=!0));return}else{type=32;const slotFlag=children._;!slotFlag&&!isInternalObject(children)?children._ctx=currentRenderingInstance:slotFlag===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?children._=1:(children._=2,vnode.patchFlag|=1024))}else isFunction$2(children)?(children={default:children,_ctx:currentRenderingInstance},type=32):(children=String(children),shapeFlag&64?(type=16,children=[createTextVNode(children)]):type=8);vnode.children=children,vnode.shapeFlag|=type}__name(normalizeChildren,"normalizeChildren");function mergeProps(...args){const ret={};for(let i=0;i<args.length;i++){const toMerge=args[i];for(const key in toMerge)if(key==="class")ret.class!==toMerge.class&&(ret.class=normalizeClass([ret.class,toMerge.class]));else if(key==="style")ret.style=normalizeStyle([ret.style,toMerge.style]);else if(isOn(key)){const existing=ret[key],incoming=toMerge[key];incoming&&existing!==incoming&&!(isArray$3(existing)&&existing.includes(incoming))&&(ret[key]=existing?[].concat(existing,incoming):incoming)}else key!==""&&(ret[key]=toMerge[key])}return ret}__name(mergeProps,"mergeProps");function invokeVNodeHook(hook,instance2,vnode,prevVNode=null){callWithAsyncErrorHandling(hook,instance2,7,[vnode,prevVNode])}__name(invokeVNodeHook,"invokeVNodeHook");const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(vnode,parent,suspense){const type=vnode.type,appContext=(parent?parent.appContext:vnode.appContext)||emptyAppContext,instance2={uid:uid++,vnode,type,parent,appContext,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:parent?parent.provides:Object.create(appContext.provides),ids:parent?parent.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(type,appContext),emitsOptions:normalizeEmitsOptions(type,appContext),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:type.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense,suspenseId:suspense?suspense.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return instance2.ctx={_:instance2},instance2.root=parent?parent.root:instance2,instance2.emit=emit.bind(null,instance2),vnode.ce&&vnode.ce(instance2),instance2}__name(createComponentInstance,"createComponentInstance");let currentInstance=null;const getCurrentInstance=__name(()=>currentInstance||currentRenderingInstance,"getCurrentInstance");let internalSetCurrentInstance,setInSSRSetupState;{const g=getGlobalThis$1(),registerGlobalSetter=__name((key,setter)=>{let setters;return(setters=g[key])||(setters=g[key]=[]),setters.push(setter),v=>{setters.length>1?setters.forEach(set=>set(v)):setters[0](v)}},"registerGlobalSetter");internalSetCurrentInstance=registerGlobalSetter("__VUE_INSTANCE_SETTERS__",v=>currentInstance=v),setInSSRSetupState=registerGlobalSetter("__VUE_SSR_SETTERS__",v=>isInSSRComponentSetup=v)}const setCurrentInstance=__name(instance2=>{const prev=currentInstance;return internalSetCurrentInstance(instance2),instance2.scope.on(),()=>{instance2.scope.off(),internalSetCurrentInstance(prev)}},"setCurrentInstance"),unsetCurrentInstance=__name(()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)},"unsetCurrentInstance");function isStatefulComponent(instance2){return instance2.vnode.shapeFlag&4}__name(isStatefulComponent,"isStatefulComponent");let isInSSRComponentSetup=!1;function setupComponent(instance2,isSSR=!1,optimized=!1){isSSR&&setInSSRSetupState(isSSR);const{props,children}=instance2.vnode,isStateful=isStatefulComponent(instance2);initProps(instance2,props,isStateful,isSSR),initSlots(instance2,children,optimized||isSSR);const setupResult=isStateful?setupStatefulComponent(instance2,isSSR):void 0;return isSSR&&setInSSRSetupState(!1),setupResult}__name(setupComponent,"setupComponent");function setupStatefulComponent(instance2,isSSR){const Component=instance2.type;instance2.accessCache=Object.create(null),instance2.proxy=new Proxy(instance2.ctx,PublicInstanceProxyHandlers);const{setup}=Component;if(setup){pauseTracking();const setupContext=instance2.setupContext=setup.length>1?createSetupContext(instance2):null,reset=setCurrentInstance(instance2),setupResult=callWithErrorHandling(setup,instance2,0,[instance2.props,setupContext]),isAsyncSetup=isPromise$1(setupResult);if(resetTracking(),reset(),(isAsyncSetup||instance2.sp)&&!isAsyncWrapper(instance2)&&markAsyncBoundary(instance2),isAsyncSetup){if(setupResult.then(unsetCurrentInstance,unsetCurrentInstance),isSSR)return setupResult.then(resolvedResult=>{handleSetupResult(instance2,resolvedResult)}).catch(e=>{handleError(e,instance2,0)});instance2.asyncDep=setupResult}else handleSetupResult(instance2,setupResult)}else finishComponentSetup(instance2)}__name(setupStatefulComponent,"setupStatefulComponent");function handleSetupResult(instance2,setupResult,isSSR){isFunction$2(setupResult)?instance2.type.__ssrInlineRender?instance2.ssrRender=setupResult:instance2.render=setupResult:isObject$4(setupResult)&&(instance2.setupState=proxyRefs(setupResult)),finishComponentSetup(instance2)}__name(handleSetupResult,"handleSetupResult");function finishComponentSetup(instance2,isSSR,skipOptions){const Component=instance2.type;instance2.render||(instance2.render=Component.render||NOOP);{const reset=setCurrentInstance(instance2);pauseTracking();try{applyOptions(instance2)}finally{resetTracking(),reset()}}}__name(finishComponentSetup,"finishComponentSetup");const attrsProxyHandlers={get(target,key){return track(target,"get",""),target[key]}};function createSetupContext(instance2){const expose=__name(exposed=>{instance2.exposed=exposed||{}},"expose");return{attrs:new Proxy(instance2.attrs,attrsProxyHandlers),slots:instance2.slots,emit:instance2.emit,expose}}__name(createSetupContext,"createSetupContext");function getComponentPublicInstance(instance2){return instance2.exposed?instance2.exposeProxy||(instance2.exposeProxy=new Proxy(proxyRefs(markRaw(instance2.exposed)),{get(target,key){if(key in target)return target[key];if(key in publicPropertiesMap)return publicPropertiesMap[key](instance2)},has(target,key){return key in target||key in publicPropertiesMap}})):instance2.proxy}__name(getComponentPublicInstance,"getComponentPublicInstance");function getComponentName(Component,includeInferred=!0){return isFunction$2(Component)?Component.displayName||Component.name:Component.name||includeInferred&&Component.__name}__name(getComponentName,"getComponentName");function isClassComponent(value){return isFunction$2(value)&&"__vccOpts"in value}__name(isClassComponent,"isClassComponent");const computed=__name((getterOrOptions,debugOptions)=>computed$1(getterOrOptions,debugOptions,isInSSRComponentSetup),"computed");function h(type,propsOrChildren,children){const l=arguments.length;return l===2?isObject$4(propsOrChildren)&&!isArray$3(propsOrChildren)?isVNode$1(propsOrChildren)?createVNode(type,null,[propsOrChildren]):createVNode(type,propsOrChildren):createVNode(type,null,propsOrChildren):(l>3?children=Array.prototype.slice.call(arguments,2):l===3&&isVNode$1(children)&&(children=[children]),createVNode(type,propsOrChildren,children))}__name(h,"h");const version="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:__name(val=>val,"createHTML")})}catch(e){}const unsafeToTrustedHTML=policy?val=>policy.createHTML(val):val=>val,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:__name((child,parent,anchor)=>{parent.insertBefore(child,anchor||null)},"insert"),remove:__name(child=>{const parent=child.parentNode;parent&&parent.removeChild(child)},"remove"),createElement:__name((tag,namespace2,is,props)=>{const el=namespace2==="svg"?doc.createElementNS(svgNS,tag):namespace2==="mathml"?doc.createElementNS(mathmlNS,tag):is?doc.createElement(tag,{is}):doc.createElement(tag);return tag==="select"&&props&&props.multiple!=null&&el.setAttribute("multiple",props.multiple),el},"createElement"),createText:__name(text=>doc.createTextNode(text),"createText"),createComment:__name(text=>doc.createComment(text),"createComment"),setText:__name((node,text)=>{node.nodeValue=text},"setText"),setElementText:__name((el,text)=>{el.textContent=text},"setElementText"),parentNode:__name(node=>node.parentNode,"parentNode"),nextSibling:__name(node=>node.nextSibling,"nextSibling"),querySelector:__name(selector=>doc.querySelector(selector),"querySelector"),setScopeId(el,id){el.setAttribute(id,"")},insertStaticContent(content,parent,anchor,namespace2,start,end){const before=anchor?anchor.previousSibling:parent.lastChild;if(start&&(start===end||start.nextSibling))for(;parent.insertBefore(start.cloneNode(!0),anchor),!(start===end||!(start=start.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(namespace2==="svg"?"<svg>".concat(content,"</svg>"):namespace2==="mathml"?"<math>".concat(content,"</math>"):content);const template=templateContainer.content;if(namespace2==="svg"||namespace2==="mathml"){const wrapper=template.firstChild;for(;wrapper.firstChild;)template.appendChild(wrapper.firstChild);template.removeChild(wrapper)}parent.insertBefore(template,anchor)}return[before?before.nextSibling:parent.firstChild,anchor?anchor.previousSibling:parent.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=__name(t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),"decorate$1"),Transition=decorate$1((props,{slots})=>h(BaseTransition,resolveTransitionProps(props),slots)),callHook=__name((hook,args=[])=>{isArray$3(hook)?hook.forEach(h2=>h2(...args)):hook&&hook(...args)},"callHook"),hasExplicitCallback=__name(hook=>hook?isArray$3(hook)?hook.some(h2=>h2.length>1):hook.length>1:!1,"hasExplicitCallback");function resolveTransitionProps(rawProps){const baseProps={};for(const key in rawProps)key in DOMTransitionPropsValidators||(baseProps[key]=rawProps[key]);if(rawProps.css===!1)return baseProps;const{name="v",type,duration:duration2,enterFromClass="".concat(name,"-enter-from"),enterActiveClass="".concat(name,"-enter-active"),enterToClass="".concat(name,"-enter-to"),appearFromClass=enterFromClass,appearActiveClass=enterActiveClass,appearToClass=enterToClass,leaveFromClass="".concat(name,"-leave-from"),leaveActiveClass="".concat(name,"-leave-active"),leaveToClass="".concat(name,"-leave-to")}=rawProps,durations=normalizeDuration(duration2),enterDuration=durations&&durations[0],leaveDuration=durations&&durations[1],{onBeforeEnter,onEnter,onEnterCancelled,onLeave,onLeaveCancelled,onBeforeAppear=onBeforeEnter,onAppear=onEnter,onAppearCancelled=onEnterCancelled}=baseProps,finishEnter=__name((el,isAppear,done,isCancelled)=>{el._enterCancelled=isCancelled,removeTransitionClass(el,isAppear?appearToClass:enterToClass),removeTransitionClass(el,isAppear?appearActiveClass:enterActiveClass),done&&done()},"finishEnter"),finishLeave=__name((el,done)=>{el._isLeaving=!1,removeTransitionClass(el,leaveFromClass),removeTransitionClass(el,leaveToClass),removeTransitionClass(el,leaveActiveClass),done&&done()},"finishLeave"),makeEnterHook=__name(isAppear=>(el,done)=>{const hook=isAppear?onAppear:onEnter,resolve2=__name(()=>finishEnter(el,isAppear,done),"resolve");callHook(hook,[el,resolve2]),nextFrame(()=>{removeTransitionClass(el,isAppear?appearFromClass:enterFromClass),addTransitionClass(el,isAppear?appearToClass:enterToClass),hasExplicitCallback(hook)||whenTransitionEnds(el,type,enterDuration,resolve2)})},"makeEnterHook");return extend$1(baseProps,{onBeforeEnter(el){callHook(onBeforeEnter,[el]),addTransitionClass(el,enterFromClass),addTransitionClass(el,enterActiveClass)},onBeforeAppear(el){callHook(onBeforeAppear,[el]),addTransitionClass(el,appearFromClass),addTransitionClass(el,appearActiveClass)},onEnter:makeEnterHook(!1),onAppear:makeEnterHook(!0),onLeave(el,done){el._isLeaving=!0;const resolve2=__name(()=>finishLeave(el,done),"resolve");addTransitionClass(el,leaveFromClass),el._enterCancelled?(addTransitionClass(el,leaveActiveClass),forceReflow()):(forceReflow(),addTransitionClass(el,leaveActiveClass)),nextFrame(()=>{el._isLeaving&&(removeTransitionClass(el,leaveFromClass),addTransitionClass(el,leaveToClass),hasExplicitCallback(onLeave)||whenTransitionEnds(el,type,leaveDuration,resolve2))}),callHook(onLeave,[el,resolve2])},onEnterCancelled(el){finishEnter(el,!1,void 0,!0),callHook(onEnterCancelled,[el])},onAppearCancelled(el){finishEnter(el,!0,void 0,!0),callHook(onAppearCancelled,[el])},onLeaveCancelled(el){finishLeave(el),callHook(onLeaveCancelled,[el])}})}__name(resolveTransitionProps,"resolveTransitionProps");function normalizeDuration(duration2){if(duration2==null)return null;if(isObject$4(duration2))return[NumberOf(duration2.enter),NumberOf(duration2.leave)];{const n=NumberOf(duration2);return[n,n]}}__name(normalizeDuration,"normalizeDuration");function NumberOf(val){return toNumber(val)}__name(NumberOf,"NumberOf");function addTransitionClass(el,cls){cls.split(/\s+/).forEach(c2=>c2&&el.classList.add(c2)),(el[vtcKey]||(el[vtcKey]=new Set)).add(cls)}__name(addTransitionClass,"addTransitionClass");function removeTransitionClass(el,cls){cls.split(/\s+/).forEach(c2=>c2&&el.classList.remove(c2));const _vtc=el[vtcKey];_vtc&&(_vtc.delete(cls),_vtc.size||(el[vtcKey]=void 0))}__name(removeTransitionClass,"removeTransitionClass");function nextFrame(cb){requestAnimationFrame(()=>{requestAnimationFrame(cb)})}__name(nextFrame,"nextFrame");let endId=0;function whenTransitionEnds(el,expectedType,explicitTimeout,resolve2){const id=el._endId=++endId,resolveIfNotStale=__name(()=>{id===el._endId&&resolve2()},"resolveIfNotStale");if(explicitTimeout!=null)return setTimeout(resolveIfNotStale,explicitTimeout);const{type,timeout,propCount}=getTransitionInfo(el,expectedType);if(!type)return resolve2();const endEvent=type+"end";let ended=0;const end=__name(()=>{el.removeEventListener(endEvent,onEnd),resolveIfNotStale()},"end"),onEnd=__name(e=>{e.target===el&&++ended>=propCount&&end()},"onEnd");setTimeout(()=>{ended<propCount&&end()},timeout+1),el.addEventListener(endEvent,onEnd)}__name(whenTransitionEnds,"whenTransitionEnds");function getTransitionInfo(el,expectedType){const styles=window.getComputedStyle(el),getStyleProperties=__name(key=>(styles[key]||"").split(", "),"getStyleProperties"),transitionDelays=getStyleProperties("".concat(TRANSITION,"Delay")),transitionDurations=getStyleProperties("".concat(TRANSITION,"Duration")),transitionTimeout=getTimeout(transitionDelays,transitionDurations),animationDelays=getStyleProperties("".concat(ANIMATION,"Delay")),animationDurations=getStyleProperties("".concat(ANIMATION,"Duration")),animationTimeout=getTimeout(animationDelays,animationDurations);let type=null,timeout=0,propCount=0;expectedType===TRANSITION?transitionTimeout>0&&(type=TRANSITION,timeout=transitionTimeout,propCount=transitionDurations.length):expectedType===ANIMATION?animationTimeout>0&&(type=ANIMATION,timeout=animationTimeout,propCount=animationDurations.length):(timeout=Math.max(transitionTimeout,animationTimeout),type=timeout>0?transitionTimeout>animationTimeout?TRANSITION:ANIMATION:null,propCount=type?type===TRANSITION?transitionDurations.length:animationDurations.length:0);const hasTransform=type===TRANSITION&&/\b(transform|all)(,|$)/.test(getStyleProperties("".concat(TRANSITION,"Property")).toString());return{type,timeout,propCount,hasTransform}}__name(getTransitionInfo,"getTransitionInfo");function getTimeout(delays,durations){for(;delays.length<durations.length;)delays=delays.concat(delays);return Math.max(...durations.map((d2,i)=>toMs(d2)+toMs(delays[i])))}__name(getTimeout,"getTimeout");function toMs(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}__name(toMs,"toMs");function forceReflow(){return document.body.offsetHeight}__name(forceReflow,"forceReflow");function patchClass(el,value,isSVG2){const transitionClasses=el[vtcKey];transitionClasses&&(value=(value?[value,...transitionClasses]:[...transitionClasses]).join(" ")),value==null?el.removeAttribute("class"):isSVG2?el.setAttribute("class",value):el.className=value}__name(patchClass,"patchClass");const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(el,{value},{transition}){el[vShowOriginalDisplay]=el.style.display==="none"?"":el.style.display,transition&&value?transition.beforeEnter(el):setDisplay(el,value)},mounted(el,{value},{transition}){transition&&value&&transition.enter(el)},updated(el,{value,oldValue},{transition}){!value!=!oldValue&&(transition?value?(transition.beforeEnter(el),setDisplay(el,!0),transition.enter(el)):transition.leave(el,()=>{setDisplay(el,!1)}):setDisplay(el,value))},beforeUnmount(el,{value}){setDisplay(el,value)}};function setDisplay(el,value){el.style.display=value?el[vShowOriginalDisplay]:"none",el[vShowHidden]=!value}__name(setDisplay,"setDisplay");const CSS_VAR_TEXT=Symbol("");function useCssVars(getter){const instance2=getCurrentInstance();if(!instance2)return;const updateTeleports=instance2.ut=(vars=getter(instance2.proxy))=>{Array.from(document.querySelectorAll('[data-v-owner="'.concat(instance2.uid,'"]'))).forEach(node=>setVarsOnNode(node,vars))},setVars=__name(()=>{const vars=getter(instance2.proxy);instance2.ce?setVarsOnNode(instance2.ce,vars):setVarsOnVNode(instance2.subTree,vars),updateTeleports(vars)},"setVars");onBeforeUpdate(()=>{queuePostFlushCb(setVars)}),onMounted(()=>{watch(setVars,NOOP,{flush:"post"});const ob=new MutationObserver(setVars);ob.observe(instance2.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>ob.disconnect())})}__name(useCssVars,"useCssVars");function setVarsOnVNode(vnode,vars){if(vnode.shapeFlag&128){const suspense=vnode.suspense;vnode=suspense.activeBranch,suspense.pendingBranch&&!suspense.isHydrating&&suspense.effects.push(()=>{setVarsOnVNode(suspense.activeBranch,vars)})}for(;vnode.component;)vnode=vnode.component.subTree;if(vnode.shapeFlag&1&&vnode.el)setVarsOnNode(vnode.el,vars);else if(vnode.type===Fragment)vnode.children.forEach(c2=>setVarsOnVNode(c2,vars));else if(vnode.type===Static){let{el,anchor}=vnode;for(;el&&(setVarsOnNode(el,vars),el!==anchor);)el=el.nextSibling}}__name(setVarsOnVNode,"setVarsOnVNode");function setVarsOnNode(el,vars){if(el.nodeType===1){const style2=el.style;let cssText="";for(const key in vars)style2.setProperty("--".concat(key),vars[key]),cssText+="--".concat(key,": ").concat(vars[key],";");style2[CSS_VAR_TEXT]=cssText}}__name(setVarsOnNode,"setVarsOnNode");const displayRE=/(^|;)\s*display\s*:/;function patchStyle(el,prev,next){const style2=el.style,isCssString=isString$3(next);let hasControlledDisplay=!1;if(next&&!isCssString){if(prev)if(isString$3(prev))for(const prevStyle of prev.split(";")){const key=prevStyle.slice(0,prevStyle.indexOf(":")).trim();next[key]==null&&setStyle(style2,key,"")}else for(const key in prev)next[key]==null&&setStyle(style2,key,"");for(const key in next)key==="display"&&(hasControlledDisplay=!0),setStyle(style2,key,next[key])}else if(isCssString){if(prev!==next){const cssVarText=style2[CSS_VAR_TEXT];cssVarText&&(next+=";"+cssVarText),style2.cssText=next,hasControlledDisplay=displayRE.test(next)}}else prev&&el.removeAttribute("style");vShowOriginalDisplay in el&&(el[vShowOriginalDisplay]=hasControlledDisplay?style2.display:"",el[vShowHidden]&&(style2.display="none"))}__name(patchStyle,"patchStyle");const importantRE=/\s*!important$/;function setStyle(style2,name,val){if(isArray$3(val))val.forEach(v=>setStyle(style2,name,v));else if(val==null&&(val=""),name.startsWith("--"))style2.setProperty(name,val);else{const prefixed=autoPrefix(style2,name);importantRE.test(val)?style2.setProperty(hyphenate(prefixed),val.replace(importantRE,""),"important"):style2[prefixed]=val}}__name(setStyle,"setStyle");const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(style2,rawName){const cached=prefixCache[rawName];if(cached)return cached;let name=camelize(rawName);if(name!=="filter"&&name in style2)return prefixCache[rawName]=name;name=capitalize$1(name);for(let i=0;i<prefixes.length;i++){const prefixed=prefixes[i]+name;if(prefixed in style2)return prefixCache[rawName]=prefixed}return rawName}__name(autoPrefix,"autoPrefix");const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(el,key,value,isSVG2,instance2,isBoolean2=isSpecialBooleanAttr(key)){isSVG2&&key.startsWith("xlink:")?value==null?el.removeAttributeNS(xlinkNS,key.slice(6,key.length)):el.setAttributeNS(xlinkNS,key,value):value==null||isBoolean2&&!includeBooleanAttr(value)?el.removeAttribute(key):el.setAttribute(key,isBoolean2?"":isSymbol$1(value)?String(value):value)}__name(patchAttr,"patchAttr");function patchDOMProp(el,key,value,parentComponent,attrName){if(key==="innerHTML"||key==="textContent"){value!=null&&(el[key]=key==="innerHTML"?unsafeToTrustedHTML(value):value);return}const tag=el.tagName;if(key==="value"&&tag!=="PROGRESS"&&!tag.includes("-")){const oldValue=tag==="OPTION"?el.getAttribute("value")||"":el.value,newValue=value==null?el.type==="checkbox"?"on":"":String(value);(oldValue!==newValue||!("_value"in el))&&(el.value=newValue),value==null&&el.removeAttribute(key),el._value=value;return}let needRemove=!1;if(value===""||value==null){const type=typeof el[key];type==="boolean"?value=includeBooleanAttr(value):value==null&&type==="string"?(value="",needRemove=!0):type==="number"&&(value=0,needRemove=!0)}try{el[key]=value}catch(e){}needRemove&&el.removeAttribute(attrName||key)}__name(patchDOMProp,"patchDOMProp");function addEventListener$1(el,event,handler,options){el.addEventListener(event,handler,options)}__name(addEventListener$1,"addEventListener$1");function removeEventListener$1(el,event,handler,options){el.removeEventListener(event,handler,options)}__name(removeEventListener$1,"removeEventListener$1");const veiKey=Symbol("_vei");function patchEvent(el,rawName,prevValue,nextValue,instance2=null){const invokers=el[veiKey]||(el[veiKey]={}),existingInvoker=invokers[rawName];if(nextValue&&existingInvoker)existingInvoker.value=nextValue;else{const[name,options]=parseName(rawName);if(nextValue){const invoker=invokers[rawName]=createInvoker(nextValue,instance2);addEventListener$1(el,name,invoker,options)}else existingInvoker&&(removeEventListener$1(el,name,existingInvoker,options),invokers[rawName]=void 0)}}__name(patchEvent,"patchEvent");const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(name){let options;if(optionsModifierRE.test(name)){options={};let m;for(;m=name.match(optionsModifierRE);)name=name.slice(0,name.length-m[0].length),options[m[0].toLowerCase()]=!0}return[name[2]===":"?name.slice(3):hyphenate(name.slice(2)),options]}__name(parseName,"parseName");let cachedNow=0;const p=Promise.resolve(),getNow=__name(()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now()),"getNow");function createInvoker(initialValue,instance2){const invoker=__name(e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=invoker.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(e,invoker.value),instance2,5,[e])},"invoker");return invoker.value=initialValue,invoker.attached=getNow(),invoker}__name(createInvoker,"createInvoker");function patchStopImmediatePropagation(e,value){if(isArray$3(value)){const originalStop=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{originalStop.call(e),e._stopped=!0},value.map(fn=>e2=>!e2._stopped&&fn&&fn(e2))}else return value}__name(patchStopImmediatePropagation,"patchStopImmediatePropagation");const isNativeOn=__name(key=>key.charCodeAt(0)===111&&key.charCodeAt(1)===110&&key.charCodeAt(2)>96&&key.charCodeAt(2)<123,"isNativeOn"),patchProp=__name((el,key,prevValue,nextValue,namespace2,parentComponent)=>{const isSVG2=namespace2==="svg";key==="class"?patchClass(el,nextValue,isSVG2):key==="style"?patchStyle(el,prevValue,nextValue):isOn(key)?isModelListener(key)||patchEvent(el,key,prevValue,nextValue,parentComponent):(key[0]==="."?(key=key.slice(1),!0):key[0]==="^"?(key=key.slice(1),!1):shouldSetAsProp(el,key,nextValue,isSVG2))?(patchDOMProp(el,key,nextValue),!el.tagName.includes("-")&&(key==="value"||key==="checked"||key==="selected")&&patchAttr(el,key,nextValue,isSVG2,parentComponent,key!=="value")):el._isVueCE&&(/[A-Z]/.test(key)||!isString$3(nextValue))?patchDOMProp(el,camelize(key),nextValue,parentComponent,key):(key==="true-value"?el._trueValue=nextValue:key==="false-value"&&(el._falseValue=nextValue),patchAttr(el,key,nextValue,isSVG2))},"patchProp");function shouldSetAsProp(el,key,value,isSVG2){if(isSVG2)return!!(key==="innerHTML"||key==="textContent"||key in el&&isNativeOn(key)&&isFunction$2(value));if(key==="spellcheck"||key==="draggable"||key==="translate"||key==="autocorrect"||key==="form"||key==="list"&&el.tagName==="INPUT"||key==="type"&&el.tagName==="TEXTAREA")return!1;if(key==="width"||key==="height"){const tag=el.tagName;if(tag==="IMG"||tag==="VIDEO"||tag==="CANVAS"||tag==="SOURCE")return!1}return isNativeOn(key)&&isString$3(value)?!1:key in el}__name(shouldSetAsProp,"shouldSetAsProp");const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=__name(t=>(delete t.props.mode,t),"decorate"),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(props,{slots}){const instance2=getCurrentInstance(),state=useTransitionState();let prevChildren,children;return onUpdated(()=>{if(!prevChildren.length)return;const moveClass=props.moveClass||"".concat(props.name||"v","-move");if(!hasCSSTransform(prevChildren[0].el,instance2.vnode.el,moveClass)){prevChildren=[];return}prevChildren.forEach(callPendingCbs),prevChildren.forEach(recordPosition);const movedChildren=prevChildren.filter(applyTranslation);forceReflow(),movedChildren.forEach(c2=>{const el=c2.el,style2=el.style;addTransitionClass(el,moveClass),style2.transform=style2.webkitTransform=style2.transitionDuration="";const cb=el[moveCbKey]=e=>{e&&e.target!==el||(!e||/transform$/.test(e.propertyName))&&(el.removeEventListener("transitionend",cb),el[moveCbKey]=null,removeTransitionClass(el,moveClass))};el.addEventListener("transitionend",cb)}),prevChildren=[]}),()=>{const rawProps=toRaw(props),cssTransitionProps=resolveTransitionProps(rawProps);let tag=rawProps.tag||Fragment;if(prevChildren=[],children)for(let i=0;i<children.length;i++){const child=children[i];child.el&&child.el instanceof Element&&(prevChildren.push(child),setTransitionHooks(child,resolveTransitionHooks(child,cssTransitionProps,state,instance2)),positionMap.set(child,child.el.getBoundingClientRect()))}children=slots.default?getTransitionRawChildren(slots.default()):[];for(let i=0;i<children.length;i++){const child=children[i];child.key!=null&&setTransitionHooks(child,resolveTransitionHooks(child,cssTransitionProps,state,instance2))}return createVNode(tag,null,children)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(c2){const el=c2.el;el[moveCbKey]&&el[moveCbKey](),el[enterCbKey]&&el[enterCbKey]()}__name(callPendingCbs,"callPendingCbs");function recordPosition(c2){newPositionMap.set(c2,c2.el.getBoundingClientRect())}__name(recordPosition,"recordPosition");function applyTranslation(c2){const oldPos=positionMap.get(c2),newPos=newPositionMap.get(c2),dx=oldPos.left-newPos.left,dy=oldPos.top-newPos.top;if(dx||dy){const s=c2.el.style;return s.transform=s.webkitTransform="translate(".concat(dx,"px,").concat(dy,"px)"),s.transitionDuration="0s",c2}}__name(applyTranslation,"applyTranslation");function hasCSSTransform(el,root2,moveClass){const clone=el.cloneNode(),_vtc=el[vtcKey];_vtc&&_vtc.forEach(cls=>{cls.split(/\s+/).forEach(c2=>c2&&clone.classList.remove(c2))}),moveClass.split(/\s+/).forEach(c2=>c2&&clone.classList.add(c2)),clone.style.display="none";const container=root2.nodeType===1?root2:root2.parentNode;container.appendChild(clone);const{hasTransform}=getTransitionInfo(clone);return container.removeChild(clone),hasTransform}__name(hasCSSTransform,"hasCSSTransform");const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:__name(e=>e.stopPropagation(),"stop"),prevent:__name(e=>e.preventDefault(),"prevent"),self:__name(e=>e.target!==e.currentTarget,"self"),ctrl:__name(e=>!e.ctrlKey,"ctrl"),shift:__name(e=>!e.shiftKey,"shift"),alt:__name(e=>!e.altKey,"alt"),meta:__name(e=>!e.metaKey,"meta"),left:__name(e=>"button"in e&&e.button!==0,"left"),middle:__name(e=>"button"in e&&e.button!==1,"middle"),right:__name(e=>"button"in e&&e.button!==2,"right"),exact:__name((e,modifiers)=>systemModifiers.some(m=>e["".concat(m,"Key")]&&!modifiers.includes(m)),"exact")},withModifiers=__name((fn,modifiers)=>{const cache2=fn._withMods||(fn._withMods={}),cacheKey=modifiers.join(".");return cache2[cacheKey]||(cache2[cacheKey]=(event,...args)=>{for(let i=0;i<modifiers.length;i++){const guard=modifierGuards[modifiers[i]];if(guard&&guard(event,modifiers))return}return fn(event,...args)})},"withModifiers"),keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=__name((fn,modifiers)=>{const cache2=fn._withKeys||(fn._withKeys={}),cacheKey=modifiers.join(".");return cache2[cacheKey]||(cache2[cacheKey]=event=>{if(!("key"in event))return;const eventKey=hyphenate(event.key);if(modifiers.some(k=>k===eventKey||keyNames[k]===eventKey))return fn(event)})},"withKeys"),rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}__name(ensureRenderer,"ensureRenderer");const createApp=__name((...args)=>{const app2=ensureRenderer().createApp(...args),{mount:mount2}=app2;return app2.mount=containerOrSelector=>{const container=normalizeContainer(containerOrSelector);if(!container)return;const component=app2._component;!isFunction$2(component)&&!component.render&&!component.template&&(component.template=container.innerHTML),container.nodeType===1&&(container.textContent="");const proxy=mount2(container,!1,resolveRootNamespace(container));return container instanceof Element&&(container.removeAttribute("v-cloak"),container.setAttribute("data-v-app","")),proxy},app2},"createApp");function resolveRootNamespace(container){if(container instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&container instanceof MathMLElement)return"mathml"}__name(resolveRootNamespace,"resolveRootNamespace");function normalizeContainer(container){return isString$3(container)?document.querySelector(container):container}__name(normalizeContainer,"normalizeContainer");/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=__name(pinia=>activePinia=pinia,"setActivePinia"),piniaSymbol=Symbol();function isPlainObject$2(o){return o&&typeof o=="object"&&Object.prototype.toString.call(o)==="[object Object]"&&typeof o.toJSON!="function"}__name(isPlainObject$2,"isPlainObject$2");var MutationType;(function(MutationType2){MutationType2.direct="direct",MutationType2.patchObject="patch object",MutationType2.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const scope=effectScope(!0),state=scope.run(()=>ref({}));let _p=[],toBeInstalled=[];const pinia=markRaw({install(app2){setActivePinia(pinia),pinia._a=app2,app2.provide(piniaSymbol,pinia),app2.config.globalProperties.$pinia=pinia,toBeInstalled.forEach(plugin2=>_p.push(plugin2)),toBeInstalled=[]},use(plugin2){return this._a?_p.push(plugin2):toBeInstalled.push(plugin2),this},_p,_a:null,_e:scope,_s:new Map,state});return pinia}__name(createPinia,"createPinia");const noop$1=__name(()=>{},"noop$1");function addSubscription(subscriptions,callback,detached,onCleanup=noop$1){subscriptions.push(callback);const removeSubscription=__name(()=>{const idx=subscriptions.indexOf(callback);idx>-1&&(subscriptions.splice(idx,1),onCleanup())},"removeSubscription");return!detached&&getCurrentScope()&&onScopeDispose(removeSubscription),removeSubscription}__name(addSubscription,"addSubscription");function triggerSubscriptions(subscriptions,...args){subscriptions.slice().forEach(callback=>{callback(...args)})}__name(triggerSubscriptions,"triggerSubscriptions");const fallbackRunWithContext=__name(fn=>fn(),"fallbackRunWithContext"),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(target,patchToApply){target instanceof Map&&patchToApply instanceof Map?patchToApply.forEach((value,key)=>target.set(key,value)):target instanceof Set&&patchToApply instanceof Set&&patchToApply.forEach(target.add,target);for(const key in patchToApply){if(!patchToApply.hasOwnProperty(key))continue;const subPatch=patchToApply[key],targetValue=target[key];isPlainObject$2(targetValue)&&isPlainObject$2(subPatch)&&target.hasOwnProperty(key)&&!isRef(subPatch)&&!isReactive(subPatch)?target[key]=mergeReactiveObjects(targetValue,subPatch):target[key]=subPatch}return target}__name(mergeReactiveObjects,"mergeReactiveObjects");const skipHydrateSymbol=Symbol();function shouldHydrate(obj){return!isPlainObject$2(obj)||!Object.prototype.hasOwnProperty.call(obj,skipHydrateSymbol)}__name(shouldHydrate,"shouldHydrate");const{assign:assign$3}=Object;function isComputed(o){return!!(isRef(o)&&o.effect)}__name(isComputed,"isComputed");function createOptionsStore(id,options,pinia,hot){const{state,actions,getters}=options,initialState=pinia.state.value[id];let store;function setup(){initialState||(pinia.state.value[id]=state?state():{});const localState=toRefs(pinia.state.value[id]);return assign$3(localState,actions,Object.keys(getters||{}).reduce((computedGetters,name)=>(computedGetters[name]=markRaw(computed(()=>{setActivePinia(pinia);const store2=pinia._s.get(id);return getters[name].call(store2,store2)})),computedGetters),{}))}return __name(setup,"setup"),store=createSetupStore(id,setup,options,pinia,hot,!0),store}__name(createOptionsStore,"createOptionsStore");function createSetupStore($id,setup,options={},pinia,hot,isOptionsStore){let scope;const optionsForPlugin=assign$3({actions:{}},options),$subscribeOptions={deep:!0};let isListening,isSyncListening,subscriptions=[],actionSubscriptions=[],debuggerEvents;const initialState=pinia.state.value[$id];!isOptionsStore&&!initialState&&(pinia.state.value[$id]={}),ref({});let activeListener;function $patch(partialStateOrMutator){let subscriptionMutation;isListening=isSyncListening=!1,typeof partialStateOrMutator=="function"?(partialStateOrMutator(pinia.state.value[$id]),subscriptionMutation={type:MutationType.patchFunction,storeId:$id,events:debuggerEvents}):(mergeReactiveObjects(pinia.state.value[$id],partialStateOrMutator),subscriptionMutation={type:MutationType.patchObject,payload:partialStateOrMutator,storeId:$id,events:debuggerEvents});const myListenerId=activeListener=Symbol();nextTick().then(()=>{activeListener===myListenerId&&(isListening=!0)}),isSyncListening=!0,triggerSubscriptions(subscriptions,subscriptionMutation,pinia.state.value[$id])}__name($patch,"$patch");const $reset=isOptionsStore?__name(function(){const{state}=options,newState=state?state():{};this.$patch($state=>{assign$3($state,newState)})},"$reset2"):noop$1;function $dispose(){scope.stop(),subscriptions=[],actionSubscriptions=[],pinia._s.delete($id)}__name($dispose,"$dispose");const action=__name((fn,name="")=>{if(ACTION_MARKER in fn)return fn[ACTION_NAME]=name,fn;const wrappedAction=__name(function(){setActivePinia(pinia);const args=Array.from(arguments),afterCallbackList=[],onErrorCallbackList=[];function after(callback){afterCallbackList.push(callback)}__name(after,"after");function onError(callback){onErrorCallbackList.push(callback)}__name(onError,"onError"),triggerSubscriptions(actionSubscriptions,{args,name:wrappedAction[ACTION_NAME],store,after,onError});let ret;try{ret=fn.apply(this&&this.$id===$id?this:store,args)}catch(error2){throw triggerSubscriptions(onErrorCallbackList,error2),error2}return ret instanceof Promise?ret.then(value=>(triggerSubscriptions(afterCallbackList,value),value)).catch(error2=>(triggerSubscriptions(onErrorCallbackList,error2),Promise.reject(error2))):(triggerSubscriptions(afterCallbackList,ret),ret)},"wrappedAction");return wrappedAction[ACTION_MARKER]=!0,wrappedAction[ACTION_NAME]=name,wrappedAction},"action"),partialStore={_p:pinia,$id,$onAction:addSubscription.bind(null,actionSubscriptions),$patch,$reset,$subscribe(callback,options2={}){const removeSubscription=addSubscription(subscriptions,callback,options2.detached,()=>stopWatcher()),stopWatcher=scope.run(()=>watch(()=>pinia.state.value[$id],state=>{(options2.flush==="sync"?isSyncListening:isListening)&&callback({storeId:$id,type:MutationType.direct,events:debuggerEvents},state)},assign$3({},$subscribeOptions,options2)));return removeSubscription},$dispose},store=reactive(partialStore);pinia._s.set($id,store);const setupStore=(pinia._a&&pinia._a.runWithContext||fallbackRunWithContext)(()=>pinia._e.run(()=>(scope=effectScope()).run(()=>setup({action}))));for(const key in setupStore){const prop=setupStore[key];if(isRef(prop)&&!isComputed(prop)||isReactive(prop))isOptionsStore||(initialState&&shouldHydrate(prop)&&(isRef(prop)?prop.value=initialState[key]:mergeReactiveObjects(prop,initialState[key])),pinia.state.value[$id][key]=prop);else if(typeof prop=="function"){const actionValue=action(prop,key);setupStore[key]=actionValue,optionsForPlugin.actions[key]=prop}}return assign$3(store,setupStore),assign$3(toRaw(store),setupStore),Object.defineProperty(store,"$state",{get:__name(()=>pinia.state.value[$id],"get"),set:__name(state=>{$patch($state=>{assign$3($state,state)})},"set")}),pinia._p.forEach(extender=>{assign$3(store,scope.run(()=>extender({store,app:pinia._a,pinia,options:optionsForPlugin})))}),initialState&&isOptionsStore&&options.hydrate&&options.hydrate(store.$state,initialState),isListening=!0,isSyncListening=!0,store}__name(createSetupStore,"createSetupStore");/*! #__NO_SIDE_EFFECTS__ */function defineStore(id,setup,setupOptions){let options;const isSetupStore=typeof setup=="function";options=isSetupStore?setupOptions:setup;function useStore(pinia,hot){const hasContext=hasInjectionContext();return pinia=pinia||(hasContext?inject(piniaSymbol,null):null),pinia&&setActivePinia(pinia),pinia=activePinia,pinia._s.has(id)||(isSetupStore?createSetupStore(id,setup,options,pinia):createOptionsStore(id,options,pinia)),pinia._s.get(id)}return __name(useStore,"useStore"),useStore.$id=id,useStore}__name(defineStore,"defineStore");/*!
  * shared v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=__name((name,shareable=!1)=>shareable?Symbol.for(name):Symbol(name),"makeSymbol"),generateFormatCacheKey=__name((locale,key,source)=>friendlyJSONstringify({l:locale,k:key,s:source}),"generateFormatCacheKey"),friendlyJSONstringify=__name(json=>JSON.stringify(json).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),"friendlyJSONstringify"),isNumber$1=__name(val=>typeof val=="number"&&isFinite(val),"isNumber$1"),isDate=__name(val=>toTypeString(val)==="[object Date]","isDate"),isRegExp=__name(val=>toTypeString(val)==="[object RegExp]","isRegExp"),isEmptyObject=__name(val=>isPlainObject$1(val)&&Object.keys(val).length===0,"isEmptyObject"),assign$2=Object.assign,_create=Object.create,create=__name((obj=null)=>_create(obj),"create");let _globalThis;const getGlobalThis=__name(()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:create()),"getGlobalThis");function escapeHtml(rawText){return rawText.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}__name(escapeHtml,"escapeHtml");const hasOwnProperty$d=Object.prototype.hasOwnProperty;function hasOwn(obj,key){return hasOwnProperty$d.call(obj,key)}__name(hasOwn,"hasOwn");const isArray$2=Array.isArray,isFunction$1=__name(val=>typeof val=="function","isFunction$1"),isString$2=__name(val=>typeof val=="string","isString$2"),isBoolean=__name(val=>typeof val=="boolean","isBoolean"),isObject$3=__name(val=>val!==null&&typeof val=="object","isObject$3"),isPromise=__name(val=>isObject$3(val)&&isFunction$1(val.then)&&isFunction$1(val.catch),"isPromise"),objectToString$1=Object.prototype.toString,toTypeString=__name(value=>objectToString$1.call(value),"toTypeString"),isPlainObject$1=__name(val=>{if(!isObject$3(val))return!1;const proto=Object.getPrototypeOf(val);return proto===null||proto.constructor===Object},"isPlainObject$1"),toDisplayString=__name(val=>val==null?"":isArray$2(val)||isPlainObject$1(val)&&val.toString===objectToString$1?JSON.stringify(val,null,2):String(val),"toDisplayString");function join$1(items,separator=""){return items.reduce((str,item,index)=>index===0?str+item:str+separator+item,"")}__name(join$1,"join$1");function incrementer(code2){let current=code2;return()=>++current}__name(incrementer,"incrementer");function warn$3(msg2,err){typeof console<"u"&&(console.warn("[intlify] "+msg2),err&&console.warn(err.stack))}__name(warn$3,"warn$3");const isNotObjectOrIsArray=__name(val=>!isObject$3(val)||isArray$2(val),"isNotObjectOrIsArray");function deepCopy(src,des){if(isNotObjectOrIsArray(src)||isNotObjectOrIsArray(des))throw new Error("Invalid value");const stack2=[{src,des}];for(;stack2.length;){const{src:src2,des:des2}=stack2.pop();Object.keys(src2).forEach(key=>{key!=="__proto__"&&(isObject$3(src2[key])&&!isObject$3(des2[key])&&(des2[key]=Array.isArray(src2[key])?[]:create()),isNotObjectOrIsArray(des2[key])||isNotObjectOrIsArray(src2[key])?des2[key]=src2[key]:stack2.push({src:src2[key],des:des2[key]}))})}}__name(deepCopy,"deepCopy");/*!
  * message-compiler v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(line,column,offset){return{line,column,offset}}__name(createPosition,"createPosition");function createLocation(start,end,source){return{start,end}}__name(createLocation,"createLocation");const RE_ARGS=/\{([0-9a-zA-Z]+)\}/g;function format$1(message,...args){return args.length===1&&isObject$2(args[0])&&(args=args[0]),(!args||!args.hasOwnProperty)&&(args={}),message.replace(RE_ARGS,(match,identifier)=>args.hasOwnProperty(identifier)?args[identifier]:"")}__name(format$1,"format$1");const assign$1=Object.assign,isString$1=__name(val=>typeof val=="string","isString$1"),isObject$2=__name(val=>val!==null&&typeof val=="object","isObject$2");function join(items,separator=""){return items.reduce((str,item,index)=>index===0?str+item:str+separator+item,"")}__name(join,"join");const CompileWarnCodes={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},warnMessages={[CompileWarnCodes.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function createCompileWarn(code2,loc,...args){const msg2=format$1(warnMessages[code2],...args||[]),message={message:String(msg2),code:code2};return loc&&(message.location=loc),message}__name(createCompileWarn,"createCompileWarn");const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},errorMessages={[CompileErrorCodes.EXPECTED_TOKEN]:"Expected token: '{0}'",[CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[CompileErrorCodes.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[CompileErrorCodes.EMPTY_PLACEHOLDER]:"Empty placeholder",[CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[CompileErrorCodes.INVALID_LINKED_FORMAT]:"Invalid linked format",[CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function createCompileError(code2,loc,options={}){const{domain,messages:messages2,args}=options,msg2=format$1((messages2||errorMessages)[code2]||"",...args||[]),error2=new SyntaxError(String(msg2));return error2.code=code2,loc&&(error2.location=loc),error2.domain=domain,error2}__name(createCompileError,"createCompileError");function defaultOnError(error2){throw error2}__name(defaultOnError,"defaultOnError");const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF="\n",CHAR_LS="\u2028",CHAR_PS="\u2029";function createScanner(str){const _buf=str;let _index=0,_line=1,_column=1,_peekOffset=0;const isCRLF=__name(index2=>_buf[index2]===CHAR_CR&&_buf[index2+1]===CHAR_LF,"isCRLF"),isLF=__name(index2=>_buf[index2]===CHAR_LF,"isLF"),isPS=__name(index2=>_buf[index2]===CHAR_PS,"isPS"),isLS=__name(index2=>_buf[index2]===CHAR_LS,"isLS"),isLineEnd=__name(index2=>isCRLF(index2)||isLF(index2)||isPS(index2)||isLS(index2),"isLineEnd"),index=__name(()=>_index,"index"),line=__name(()=>_line,"line"),column=__name(()=>_column,"column"),peekOffset=__name(()=>_peekOffset,"peekOffset"),charAt=__name(offset=>isCRLF(offset)||isPS(offset)||isLS(offset)?CHAR_LF:_buf[offset],"charAt"),currentChar=__name(()=>charAt(_index),"currentChar"),currentPeek=__name(()=>charAt(_index+_peekOffset),"currentPeek");function next(){return _peekOffset=0,isLineEnd(_index)&&(_line++,_column=0),isCRLF(_index)&&_index++,_index++,_column++,_buf[_index]}__name(next,"next");function peek(){return isCRLF(_index+_peekOffset)&&_peekOffset++,_peekOffset++,_buf[_index+_peekOffset]}__name(peek,"peek");function reset(){_index=0,_line=1,_column=1,_peekOffset=0}__name(reset,"reset");function resetPeek(offset=0){_peekOffset=offset}__name(resetPeek,"resetPeek");function skipToPeek(){const target=_index+_peekOffset;for(;target!==_index;)next();_peekOffset=0}return __name(skipToPeek,"skipToPeek"),{index,line,column,peekOffset,charAt,currentChar,currentPeek,next,peek,reset,resetPeek,skipToPeek}}__name(createScanner,"createScanner");const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(source,options={}){const location2=options.location!==!1,_scnr=createScanner(source),currentOffset=__name(()=>_scnr.index(),"currentOffset"),currentPosition=__name(()=>createPosition(_scnr.line(),_scnr.column(),_scnr.index()),"currentPosition"),_initLoc=currentPosition(),_initOffset=currentOffset(),_context={currentType:14,offset:_initOffset,startLoc:_initLoc,endLoc:_initLoc,lastType:14,lastOffset:_initOffset,lastStartLoc:_initLoc,lastEndLoc:_initLoc,braceNest:0,inLinked:!1,text:""},context=__name(()=>_context,"context"),{onError}=options;function emitError(code2,pos,offset,...args){const ctx2=context();if(pos.column+=offset,pos.offset+=offset,onError){const loc=location2?createLocation(ctx2.startLoc,pos):null,err=createCompileError(code2,loc,{domain:ERROR_DOMAIN$3,args});onError(err)}}__name(emitError,"emitError");function getToken(context2,type,value){context2.endLoc=currentPosition(),context2.currentType=type;const token={type};return location2&&(token.loc=createLocation(context2.startLoc,context2.endLoc)),value!=null&&(token.value=value),token}__name(getToken,"getToken");const getEndToken=__name(context2=>getToken(context2,14),"getEndToken");function eat(scnr,ch){return scnr.currentChar()===ch?(scnr.next(),ch):(emitError(CompileErrorCodes.EXPECTED_TOKEN,currentPosition(),0,ch),"")}__name(eat,"eat");function peekSpaces(scnr){let buf="";for(;scnr.currentPeek()===CHAR_SP||scnr.currentPeek()===CHAR_LF;)buf+=scnr.currentPeek(),scnr.peek();return buf}__name(peekSpaces,"peekSpaces");function skipSpaces(scnr){const buf=peekSpaces(scnr);return scnr.skipToPeek(),buf}__name(skipSpaces,"skipSpaces");function isIdentifierStart(ch){if(ch===EOF)return!1;const cc=ch.charCodeAt(0);return cc>=97&&cc<=122||cc>=65&&cc<=90||cc===95}__name(isIdentifierStart,"isIdentifierStart");function isNumberStart(ch){if(ch===EOF)return!1;const cc=ch.charCodeAt(0);return cc>=48&&cc<=57}__name(isNumberStart,"isNumberStart");function isNamedIdentifierStart(scnr,context2){const{currentType}=context2;if(currentType!==2)return!1;peekSpaces(scnr);const ret=isIdentifierStart(scnr.currentPeek());return scnr.resetPeek(),ret}__name(isNamedIdentifierStart,"isNamedIdentifierStart");function isListIdentifierStart(scnr,context2){const{currentType}=context2;if(currentType!==2)return!1;peekSpaces(scnr);const ch=scnr.currentPeek()==="-"?scnr.peek():scnr.currentPeek(),ret=isNumberStart(ch);return scnr.resetPeek(),ret}__name(isListIdentifierStart,"isListIdentifierStart");function isLiteralStart(scnr,context2){const{currentType}=context2;if(currentType!==2)return!1;peekSpaces(scnr);const ret=scnr.currentPeek()===LITERAL_DELIMITER;return scnr.resetPeek(),ret}__name(isLiteralStart,"isLiteralStart");function isLinkedDotStart(scnr,context2){const{currentType}=context2;if(currentType!==8)return!1;peekSpaces(scnr);const ret=scnr.currentPeek()===".";return scnr.resetPeek(),ret}__name(isLinkedDotStart,"isLinkedDotStart");function isLinkedModifierStart(scnr,context2){const{currentType}=context2;if(currentType!==9)return!1;peekSpaces(scnr);const ret=isIdentifierStart(scnr.currentPeek());return scnr.resetPeek(),ret}__name(isLinkedModifierStart,"isLinkedModifierStart");function isLinkedDelimiterStart(scnr,context2){const{currentType}=context2;if(!(currentType===8||currentType===12))return!1;peekSpaces(scnr);const ret=scnr.currentPeek()===":";return scnr.resetPeek(),ret}__name(isLinkedDelimiterStart,"isLinkedDelimiterStart");function isLinkedReferStart(scnr,context2){const{currentType}=context2;if(currentType!==10)return!1;const fn=__name(()=>{const ch=scnr.currentPeek();return ch==="{"?isIdentifierStart(scnr.peek()):ch==="@"||ch==="%"||ch==="|"||ch===":"||ch==="."||ch===CHAR_SP||!ch?!1:ch===CHAR_LF?(scnr.peek(),fn()):isTextStart(scnr,!1)},"fn"),ret=fn();return scnr.resetPeek(),ret}__name(isLinkedReferStart,"isLinkedReferStart");function isPluralStart(scnr){peekSpaces(scnr);const ret=scnr.currentPeek()==="|";return scnr.resetPeek(),ret}__name(isPluralStart,"isPluralStart");function detectModuloStart(scnr){const spaces=peekSpaces(scnr),ret=scnr.currentPeek()==="%"&&scnr.peek()==="{";return scnr.resetPeek(),{isModulo:ret,hasSpace:spaces.length>0}}__name(detectModuloStart,"detectModuloStart");function isTextStart(scnr,reset=!0){const fn=__name((hasSpace=!1,prev="",detectModulo=!1)=>{const ch=scnr.currentPeek();return ch==="{"?prev==="%"?!1:hasSpace:ch==="@"||!ch?prev==="%"?!0:hasSpace:ch==="%"?(scnr.peek(),fn(hasSpace,"%",!0)):ch==="|"?prev==="%"||detectModulo?!0:!(prev===CHAR_SP||prev===CHAR_LF):ch===CHAR_SP?(scnr.peek(),fn(!0,CHAR_SP,detectModulo)):ch===CHAR_LF?(scnr.peek(),fn(!0,CHAR_LF,detectModulo)):!0},"fn"),ret=fn();return reset&&scnr.resetPeek(),ret}__name(isTextStart,"isTextStart");function takeChar(scnr,fn){const ch=scnr.currentChar();return ch===EOF?EOF:fn(ch)?(scnr.next(),ch):null}__name(takeChar,"takeChar");function isIdentifier(ch){const cc=ch.charCodeAt(0);return cc>=97&&cc<=122||cc>=65&&cc<=90||cc>=48&&cc<=57||cc===95||cc===36}__name(isIdentifier,"isIdentifier");function takeIdentifierChar(scnr){return takeChar(scnr,isIdentifier)}__name(takeIdentifierChar,"takeIdentifierChar");function isNamedIdentifier(ch){const cc=ch.charCodeAt(0);return cc>=97&&cc<=122||cc>=65&&cc<=90||cc>=48&&cc<=57||cc===95||cc===36||cc===45}__name(isNamedIdentifier,"isNamedIdentifier");function takeNamedIdentifierChar(scnr){return takeChar(scnr,isNamedIdentifier)}__name(takeNamedIdentifierChar,"takeNamedIdentifierChar");function isDigit(ch){const cc=ch.charCodeAt(0);return cc>=48&&cc<=57}__name(isDigit,"isDigit");function takeDigit(scnr){return takeChar(scnr,isDigit)}__name(takeDigit,"takeDigit");function isHexDigit(ch){const cc=ch.charCodeAt(0);return cc>=48&&cc<=57||cc>=65&&cc<=70||cc>=97&&cc<=102}__name(isHexDigit,"isHexDigit");function takeHexDigit(scnr){return takeChar(scnr,isHexDigit)}__name(takeHexDigit,"takeHexDigit");function getDigits(scnr){let ch="",num="";for(;ch=takeDigit(scnr);)num+=ch;return num}__name(getDigits,"getDigits");function readModulo(scnr){skipSpaces(scnr);const ch=scnr.currentChar();return ch!=="%"&&emitError(CompileErrorCodes.EXPECTED_TOKEN,currentPosition(),0,ch),scnr.next(),"%"}__name(readModulo,"readModulo");function readText(scnr){let buf="";for(;;){const ch=scnr.currentChar();if(ch==="{"||ch==="}"||ch==="@"||ch==="|"||!ch)break;if(ch==="%")if(isTextStart(scnr))buf+=ch,scnr.next();else break;else if(ch===CHAR_SP||ch===CHAR_LF)if(isTextStart(scnr))buf+=ch,scnr.next();else{if(isPluralStart(scnr))break;buf+=ch,scnr.next()}else buf+=ch,scnr.next()}return buf}__name(readText,"readText");function readNamedIdentifier(scnr){skipSpaces(scnr);let ch="",name="";for(;ch=takeNamedIdentifierChar(scnr);)name+=ch;return scnr.currentChar()===EOF&&emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,currentPosition(),0),name}__name(readNamedIdentifier,"readNamedIdentifier");function readListIdentifier(scnr){skipSpaces(scnr);let value="";return scnr.currentChar()==="-"?(scnr.next(),value+="-".concat(getDigits(scnr))):value+=getDigits(scnr),scnr.currentChar()===EOF&&emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,currentPosition(),0),value}__name(readListIdentifier,"readListIdentifier");function isLiteral2(ch){return ch!==LITERAL_DELIMITER&&ch!==CHAR_LF}__name(isLiteral2,"isLiteral");function readLiteral(scnr){skipSpaces(scnr),eat(scnr,"'");let ch="",literal="";for(;ch=takeChar(scnr,isLiteral2);)ch==="\\"?literal+=readEscapeSequence(scnr):literal+=ch;const current=scnr.currentChar();return current===CHAR_LF||current===EOF?(emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,currentPosition(),0),current===CHAR_LF&&(scnr.next(),eat(scnr,"'")),literal):(eat(scnr,"'"),literal)}__name(readLiteral,"readLiteral");function readEscapeSequence(scnr){const ch=scnr.currentChar();switch(ch){case"\\":case"'":return scnr.next(),"\\".concat(ch);case"u":return readUnicodeEscapeSequence(scnr,ch,4);case"U":return readUnicodeEscapeSequence(scnr,ch,6);default:return emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,currentPosition(),0,ch),""}}__name(readEscapeSequence,"readEscapeSequence");function readUnicodeEscapeSequence(scnr,unicode,digits){eat(scnr,unicode);let sequence="";for(let i=0;i<digits;i++){const ch=takeHexDigit(scnr);if(!ch){emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,currentPosition(),0,"\\".concat(unicode).concat(sequence).concat(scnr.currentChar()));break}sequence+=ch}return"\\".concat(unicode).concat(sequence)}__name(readUnicodeEscapeSequence,"readUnicodeEscapeSequence");function isInvalidIdentifier(ch){return ch!=="{"&&ch!=="}"&&ch!==CHAR_SP&&ch!==CHAR_LF}__name(isInvalidIdentifier,"isInvalidIdentifier");function readInvalidIdentifier(scnr){skipSpaces(scnr);let ch="",identifiers="";for(;ch=takeChar(scnr,isInvalidIdentifier);)identifiers+=ch;return identifiers}__name(readInvalidIdentifier,"readInvalidIdentifier");function readLinkedModifier(scnr){let ch="",name="";for(;ch=takeIdentifierChar(scnr);)name+=ch;return name}__name(readLinkedModifier,"readLinkedModifier");function readLinkedRefer(scnr){const fn=__name(buf=>{const ch=scnr.currentChar();return ch==="{"||ch==="%"||ch==="@"||ch==="|"||ch==="("||ch===")"||!ch||ch===CHAR_SP?buf:(buf+=ch,scnr.next(),fn(buf))},"fn");return fn("")}__name(readLinkedRefer,"readLinkedRefer");function readPlural(scnr){skipSpaces(scnr);const plural=eat(scnr,"|");return skipSpaces(scnr),plural}__name(readPlural,"readPlural");function readTokenInPlaceholder(scnr,context2){let token=null;switch(scnr.currentChar()){case"{":return context2.braceNest>=1&&emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,currentPosition(),0),scnr.next(),token=getToken(context2,2,"{"),skipSpaces(scnr),context2.braceNest++,token;case"}":return context2.braceNest>0&&context2.currentType===2&&emitError(CompileErrorCodes.EMPTY_PLACEHOLDER,currentPosition(),0),scnr.next(),token=getToken(context2,3,"}"),context2.braceNest--,context2.braceNest>0&&skipSpaces(scnr),context2.inLinked&&context2.braceNest===0&&(context2.inLinked=!1),token;case"@":return context2.braceNest>0&&emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,currentPosition(),0),token=readTokenInLinked(scnr,context2)||getEndToken(context2),context2.braceNest=0,token;default:{let validNamedIdentifier=!0,validListIdentifier=!0,validLiteral=!0;if(isPluralStart(scnr))return context2.braceNest>0&&emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,currentPosition(),0),token=getToken(context2,1,readPlural(scnr)),context2.braceNest=0,context2.inLinked=!1,token;if(context2.braceNest>0&&(context2.currentType===5||context2.currentType===6||context2.currentType===7))return emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,currentPosition(),0),context2.braceNest=0,readToken(scnr,context2);if(validNamedIdentifier=isNamedIdentifierStart(scnr,context2))return token=getToken(context2,5,readNamedIdentifier(scnr)),skipSpaces(scnr),token;if(validListIdentifier=isListIdentifierStart(scnr,context2))return token=getToken(context2,6,readListIdentifier(scnr)),skipSpaces(scnr),token;if(validLiteral=isLiteralStart(scnr,context2))return token=getToken(context2,7,readLiteral(scnr)),skipSpaces(scnr),token;if(!validNamedIdentifier&&!validListIdentifier&&!validLiteral)return token=getToken(context2,13,readInvalidIdentifier(scnr)),emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,currentPosition(),0,token.value),skipSpaces(scnr),token;break}}return token}__name(readTokenInPlaceholder,"readTokenInPlaceholder");function readTokenInLinked(scnr,context2){const{currentType}=context2;let token=null;const ch=scnr.currentChar();switch((currentType===8||currentType===9||currentType===12||currentType===10)&&(ch===CHAR_LF||ch===CHAR_SP)&&emitError(CompileErrorCodes.INVALID_LINKED_FORMAT,currentPosition(),0),ch){case"@":return scnr.next(),token=getToken(context2,8,"@"),context2.inLinked=!0,token;case".":return skipSpaces(scnr),scnr.next(),getToken(context2,9,".");case":":return skipSpaces(scnr),scnr.next(),getToken(context2,10,":");default:return isPluralStart(scnr)?(token=getToken(context2,1,readPlural(scnr)),context2.braceNest=0,context2.inLinked=!1,token):isLinkedDotStart(scnr,context2)||isLinkedDelimiterStart(scnr,context2)?(skipSpaces(scnr),readTokenInLinked(scnr,context2)):isLinkedModifierStart(scnr,context2)?(skipSpaces(scnr),getToken(context2,12,readLinkedModifier(scnr))):isLinkedReferStart(scnr,context2)?(skipSpaces(scnr),ch==="{"?readTokenInPlaceholder(scnr,context2)||token:getToken(context2,11,readLinkedRefer(scnr))):(currentType===8&&emitError(CompileErrorCodes.INVALID_LINKED_FORMAT,currentPosition(),0),context2.braceNest=0,context2.inLinked=!1,readToken(scnr,context2))}}__name(readTokenInLinked,"readTokenInLinked");function readToken(scnr,context2){let token={type:14};if(context2.braceNest>0)return readTokenInPlaceholder(scnr,context2)||getEndToken(context2);if(context2.inLinked)return readTokenInLinked(scnr,context2)||getEndToken(context2);switch(scnr.currentChar()){case"{":return readTokenInPlaceholder(scnr,context2)||getEndToken(context2);case"}":return emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,currentPosition(),0),scnr.next(),getToken(context2,3,"}");case"@":return readTokenInLinked(scnr,context2)||getEndToken(context2);default:{if(isPluralStart(scnr))return token=getToken(context2,1,readPlural(scnr)),context2.braceNest=0,context2.inLinked=!1,token;const{isModulo,hasSpace}=detectModuloStart(scnr);if(isModulo)return hasSpace?getToken(context2,0,readText(scnr)):getToken(context2,4,readModulo(scnr));if(isTextStart(scnr))return getToken(context2,0,readText(scnr));break}}return token}__name(readToken,"readToken");function nextToken(){const{currentType,offset,startLoc,endLoc}=_context;return _context.lastType=currentType,_context.lastOffset=offset,_context.lastStartLoc=startLoc,_context.lastEndLoc=endLoc,_context.offset=currentOffset(),_context.startLoc=currentPosition(),_scnr.currentChar()===EOF?getToken(_context,14):readToken(_scnr,_context)}return __name(nextToken,"nextToken"),{nextToken,currentOffset,currentPosition,context}}__name(createTokenizer,"createTokenizer");const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(match,codePoint4,codePoint6){switch(match){case"\\\\":return"\\";case"\\'":return"'";default:{const codePoint=parseInt(codePoint4||codePoint6,16);return codePoint<=55295||codePoint>=57344?String.fromCodePoint(codePoint):""}}}__name(fromEscapeSequence,"fromEscapeSequence");function createParser(options={}){const location2=options.location!==!1,{onError,onWarn}=options;function emitError(tokenzer,code2,start,offset,...args){const end=tokenzer.currentPosition();if(end.offset+=offset,end.column+=offset,onError){const loc=location2?createLocation(start,end):null,err=createCompileError(code2,loc,{domain:ERROR_DOMAIN$2,args});onError(err)}}__name(emitError,"emitError");function emitWarn(tokenzer,code2,start,offset,...args){const end=tokenzer.currentPosition();if(end.offset+=offset,end.column+=offset,onWarn){const loc=location2?createLocation(start,end):null;onWarn(createCompileWarn(code2,loc,args))}}__name(emitWarn,"emitWarn");function startNode(type,offset,loc){const node={type};return location2&&(node.start=offset,node.end=offset,node.loc={start:loc,end:loc}),node}__name(startNode,"startNode");function endNode(node,offset,pos,type){location2&&(node.end=offset,node.loc&&(node.loc.end=pos))}__name(endNode,"endNode");function parseText(tokenizer,value){const context=tokenizer.context(),node=startNode(3,context.offset,context.startLoc);return node.value=value,endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parseText,"parseText");function parseList(tokenizer,index){const context=tokenizer.context(),{lastOffset:offset,lastStartLoc:loc}=context,node=startNode(5,offset,loc);return node.index=parseInt(index,10),tokenizer.nextToken(),endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parseList,"parseList");function parseNamed(tokenizer,key,modulo){const context=tokenizer.context(),{lastOffset:offset,lastStartLoc:loc}=context,node=startNode(4,offset,loc);return node.key=key,modulo===!0&&(node.modulo=!0),tokenizer.nextToken(),endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parseNamed,"parseNamed");function parseLiteral(tokenizer,value){const context=tokenizer.context(),{lastOffset:offset,lastStartLoc:loc}=context,node=startNode(9,offset,loc);return node.value=value.replace(KNOWN_ESCAPES,fromEscapeSequence),tokenizer.nextToken(),endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parseLiteral,"parseLiteral");function parseLinkedModifier(tokenizer){const token=tokenizer.nextToken(),context=tokenizer.context(),{lastOffset:offset,lastStartLoc:loc}=context,node=startNode(8,offset,loc);return token.type!==12?(emitError(tokenizer,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,context.lastStartLoc,0),node.value="",endNode(node,offset,loc),{nextConsumeToken:token,node}):(token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),node.value=token.value||"",endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),{node})}__name(parseLinkedModifier,"parseLinkedModifier");function parseLinkedKey(tokenizer,value){const context=tokenizer.context(),node=startNode(7,context.offset,context.startLoc);return node.value=value,endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parseLinkedKey,"parseLinkedKey");function parseLinked(tokenizer){const context=tokenizer.context(),linkedNode=startNode(6,context.offset,context.startLoc);let token=tokenizer.nextToken();if(token.type===9){const parsed=parseLinkedModifier(tokenizer);linkedNode.modifier=parsed.node,token=parsed.nextConsumeToken||tokenizer.nextToken()}switch(token.type!==10&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),token=tokenizer.nextToken(),token.type===2&&(token=tokenizer.nextToken()),token.type){case 11:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),linkedNode.key=parseLinkedKey(tokenizer,token.value||"");break;case 5:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),linkedNode.key=parseNamed(tokenizer,token.value||"");break;case 6:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),linkedNode.key=parseList(tokenizer,token.value||"");break;case 7:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),linkedNode.key=parseLiteral(tokenizer,token.value||"");break;default:{emitError(tokenizer,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,context.lastStartLoc,0);const nextContext=tokenizer.context(),emptyLinkedKeyNode=startNode(7,nextContext.offset,nextContext.startLoc);return emptyLinkedKeyNode.value="",endNode(emptyLinkedKeyNode,nextContext.offset,nextContext.startLoc),linkedNode.key=emptyLinkedKeyNode,endNode(linkedNode,nextContext.offset,nextContext.startLoc),{nextConsumeToken:token,node:linkedNode}}}return endNode(linkedNode,tokenizer.currentOffset(),tokenizer.currentPosition()),{node:linkedNode}}__name(parseLinked,"parseLinked");function parseMessage(tokenizer){const context=tokenizer.context(),startOffset=context.currentType===1?tokenizer.currentOffset():context.offset,startLoc=context.currentType===1?context.endLoc:context.startLoc,node=startNode(2,startOffset,startLoc);node.items=[];let nextToken=null,modulo=null;do{const token=nextToken||tokenizer.nextToken();switch(nextToken=null,token.type){case 0:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),node.items.push(parseText(tokenizer,token.value||""));break;case 6:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),node.items.push(parseList(tokenizer,token.value||""));break;case 4:modulo=!0;break;case 5:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),node.items.push(parseNamed(tokenizer,token.value||"",!!modulo)),modulo&&(emitWarn(tokenizer,CompileWarnCodes.USE_MODULO_SYNTAX,context.lastStartLoc,0,getTokenCaption(token)),modulo=null);break;case 7:token.value==null&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,getTokenCaption(token)),node.items.push(parseLiteral(tokenizer,token.value||""));break;case 8:{const parsed=parseLinked(tokenizer);node.items.push(parsed.node),nextToken=parsed.nextConsumeToken||null;break}}}while(context.currentType!==14&&context.currentType!==1);const endOffset=context.currentType===1?context.lastOffset:tokenizer.currentOffset(),endLoc=context.currentType===1?context.lastEndLoc:tokenizer.currentPosition();return endNode(node,endOffset,endLoc),node}__name(parseMessage,"parseMessage");function parsePlural(tokenizer,offset,loc,msgNode){const context=tokenizer.context();let hasEmptyMessage=msgNode.items.length===0;const node=startNode(1,offset,loc);node.cases=[],node.cases.push(msgNode);do{const msg2=parseMessage(tokenizer);hasEmptyMessage||(hasEmptyMessage=msg2.items.length===0),node.cases.push(msg2)}while(context.currentType!==14);return hasEmptyMessage&&emitError(tokenizer,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,loc,0),endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}__name(parsePlural,"parsePlural");function parseResource(tokenizer){const context=tokenizer.context(),{offset,startLoc}=context,msgNode=parseMessage(tokenizer);return context.currentType===14?msgNode:parsePlural(tokenizer,offset,startLoc,msgNode)}__name(parseResource,"parseResource");function parse2(source){const tokenizer=createTokenizer(source,assign$1({},options)),context=tokenizer.context(),node=startNode(0,context.offset,context.startLoc);return location2&&node.loc&&(node.loc.source=source),node.body=parseResource(tokenizer),options.onCacheKey&&(node.cacheKey=options.onCacheKey(source)),context.currentType!==14&&emitError(tokenizer,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,context.lastStartLoc,0,source[context.offset]||""),endNode(node,tokenizer.currentOffset(),tokenizer.currentPosition()),node}return __name(parse2,"parse"),{parse:parse2}}__name(createParser,"createParser");function getTokenCaption(token){if(token.type===14)return"EOF";const name=(token.value||"").replace(/\r?\n/gu,"\\n");return name.length>10?name.slice(0,9)+"":name}__name(getTokenCaption,"getTokenCaption");function createTransformer(ast,options={}){const _context={ast,helpers:new Set};return{context:__name(()=>_context,"context"),helper:__name(name=>(_context.helpers.add(name),name),"helper")}}__name(createTransformer,"createTransformer");function traverseNodes(nodes,transformer){for(let i=0;i<nodes.length;i++)traverseNode(nodes[i],transformer)}__name(traverseNodes,"traverseNodes");function traverseNode(node,transformer){switch(node.type){case 1:traverseNodes(node.cases,transformer),transformer.helper("plural");break;case 2:traverseNodes(node.items,transformer);break;case 6:{traverseNode(node.key,transformer),transformer.helper("linked"),transformer.helper("type");break}case 5:transformer.helper("interpolate"),transformer.helper("list");break;case 4:transformer.helper("interpolate"),transformer.helper("named");break}}__name(traverseNode,"traverseNode");function transform(ast,options={}){const transformer=createTransformer(ast);transformer.helper("normalize"),ast.body&&traverseNode(ast.body,transformer);const context=transformer.context();ast.helpers=Array.from(context.helpers)}__name(transform,"transform");function optimize(ast){const body=ast.body;return body.type===2?optimizeMessageNode(body):body.cases.forEach(c2=>optimizeMessageNode(c2)),ast}__name(optimize,"optimize");function optimizeMessageNode(message){if(message.items.length===1){const item=message.items[0];(item.type===3||item.type===9)&&(message.static=item.value,delete item.value)}else{const values=[];for(let i=0;i<message.items.length;i++){const item=message.items[i];if(!(item.type===3||item.type===9)||item.value==null)break;values.push(item.value)}if(values.length===message.items.length){message.static=join(values);for(let i=0;i<message.items.length;i++){const item=message.items[i];(item.type===3||item.type===9)&&delete item.value}}}}__name(optimizeMessageNode,"optimizeMessageNode");const ERROR_DOMAIN$1="minifier";function minify(node){switch(node.t=node.type,node.type){case 0:{const resource=node;minify(resource.body),resource.b=resource.body,delete resource.body;break}case 1:{const plural=node,cases=plural.cases;for(let i=0;i<cases.length;i++)minify(cases[i]);plural.c=cases,delete plural.cases;break}case 2:{const message=node,items=message.items;for(let i=0;i<items.length;i++)minify(items[i]);message.i=items,delete message.items,message.static&&(message.s=message.static,delete message.static);break}case 3:case 9:case 8:case 7:{const valueNode=node;valueNode.value&&(valueNode.v=valueNode.value,delete valueNode.value);break}case 6:{const linked=node;minify(linked.key),linked.k=linked.key,delete linked.key,linked.modifier&&(minify(linked.modifier),linked.m=linked.modifier,delete linked.modifier);break}case 5:{const list=node;list.i=list.index,delete list.index;break}case 4:{const named=node;named.k=named.key,delete named.key;break}default:throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ERROR_DOMAIN$1,args:[node.type]})}delete node.type}__name(minify,"minify");const ERROR_DOMAIN="parser";function createCodeGenerator(ast,options){const{filename,breakLineCode,needIndent:_needIndent}=options,location2=options.location!==!1,_context={filename,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode,needIndent:_needIndent,indentLevel:0};location2&&ast.loc&&(_context.source=ast.loc.source);const context=__name(()=>_context,"context");function push(code2,node){_context.code+=code2}__name(push,"push");function _newline(n,withBreakLine=!0){const _breakLineCode=withBreakLine?breakLineCode:"";push(_needIndent?_breakLineCode+"  ".repeat(n):_breakLineCode)}__name(_newline,"_newline");function indent(withNewLine=!0){const level=++_context.indentLevel;withNewLine&&_newline(level)}__name(indent,"indent");function deindent(withNewLine=!0){const level=--_context.indentLevel;withNewLine&&_newline(level)}__name(deindent,"deindent");function newline(){_newline(_context.indentLevel)}return __name(newline,"newline"),{context,push,indent,deindent,newline,helper:__name(key=>"_".concat(key),"helper"),needIndent:__name(()=>_context.needIndent,"needIndent")}}__name(createCodeGenerator,"createCodeGenerator");function generateLinkedNode(generator,node){const{helper}=generator;generator.push("".concat(helper("linked"),"(")),generateNode(generator,node.key),node.modifier?(generator.push(", "),generateNode(generator,node.modifier),generator.push(", _type")):generator.push(", undefined, _type"),generator.push(")")}__name(generateLinkedNode,"generateLinkedNode");function generateMessageNode(generator,node){const{helper,needIndent}=generator;generator.push("".concat(helper("normalize"),"([")),generator.indent(needIndent());const length=node.items.length;for(let i=0;i<length&&(generateNode(generator,node.items[i]),i!==length-1);i++)generator.push(", ");generator.deindent(needIndent()),generator.push("])")}__name(generateMessageNode,"generateMessageNode");function generatePluralNode(generator,node){const{helper,needIndent}=generator;if(node.cases.length>1){generator.push("".concat(helper("plural"),"([")),generator.indent(needIndent());const length=node.cases.length;for(let i=0;i<length&&(generateNode(generator,node.cases[i]),i!==length-1);i++)generator.push(", ");generator.deindent(needIndent()),generator.push("])")}}__name(generatePluralNode,"generatePluralNode");function generateResource(generator,node){node.body?generateNode(generator,node.body):generator.push("null")}__name(generateResource,"generateResource");function generateNode(generator,node){const{helper}=generator;switch(node.type){case 0:generateResource(generator,node);break;case 1:generatePluralNode(generator,node);break;case 2:generateMessageNode(generator,node);break;case 6:generateLinkedNode(generator,node);break;case 8:generator.push(JSON.stringify(node.value),node);break;case 7:generator.push(JSON.stringify(node.value),node);break;case 5:generator.push("".concat(helper("interpolate"),"(").concat(helper("list"),"(").concat(node.index,"))"),node);break;case 4:generator.push("".concat(helper("interpolate"),"(").concat(helper("named"),"(").concat(JSON.stringify(node.key),"))"),node);break;case 9:generator.push(JSON.stringify(node.value),node);break;case 3:generator.push(JSON.stringify(node.value),node);break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ERROR_DOMAIN,args:[node.type]})}}__name(generateNode,"generateNode");const generate=__name((ast,options={})=>{const mode=isString$1(options.mode)?options.mode:"normal",filename=isString$1(options.filename)?options.filename:"message.intl";options.sourceMap;const breakLineCode=options.breakLineCode!=null?options.breakLineCode:mode==="arrow"?";":"\n",needIndent=options.needIndent?options.needIndent:mode!=="arrow",helpers=ast.helpers||[],generator=createCodeGenerator(ast,{filename,breakLineCode,needIndent});generator.push(mode==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),generator.indent(needIndent),helpers.length>0&&(generator.push("const { ".concat(join(helpers.map(s=>"".concat(s,": _").concat(s)),", ")," } = ctx")),generator.newline()),generator.push("return "),generateNode(generator,ast),generator.deindent(needIndent),generator.push("}"),delete ast.helpers;const{code:code2,map:map2}=generator.context();return{ast,code:code2,map:map2?map2.toJSON():void 0}},"generate");function baseCompile$1(source,options={}){const assignedOptions=assign$1({},options),jit=!!assignedOptions.jit,enalbeMinify=!!assignedOptions.minify,enambeOptimize=assignedOptions.optimize==null?!0:assignedOptions.optimize,ast=createParser(assignedOptions).parse(source);return jit?(enambeOptimize&&optimize(ast),enalbeMinify&&minify(ast),{ast,code:""}):(transform(ast,assignedOptions),generate(ast,assignedOptions))}__name(baseCompile$1,"baseCompile$1");/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}__name(initFeatureFlags$1,"initFeatureFlags$1");function isMessageAST(val){return isObject$3(val)&&resolveType(val)===0&&(hasOwn(val,"b")||hasOwn(val,"body"))}__name(isMessageAST,"isMessageAST");const PROPS_BODY=["b","body"];function resolveBody(node){return resolveProps(node,PROPS_BODY)}__name(resolveBody,"resolveBody");const PROPS_CASES=["c","cases"];function resolveCases(node){return resolveProps(node,PROPS_CASES,[])}__name(resolveCases,"resolveCases");const PROPS_STATIC=["s","static"];function resolveStatic(node){return resolveProps(node,PROPS_STATIC)}__name(resolveStatic,"resolveStatic");const PROPS_ITEMS=["i","items"];function resolveItems(node){return resolveProps(node,PROPS_ITEMS,[])}__name(resolveItems,"resolveItems");const PROPS_TYPE=["t","type"];function resolveType(node){return resolveProps(node,PROPS_TYPE)}__name(resolveType,"resolveType");const PROPS_VALUE=["v","value"];function resolveValue$1(node,type){const resolved=resolveProps(node,PROPS_VALUE);if(resolved!=null)return resolved;throw createUnhandleNodeError(type)}__name(resolveValue$1,"resolveValue$1");const PROPS_MODIFIER=["m","modifier"];function resolveLinkedModifier(node){return resolveProps(node,PROPS_MODIFIER)}__name(resolveLinkedModifier,"resolveLinkedModifier");const PROPS_KEY=["k","key"];function resolveLinkedKey(node){const resolved=resolveProps(node,PROPS_KEY);if(resolved)return resolved;throw createUnhandleNodeError(6)}__name(resolveLinkedKey,"resolveLinkedKey");function resolveProps(node,props,defaultValue){for(let i=0;i<props.length;i++){const prop=props[i];if(hasOwn(node,prop)&&node[prop]!=null)return node[prop]}return defaultValue}__name(resolveProps,"resolveProps");const AST_NODE_PROPS_KEYS=[...PROPS_BODY,...PROPS_CASES,...PROPS_STATIC,...PROPS_ITEMS,...PROPS_KEY,...PROPS_MODIFIER,...PROPS_VALUE,...PROPS_TYPE];function createUnhandleNodeError(type){return new Error("unhandled node type: ".concat(type))}__name(createUnhandleNodeError,"createUnhandleNodeError");const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]};pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]};pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]};pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(exp){return literalValueRE.test(exp)}__name(isLiteral,"isLiteral");function stripQuotes$1(str){const a=str.charCodeAt(0),b=str.charCodeAt(str.length-1);return a===b&&(a===34||a===39)?str.slice(1,-1):str}__name(stripQuotes$1,"stripQuotes$1");function getPathCharType(ch){if(ch==null)return"o";switch(ch.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return ch;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}__name(getPathCharType,"getPathCharType");function formatSubPath(path){const trimmed=path.trim();return path.charAt(0)==="0"&&isNaN(parseInt(path))?!1:isLiteral(trimmed)?stripQuotes$1(trimmed):"*"+trimmed}__name(formatSubPath,"formatSubPath");function parse(path){const keys2=[];let index=-1,mode=0,subPathDepth=0,c2,key,newChar,type,transition,action,typeMap;const actions=[];actions[0]=()=>{key===void 0?key=newChar:key+=newChar},actions[1]=()=>{key!==void 0&&(keys2.push(key),key=void 0)},actions[2]=()=>{actions[0](),subPathDepth++},actions[3]=()=>{if(subPathDepth>0)subPathDepth--,mode=4,actions[0]();else{if(subPathDepth=0,key===void 0||(key=formatSubPath(key),key===!1))return!1;actions[1]()}};function maybeUnescapeQuote(){const nextChar=path[index+1];if(mode===5&&nextChar==="'"||mode===6&&nextChar==='"')return index++,newChar="\\"+nextChar,actions[0](),!0}for(__name(maybeUnescapeQuote,"maybeUnescapeQuote");mode!==null;)if(index++,c2=path[index],!(c2==="\\"&&maybeUnescapeQuote())){if(type=getPathCharType(c2),typeMap=pathStateMachine[mode],transition=typeMap[type]||typeMap.l||8,transition===8||(mode=transition[0],transition[1]!==void 0&&(action=actions[transition[1]],action&&(newChar=c2,action()===!1))))return;if(mode===7)return keys2}}__name(parse,"parse");const cache$1=new Map;function resolveWithKeyValue(obj,path){return isObject$3(obj)?obj[path]:null}__name(resolveWithKeyValue,"resolveWithKeyValue");function resolveValue(obj,path){if(!isObject$3(obj))return null;let hit=cache$1.get(path);if(hit||(hit=parse(path),hit&&cache$1.set(path,hit)),!hit)return null;const len=hit.length;let last=obj,i=0;for(;i<len;){const key=hit[i];if(AST_NODE_PROPS_KEYS.includes(key)&&isMessageAST(last))return null;const val=last[key];if(val===void 0||isFunction$1(last))return null;last=val,i++}return last}__name(resolveValue,"resolveValue");const DEFAULT_MODIFIER=__name(str=>str,"DEFAULT_MODIFIER"),DEFAULT_MESSAGE=__name(ctx2=>"","DEFAULT_MESSAGE"),DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=__name(values=>values.length===0?"":join$1(values),"DEFAULT_NORMALIZE"),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(choice,choicesLength){return choice=Math.abs(choice),choicesLength===2?choice?choice>1?1:0:1:choice?Math.min(choice,2):0}__name(pluralDefault,"pluralDefault");function getPluralIndex(options){const index=isNumber$1(options.pluralIndex)?options.pluralIndex:-1;return options.named&&(isNumber$1(options.named.count)||isNumber$1(options.named.n))?isNumber$1(options.named.count)?options.named.count:isNumber$1(options.named.n)?options.named.n:index:index}__name(getPluralIndex,"getPluralIndex");function normalizeNamed(pluralIndex,props){props.count||(props.count=pluralIndex),props.n||(props.n=pluralIndex)}__name(normalizeNamed,"normalizeNamed");function createMessageContext(options={}){const locale=options.locale,pluralIndex=getPluralIndex(options),pluralRule=isObject$3(options.pluralRules)&&isString$2(locale)&&isFunction$1(options.pluralRules[locale])?options.pluralRules[locale]:pluralDefault,orgPluralRule=isObject$3(options.pluralRules)&&isString$2(locale)&&isFunction$1(options.pluralRules[locale])?pluralDefault:void 0,plural=__name(messages2=>messages2[pluralRule(pluralIndex,messages2.length,orgPluralRule)],"plural"),_list=options.list||[],list=__name(index=>_list[index],"list"),_named=options.named||create();isNumber$1(options.pluralIndex)&&normalizeNamed(pluralIndex,_named);const named=__name(key=>_named[key],"named");function message(key){const msg2=isFunction$1(options.messages)?options.messages(key):isObject$3(options.messages)?options.messages[key]:!1;return msg2||(options.parent?options.parent.message(key):DEFAULT_MESSAGE)}__name(message,"message");const _modifier=__name(name=>options.modifiers?options.modifiers[name]:DEFAULT_MODIFIER,"_modifier"),normalize=isPlainObject$1(options.processor)&&isFunction$1(options.processor.normalize)?options.processor.normalize:DEFAULT_NORMALIZE,interpolate=isPlainObject$1(options.processor)&&isFunction$1(options.processor.interpolate)?options.processor.interpolate:DEFAULT_INTERPOLATE,type=isPlainObject$1(options.processor)&&isString$2(options.processor.type)?options.processor.type:DEFAULT_MESSAGE_DATA_TYPE,ctx2={list,named,plural,linked:__name((key,...args)=>{const[arg1,arg2]=args;let type2="text",modifier="";args.length===1?isObject$3(arg1)?(modifier=arg1.modifier||modifier,type2=arg1.type||type2):isString$2(arg1)&&(modifier=arg1||modifier):args.length===2&&(isString$2(arg1)&&(modifier=arg1||modifier),isString$2(arg2)&&(type2=arg2||type2));const ret=message(key)(ctx2),msg2=type2==="vnode"&&isArray$2(ret)&&modifier?ret[0]:ret;return modifier?_modifier(modifier)(msg2,type2):msg2},"linked"),message,type,interpolate,normalize,values:assign$2(create(),_list,_named)};return ctx2}__name(createMessageContext,"createMessageContext");let devtools=null;function setDevToolsHook(hook){devtools=hook}__name(setDevToolsHook,"setDevToolsHook");function initI18nDevTools(i18n2,version2,meta){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:i18n2,version:version2,meta})}__name(initI18nDevTools,"initI18nDevTools");const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(hook){return payloads=>devtools&&devtools.emit(hook,payloads)}__name(createDevToolsHook,"createDevToolsHook");const code$1$1=CompileWarnCodes.__EXTEND_POINT__,inc$1$1=incrementer(code$1$1),CoreWarnCodes={FALLBACK_TO_TRANSLATE:inc$1$1(),CANNOT_FORMAT_NUMBER:inc$1$1(),FALLBACK_TO_NUMBER_FORMAT:inc$1$1(),CANNOT_FORMAT_DATE:inc$1$1(),FALLBACK_TO_DATE_FORMAT:inc$1$1(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:inc$1$1(),__EXTEND_POINT__:inc$1$1()},code$2=CompileErrorCodes.__EXTEND_POINT__,inc$2=incrementer(code$2),CoreErrorCodes={INVALID_ARGUMENT:code$2,INVALID_DATE_ARGUMENT:inc$2(),INVALID_ISO_DATE_ARGUMENT:inc$2(),NOT_SUPPORT_NON_STRING_MESSAGE:inc$2(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:inc$2(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:inc$2(),NOT_SUPPORT_LOCALE_TYPE:inc$2(),__EXTEND_POINT__:inc$2()};function createCoreError(code2){return createCompileError(code2,null,void 0)}__name(createCoreError,"createCoreError");function getLocale(context,options){return options.locale!=null?resolveLocale(options.locale):resolveLocale(context.locale)}__name(getLocale,"getLocale");let _resolveLocale;function resolveLocale(locale){if(isString$2(locale))return locale;if(isFunction$1(locale)){if(locale.resolvedOnce&&_resolveLocale!=null)return _resolveLocale;if(locale.constructor.name==="Function"){const resolve2=locale();if(isPromise(resolve2))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _resolveLocale=resolve2}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE)}__name(resolveLocale,"resolveLocale");function fallbackWithSimple(ctx2,fallback,start){return[...new Set([start,...isArray$2(fallback)?fallback:isObject$3(fallback)?Object.keys(fallback):isString$2(fallback)?[fallback]:[start]])]}__name(fallbackWithSimple,"fallbackWithSimple");function fallbackWithLocaleChain(ctx2,fallback,start){const startLocale=isString$2(start)?start:DEFAULT_LOCALE,context=ctx2;context.__localeChainCache||(context.__localeChainCache=new Map);let chain=context.__localeChainCache.get(startLocale);if(!chain){chain=[];let block=[start];for(;isArray$2(block);)block=appendBlockToChain(chain,block,fallback);const defaults=isArray$2(fallback)||!isPlainObject$1(fallback)?fallback:fallback.default?fallback.default:null;block=isString$2(defaults)?[defaults]:defaults,isArray$2(block)&&appendBlockToChain(chain,block,!1),context.__localeChainCache.set(startLocale,chain)}return chain}__name(fallbackWithLocaleChain,"fallbackWithLocaleChain");function appendBlockToChain(chain,block,blocks){let follow=!0;for(let i=0;i<block.length&&isBoolean(follow);i++){const locale=block[i];isString$2(locale)&&(follow=appendLocaleToChain(chain,block[i],blocks))}return follow}__name(appendBlockToChain,"appendBlockToChain");function appendLocaleToChain(chain,locale,blocks){let follow;const tokens=locale.split("-");do{const target=tokens.join("-");follow=appendItemToChain(chain,target,blocks),tokens.splice(-1,1)}while(tokens.length&&follow===!0);return follow}__name(appendLocaleToChain,"appendLocaleToChain");function appendItemToChain(chain,target,blocks){let follow=!1;if(!chain.includes(target)&&(follow=!0,target)){follow=target[target.length-1]!=="!";const locale=target.replace(/!/g,"");chain.push(locale),(isArray$2(blocks)||isPlainObject$1(blocks))&&blocks[locale]&&(follow=blocks[locale])}return follow}__name(appendItemToChain,"appendItemToChain");const VERSION$2="9.14.4",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=__name(str=>"".concat(str.charAt(0).toLocaleUpperCase()).concat(str.substr(1)),"capitalize");function getDefaultLinkedModifiers(){return{upper:__name((val,type)=>type==="text"&&isString$2(val)?val.toUpperCase():type==="vnode"&&isObject$3(val)&&"__v_isVNode"in val?val.children.toUpperCase():val,"upper"),lower:__name((val,type)=>type==="text"&&isString$2(val)?val.toLowerCase():type==="vnode"&&isObject$3(val)&&"__v_isVNode"in val?val.children.toLowerCase():val,"lower"),capitalize:__name((val,type)=>type==="text"&&isString$2(val)?capitalize(val):type==="vnode"&&isObject$3(val)&&"__v_isVNode"in val?capitalize(val.children):val,"capitalize")}}__name(getDefaultLinkedModifiers,"getDefaultLinkedModifiers");let _compiler;function registerMessageCompiler(compiler){_compiler=compiler}__name(registerMessageCompiler,"registerMessageCompiler");let _resolver;function registerMessageResolver(resolver){_resolver=resolver}__name(registerMessageResolver,"registerMessageResolver");let _fallbacker;function registerLocaleFallbacker(fallbacker){_fallbacker=fallbacker}__name(registerLocaleFallbacker,"registerLocaleFallbacker");let _additionalMeta=null;const setAdditionalMeta=__name(meta=>{_additionalMeta=meta},"setAdditionalMeta"),getAdditionalMeta=__name(()=>_additionalMeta,"getAdditionalMeta");let _fallbackContext=null;const setFallbackContext=__name(context=>{_fallbackContext=context},"setFallbackContext"),getFallbackContext=__name(()=>_fallbackContext,"getFallbackContext");let _cid=0;function createCoreContext(options={}){const onWarn=isFunction$1(options.onWarn)?options.onWarn:warn$3,version2=isString$2(options.version)?options.version:VERSION$2,locale=isString$2(options.locale)||isFunction$1(options.locale)?options.locale:DEFAULT_LOCALE,_locale=isFunction$1(locale)?DEFAULT_LOCALE:locale,fallbackLocale=isArray$2(options.fallbackLocale)||isPlainObject$1(options.fallbackLocale)||isString$2(options.fallbackLocale)||options.fallbackLocale===!1?options.fallbackLocale:_locale,messages2=isPlainObject$1(options.messages)?options.messages:createResources(_locale),datetimeFormats=isPlainObject$1(options.datetimeFormats)?options.datetimeFormats:createResources(_locale),numberFormats=isPlainObject$1(options.numberFormats)?options.numberFormats:createResources(_locale),modifiers=assign$2(create(),options.modifiers,getDefaultLinkedModifiers()),pluralRules=options.pluralRules||create(),missing=isFunction$1(options.missing)?options.missing:null,missingWarn=isBoolean(options.missingWarn)||isRegExp(options.missingWarn)?options.missingWarn:!0,fallbackWarn=isBoolean(options.fallbackWarn)||isRegExp(options.fallbackWarn)?options.fallbackWarn:!0,fallbackFormat=!!options.fallbackFormat,unresolving=!!options.unresolving,postTranslation=isFunction$1(options.postTranslation)?options.postTranslation:null,processor=isPlainObject$1(options.processor)?options.processor:null,warnHtmlMessage=isBoolean(options.warnHtmlMessage)?options.warnHtmlMessage:!0,escapeParameter=!!options.escapeParameter,messageCompiler=isFunction$1(options.messageCompiler)?options.messageCompiler:_compiler,messageResolver=isFunction$1(options.messageResolver)?options.messageResolver:_resolver||resolveWithKeyValue,localeFallbacker=isFunction$1(options.localeFallbacker)?options.localeFallbacker:_fallbacker||fallbackWithSimple,fallbackContext=isObject$3(options.fallbackContext)?options.fallbackContext:void 0,internalOptions=options,__datetimeFormatters=isObject$3(internalOptions.__datetimeFormatters)?internalOptions.__datetimeFormatters:new Map,__numberFormatters=isObject$3(internalOptions.__numberFormatters)?internalOptions.__numberFormatters:new Map,__meta=isObject$3(internalOptions.__meta)?internalOptions.__meta:{};_cid++;const context={version:version2,cid:_cid,locale,fallbackLocale,messages:messages2,modifiers,pluralRules,missing,missingWarn,fallbackWarn,fallbackFormat,unresolving,postTranslation,processor,warnHtmlMessage,escapeParameter,messageCompiler,messageResolver,localeFallbacker,fallbackContext,onWarn,__meta};return context.datetimeFormats=datetimeFormats,context.numberFormats=numberFormats,context.__datetimeFormatters=__datetimeFormatters,context.__numberFormatters=__numberFormatters,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(context,version2,__meta),context}__name(createCoreContext,"createCoreContext");const createResources=__name(locale=>({[locale]:create()}),"createResources");function handleMissing(context,key,locale,missingWarn,type){const{missing,onWarn}=context;if(missing!==null){const ret=missing(context,locale,key,type);return isString$2(ret)?ret:key}else return key}__name(handleMissing,"handleMissing");function updateFallbackLocale(ctx2,locale,fallback){const context=ctx2;context.__localeChainCache=new Map,ctx2.localeFallbacker(ctx2,fallback,locale)}__name(updateFallbackLocale,"updateFallbackLocale");function isAlmostSameLocale(locale,compareLocale){return locale===compareLocale?!1:locale.split("-")[0]===compareLocale.split("-")[0]}__name(isAlmostSameLocale,"isAlmostSameLocale");function isImplicitFallback(targetLocale,locales){const index=locales.indexOf(targetLocale);if(index===-1)return!1;for(let i=index+1;i<locales.length;i++)if(isAlmostSameLocale(targetLocale,locales[i]))return!0;return!1}__name(isImplicitFallback,"isImplicitFallback");function format(ast){return __name(ctx2=>formatParts(ctx2,ast),"msg")}__name(format,"format");function formatParts(ctx2,ast){const body=resolveBody(ast);if(body==null)throw createUnhandleNodeError(0);if(resolveType(body)===1){const cases=resolveCases(body);return ctx2.plural(cases.reduce((messages2,c2)=>[...messages2,formatMessageParts(ctx2,c2)],[]))}else return formatMessageParts(ctx2,body)}__name(formatParts,"formatParts");function formatMessageParts(ctx2,node){const static_=resolveStatic(node);if(static_!=null)return ctx2.type==="text"?static_:ctx2.normalize([static_]);{const messages2=resolveItems(node).reduce((acm,c2)=>[...acm,formatMessagePart(ctx2,c2)],[]);return ctx2.normalize(messages2)}}__name(formatMessageParts,"formatMessageParts");function formatMessagePart(ctx2,node){const type=resolveType(node);switch(type){case 3:return resolveValue$1(node,type);case 9:return resolveValue$1(node,type);case 4:{const named=node;if(hasOwn(named,"k")&&named.k)return ctx2.interpolate(ctx2.named(named.k));if(hasOwn(named,"key")&&named.key)return ctx2.interpolate(ctx2.named(named.key));throw createUnhandleNodeError(type)}case 5:{const list=node;if(hasOwn(list,"i")&&isNumber$1(list.i))return ctx2.interpolate(ctx2.list(list.i));if(hasOwn(list,"index")&&isNumber$1(list.index))return ctx2.interpolate(ctx2.list(list.index));throw createUnhandleNodeError(type)}case 6:{const linked=node,modifier=resolveLinkedModifier(linked),key=resolveLinkedKey(linked);return ctx2.linked(formatMessagePart(ctx2,key),modifier?formatMessagePart(ctx2,modifier):void 0,ctx2.type)}case 7:return resolveValue$1(node,type);case 8:return resolveValue$1(node,type);default:throw new Error("unhandled node on format message part: ".concat(type))}}__name(formatMessagePart,"formatMessagePart");const defaultOnCacheKey=__name(message=>message,"defaultOnCacheKey");let compileCache=create();function baseCompile(message,options={}){let detectError=!1;const onError=options.onError||defaultOnError;return options.onError=err=>{detectError=!0,onError(err)},{...baseCompile$1(message,options),detectError}}__name(baseCompile,"baseCompile");const compileToFunction=__name((message,context)=>{if(!isString$2(message))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE);{isBoolean(context.warnHtmlMessage)&&context.warnHtmlMessage;const cacheKey=(context.onCacheKey||defaultOnCacheKey)(message),cached=compileCache[cacheKey];if(cached)return cached;const{code:code2,detectError}=baseCompile(message,context),msg2=new Function("return ".concat(code2))();return detectError?msg2:compileCache[cacheKey]=msg2}},"compileToFunction");function compile(message,context){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$2(message)){isBoolean(context.warnHtmlMessage)&&context.warnHtmlMessage;const cacheKey=(context.onCacheKey||defaultOnCacheKey)(message),cached=compileCache[cacheKey];if(cached)return cached;const{ast,detectError}=baseCompile(message,{...context,location:!1,jit:!0}),msg2=format(ast);return detectError?msg2:compileCache[cacheKey]=msg2}else{const cacheKey=message.cacheKey;if(cacheKey){const cached=compileCache[cacheKey];return cached||(compileCache[cacheKey]=format(message))}else return format(message)}}__name(compile,"compile");const NOOP_MESSAGE_FUNCTION=__name(()=>"","NOOP_MESSAGE_FUNCTION"),isMessageFunction=__name(val=>isFunction$1(val),"isMessageFunction");function translate(context,...args){const{fallbackFormat,postTranslation,unresolving,messageCompiler,fallbackLocale,messages:messages2}=context,[key,options]=parseTranslateArgs(...args),missingWarn=isBoolean(options.missingWarn)?options.missingWarn:context.missingWarn,fallbackWarn=isBoolean(options.fallbackWarn)?options.fallbackWarn:context.fallbackWarn,escapeParameter=isBoolean(options.escapeParameter)?options.escapeParameter:context.escapeParameter,resolvedMessage=!!options.resolvedMessage,defaultMsgOrKey=isString$2(options.default)||isBoolean(options.default)?isBoolean(options.default)?messageCompiler?key:()=>key:options.default:fallbackFormat?messageCompiler?key:()=>key:"",enableDefaultMsg=fallbackFormat||defaultMsgOrKey!=="",locale=getLocale(context,options);escapeParameter&&escapeParams(options);let[formatScope,targetLocale,message]=resolvedMessage?[key,locale,messages2[locale]||create()]:resolveMessageFormat(context,key,locale,fallbackLocale,fallbackWarn,missingWarn),format2=formatScope,cacheBaseKey=key;if(!resolvedMessage&&!(isString$2(format2)||isMessageAST(format2)||isMessageFunction(format2))&&enableDefaultMsg&&(format2=defaultMsgOrKey,cacheBaseKey=format2),!resolvedMessage&&(!(isString$2(format2)||isMessageAST(format2)||isMessageFunction(format2))||!isString$2(targetLocale)))return unresolving?NOT_REOSLVED:key;let occurred=!1;const onError=__name(()=>{occurred=!0},"onError"),msg2=isMessageFunction(format2)?format2:compileMessageFormat(context,key,targetLocale,format2,cacheBaseKey,onError);if(occurred)return format2;const ctxOptions=getMessageContextOptions(context,targetLocale,message,options),msgContext=createMessageContext(ctxOptions),messaged=evaluateMessage(context,msg2,msgContext),ret=postTranslation?postTranslation(messaged,key):messaged;if(__INTLIFY_PROD_DEVTOOLS__){const payloads={timestamp:Date.now(),key:isString$2(key)?key:isMessageFunction(format2)?format2.key:"",locale:targetLocale||(isMessageFunction(format2)?format2.locale:""),format:isString$2(format2)?format2:isMessageFunction(format2)?format2.source:"",message:ret};payloads.meta=assign$2({},context.__meta,getAdditionalMeta()||{}),translateDevTools(payloads)}return ret}__name(translate,"translate");function escapeParams(options){isArray$2(options.list)?options.list=options.list.map(item=>isString$2(item)?escapeHtml(item):item):isObject$3(options.named)&&Object.keys(options.named).forEach(key=>{isString$2(options.named[key])&&(options.named[key]=escapeHtml(options.named[key]))})}__name(escapeParams,"escapeParams");function resolveMessageFormat(context,key,locale,fallbackLocale,fallbackWarn,missingWarn){const{messages:messages2,onWarn,messageResolver:resolveValue2,localeFallbacker}=context,locales=localeFallbacker(context,fallbackLocale,locale);let message=create(),targetLocale,format2=null;const type="translate";for(let i=0;i<locales.length&&(targetLocale=locales[i],message=messages2[targetLocale]||create(),(format2=resolveValue2(message,key))===null&&(format2=message[key]),!(isString$2(format2)||isMessageAST(format2)||isMessageFunction(format2)));i++)if(!isImplicitFallback(targetLocale,locales)){const missingRet=handleMissing(context,key,targetLocale,missingWarn,type);missingRet!==key&&(format2=missingRet)}return[format2,targetLocale,message]}__name(resolveMessageFormat,"resolveMessageFormat");function compileMessageFormat(context,key,targetLocale,format2,cacheBaseKey,onError){const{messageCompiler,warnHtmlMessage}=context;if(isMessageFunction(format2)){const msg22=format2;return msg22.locale=msg22.locale||targetLocale,msg22.key=msg22.key||key,msg22}if(messageCompiler==null){const msg22=__name(()=>format2,"msg2");return msg22.locale=targetLocale,msg22.key=key,msg22}const msg2=messageCompiler(format2,getCompileContext(context,targetLocale,cacheBaseKey,format2,warnHtmlMessage,onError));return msg2.locale=targetLocale,msg2.key=key,msg2.source=format2,msg2}__name(compileMessageFormat,"compileMessageFormat");function evaluateMessage(context,msg2,msgCtx){return msg2(msgCtx)}__name(evaluateMessage,"evaluateMessage");function parseTranslateArgs(...args){const[arg1,arg2,arg3]=args,options=create();if(!isString$2(arg1)&&!isNumber$1(arg1)&&!isMessageFunction(arg1)&&!isMessageAST(arg1))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const key=isNumber$1(arg1)?String(arg1):(isMessageFunction(arg1),arg1);return isNumber$1(arg2)?options.plural=arg2:isString$2(arg2)?options.default=arg2:isPlainObject$1(arg2)&&!isEmptyObject(arg2)?options.named=arg2:isArray$2(arg2)&&(options.list=arg2),isNumber$1(arg3)?options.plural=arg3:isString$2(arg3)?options.default=arg3:isPlainObject$1(arg3)&&assign$2(options,arg3),[key,options]}__name(parseTranslateArgs,"parseTranslateArgs");function getCompileContext(context,locale,key,source,warnHtmlMessage,onError){return{locale,key,warnHtmlMessage,onError:__name(err=>{throw onError&&onError(err),err},"onError"),onCacheKey:__name(source2=>generateFormatCacheKey(locale,key,source2),"onCacheKey")}}__name(getCompileContext,"getCompileContext");function getMessageContextOptions(context,locale,message,options){const{modifiers,pluralRules,messageResolver:resolveValue2,fallbackLocale,fallbackWarn,missingWarn,fallbackContext}=context,ctxOptions={locale,modifiers,pluralRules,messages:__name(key=>{let val=resolveValue2(message,key);if(val==null&&fallbackContext){const[,,message2]=resolveMessageFormat(fallbackContext,key,locale,fallbackLocale,fallbackWarn,missingWarn);val=resolveValue2(message2,key)}if(isString$2(val)||isMessageAST(val)){let occurred=!1;const msg2=compileMessageFormat(context,key,locale,val,key,__name(()=>{occurred=!0},"onError"));return occurred?NOOP_MESSAGE_FUNCTION:msg2}else return isMessageFunction(val)?val:NOOP_MESSAGE_FUNCTION},"resolveMessage")};return context.processor&&(ctxOptions.processor=context.processor),options.list&&(ctxOptions.list=options.list),options.named&&(ctxOptions.named=options.named),isNumber$1(options.plural)&&(ctxOptions.pluralIndex=options.plural),ctxOptions}__name(getMessageContextOptions,"getMessageContextOptions");function datetime(context,...args){const{datetimeFormats,unresolving,fallbackLocale,onWarn,localeFallbacker}=context,{__datetimeFormatters}=context,[key,value,options,overrides]=parseDateTimeArgs(...args),missingWarn=isBoolean(options.missingWarn)?options.missingWarn:context.missingWarn;isBoolean(options.fallbackWarn)?options.fallbackWarn:context.fallbackWarn;const part=!!options.part,locale=getLocale(context,options),locales=localeFallbacker(context,fallbackLocale,locale);if(!isString$2(key)||key==="")return new Intl.DateTimeFormat(locale,overrides).format(value);let datetimeFormat={},targetLocale,format2=null;const type="datetime format";for(let i=0;i<locales.length&&(targetLocale=locales[i],datetimeFormat=datetimeFormats[targetLocale]||{},format2=datetimeFormat[key],!isPlainObject$1(format2));i++)handleMissing(context,key,targetLocale,missingWarn,type);if(!isPlainObject$1(format2)||!isString$2(targetLocale))return unresolving?NOT_REOSLVED:key;let id="".concat(targetLocale,"__").concat(key);isEmptyObject(overrides)||(id="".concat(id,"__").concat(JSON.stringify(overrides)));let formatter=__datetimeFormatters.get(id);return formatter||(formatter=new Intl.DateTimeFormat(targetLocale,assign$2({},format2,overrides)),__datetimeFormatters.set(id,formatter)),part?formatter.formatToParts(value):formatter.format(value)}__name(datetime,"datetime");const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...args){const[arg1,arg2,arg3,arg4]=args,options=create();let overrides=create(),value;if(isString$2(arg1)){const matches2=arg1.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!matches2)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const dateTime=matches2[3]?matches2[3].trim().startsWith("T")?"".concat(matches2[1].trim()).concat(matches2[3].trim()):"".concat(matches2[1].trim(),"T").concat(matches2[3].trim()):matches2[1].trim();value=new Date(dateTime);try{value.toISOString()}catch(e){throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(arg1)){if(isNaN(arg1.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);value=arg1}else if(isNumber$1(arg1))value=arg1;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$2(arg2)?options.key=arg2:isPlainObject$1(arg2)&&Object.keys(arg2).forEach(key=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(key)?overrides[key]=arg2[key]:options[key]=arg2[key]}),isString$2(arg3)?options.locale=arg3:isPlainObject$1(arg3)&&(overrides=arg3),isPlainObject$1(arg4)&&(overrides=arg4),[options.key||"",value,options,overrides]}__name(parseDateTimeArgs,"parseDateTimeArgs");function clearDateTimeFormat(ctx2,locale,format2){const context=ctx2;for(const key in format2){const id="".concat(locale,"__").concat(key);context.__datetimeFormatters.has(id)&&context.__datetimeFormatters.delete(id)}}__name(clearDateTimeFormat,"clearDateTimeFormat");function number(context,...args){const{numberFormats,unresolving,fallbackLocale,onWarn,localeFallbacker}=context,{__numberFormatters}=context,[key,value,options,overrides]=parseNumberArgs(...args),missingWarn=isBoolean(options.missingWarn)?options.missingWarn:context.missingWarn;isBoolean(options.fallbackWarn)?options.fallbackWarn:context.fallbackWarn;const part=!!options.part,locale=getLocale(context,options),locales=localeFallbacker(context,fallbackLocale,locale);if(!isString$2(key)||key==="")return new Intl.NumberFormat(locale,overrides).format(value);let numberFormat={},targetLocale,format2=null;const type="number format";for(let i=0;i<locales.length&&(targetLocale=locales[i],numberFormat=numberFormats[targetLocale]||{},format2=numberFormat[key],!isPlainObject$1(format2));i++)handleMissing(context,key,targetLocale,missingWarn,type);if(!isPlainObject$1(format2)||!isString$2(targetLocale))return unresolving?NOT_REOSLVED:key;let id="".concat(targetLocale,"__").concat(key);isEmptyObject(overrides)||(id="".concat(id,"__").concat(JSON.stringify(overrides)));let formatter=__numberFormatters.get(id);return formatter||(formatter=new Intl.NumberFormat(targetLocale,assign$2({},format2,overrides)),__numberFormatters.set(id,formatter)),part?formatter.formatToParts(value):formatter.format(value)}__name(number,"number");const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...args){const[arg1,arg2,arg3,arg4]=args,options=create();let overrides=create();if(!isNumber$1(arg1))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const value=arg1;return isString$2(arg2)?options.key=arg2:isPlainObject$1(arg2)&&Object.keys(arg2).forEach(key=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(key)?overrides[key]=arg2[key]:options[key]=arg2[key]}),isString$2(arg3)?options.locale=arg3:isPlainObject$1(arg3)&&(overrides=arg3),isPlainObject$1(arg4)&&(overrides=arg4),[options.key||"",value,options,overrides]}__name(parseNumberArgs,"parseNumberArgs");function clearNumberFormat(ctx2,locale,format2){const context=ctx2;for(const key in format2){const id="".concat(locale,"__").concat(key);context.__numberFormatters.has(id)&&context.__numberFormatters.delete(id)}}__name(clearNumberFormat,"clearNumberFormat");initFeatureFlags$1();/*!
  * vue-i18n v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION$1="9.14.4";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}__name(initFeatureFlags,"initFeatureFlags");const code$1=CoreWarnCodes.__EXTEND_POINT__,inc$1=incrementer(code$1);inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1();const code=CoreErrorCodes.__EXTEND_POINT__,inc=incrementer(code),I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSTALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSTALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(code2,...args){return createCompileError(code2,null,void 0)}__name(createI18nError,"createI18nError");const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(obj){if(!isObject$3(obj)||isMessageAST(obj))return obj;for(const key in obj)if(hasOwn(obj,key))if(!key.includes("."))isObject$3(obj[key])&&handleFlatJson(obj[key]);else{const subKeys=key.split("."),lastIndex=subKeys.length-1;let currentObj=obj,hasStringValue=!1;for(let i=0;i<lastIndex;i++){if(subKeys[i]==="__proto__")throw new Error("unsafe key: ".concat(subKeys[i]));if(subKeys[i]in currentObj||(currentObj[subKeys[i]]=create()),!isObject$3(currentObj[subKeys[i]])){hasStringValue=!0;break}currentObj=currentObj[subKeys[i]]}if(hasStringValue||(isMessageAST(currentObj)?AST_NODE_PROPS_KEYS.includes(subKeys[lastIndex])||delete obj[key]:(currentObj[subKeys[lastIndex]]=obj[key],delete obj[key])),!isMessageAST(currentObj)){const target=currentObj[subKeys[lastIndex]];isObject$3(target)&&handleFlatJson(target)}}return obj}__name(handleFlatJson,"handleFlatJson");function getLocaleMessages(locale,options){const{messages:messages2,__i18n,messageResolver,flatJson}=options,ret=isPlainObject$1(messages2)?messages2:isArray$2(__i18n)?create():{[locale]:create()};if(isArray$2(__i18n)&&__i18n.forEach(custom=>{if("locale"in custom&&"resource"in custom){const{locale:locale2,resource}=custom;locale2?(ret[locale2]=ret[locale2]||create(),deepCopy(resource,ret[locale2])):deepCopy(resource,ret)}else isString$2(custom)&&deepCopy(JSON.parse(custom),ret)}),messageResolver==null&&flatJson)for(const key in ret)hasOwn(ret,key)&&handleFlatJson(ret[key]);return ret}__name(getLocaleMessages,"getLocaleMessages");function getComponentOptions(instance2){return instance2.type}__name(getComponentOptions,"getComponentOptions");function adjustI18nResources(gl,options,componentOptions){let messages2=isObject$3(options.messages)?options.messages:create();"__i18nGlobal"in componentOptions&&(messages2=getLocaleMessages(gl.locale.value,{messages:messages2,__i18n:componentOptions.__i18nGlobal}));const locales=Object.keys(messages2);locales.length&&locales.forEach(locale=>{gl.mergeLocaleMessage(locale,messages2[locale])});{if(isObject$3(options.datetimeFormats)){const locales2=Object.keys(options.datetimeFormats);locales2.length&&locales2.forEach(locale=>{gl.mergeDateTimeFormat(locale,options.datetimeFormats[locale])})}if(isObject$3(options.numberFormats)){const locales2=Object.keys(options.numberFormats);locales2.length&&locales2.forEach(locale=>{gl.mergeNumberFormat(locale,options.numberFormats[locale])})}}}__name(adjustI18nResources,"adjustI18nResources");function createTextNode(key){return createVNode(Text,null,key,0)}__name(createTextNode,"createTextNode");const DEVTOOLS_META="__INTLIFY_META__",NOOP_RETURN_ARRAY=__name(()=>[],"NOOP_RETURN_ARRAY"),NOOP_RETURN_FALSE=__name(()=>!1,"NOOP_RETURN_FALSE");let composerID=0;function defineCoreMissingHandler(missing){return(ctx2,locale,key,type)=>missing(locale,key,getCurrentInstance()||void 0,type)}__name(defineCoreMissingHandler,"defineCoreMissingHandler");const getMetaInfo=__name(()=>{const instance2=getCurrentInstance();let meta=null;return instance2&&(meta=getComponentOptions(instance2)[DEVTOOLS_META])?{[DEVTOOLS_META]:meta}:null},"getMetaInfo");function createComposer(options={},VueI18nLegacy){const{__root,__injectWithOption}=options,_isGlobal=__root===void 0,flatJson=options.flatJson,_ref=inBrowser?ref:shallowRef,translateExistCompatible=!!options.translateExistCompatible;let _inheritLocale=isBoolean(options.inheritLocale)?options.inheritLocale:!0;const _locale=_ref(__root&&_inheritLocale?__root.locale.value:isString$2(options.locale)?options.locale:DEFAULT_LOCALE),_fallbackLocale=_ref(__root&&_inheritLocale?__root.fallbackLocale.value:isString$2(options.fallbackLocale)||isArray$2(options.fallbackLocale)||isPlainObject$1(options.fallbackLocale)||options.fallbackLocale===!1?options.fallbackLocale:_locale.value),_messages=_ref(getLocaleMessages(_locale.value,options)),_datetimeFormats=_ref(isPlainObject$1(options.datetimeFormats)?options.datetimeFormats:{[_locale.value]:{}}),_numberFormats=_ref(isPlainObject$1(options.numberFormats)?options.numberFormats:{[_locale.value]:{}});let _missingWarn=__root?__root.missingWarn:isBoolean(options.missingWarn)||isRegExp(options.missingWarn)?options.missingWarn:!0,_fallbackWarn=__root?__root.fallbackWarn:isBoolean(options.fallbackWarn)||isRegExp(options.fallbackWarn)?options.fallbackWarn:!0,_fallbackRoot=__root?__root.fallbackRoot:isBoolean(options.fallbackRoot)?options.fallbackRoot:!0,_fallbackFormat=!!options.fallbackFormat,_missing=isFunction$1(options.missing)?options.missing:null,_runtimeMissing=isFunction$1(options.missing)?defineCoreMissingHandler(options.missing):null,_postTranslation=isFunction$1(options.postTranslation)?options.postTranslation:null,_warnHtmlMessage=__root?__root.warnHtmlMessage:isBoolean(options.warnHtmlMessage)?options.warnHtmlMessage:!0,_escapeParameter=!!options.escapeParameter;const _modifiers=__root?__root.modifiers:isPlainObject$1(options.modifiers)?options.modifiers:{};let _pluralRules=options.pluralRules||__root&&__root.pluralRules,_context;_context=__name(()=>{_isGlobal&&setFallbackContext(null);const ctxOptions={version:VERSION$1,locale:_locale.value,fallbackLocale:_fallbackLocale.value,messages:_messages.value,modifiers:_modifiers,pluralRules:_pluralRules,missing:_runtimeMissing===null?void 0:_runtimeMissing,missingWarn:_missingWarn,fallbackWarn:_fallbackWarn,fallbackFormat:_fallbackFormat,unresolving:!0,postTranslation:_postTranslation===null?void 0:_postTranslation,warnHtmlMessage:_warnHtmlMessage,escapeParameter:_escapeParameter,messageResolver:options.messageResolver,messageCompiler:options.messageCompiler,__meta:{framework:"vue"}};ctxOptions.datetimeFormats=_datetimeFormats.value,ctxOptions.numberFormats=_numberFormats.value,ctxOptions.__datetimeFormatters=isPlainObject$1(_context)?_context.__datetimeFormatters:void 0,ctxOptions.__numberFormatters=isPlainObject$1(_context)?_context.__numberFormatters:void 0;const ctx2=createCoreContext(ctxOptions);return _isGlobal&&setFallbackContext(ctx2),ctx2},"getCoreContext")(),updateFallbackLocale(_context,_locale.value,_fallbackLocale.value);function trackReactivityValues(){return[_locale.value,_fallbackLocale.value,_messages.value,_datetimeFormats.value,_numberFormats.value]}__name(trackReactivityValues,"trackReactivityValues");const locale=computed({get:__name(()=>_locale.value,"get"),set:__name(val=>{_locale.value=val,_context.locale=_locale.value},"set")}),fallbackLocale=computed({get:__name(()=>_fallbackLocale.value,"get"),set:__name(val=>{_fallbackLocale.value=val,_context.fallbackLocale=_fallbackLocale.value,updateFallbackLocale(_context,_locale.value,val)},"set")}),messages2=computed(()=>_messages.value),datetimeFormats=computed(()=>_datetimeFormats.value),numberFormats=computed(()=>_numberFormats.value);function getPostTranslationHandler(){return isFunction$1(_postTranslation)?_postTranslation:null}__name(getPostTranslationHandler,"getPostTranslationHandler");function setPostTranslationHandler(handler){_postTranslation=handler,_context.postTranslation=handler}__name(setPostTranslationHandler,"setPostTranslationHandler");function getMissingHandler(){return _missing}__name(getMissingHandler,"getMissingHandler");function setMissingHandler(handler){handler!==null&&(_runtimeMissing=defineCoreMissingHandler(handler)),_missing=handler,_context.missing=_runtimeMissing}__name(setMissingHandler,"setMissingHandler");const wrapWithDeps=__name((fn,argumentParser,warnType,fallbackSuccess,fallbackFail,successCondition)=>{trackReactivityValues();let ret;try{__INTLIFY_PROD_DEVTOOLS__,_isGlobal||(_context.fallbackContext=__root?getFallbackContext():void 0),ret=fn(_context)}finally{__INTLIFY_PROD_DEVTOOLS__,_isGlobal||(_context.fallbackContext=void 0)}if(warnType!=="translate exists"&&isNumber$1(ret)&&ret===NOT_REOSLVED||warnType==="translate exists"&&!ret){const[key,arg2]=argumentParser();return __root&&_fallbackRoot?fallbackSuccess(__root):fallbackFail(key)}else{if(successCondition(ret))return ret;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}},"wrapWithDeps");function t(...args){return wrapWithDeps(context=>Reflect.apply(translate,null,[context,...args]),()=>parseTranslateArgs(...args),"translate",root2=>Reflect.apply(root2.t,root2,[...args]),key=>key,val=>isString$2(val))}__name(t,"t");function rt(...args){const[arg1,arg2,arg3]=args;if(arg3&&!isObject$3(arg3))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return t(arg1,arg2,assign$2({resolvedMessage:!0},arg3||{}))}__name(rt,"rt");function d2(...args){return wrapWithDeps(context=>Reflect.apply(datetime,null,[context,...args]),()=>parseDateTimeArgs(...args),"datetime format",root2=>Reflect.apply(root2.d,root2,[...args]),()=>MISSING_RESOLVE_VALUE,val=>isString$2(val))}__name(d2,"d");function n(...args){return wrapWithDeps(context=>Reflect.apply(number,null,[context,...args]),()=>parseNumberArgs(...args),"number format",root2=>Reflect.apply(root2.n,root2,[...args]),()=>MISSING_RESOLVE_VALUE,val=>isString$2(val))}__name(n,"n");function normalize(values){return values.map(val=>isString$2(val)||isNumber$1(val)||isBoolean(val)?createTextNode(String(val)):val)}__name(normalize,"normalize");const processor={normalize,interpolate:__name(val=>val,"interpolate"),type:"vnode"};function translateVNode(...args){return wrapWithDeps(context=>{let ret;const _context2=context;try{_context2.processor=processor,ret=Reflect.apply(translate,null,[_context2,...args])}finally{_context2.processor=null}return ret},()=>parseTranslateArgs(...args),"translate",root2=>root2[TranslateVNodeSymbol](...args),key=>[createTextNode(key)],val=>isArray$2(val))}__name(translateVNode,"translateVNode");function numberParts(...args){return wrapWithDeps(context=>Reflect.apply(number,null,[context,...args]),()=>parseNumberArgs(...args),"number format",root2=>root2[NumberPartsSymbol](...args),NOOP_RETURN_ARRAY,val=>isString$2(val)||isArray$2(val))}__name(numberParts,"numberParts");function datetimeParts(...args){return wrapWithDeps(context=>Reflect.apply(datetime,null,[context,...args]),()=>parseDateTimeArgs(...args),"datetime format",root2=>root2[DatetimePartsSymbol](...args),NOOP_RETURN_ARRAY,val=>isString$2(val)||isArray$2(val))}__name(datetimeParts,"datetimeParts");function setPluralRules(rules){_pluralRules=rules,_context.pluralRules=_pluralRules}__name(setPluralRules,"setPluralRules");function te(key,locale2){return wrapWithDeps(()=>{if(!key)return!1;const targetLocale=isString$2(locale2)?locale2:_locale.value,message=getLocaleMessage(targetLocale),resolved=_context.messageResolver(message,key);return translateExistCompatible?resolved!=null:isMessageAST(resolved)||isMessageFunction(resolved)||isString$2(resolved)},()=>[key],"translate exists",root2=>Reflect.apply(root2.te,root2,[key,locale2]),NOOP_RETURN_FALSE,val=>isBoolean(val))}__name(te,"te");function resolveMessages(key){let messages22=null;const locales=fallbackWithLocaleChain(_context,_fallbackLocale.value,_locale.value);for(let i=0;i<locales.length;i++){const targetLocaleMessages=_messages.value[locales[i]]||{},messageValue=_context.messageResolver(targetLocaleMessages,key);if(messageValue!=null){messages22=messageValue;break}}return messages22}__name(resolveMessages,"resolveMessages");function tm(key){const messages22=resolveMessages(key);return messages22!=null?messages22:__root?__root.tm(key)||{}:{}}__name(tm,"tm");function getLocaleMessage(locale2){return _messages.value[locale2]||{}}__name(getLocaleMessage,"getLocaleMessage");function setLocaleMessage(locale2,message){if(flatJson){const _message={[locale2]:message};for(const key in _message)hasOwn(_message,key)&&handleFlatJson(_message[key]);message=_message[locale2]}_messages.value[locale2]=message,_context.messages=_messages.value}__name(setLocaleMessage,"setLocaleMessage");function mergeLocaleMessage(locale2,message){_messages.value[locale2]=_messages.value[locale2]||{};const _message={[locale2]:message};if(flatJson)for(const key in _message)hasOwn(_message,key)&&handleFlatJson(_message[key]);message=_message[locale2],deepCopy(message,_messages.value[locale2]),_context.messages=_messages.value}__name(mergeLocaleMessage,"mergeLocaleMessage");function getDateTimeFormat(locale2){return _datetimeFormats.value[locale2]||{}}__name(getDateTimeFormat,"getDateTimeFormat");function setDateTimeFormat(locale2,format2){_datetimeFormats.value[locale2]=format2,_context.datetimeFormats=_datetimeFormats.value,clearDateTimeFormat(_context,locale2,format2)}__name(setDateTimeFormat,"setDateTimeFormat");function mergeDateTimeFormat(locale2,format2){_datetimeFormats.value[locale2]=assign$2(_datetimeFormats.value[locale2]||{},format2),_context.datetimeFormats=_datetimeFormats.value,clearDateTimeFormat(_context,locale2,format2)}__name(mergeDateTimeFormat,"mergeDateTimeFormat");function getNumberFormat(locale2){return _numberFormats.value[locale2]||{}}__name(getNumberFormat,"getNumberFormat");function setNumberFormat(locale2,format2){_numberFormats.value[locale2]=format2,_context.numberFormats=_numberFormats.value,clearNumberFormat(_context,locale2,format2)}__name(setNumberFormat,"setNumberFormat");function mergeNumberFormat(locale2,format2){_numberFormats.value[locale2]=assign$2(_numberFormats.value[locale2]||{},format2),_context.numberFormats=_numberFormats.value,clearNumberFormat(_context,locale2,format2)}__name(mergeNumberFormat,"mergeNumberFormat"),composerID++,__root&&inBrowser&&(watch(__root.locale,val=>{_inheritLocale&&(_locale.value=val,_context.locale=val,updateFallbackLocale(_context,_locale.value,_fallbackLocale.value))}),watch(__root.fallbackLocale,val=>{_inheritLocale&&(_fallbackLocale.value=val,_context.fallbackLocale=val,updateFallbackLocale(_context,_locale.value,_fallbackLocale.value))}));const composer={id:composerID,locale,fallbackLocale,get inheritLocale(){return _inheritLocale},set inheritLocale(val){_inheritLocale=val,val&&__root&&(_locale.value=__root.locale.value,_fallbackLocale.value=__root.fallbackLocale.value,updateFallbackLocale(_context,_locale.value,_fallbackLocale.value))},get availableLocales(){return Object.keys(_messages.value).sort()},messages:messages2,get modifiers(){return _modifiers},get pluralRules(){return _pluralRules||{}},get isGlobal(){return _isGlobal},get missingWarn(){return _missingWarn},set missingWarn(val){_missingWarn=val,_context.missingWarn=_missingWarn},get fallbackWarn(){return _fallbackWarn},set fallbackWarn(val){_fallbackWarn=val,_context.fallbackWarn=_fallbackWarn},get fallbackRoot(){return _fallbackRoot},set fallbackRoot(val){_fallbackRoot=val},get fallbackFormat(){return _fallbackFormat},set fallbackFormat(val){_fallbackFormat=val,_context.fallbackFormat=_fallbackFormat},get warnHtmlMessage(){return _warnHtmlMessage},set warnHtmlMessage(val){_warnHtmlMessage=val,_context.warnHtmlMessage=val},get escapeParameter(){return _escapeParameter},set escapeParameter(val){_escapeParameter=val,_context.escapeParameter=val},t,getLocaleMessage,setLocaleMessage,mergeLocaleMessage,getPostTranslationHandler,setPostTranslationHandler,getMissingHandler,setMissingHandler,[SetPluralRulesSymbol]:setPluralRules};return composer.datetimeFormats=datetimeFormats,composer.numberFormats=numberFormats,composer.rt=rt,composer.te=te,composer.tm=tm,composer.d=d2,composer.n=n,composer.getDateTimeFormat=getDateTimeFormat,composer.setDateTimeFormat=setDateTimeFormat,composer.mergeDateTimeFormat=mergeDateTimeFormat,composer.getNumberFormat=getNumberFormat,composer.setNumberFormat=setNumberFormat,composer.mergeNumberFormat=mergeNumberFormat,composer[InejctWithOptionSymbol]=__injectWithOption,composer[TranslateVNodeSymbol]=translateVNode,composer[DatetimePartsSymbol]=datetimeParts,composer[NumberPartsSymbol]=numberParts,composer}__name(createComposer,"createComposer");function convertComposerOptions(options){const locale=isString$2(options.locale)?options.locale:DEFAULT_LOCALE,fallbackLocale=isString$2(options.fallbackLocale)||isArray$2(options.fallbackLocale)||isPlainObject$1(options.fallbackLocale)||options.fallbackLocale===!1?options.fallbackLocale:locale,missing=isFunction$1(options.missing)?options.missing:void 0,missingWarn=isBoolean(options.silentTranslationWarn)||isRegExp(options.silentTranslationWarn)?!options.silentTranslationWarn:!0,fallbackWarn=isBoolean(options.silentFallbackWarn)||isRegExp(options.silentFallbackWarn)?!options.silentFallbackWarn:!0,fallbackRoot=isBoolean(options.fallbackRoot)?options.fallbackRoot:!0,fallbackFormat=!!options.formatFallbackMessages,modifiers=isPlainObject$1(options.modifiers)?options.modifiers:{},pluralizationRules=options.pluralizationRules,postTranslation=isFunction$1(options.postTranslation)?options.postTranslation:void 0,warnHtmlMessage=isString$2(options.warnHtmlInMessage)?options.warnHtmlInMessage!=="off":!0,escapeParameter=!!options.escapeParameterHtml,inheritLocale=isBoolean(options.sync)?options.sync:!0;let messages2=options.messages;if(isPlainObject$1(options.sharedMessages)){const sharedMessages=options.sharedMessages;messages2=Object.keys(sharedMessages).reduce((messages22,locale2)=>{const message=messages22[locale2]||(messages22[locale2]={});return assign$2(message,sharedMessages[locale2]),messages22},messages2||{})}const{__i18n,__root,__injectWithOption}=options,datetimeFormats=options.datetimeFormats,numberFormats=options.numberFormats,flatJson=options.flatJson,translateExistCompatible=options.translateExistCompatible;return{locale,fallbackLocale,messages:messages2,flatJson,datetimeFormats,numberFormats,missing,missingWarn,fallbackWarn,fallbackRoot,fallbackFormat,modifiers,pluralRules:pluralizationRules,postTranslation,warnHtmlMessage,escapeParameter,messageResolver:options.messageResolver,inheritLocale,translateExistCompatible,__i18n,__root,__injectWithOption}}__name(convertComposerOptions,"convertComposerOptions");function createVueI18n(options={},VueI18nLegacy){{const composer=createComposer(convertComposerOptions(options)),{__extender}=options,vueI18n={id:composer.id,get locale(){return composer.locale.value},set locale(val){composer.locale.value=val},get fallbackLocale(){return composer.fallbackLocale.value},set fallbackLocale(val){composer.fallbackLocale.value=val},get messages(){return composer.messages.value},get datetimeFormats(){return composer.datetimeFormats.value},get numberFormats(){return composer.numberFormats.value},get availableLocales(){return composer.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(val){},get missing(){return composer.getMissingHandler()},set missing(handler){composer.setMissingHandler(handler)},get silentTranslationWarn(){return isBoolean(composer.missingWarn)?!composer.missingWarn:composer.missingWarn},set silentTranslationWarn(val){composer.missingWarn=isBoolean(val)?!val:val},get silentFallbackWarn(){return isBoolean(composer.fallbackWarn)?!composer.fallbackWarn:composer.fallbackWarn},set silentFallbackWarn(val){composer.fallbackWarn=isBoolean(val)?!val:val},get modifiers(){return composer.modifiers},get formatFallbackMessages(){return composer.fallbackFormat},set formatFallbackMessages(val){composer.fallbackFormat=val},get postTranslation(){return composer.getPostTranslationHandler()},set postTranslation(handler){composer.setPostTranslationHandler(handler)},get sync(){return composer.inheritLocale},set sync(val){composer.inheritLocale=val},get warnHtmlInMessage(){return composer.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(val){composer.warnHtmlMessage=val!=="off"},get escapeParameterHtml(){return composer.escapeParameter},set escapeParameterHtml(val){composer.escapeParameter=val},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(val){},get pluralizationRules(){return composer.pluralRules||{}},__composer:composer,t(...args){const[arg1,arg2,arg3]=args,options2={};let list=null,named=null;if(!isString$2(arg1))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const key=arg1;return isString$2(arg2)?options2.locale=arg2:isArray$2(arg2)?list=arg2:isPlainObject$1(arg2)&&(named=arg2),isArray$2(arg3)?list=arg3:isPlainObject$1(arg3)&&(named=arg3),Reflect.apply(composer.t,composer,[key,list||named||{},options2])},rt(...args){return Reflect.apply(composer.rt,composer,[...args])},tc(...args){const[arg1,arg2,arg3]=args,options2={plural:1};let list=null,named=null;if(!isString$2(arg1))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const key=arg1;return isString$2(arg2)?options2.locale=arg2:isNumber$1(arg2)?options2.plural=arg2:isArray$2(arg2)?list=arg2:isPlainObject$1(arg2)&&(named=arg2),isString$2(arg3)?options2.locale=arg3:isArray$2(arg3)?list=arg3:isPlainObject$1(arg3)&&(named=arg3),Reflect.apply(composer.t,composer,[key,list||named||{},options2])},te(key,locale){return composer.te(key,locale)},tm(key){return composer.tm(key)},getLocaleMessage(locale){return composer.getLocaleMessage(locale)},setLocaleMessage(locale,message){composer.setLocaleMessage(locale,message)},mergeLocaleMessage(locale,message){composer.mergeLocaleMessage(locale,message)},d(...args){return Reflect.apply(composer.d,composer,[...args])},getDateTimeFormat(locale){return composer.getDateTimeFormat(locale)},setDateTimeFormat(locale,format2){composer.setDateTimeFormat(locale,format2)},mergeDateTimeFormat(locale,format2){composer.mergeDateTimeFormat(locale,format2)},n(...args){return Reflect.apply(composer.n,composer,[...args])},getNumberFormat(locale){return composer.getNumberFormat(locale)},setNumberFormat(locale,format2){composer.setNumberFormat(locale,format2)},mergeNumberFormat(locale,format2){composer.mergeNumberFormat(locale,format2)},getChoiceIndex(choice,choicesLength){return-1}};return vueI18n.__extender=__extender,vueI18n}}__name(createVueI18n,"createVueI18n");const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:__name(val=>val==="parent"||val==="global","validator"),default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots},keys2){return keys2.length===1&&keys2[0]==="default"?(slots.default?slots.default():[]).reduce((slot,current)=>[...slot,...current.type===Fragment?current.children:[current]],[]):keys2.reduce((arg,key)=>{const slot=slots[key];return slot&&(arg[key]=slot()),arg},create())}__name(getInterpolateArg,"getInterpolateArg");function getFragmentableTag(tag){return Fragment}__name(getFragmentableTag,"getFragmentableTag");const TranslationImpl=defineComponent({name:"i18n-t",props:assign$2({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:__name(val=>isNumber$1(val)||!isNaN(val),"validator")}},baseFormatProps),setup(props,context){const{slots,attrs}=context,i18n2=props.i18n||useI18n({useScope:props.scope,__useComponent:!0});return()=>{const keys2=Object.keys(slots).filter(key=>key!=="_"),options=create();props.locale&&(options.locale=props.locale),props.plural!==void 0&&(options.plural=isString$2(props.plural)?+props.plural:props.plural);const arg=getInterpolateArg(context,keys2),children=i18n2[TranslateVNodeSymbol](props.keypath,arg,options),assignedAttrs=assign$2(create(),attrs),tag=isString$2(props.tag)||isObject$3(props.tag)?props.tag:getFragmentableTag();return h(tag,assignedAttrs,children)}}}),Translation=TranslationImpl;function isVNode(target){return isArray$2(target)&&!isString$2(target[0])}__name(isVNode,"isVNode");function renderFormatter(props,context,slotKeys,partFormatter){const{slots,attrs}=context;return()=>{const options={part:!0};let overrides=create();props.locale&&(options.locale=props.locale),isString$2(props.format)?options.key=props.format:isObject$3(props.format)&&(isString$2(props.format.key)&&(options.key=props.format.key),overrides=Object.keys(props.format).reduce((options2,prop)=>slotKeys.includes(prop)?assign$2(create(),options2,{[prop]:props.format[prop]}):options2,create()));const parts=partFormatter(props.value,options,overrides);let children=[options.key];isArray$2(parts)?children=parts.map((part,index)=>{const slot=slots[part.type],node=slot?slot({[part.type]:part.value,index,parts}):[part.value];return isVNode(node)&&(node[0].key="".concat(part.type,"-").concat(index)),node}):isString$2(parts)&&(children=[parts]);const assignedAttrs=assign$2(create(),attrs),tag=isString$2(props.tag)||isObject$3(props.tag)?props.tag:getFragmentableTag();return h(tag,assignedAttrs,children)}}__name(renderFormatter,"renderFormatter");const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$2({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(props,context){const i18n2=props.i18n||useI18n({useScope:props.scope,__useComponent:!0});return renderFormatter(props,context,NUMBER_FORMAT_OPTIONS_KEYS,(...args)=>i18n2[NumberPartsSymbol](...args))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$2({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(props,context){const i18n2=props.i18n||useI18n({useScope:props.scope,__useComponent:!0});return renderFormatter(props,context,DATETIME_FORMAT_OPTIONS_KEYS,(...args)=>i18n2[DatetimePartsSymbol](...args))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$2(i18n2,instance2){const i18nInternal=i18n2;if(i18n2.mode==="composition")return i18nInternal.__getInstance(instance2)||i18n2.global;{const vueI18n=i18nInternal.__getInstance(instance2);return vueI18n!=null?vueI18n.__composer:i18n2.global.__composer}}__name(getComposer$2,"getComposer$2");function vTDirective(i18n2){const _process=__name(binding=>{const{instance:instance2,modifiers,value}=binding;if(!instance2||!instance2.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const composer=getComposer$2(i18n2,instance2.$),parsedValue=parseValue(value);return[Reflect.apply(composer.t,composer,[...makeParams(parsedValue)]),composer]},"_process");return{created:__name((el,binding)=>{const[textContent,composer]=_process(binding);inBrowser&&i18n2.global===composer&&(el.__i18nWatcher=watch(composer.locale,()=>{binding.instance&&binding.instance.$forceUpdate()})),el.__composer=composer,el.textContent=textContent},"register"),unmounted:__name(el=>{inBrowser&&el.__i18nWatcher&&(el.__i18nWatcher(),el.__i18nWatcher=void 0,delete el.__i18nWatcher),el.__composer&&(el.__composer=void 0,delete el.__composer)},"unregister"),beforeUpdate:__name((el,{value})=>{if(el.__composer){const composer=el.__composer,parsedValue=parseValue(value);el.textContent=Reflect.apply(composer.t,composer,[...makeParams(parsedValue)])}},"update"),getSSRProps:__name(binding=>{const[textContent]=_process(binding);return{textContent}},"getSSRProps")}}__name(vTDirective,"vTDirective");function parseValue(value){if(isString$2(value))return{path:value};if(isPlainObject$1(value)){if(!("path"in value))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return value}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}__name(parseValue,"parseValue");function makeParams(value){const{path,locale,args,choice,plural}=value,options={},named=args||{};return isString$2(locale)&&(options.locale=locale),isNumber$1(choice)&&(options.plural=choice),isNumber$1(plural)&&(options.plural=plural),[path,named,options]}__name(makeParams,"makeParams");function apply$1(app2,i18n2,...options){const pluginOptions=isPlainObject$1(options[0])?options[0]:{},useI18nComponentName=!!pluginOptions.useI18nComponentName;(isBoolean(pluginOptions.globalInstall)?pluginOptions.globalInstall:!0)&&([useI18nComponentName?"i18n":Translation.name,"I18nT"].forEach(name=>app2.component(name,Translation)),[NumberFormat.name,"I18nN"].forEach(name=>app2.component(name,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(name=>app2.component(name,DatetimeFormat))),app2.directive("t",vTDirective(i18n2))}__name(apply$1,"apply$1");function defineMixin(vuei18n,composer,i18n2){return{beforeCreate(){const instance2=getCurrentInstance();if(!instance2)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const options=this.$options;if(options.i18n){const optionsI18n=options.i18n;if(options.__i18n&&(optionsI18n.__i18n=options.__i18n),optionsI18n.__root=composer,this===this.$root)this.$i18n=mergeToGlobal(vuei18n,optionsI18n);else{optionsI18n.__injectWithOption=!0,optionsI18n.__extender=i18n2.__vueI18nExtend,this.$i18n=createVueI18n(optionsI18n);const _vueI18n=this.$i18n;_vueI18n.__extender&&(_vueI18n.__disposer=_vueI18n.__extender(this.$i18n))}}else if(options.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(vuei18n,options);else{this.$i18n=createVueI18n({__i18n:options.__i18n,__injectWithOption:!0,__extender:i18n2.__vueI18nExtend,__root:composer});const _vueI18n=this.$i18n;_vueI18n.__extender&&(_vueI18n.__disposer=_vueI18n.__extender(this.$i18n))}else this.$i18n=vuei18n;options.__i18nGlobal&&adjustI18nResources(composer,options,options),this.$t=(...args)=>this.$i18n.t(...args),this.$rt=(...args)=>this.$i18n.rt(...args),this.$tc=(...args)=>this.$i18n.tc(...args),this.$te=(key,locale)=>this.$i18n.te(key,locale),this.$d=(...args)=>this.$i18n.d(...args),this.$n=(...args)=>this.$i18n.n(...args),this.$tm=key=>this.$i18n.tm(key),i18n2.__setInstance(instance2,this.$i18n)},mounted(){},unmounted(){const instance2=getCurrentInstance();if(!instance2)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const _vueI18n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,_vueI18n.__disposer&&(_vueI18n.__disposer(),delete _vueI18n.__disposer,delete _vueI18n.__extender),i18n2.__deleteInstance(instance2),delete this.$i18n}}}__name(defineMixin,"defineMixin");function mergeToGlobal(g,options){g.locale=options.locale||g.locale,g.fallbackLocale=options.fallbackLocale||g.fallbackLocale,g.missing=options.missing||g.missing,g.silentTranslationWarn=options.silentTranslationWarn||g.silentFallbackWarn,g.silentFallbackWarn=options.silentFallbackWarn||g.silentFallbackWarn,g.formatFallbackMessages=options.formatFallbackMessages||g.formatFallbackMessages,g.postTranslation=options.postTranslation||g.postTranslation,g.warnHtmlInMessage=options.warnHtmlInMessage||g.warnHtmlInMessage,g.escapeParameterHtml=options.escapeParameterHtml||g.escapeParameterHtml,g.sync=options.sync||g.sync,g.__composer[SetPluralRulesSymbol](options.pluralizationRules||g.pluralizationRules);const messages2=getLocaleMessages(g.locale,{messages:options.messages,__i18n:options.__i18n});return Object.keys(messages2).forEach(locale=>g.mergeLocaleMessage(locale,messages2[locale])),options.datetimeFormats&&Object.keys(options.datetimeFormats).forEach(locale=>g.mergeDateTimeFormat(locale,options.datetimeFormats[locale])),options.numberFormats&&Object.keys(options.numberFormats).forEach(locale=>g.mergeNumberFormat(locale,options.numberFormats[locale])),g}__name(mergeToGlobal,"mergeToGlobal");const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(options={},VueI18nLegacy){const __legacyMode=__VUE_I18N_LEGACY_API__&&isBoolean(options.legacy)?options.legacy:__VUE_I18N_LEGACY_API__,__globalInjection=isBoolean(options.globalInjection)?options.globalInjection:!0,__allowComposition=__VUE_I18N_LEGACY_API__&&__legacyMode?!!options.allowComposition:!0,__instances=new Map,[globalScope,__global]=createGlobal(options,__legacyMode),symbol=makeSymbol("");function __getInstance(component){return __instances.get(component)||null}__name(__getInstance,"__getInstance");function __setInstance(component,instance2){__instances.set(component,instance2)}__name(__setInstance,"__setInstance");function __deleteInstance(component){__instances.delete(component)}__name(__deleteInstance,"__deleteInstance");{const i18n2={get mode(){return __VUE_I18N_LEGACY_API__&&__legacyMode?"legacy":"composition"},get allowComposition(){return __allowComposition},async install(app2,...options2){if(app2.__VUE_I18N_SYMBOL__=symbol,app2.provide(app2.__VUE_I18N_SYMBOL__,i18n2),isPlainObject$1(options2[0])){const opts=options2[0];i18n2.__composerExtend=opts.__composerExtend,i18n2.__vueI18nExtend=opts.__vueI18nExtend}let globalReleaseHandler=null;!__legacyMode&&__globalInjection&&(globalReleaseHandler=injectGlobalFields(app2,i18n2.global)),__VUE_I18N_FULL_INSTALL__&&apply$1(app2,i18n2,...options2),__VUE_I18N_LEGACY_API__&&__legacyMode&&app2.mixin(defineMixin(__global,__global.__composer,i18n2));const unmountApp=app2.unmount;app2.unmount=()=>{globalReleaseHandler&&globalReleaseHandler(),i18n2.dispose(),unmountApp()}},get global(){return __global},dispose(){globalScope.stop()},__instances,__getInstance,__setInstance,__deleteInstance};return i18n2}}__name(createI18n,"createI18n");function useI18n(options={}){const instance2=getCurrentInstance();if(instance2==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!instance2.isCE&&instance2.appContext.app!=null&&!instance2.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const i18n2=getI18nInstance(instance2),gl=getGlobalComposer(i18n2),componentOptions=getComponentOptions(instance2),scope=getScope(options,componentOptions);if(__VUE_I18N_LEGACY_API__&&i18n2.mode==="legacy"&&!options.__useComponent){if(!i18n2.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(instance2,scope,gl,options)}if(scope==="global")return adjustI18nResources(gl,options,componentOptions),gl;if(scope==="parent"){let composer2=getComposer(i18n2,instance2,options.__useComponent);return composer2==null&&(composer2=gl),composer2}const i18nInternal=i18n2;let composer=i18nInternal.__getInstance(instance2);if(composer==null){const composerOptions=assign$2({},options);"__i18n"in componentOptions&&(composerOptions.__i18n=componentOptions.__i18n),gl&&(composerOptions.__root=gl),composer=createComposer(composerOptions),i18nInternal.__composerExtend&&(composer[DisposeSymbol]=i18nInternal.__composerExtend(composer)),setupLifeCycle(i18nInternal,instance2,composer),i18nInternal.__setInstance(instance2,composer)}return composer}__name(useI18n,"useI18n");function createGlobal(options,legacyMode,VueI18nLegacy){const scope=effectScope();{const obj=__VUE_I18N_LEGACY_API__&&legacyMode?scope.run(()=>createVueI18n(options)):scope.run(()=>createComposer(options));if(obj==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[scope,obj]}}__name(createGlobal,"createGlobal");function getI18nInstance(instance2){{const i18n2=inject(instance2.isCE?I18nInjectionKey:instance2.appContext.app.__VUE_I18N_SYMBOL__);if(!i18n2)throw createI18nError(instance2.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return i18n2}}__name(getI18nInstance,"getI18nInstance");function getScope(options,componentOptions){return isEmptyObject(options)?"__i18n"in componentOptions?"local":"global":options.useScope?options.useScope:"local"}__name(getScope,"getScope");function getGlobalComposer(i18n2){return i18n2.mode==="composition"?i18n2.global:i18n2.global.__composer}__name(getGlobalComposer,"getGlobalComposer");function getComposer(i18n2,target,useComponent=!1){let composer=null;const root2=target.root;let current=getParentComponentInstance(target,useComponent);for(;current!=null;){const i18nInternal=i18n2;if(i18n2.mode==="composition")composer=i18nInternal.__getInstance(current);else if(__VUE_I18N_LEGACY_API__){const vueI18n=i18nInternal.__getInstance(current);vueI18n!=null&&(composer=vueI18n.__composer,useComponent&&composer&&!composer[InejctWithOptionSymbol]&&(composer=null))}if(composer!=null||root2===current)break;current=current.parent}return composer}__name(getComposer,"getComposer");function getParentComponentInstance(target,useComponent=!1){return target==null?null:useComponent&&target.vnode.ctx||target.parent}__name(getParentComponentInstance,"getParentComponentInstance");function setupLifeCycle(i18n2,target,composer){onMounted(()=>{},target),onUnmounted(()=>{const _composer=composer;i18n2.__deleteInstance(target);const dispose=_composer[DisposeSymbol];dispose&&(dispose(),delete _composer[DisposeSymbol])},target)}__name(setupLifeCycle,"setupLifeCycle");function useI18nForLegacy(instance2,scope,root2,options={}){const isLocalScope=scope==="local",_composer=shallowRef(null);if(isLocalScope&&instance2.proxy&&!(instance2.proxy.$options.i18n||instance2.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const _inheritLocale=isBoolean(options.inheritLocale)?options.inheritLocale:!isString$2(options.locale),_locale=ref(!isLocalScope||_inheritLocale?root2.locale.value:isString$2(options.locale)?options.locale:DEFAULT_LOCALE),_fallbackLocale=ref(!isLocalScope||_inheritLocale?root2.fallbackLocale.value:isString$2(options.fallbackLocale)||isArray$2(options.fallbackLocale)||isPlainObject$1(options.fallbackLocale)||options.fallbackLocale===!1?options.fallbackLocale:_locale.value),_messages=ref(getLocaleMessages(_locale.value,options)),_datetimeFormats=ref(isPlainObject$1(options.datetimeFormats)?options.datetimeFormats:{[_locale.value]:{}}),_numberFormats=ref(isPlainObject$1(options.numberFormats)?options.numberFormats:{[_locale.value]:{}}),_missingWarn=isLocalScope?root2.missingWarn:isBoolean(options.missingWarn)||isRegExp(options.missingWarn)?options.missingWarn:!0,_fallbackWarn=isLocalScope?root2.fallbackWarn:isBoolean(options.fallbackWarn)||isRegExp(options.fallbackWarn)?options.fallbackWarn:!0,_fallbackRoot=isLocalScope?root2.fallbackRoot:isBoolean(options.fallbackRoot)?options.fallbackRoot:!0,_fallbackFormat=!!options.fallbackFormat,_missing=isFunction$1(options.missing)?options.missing:null,_postTranslation=isFunction$1(options.postTranslation)?options.postTranslation:null,_warnHtmlMessage=isLocalScope?root2.warnHtmlMessage:isBoolean(options.warnHtmlMessage)?options.warnHtmlMessage:!0,_escapeParameter=!!options.escapeParameter,_modifiers=isLocalScope?root2.modifiers:isPlainObject$1(options.modifiers)?options.modifiers:{},_pluralRules=options.pluralRules||isLocalScope&&root2.pluralRules;function trackReactivityValues(){return[_locale.value,_fallbackLocale.value,_messages.value,_datetimeFormats.value,_numberFormats.value]}__name(trackReactivityValues,"trackReactivityValues");const locale=computed({get:__name(()=>_composer.value?_composer.value.locale.value:_locale.value,"get"),set:__name(val=>{_composer.value&&(_composer.value.locale.value=val),_locale.value=val},"set")}),fallbackLocale=computed({get:__name(()=>_composer.value?_composer.value.fallbackLocale.value:_fallbackLocale.value,"get"),set:__name(val=>{_composer.value&&(_composer.value.fallbackLocale.value=val),_fallbackLocale.value=val},"set")}),messages2=computed(()=>_composer.value?_composer.value.messages.value:_messages.value),datetimeFormats=computed(()=>_datetimeFormats.value),numberFormats=computed(()=>_numberFormats.value);function getPostTranslationHandler(){return _composer.value?_composer.value.getPostTranslationHandler():_postTranslation}__name(getPostTranslationHandler,"getPostTranslationHandler");function setPostTranslationHandler(handler){_composer.value&&_composer.value.setPostTranslationHandler(handler)}__name(setPostTranslationHandler,"setPostTranslationHandler");function getMissingHandler(){return _composer.value?_composer.value.getMissingHandler():_missing}__name(getMissingHandler,"getMissingHandler");function setMissingHandler(handler){_composer.value&&_composer.value.setMissingHandler(handler)}__name(setMissingHandler,"setMissingHandler");function warpWithDeps(fn){return trackReactivityValues(),fn()}__name(warpWithDeps,"warpWithDeps");function t(...args){return _composer.value?warpWithDeps(()=>Reflect.apply(_composer.value.t,null,[...args])):warpWithDeps(()=>"")}__name(t,"t");function rt(...args){return _composer.value?Reflect.apply(_composer.value.rt,null,[...args]):""}__name(rt,"rt");function d2(...args){return _composer.value?warpWithDeps(()=>Reflect.apply(_composer.value.d,null,[...args])):warpWithDeps(()=>"")}__name(d2,"d");function n(...args){return _composer.value?warpWithDeps(()=>Reflect.apply(_composer.value.n,null,[...args])):warpWithDeps(()=>"")}__name(n,"n");function tm(key){return _composer.value?_composer.value.tm(key):{}}__name(tm,"tm");function te(key,locale2){return _composer.value?_composer.value.te(key,locale2):!1}__name(te,"te");function getLocaleMessage(locale2){return _composer.value?_composer.value.getLocaleMessage(locale2):{}}__name(getLocaleMessage,"getLocaleMessage");function setLocaleMessage(locale2,message){_composer.value&&(_composer.value.setLocaleMessage(locale2,message),_messages.value[locale2]=message)}__name(setLocaleMessage,"setLocaleMessage");function mergeLocaleMessage(locale2,message){_composer.value&&_composer.value.mergeLocaleMessage(locale2,message)}__name(mergeLocaleMessage,"mergeLocaleMessage");function getDateTimeFormat(locale2){return _composer.value?_composer.value.getDateTimeFormat(locale2):{}}__name(getDateTimeFormat,"getDateTimeFormat");function setDateTimeFormat(locale2,format2){_composer.value&&(_composer.value.setDateTimeFormat(locale2,format2),_datetimeFormats.value[locale2]=format2)}__name(setDateTimeFormat,"setDateTimeFormat");function mergeDateTimeFormat(locale2,format2){_composer.value&&_composer.value.mergeDateTimeFormat(locale2,format2)}__name(mergeDateTimeFormat,"mergeDateTimeFormat");function getNumberFormat(locale2){return _composer.value?_composer.value.getNumberFormat(locale2):{}}__name(getNumberFormat,"getNumberFormat");function setNumberFormat(locale2,format2){_composer.value&&(_composer.value.setNumberFormat(locale2,format2),_numberFormats.value[locale2]=format2)}__name(setNumberFormat,"setNumberFormat");function mergeNumberFormat(locale2,format2){_composer.value&&_composer.value.mergeNumberFormat(locale2,format2)}__name(mergeNumberFormat,"mergeNumberFormat");const wrapper={get id(){return _composer.value?_composer.value.id:-1},locale,fallbackLocale,messages:messages2,datetimeFormats,numberFormats,get inheritLocale(){return _composer.value?_composer.value.inheritLocale:_inheritLocale},set inheritLocale(val){_composer.value&&(_composer.value.inheritLocale=val)},get availableLocales(){return _composer.value?_composer.value.availableLocales:Object.keys(_messages.value)},get modifiers(){return _composer.value?_composer.value.modifiers:_modifiers},get pluralRules(){return _composer.value?_composer.value.pluralRules:_pluralRules},get isGlobal(){return _composer.value?_composer.value.isGlobal:!1},get missingWarn(){return _composer.value?_composer.value.missingWarn:_missingWarn},set missingWarn(val){_composer.value&&(_composer.value.missingWarn=val)},get fallbackWarn(){return _composer.value?_composer.value.fallbackWarn:_fallbackWarn},set fallbackWarn(val){_composer.value&&(_composer.value.missingWarn=val)},get fallbackRoot(){return _composer.value?_composer.value.fallbackRoot:_fallbackRoot},set fallbackRoot(val){_composer.value&&(_composer.value.fallbackRoot=val)},get fallbackFormat(){return _composer.value?_composer.value.fallbackFormat:_fallbackFormat},set fallbackFormat(val){_composer.value&&(_composer.value.fallbackFormat=val)},get warnHtmlMessage(){return _composer.value?_composer.value.warnHtmlMessage:_warnHtmlMessage},set warnHtmlMessage(val){_composer.value&&(_composer.value.warnHtmlMessage=val)},get escapeParameter(){return _composer.value?_composer.value.escapeParameter:_escapeParameter},set escapeParameter(val){_composer.value&&(_composer.value.escapeParameter=val)},t,getPostTranslationHandler,setPostTranslationHandler,getMissingHandler,setMissingHandler,rt,d:d2,n,tm,te,getLocaleMessage,setLocaleMessage,mergeLocaleMessage,getDateTimeFormat,setDateTimeFormat,mergeDateTimeFormat,getNumberFormat,setNumberFormat,mergeNumberFormat};function sync(composer){composer.locale.value=_locale.value,composer.fallbackLocale.value=_fallbackLocale.value,Object.keys(_messages.value).forEach(locale2=>{composer.mergeLocaleMessage(locale2,_messages.value[locale2])}),Object.keys(_datetimeFormats.value).forEach(locale2=>{composer.mergeDateTimeFormat(locale2,_datetimeFormats.value[locale2])}),Object.keys(_numberFormats.value).forEach(locale2=>{composer.mergeNumberFormat(locale2,_numberFormats.value[locale2])}),composer.escapeParameter=_escapeParameter,composer.fallbackFormat=_fallbackFormat,composer.fallbackRoot=_fallbackRoot,composer.fallbackWarn=_fallbackWarn,composer.missingWarn=_missingWarn,composer.warnHtmlMessage=_warnHtmlMessage}return __name(sync,"sync"),onBeforeMount(()=>{if(instance2.proxy==null||instance2.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const composer=_composer.value=instance2.proxy.$i18n.__composer;scope==="global"?(_locale.value=composer.locale.value,_fallbackLocale.value=composer.fallbackLocale.value,_messages.value=composer.messages.value,_datetimeFormats.value=composer.datetimeFormats.value,_numberFormats.value=composer.numberFormats.value):isLocalScope&&sync(composer)}),wrapper}__name(useI18nForLegacy,"useI18nForLegacy");const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(app2,composer){const i18n2=Object.create(null);return globalExportProps.forEach(prop=>{const desc=Object.getOwnPropertyDescriptor(composer,prop);if(!desc)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const wrap=isRef(desc.value)?{get(){return desc.value.value},set(val){desc.value.value=val}}:{get(){return desc.get&&desc.get()}};Object.defineProperty(i18n2,prop,wrap)}),app2.config.globalProperties.$i18n=i18n2,globalExportMethods.forEach(method=>{const desc=Object.getOwnPropertyDescriptor(composer,method);if(!desc||!desc.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(app2.config.globalProperties,"$".concat(method),desc)}),__name(()=>{delete app2.config.globalProperties.$i18n,globalExportMethods.forEach(method=>{delete app2.config.globalProperties["$".concat(method)]})},"dispose")}__name(injectGlobalFields,"injectGlobalFields");initFeatureFlags();__INTLIFY_JIT_COMPILATION__?registerMessageCompiler(compile):registerMessageCompiler(compileToFunction);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);if(__INTLIFY_PROD_DEVTOOLS__){const target=getGlobalThis();target.__INTLIFY__=!0,setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const app$2={title:"Trackmaker",loading:"Loading...",error:"Error: {message}"},settings$1={title:"Settings",appearance:{title:"Appearance",theme:{title:"Theme",options:{light:"Light",dark:"Dark",system:"System Default"}}},geolocation:{title:"Geolocation",watchCompatibilityMode:"Geolocation Watch Compatibility Mode"},language:{title:"Language",interfaceLanguage:{title:"Interface Language",options:{"zh-CN":"",en:"English"}},mapLanguage:{title:"Map Language",options:{"zh-CN":"",en:"English",interface:"Follow Interface Language"}}}},router$2={tracker:"Tracker",about:"About",settings:"Settings"},trackerView$1={locationLoading:"Getting your location, please wait a moment...",locationError:"Fail to locate your device. Please try again later",gpsWarning:"Using network location. Not real-time and may be inaccurate. Please enable GPS for real-time location.",nameNewlyImportedRoute:"Newly Imported Route",nameNewRoute:"New Route",terraDrawTools:{rect:"Rectangle",point:"Point",polygon:"Polygon",line:"Line String",circle:"Circle",select:"Select",draw:"Free Hand"},uiRouteCheckoutTip:"New Route added! Click Here to check it out",uiRecordingStatus:{on:"Recording",off:"Track Recorder"}},aboutView$1={sections:{project:"Project",dataSource:"Data Sources",credits:"Credits"},description:"Enabling route planning and navigation for outdoor activities with map marking feature. Create tracks by tracing real-time motion. The created tracks can be shared with your friends and uploaded to DNE social platform.",creditIntro:"Without the following (open source) projects, Trackmaker could not be built:",mapInaccuracyDeclaration:"Please note that the map data provided may **contain inaccuracies or controversial content**, particularly regarding territorial boundaries. Due to **resource limitations**, we are currently unable to use higher-quality data, but we are actively **seeking better sources** and will update the application as soon as feasible."},components$1={trackerViewRouteDrawer:{contextMenu:{new:"New Route",rename:"Rename",delete:"Delete"},nameNewRoute:"Untitled Route",routes:"Routes",points:"{num} points"}},en={app:app$2,settings:settings$1,router:router$2,trackerView:trackerView$1,aboutView:aboutView$1,components:components$1},app$1={title:"Trackmaker",loading:"...",error:"{message}"},settings={title:"",appearance:{title:"",theme:{title:"",options:{light:"",dark:"",system:""}}},geolocation:{title:"",watchCompatibilityMode:"Geolocation Watch "},language:{title:"",interfaceLanguage:{title:"",options:{"zh-CN":"",en:"English"}},mapLanguage:{title:"",options:{"zh-CN":"",en:"English",interface:""}}}},router$1={tracker:"",about:"",settings:""},trackerView={locationLoading:"...",locationError:"",gpsWarning:"GPS",nameNewlyImportedRoute:"",nameNewRoute:"",terraDrawTools:{rect:"",point:"",polygon:"",line:"",circle:"",select:"",draw:""},uiRouteCheckoutTip:"",uiRecordingStatus:{on:"",off:""}},aboutView={sections:{project:"",dataSource:"",credits:""},description:"",creditIntro:"Trackmaker",mapInaccuracyDeclaration:"************"},components={trackerViewRouteDrawer:{contextMenu:{new:"",rename:"",delete:""},nameNewRoute:"",routes:"",points:"{num} "}},zhCN={app:app$1,settings,router:router$1,trackerView,aboutView,components},messages={en,"zh-CN":zhCN};var _a;const i18n=createI18n({legacy:!1,locale:(_a=navigator.language)!=null?_a:"en",fallbackLocale:"en",messages});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$3=typeof document<"u";function isRouteComponent(component){return typeof component=="object"||"displayName"in component||"props"in component||"__vccOpts"in component}__name(isRouteComponent,"isRouteComponent");function isESModule(obj){return obj.__esModule||obj[Symbol.toStringTag]==="Module"||obj.default&&isRouteComponent(obj.default)}__name(isESModule,"isESModule");const assign=Object.assign;function applyToParams(fn,params){const newParams={};for(const key in params){const value=params[key];newParams[key]=isArray$1(value)?value.map(fn):fn(value)}return newParams}__name(applyToParams,"applyToParams");const noop=__name(()=>{},"noop"),isArray$1=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(text){return encodeURI(""+text).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}__name(commonEncode,"commonEncode");function encodeHash(text){return commonEncode(text).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}__name(encodeHash,"encodeHash");function encodeQueryValue(text){return commonEncode(text).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}__name(encodeQueryValue,"encodeQueryValue");function encodeQueryKey(text){return encodeQueryValue(text).replace(EQUAL_RE,"%3D")}__name(encodeQueryKey,"encodeQueryKey");function encodePath(text){return commonEncode(text).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}__name(encodePath,"encodePath");function encodeParam(text){return text==null?"":encodePath(text).replace(SLASH_RE,"%2F")}__name(encodeParam,"encodeParam");function decode(text){try{return decodeURIComponent(""+text)}catch(err){}return""+text}__name(decode,"decode");const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=__name(path=>path.replace(TRAILING_SLASH_RE,""),"removeTrailingSlash");function parseURL(parseQuery2,location2,currentLocation="/"){let path,query={},searchString="",hash="";const hashPos=location2.indexOf("#");let searchPos=location2.indexOf("?");return hashPos<searchPos&&hashPos>=0&&(searchPos=-1),searchPos>-1&&(path=location2.slice(0,searchPos),searchString=location2.slice(searchPos+1,hashPos>-1?hashPos:location2.length),query=parseQuery2(searchString)),hashPos>-1&&(path=path||location2.slice(0,hashPos),hash=location2.slice(hashPos,location2.length)),path=resolveRelativePath(path!=null?path:location2,currentLocation),{fullPath:path+(searchString&&"?")+searchString+hash,path,query,hash:decode(hash)}}__name(parseURL,"parseURL");function stringifyURL(stringifyQuery2,location2){const query=location2.query?stringifyQuery2(location2.query):"";return location2.path+(query&&"?")+query+(location2.hash||"")}__name(stringifyURL,"stringifyURL");function isSameRouteLocation(stringifyQuery2,a,b){const aLastIndex=a.matched.length-1,bLastIndex=b.matched.length-1;return aLastIndex>-1&&aLastIndex===bLastIndex&&isSameRouteRecord(a.matched[aLastIndex],b.matched[bLastIndex])&&isSameRouteLocationParams(a.params,b.params)&&stringifyQuery2(a.query)===stringifyQuery2(b.query)&&a.hash===b.hash}__name(isSameRouteLocation,"isSameRouteLocation");function isSameRouteRecord(a,b){return(a.aliasOf||a)===(b.aliasOf||b)}__name(isSameRouteRecord,"isSameRouteRecord");function isSameRouteLocationParams(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(const key in a)if(!isSameRouteLocationParamsValue(a[key],b[key]))return!1;return!0}__name(isSameRouteLocationParams,"isSameRouteLocationParams");function isSameRouteLocationParamsValue(a,b){return isArray$1(a)?isEquivalentArray(a,b):isArray$1(b)?isEquivalentArray(b,a):a===b}__name(isSameRouteLocationParamsValue,"isSameRouteLocationParamsValue");function isEquivalentArray(a,b){return isArray$1(b)?a.length===b.length&&a.every((value,i)=>value===b[i]):a.length===1&&a[0]===b}__name(isEquivalentArray,"isEquivalentArray");function resolveRelativePath(to,from){if(to.startsWith("/"))return to;if(!to)return from;const fromSegments=from.split("/"),toSegments=to.split("/"),lastToSegment=toSegments[toSegments.length-1];(lastToSegment===".."||lastToSegment===".")&&toSegments.push("");let position=fromSegments.length-1,toPosition,segment;for(toPosition=0;toPosition<toSegments.length;toPosition++)if(segment=toSegments[toPosition],segment!==".")if(segment==="..")position>1&&position--;else break;return fromSegments.slice(0,position).join("/")+"/"+toSegments.slice(toPosition).join("/")}__name(resolveRelativePath,"resolveRelativePath");const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(NavigationType2){NavigationType2.pop="pop",NavigationType2.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(NavigationDirection2){NavigationDirection2.back="back",NavigationDirection2.forward="forward",NavigationDirection2.unknown=""})(NavigationDirection||(NavigationDirection={}));const START="";function normalizeBase(base2){if(!base2)if(isBrowser$3){const baseEl=document.querySelector("base");base2=baseEl&&baseEl.getAttribute("href")||"/",base2=base2.replace(/^\w+:\/\/[^\/]+/,"")}else base2="/";return base2[0]!=="/"&&base2[0]!=="#"&&(base2="/"+base2),removeTrailingSlash(base2)}__name(normalizeBase,"normalizeBase");const BEFORE_HASH_RE=/^[^#]+#/;function createHref(base2,location2){return base2.replace(BEFORE_HASH_RE,"#")+location2}__name(createHref,"createHref");function getElementPosition(el,offset){const docRect=document.documentElement.getBoundingClientRect(),elRect=el.getBoundingClientRect();return{behavior:offset.behavior,left:elRect.left-docRect.left-(offset.left||0),top:elRect.top-docRect.top-(offset.top||0)}}__name(getElementPosition,"getElementPosition");const computeScrollPosition=__name(()=>({left:window.scrollX,top:window.scrollY}),"computeScrollPosition");function scrollToPosition(position){let scrollToOptions;if("el"in position){const positionEl=position.el,isIdSelector=typeof positionEl=="string"&&positionEl.startsWith("#"),el=typeof positionEl=="string"?isIdSelector?document.getElementById(positionEl.slice(1)):document.querySelector(positionEl):positionEl;if(!el)return;scrollToOptions=getElementPosition(el,position)}else scrollToOptions=position;"scrollBehavior"in document.documentElement.style?window.scrollTo(scrollToOptions):window.scrollTo(scrollToOptions.left!=null?scrollToOptions.left:window.scrollX,scrollToOptions.top!=null?scrollToOptions.top:window.scrollY)}__name(scrollToPosition,"scrollToPosition");function getScrollKey(path,delta){return(history.state?history.state.position-delta:-1)+path}__name(getScrollKey,"getScrollKey");const scrollPositions=new Map;function saveScrollPosition(key,scrollPosition){scrollPositions.set(key,scrollPosition)}__name(saveScrollPosition,"saveScrollPosition");function getSavedScrollPosition(key){const scroll=scrollPositions.get(key);return scrollPositions.delete(key),scroll}__name(getSavedScrollPosition,"getSavedScrollPosition");function createMemoryHistory(base2=""){let listeners=[],queue2=[[START,{}]],position=0;base2=normalizeBase(base2);function setLocation(location2,state={}){position++,position!==queue2.length&&queue2.splice(position),queue2.push([location2,state])}__name(setLocation,"setLocation");function triggerListeners(to,from,{direction,delta}){const info={direction,delta,type:NavigationType.pop};for(const callback of listeners)callback(to,from,info)}__name(triggerListeners,"triggerListeners");const routerHistory={location:START,state:{},base:base2,createHref:createHref.bind(null,base2),replace(to,state){queue2.splice(position--,1),setLocation(to,state)},push(to,state){setLocation(to,state)},listen(callback){return listeners.push(callback),()=>{const index=listeners.indexOf(callback);index>-1&&listeners.splice(index,1)}},destroy(){listeners=[],queue2=[[START,{}]],position=0},go(delta,shouldTrigger=!0){const from=this.location,direction=delta<0?NavigationDirection.back:NavigationDirection.forward;position=Math.max(0,Math.min(position+delta,queue2.length-1)),shouldTrigger&&triggerListeners(this.location,from,{direction,delta})}};return Object.defineProperty(routerHistory,"location",{enumerable:!0,get:__name(()=>queue2[position][0],"get")}),Object.defineProperty(routerHistory,"state",{enumerable:!0,get:__name(()=>queue2[position][1],"get")}),routerHistory}__name(createMemoryHistory,"createMemoryHistory");function isRouteLocation(route){return typeof route=="string"||route&&typeof route=="object"}__name(isRouteLocation,"isRouteLocation");function isRouteName(name){return typeof name=="string"||typeof name=="symbol"}__name(isRouteName,"isRouteName");const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(NavigationFailureType2){NavigationFailureType2[NavigationFailureType2.aborted=4]="aborted",NavigationFailureType2[NavigationFailureType2.cancelled=8]="cancelled",NavigationFailureType2[NavigationFailureType2.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(type,params){return assign(new Error,{type,[NavigationFailureSymbol]:!0},params)}__name(createRouterError,"createRouterError");function isNavigationFailure(error2,type){return error2 instanceof Error&&NavigationFailureSymbol in error2&&(type==null||!!(error2.type&type))}__name(isNavigationFailure,"isNavigationFailure");const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(segments,extraOptions){const options=assign({},BASE_PATH_PARSER_OPTIONS,extraOptions),score=[];let pattern=options.start?"^":"";const keys2=[];for(const segment of segments){const segmentScores=segment.length?[]:[90];options.strict&&!segment.length&&(pattern+="/");for(let tokenIndex=0;tokenIndex<segment.length;tokenIndex++){const token=segment[tokenIndex];let subSegmentScore=40+(options.sensitive?.25:0);if(token.type===0)tokenIndex||(pattern+="/"),pattern+=token.value.replace(REGEX_CHARS_RE,"\\$&"),subSegmentScore+=40;else if(token.type===1){const{value,repeatable,optional,regexp}=token;keys2.push({name:value,repeatable,optional});const re2=regexp||BASE_PARAM_PATTERN;if(re2!==BASE_PARAM_PATTERN){subSegmentScore+=10;try{new RegExp("(".concat(re2,")"))}catch(err){throw new Error('Invalid custom RegExp for param "'.concat(value,'" (').concat(re2,"): ")+err.message)}}let subPattern=repeatable?"((?:".concat(re2,")(?:/(?:").concat(re2,"))*)"):"(".concat(re2,")");tokenIndex||(subPattern=optional&&segment.length<2?"(?:/".concat(subPattern,")"):"/"+subPattern),optional&&(subPattern+="?"),pattern+=subPattern,subSegmentScore+=20,optional&&(subSegmentScore+=-8),repeatable&&(subSegmentScore+=-20),re2===".*"&&(subSegmentScore+=-50)}segmentScores.push(subSegmentScore)}score.push(segmentScores)}if(options.strict&&options.end){const i=score.length-1;score[i][score[i].length-1]+=.7000000000000001}options.strict||(pattern+="/?"),options.end?pattern+="$":options.strict&&!pattern.endsWith("/")&&(pattern+="(?:/|$)");const re=new RegExp(pattern,options.sensitive?"":"i");function parse2(path){const match=path.match(re),params={};if(!match)return null;for(let i=1;i<match.length;i++){const value=match[i]||"",key=keys2[i-1];params[key.name]=value&&key.repeatable?value.split("/"):value}return params}__name(parse2,"parse");function stringify(params){let path="",avoidDuplicatedSlash=!1;for(const segment of segments){(!avoidDuplicatedSlash||!path.endsWith("/"))&&(path+="/"),avoidDuplicatedSlash=!1;for(const token of segment)if(token.type===0)path+=token.value;else if(token.type===1){const{value,repeatable,optional}=token,param=value in params?params[value]:"";if(isArray$1(param)&&!repeatable)throw new Error('Provided param "'.concat(value,'" is an array but it is not repeatable (* or + modifiers)'));const text=isArray$1(param)?param.join("/"):param;if(!text)if(optional)segment.length<2&&(path.endsWith("/")?path=path.slice(0,-1):avoidDuplicatedSlash=!0);else throw new Error('Missing required param "'.concat(value,'"'));path+=text}}return path||"/"}return __name(stringify,"stringify"),{re,score,keys:keys2,parse:parse2,stringify}}__name(tokensToParser,"tokensToParser");function compareScoreArray(a,b){let i=0;for(;i<a.length&&i<b.length;){const diff=b[i]-a[i];if(diff)return diff;i++}return a.length<b.length?a.length===1&&a[0]===80?-1:1:a.length>b.length?b.length===1&&b[0]===80?1:-1:0}__name(compareScoreArray,"compareScoreArray");function comparePathParserScore(a,b){let i=0;const aScore=a.score,bScore=b.score;for(;i<aScore.length&&i<bScore.length;){const comp=compareScoreArray(aScore[i],bScore[i]);if(comp)return comp;i++}if(Math.abs(bScore.length-aScore.length)===1){if(isLastScoreNegative(aScore))return 1;if(isLastScoreNegative(bScore))return-1}return bScore.length-aScore.length}__name(comparePathParserScore,"comparePathParserScore");function isLastScoreNegative(score){const last=score[score.length-1];return score.length>0&&last[last.length-1]<0}__name(isLastScoreNegative,"isLastScoreNegative");const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(path){if(!path)return[[]];if(path==="/")return[[ROOT_TOKEN]];if(!path.startsWith("/"))throw new Error('Invalid path "'.concat(path,'"'));function crash(message){throw new Error("ERR (".concat(state,')/"').concat(buffer,'": ').concat(message))}__name(crash,"crash");let state=0,previousState=state;const tokens=[];let segment;function finalizeSegment(){segment&&tokens.push(segment),segment=[]}__name(finalizeSegment,"finalizeSegment");let i=0,char,buffer="",customRe="";function consumeBuffer(){buffer&&(state===0?segment.push({type:0,value:buffer}):state===1||state===2||state===3?(segment.length>1&&(char==="*"||char==="+")&&crash("A repeatable param (".concat(buffer,") must be alone in its segment. eg: '/:ids+.")),segment.push({type:1,value:buffer,regexp:customRe,repeatable:char==="*"||char==="+",optional:char==="*"||char==="?"})):crash("Invalid state to consume buffer"),buffer="")}__name(consumeBuffer,"consumeBuffer");function addCharToBuffer(){buffer+=char}for(__name(addCharToBuffer,"addCharToBuffer");i<path.length;){if(char=path[i++],char==="\\"&&state!==2){previousState=state,state=4;continue}switch(state){case 0:char==="/"?(buffer&&consumeBuffer(),finalizeSegment()):char===":"?(consumeBuffer(),state=1):addCharToBuffer();break;case 4:addCharToBuffer(),state=previousState;break;case 1:char==="("?state=2:VALID_PARAM_RE.test(char)?addCharToBuffer():(consumeBuffer(),state=0,char!=="*"&&char!=="?"&&char!=="+"&&i--);break;case 2:char===")"?customRe[customRe.length-1]=="\\"?customRe=customRe.slice(0,-1)+char:state=3:customRe+=char;break;case 3:consumeBuffer(),state=0,char!=="*"&&char!=="?"&&char!=="+"&&i--,customRe="";break;default:crash("Unknown state");break}}return state===2&&crash('Unfinished custom RegExp for param "'.concat(buffer,'"')),consumeBuffer(),finalizeSegment(),tokens}__name(tokenizePath,"tokenizePath");function createRouteRecordMatcher(record,parent,options){const parser=tokensToParser(tokenizePath(record.path),options),matcher=assign(parser,{record,parent,children:[],alias:[]});return parent&&!matcher.record.aliasOf==!parent.record.aliasOf&&parent.children.push(matcher),matcher}__name(createRouteRecordMatcher,"createRouteRecordMatcher");function createRouterMatcher(routes,globalOptions){const matchers=[],matcherMap=new Map;globalOptions=mergeOptions({strict:!1,end:!0,sensitive:!1},globalOptions);function getRecordMatcher(name){return matcherMap.get(name)}__name(getRecordMatcher,"getRecordMatcher");function addRoute(record,parent,originalRecord){const isRootAdd=!originalRecord,mainNormalizedRecord=normalizeRouteRecord(record);mainNormalizedRecord.aliasOf=originalRecord&&originalRecord.record;const options=mergeOptions(globalOptions,record),normalizedRecords=[mainNormalizedRecord];if("alias"in record){const aliases=typeof record.alias=="string"?[record.alias]:record.alias;for(const alias of aliases)normalizedRecords.push(normalizeRouteRecord(assign({},mainNormalizedRecord,{components:originalRecord?originalRecord.record.components:mainNormalizedRecord.components,path:alias,aliasOf:originalRecord?originalRecord.record:mainNormalizedRecord})))}let matcher,originalMatcher;for(const normalizedRecord of normalizedRecords){const{path}=normalizedRecord;if(parent&&path[0]!=="/"){const parentPath=parent.record.path,connectingSlash=parentPath[parentPath.length-1]==="/"?"":"/";normalizedRecord.path=parent.record.path+(path&&connectingSlash+path)}if(matcher=createRouteRecordMatcher(normalizedRecord,parent,options),originalRecord?originalRecord.alias.push(matcher):(originalMatcher=originalMatcher||matcher,originalMatcher!==matcher&&originalMatcher.alias.push(matcher),isRootAdd&&record.name&&!isAliasRecord(matcher)&&removeRoute(record.name)),isMatchable(matcher)&&insertMatcher(matcher),mainNormalizedRecord.children){const children=mainNormalizedRecord.children;for(let i=0;i<children.length;i++)addRoute(children[i],matcher,originalRecord&&originalRecord.children[i])}originalRecord=originalRecord||matcher}return originalMatcher?()=>{removeRoute(originalMatcher)}:noop}__name(addRoute,"addRoute");function removeRoute(matcherRef){if(isRouteName(matcherRef)){const matcher=matcherMap.get(matcherRef);matcher&&(matcherMap.delete(matcherRef),matchers.splice(matchers.indexOf(matcher),1),matcher.children.forEach(removeRoute),matcher.alias.forEach(removeRoute))}else{const index=matchers.indexOf(matcherRef);index>-1&&(matchers.splice(index,1),matcherRef.record.name&&matcherMap.delete(matcherRef.record.name),matcherRef.children.forEach(removeRoute),matcherRef.alias.forEach(removeRoute))}}__name(removeRoute,"removeRoute");function getRoutes(){return matchers}__name(getRoutes,"getRoutes");function insertMatcher(matcher){const index=findInsertionIndex(matcher,matchers);matchers.splice(index,0,matcher),matcher.record.name&&!isAliasRecord(matcher)&&matcherMap.set(matcher.record.name,matcher)}__name(insertMatcher,"insertMatcher");function resolve2(location2,currentLocation){let matcher,params={},path,name;if("name"in location2&&location2.name){if(matcher=matcherMap.get(location2.name),!matcher)throw createRouterError(1,{location:location2});name=matcher.record.name,params=assign(paramsFromLocation(currentLocation.params,matcher.keys.filter(k=>!k.optional).concat(matcher.parent?matcher.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),location2.params&&paramsFromLocation(location2.params,matcher.keys.map(k=>k.name))),path=matcher.stringify(params)}else if(location2.path!=null)path=location2.path,matcher=matchers.find(m=>m.re.test(path)),matcher&&(params=matcher.parse(path),name=matcher.record.name);else{if(matcher=currentLocation.name?matcherMap.get(currentLocation.name):matchers.find(m=>m.re.test(currentLocation.path)),!matcher)throw createRouterError(1,{location:location2,currentLocation});name=matcher.record.name,params=assign({},currentLocation.params,location2.params),path=matcher.stringify(params)}const matched=[];let parentMatcher=matcher;for(;parentMatcher;)matched.unshift(parentMatcher.record),parentMatcher=parentMatcher.parent;return{name,path,params,matched,meta:mergeMetaFields(matched)}}__name(resolve2,"resolve"),routes.forEach(route=>addRoute(route));function clearRoutes(){matchers.length=0,matcherMap.clear()}return __name(clearRoutes,"clearRoutes"),{addRoute,resolve:resolve2,removeRoute,clearRoutes,getRoutes,getRecordMatcher}}__name(createRouterMatcher,"createRouterMatcher");function paramsFromLocation(params,keys2){const newParams={};for(const key of keys2)key in params&&(newParams[key]=params[key]);return newParams}__name(paramsFromLocation,"paramsFromLocation");function normalizeRouteRecord(record){const normalized={path:record.path,redirect:record.redirect,name:record.name,meta:record.meta||{},aliasOf:record.aliasOf,beforeEnter:record.beforeEnter,props:normalizeRecordProps(record),children:record.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in record?record.components||null:record.component&&{default:record.component}};return Object.defineProperty(normalized,"mods",{value:{}}),normalized}__name(normalizeRouteRecord,"normalizeRouteRecord");function normalizeRecordProps(record){const propsObject={},props=record.props||!1;if("component"in record)propsObject.default=props;else for(const name in record.components)propsObject[name]=typeof props=="object"?props[name]:props;return propsObject}__name(normalizeRecordProps,"normalizeRecordProps");function isAliasRecord(record){for(;record;){if(record.record.aliasOf)return!0;record=record.parent}return!1}__name(isAliasRecord,"isAliasRecord");function mergeMetaFields(matched){return matched.reduce((meta,record)=>assign(meta,record.meta),{})}__name(mergeMetaFields,"mergeMetaFields");function mergeOptions(defaults,partialOptions){const options={};for(const key in defaults)options[key]=key in partialOptions?partialOptions[key]:defaults[key];return options}__name(mergeOptions,"mergeOptions");function findInsertionIndex(matcher,matchers){let lower=0,upper=matchers.length;for(;lower!==upper;){const mid=lower+upper>>1;comparePathParserScore(matcher,matchers[mid])<0?upper=mid:lower=mid+1}const insertionAncestor=getInsertionAncestor(matcher);return insertionAncestor&&(upper=matchers.lastIndexOf(insertionAncestor,upper-1)),upper}__name(findInsertionIndex,"findInsertionIndex");function getInsertionAncestor(matcher){let ancestor=matcher;for(;ancestor=ancestor.parent;)if(isMatchable(ancestor)&&comparePathParserScore(matcher,ancestor)===0)return ancestor}__name(getInsertionAncestor,"getInsertionAncestor");function isMatchable({record}){return!!(record.name||record.components&&Object.keys(record.components).length||record.redirect)}__name(isMatchable,"isMatchable");function parseQuery(search){const query={};if(search===""||search==="?")return query;const searchParams=(search[0]==="?"?search.slice(1):search).split("&");for(let i=0;i<searchParams.length;++i){const searchParam=searchParams[i].replace(PLUS_RE," "),eqPos=searchParam.indexOf("="),key=decode(eqPos<0?searchParam:searchParam.slice(0,eqPos)),value=eqPos<0?null:decode(searchParam.slice(eqPos+1));if(key in query){let currentValue=query[key];isArray$1(currentValue)||(currentValue=query[key]=[currentValue]),currentValue.push(value)}else query[key]=value}return query}__name(parseQuery,"parseQuery");function stringifyQuery(query){let search="";for(let key in query){const value=query[key];if(key=encodeQueryKey(key),value==null){value!==void 0&&(search+=(search.length?"&":"")+key);continue}(isArray$1(value)?value.map(v=>v&&encodeQueryValue(v)):[value&&encodeQueryValue(value)]).forEach(value2=>{value2!==void 0&&(search+=(search.length?"&":"")+key,value2!=null&&(search+="="+value2))})}return search}__name(stringifyQuery,"stringifyQuery");function normalizeQuery(query){const normalizedQuery={};for(const key in query){const value=query[key];value!==void 0&&(normalizedQuery[key]=isArray$1(value)?value.map(v=>v==null?null:""+v):value==null?value:""+value)}return normalizedQuery}__name(normalizeQuery,"normalizeQuery");const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let handlers2=[];function add(handler){return handlers2.push(handler),()=>{const i=handlers2.indexOf(handler);i>-1&&handlers2.splice(i,1)}}__name(add,"add");function reset(){handlers2=[]}return __name(reset,"reset"),{add,list:__name(()=>handlers2.slice(),"list"),reset}}__name(useCallbacks,"useCallbacks");function guardToPromiseFn(guard,to,from,record,name,runWithContext=fn=>fn()){const enterCallbackArray=record&&(record.enterCallbacks[name]=record.enterCallbacks[name]||[]);return()=>new Promise((resolve2,reject)=>{const next=__name(valid=>{valid===!1?reject(createRouterError(4,{from,to})):valid instanceof Error?reject(valid):isRouteLocation(valid)?reject(createRouterError(2,{from:to,to:valid})):(enterCallbackArray&&record.enterCallbacks[name]===enterCallbackArray&&typeof valid=="function"&&enterCallbackArray.push(valid),resolve2())},"next"),guardReturn=runWithContext(()=>guard.call(record&&record.instances[name],to,from,next));let guardCall=Promise.resolve(guardReturn);guard.length<3&&(guardCall=guardCall.then(next)),guardCall.catch(err=>reject(err))})}__name(guardToPromiseFn,"guardToPromiseFn");function extractComponentsGuards(matched,guardType,to,from,runWithContext=fn=>fn()){const guards=[];for(const record of matched)for(const name in record.components){let rawComponent=record.components[name];if(!(guardType!=="beforeRouteEnter"&&!record.instances[name]))if(isRouteComponent(rawComponent)){const guard=(rawComponent.__vccOpts||rawComponent)[guardType];guard&&guards.push(guardToPromiseFn(guard,to,from,record,name,runWithContext))}else{let componentPromise=rawComponent();guards.push(()=>componentPromise.then(resolved=>{if(!resolved)throw new Error("Couldn't resolve component \"".concat(name,'" at "').concat(record.path,'"'));const resolvedComponent=isESModule(resolved)?resolved.default:resolved;record.mods[name]=resolved,record.components[name]=resolvedComponent;const guard=(resolvedComponent.__vccOpts||resolvedComponent)[guardType];return guard&&guardToPromiseFn(guard,to,from,record,name,runWithContext)()}))}}return guards}__name(extractComponentsGuards,"extractComponentsGuards");function useLink(props){const router2=inject(routerKey),currentRoute=inject(routeLocationKey),route=computed(()=>{const to=unref(props.to);return router2.resolve(to)}),activeRecordIndex=computed(()=>{const{matched}=route.value,{length}=matched,routeMatched=matched[length-1],currentMatched=currentRoute.matched;if(!routeMatched||!currentMatched.length)return-1;const index=currentMatched.findIndex(isSameRouteRecord.bind(null,routeMatched));if(index>-1)return index;const parentRecordPath=getOriginalPath(matched[length-2]);return length>1&&getOriginalPath(routeMatched)===parentRecordPath&&currentMatched[currentMatched.length-1].path!==parentRecordPath?currentMatched.findIndex(isSameRouteRecord.bind(null,matched[length-2])):index}),isActive=computed(()=>activeRecordIndex.value>-1&&includesParams(currentRoute.params,route.value.params)),isExactActive=computed(()=>activeRecordIndex.value>-1&&activeRecordIndex.value===currentRoute.matched.length-1&&isSameRouteLocationParams(currentRoute.params,route.value.params));function navigate(e={}){if(guardEvent(e)){const p2=router2[unref(props.replace)?"replace":"push"](unref(props.to)).catch(noop);return props.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p2),p2}return Promise.resolve()}return __name(navigate,"navigate"),{route,href:computed(()=>route.value.href),isActive,isExactActive,navigate}}__name(useLink,"useLink");function preferSingleVNode(vnodes){return vnodes.length===1?vnodes[0]:vnodes}__name(preferSingleVNode,"preferSingleVNode");const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(props,{slots}){const link=reactive(useLink(props)),{options}=inject(routerKey),elClass=computed(()=>({[getLinkClass(props.activeClass,options.linkActiveClass,"router-link-active")]:link.isActive,[getLinkClass(props.exactActiveClass,options.linkExactActiveClass,"router-link-exact-active")]:link.isExactActive}));return()=>{const children=slots.default&&preferSingleVNode(slots.default(link));return props.custom?children:h("a",{"aria-current":link.isExactActive?props.ariaCurrentValue:null,href:link.href,onClick:link.navigate,class:elClass.value},children)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const target=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(target))return}return e.preventDefault&&e.preventDefault(),!0}}__name(guardEvent,"guardEvent");function includesParams(outer,inner){for(const key in inner){const innerValue=inner[key],outerValue=outer[key];if(typeof innerValue=="string"){if(innerValue!==outerValue)return!1}else if(!isArray$1(outerValue)||outerValue.length!==innerValue.length||innerValue.some((value,i)=>value!==outerValue[i]))return!1}return!0}__name(includesParams,"includesParams");function getOriginalPath(record){return record?record.aliasOf?record.aliasOf.path:record.path:""}__name(getOriginalPath,"getOriginalPath");const getLinkClass=__name((propClass,globalClass,defaultClass)=>propClass!=null?propClass:globalClass!=null?globalClass:defaultClass,"getLinkClass"),RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(props,{attrs,slots}){const injectedRoute=inject(routerViewLocationKey),routeToDisplay=computed(()=>props.route||injectedRoute.value),injectedDepth=inject(viewDepthKey,0),depth=computed(()=>{let initialDepth=unref(injectedDepth);const{matched}=routeToDisplay.value;let matchedRoute;for(;(matchedRoute=matched[initialDepth])&&!matchedRoute.components;)initialDepth++;return initialDepth}),matchedRouteRef=computed(()=>routeToDisplay.value.matched[depth.value]);provide(viewDepthKey,computed(()=>depth.value+1)),provide(matchedRouteKey,matchedRouteRef),provide(routerViewLocationKey,routeToDisplay);const viewRef=ref();return watch(()=>[viewRef.value,matchedRouteRef.value,props.name],([instance2,to,name],[oldInstance,from,oldName])=>{to&&(to.instances[name]=instance2,from&&from!==to&&instance2&&instance2===oldInstance&&(to.leaveGuards.size||(to.leaveGuards=from.leaveGuards),to.updateGuards.size||(to.updateGuards=from.updateGuards))),instance2&&to&&(!from||!isSameRouteRecord(to,from)||!oldInstance)&&(to.enterCallbacks[name]||[]).forEach(callback=>callback(instance2))},{flush:"post"}),()=>{const route=routeToDisplay.value,currentName=props.name,matchedRoute=matchedRouteRef.value,ViewComponent=matchedRoute&&matchedRoute.components[currentName];if(!ViewComponent)return normalizeSlot(slots.default,{Component:ViewComponent,route});const routePropsOption=matchedRoute.props[currentName],routeProps=routePropsOption?routePropsOption===!0?route.params:typeof routePropsOption=="function"?routePropsOption(route):routePropsOption:null,component=h(ViewComponent,assign({},routeProps,attrs,{onVnodeUnmounted:__name(vnode=>{vnode.component.isUnmounted&&(matchedRoute.instances[currentName]=null)},"onVnodeUnmounted"),ref:viewRef}));return normalizeSlot(slots.default,{Component:component,route})||component}}});function normalizeSlot(slot,data){if(!slot)return null;const slotContent=slot(data);return slotContent.length===1?slotContent[0]:slotContent}__name(normalizeSlot,"normalizeSlot");const RouterView=RouterViewImpl;function createRouter(options){const matcher=createRouterMatcher(options.routes,options),parseQuery$1=options.parseQuery||parseQuery,stringifyQuery$1=options.stringifyQuery||stringifyQuery,routerHistory=options.history,beforeGuards=useCallbacks(),beforeResolveGuards=useCallbacks(),afterGuards=useCallbacks(),currentRoute=shallowRef(START_LOCATION_NORMALIZED);let pendingLocation=START_LOCATION_NORMALIZED;isBrowser$3&&options.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const normalizeParams=applyToParams.bind(null,paramValue=>""+paramValue),encodeParams=applyToParams.bind(null,encodeParam),decodeParams=applyToParams.bind(null,decode);function addRoute(parentOrRoute,route){let parent,record;return isRouteName(parentOrRoute)?(parent=matcher.getRecordMatcher(parentOrRoute),record=route):record=parentOrRoute,matcher.addRoute(record,parent)}__name(addRoute,"addRoute");function removeRoute(name){const recordMatcher=matcher.getRecordMatcher(name);recordMatcher&&matcher.removeRoute(recordMatcher)}__name(removeRoute,"removeRoute");function getRoutes(){return matcher.getRoutes().map(routeMatcher=>routeMatcher.record)}__name(getRoutes,"getRoutes");function hasRoute(name){return!!matcher.getRecordMatcher(name)}__name(hasRoute,"hasRoute");function resolve2(rawLocation,currentLocation){if(currentLocation=assign({},currentLocation||currentRoute.value),typeof rawLocation=="string"){const locationNormalized=parseURL(parseQuery$1,rawLocation,currentLocation.path),matchedRoute2=matcher.resolve({path:locationNormalized.path},currentLocation),href2=routerHistory.createHref(locationNormalized.fullPath);return assign(locationNormalized,matchedRoute2,{params:decodeParams(matchedRoute2.params),hash:decode(locationNormalized.hash),redirectedFrom:void 0,href:href2})}let matcherLocation;if(rawLocation.path!=null)matcherLocation=assign({},rawLocation,{path:parseURL(parseQuery$1,rawLocation.path,currentLocation.path).path});else{const targetParams=assign({},rawLocation.params);for(const key in targetParams)targetParams[key]==null&&delete targetParams[key];matcherLocation=assign({},rawLocation,{params:encodeParams(targetParams)}),currentLocation.params=encodeParams(currentLocation.params)}const matchedRoute=matcher.resolve(matcherLocation,currentLocation),hash=rawLocation.hash||"";matchedRoute.params=normalizeParams(decodeParams(matchedRoute.params));const fullPath=stringifyURL(stringifyQuery$1,assign({},rawLocation,{hash:encodeHash(hash),path:matchedRoute.path})),href=routerHistory.createHref(fullPath);return assign({fullPath,hash,query:stringifyQuery$1===stringifyQuery?normalizeQuery(rawLocation.query):rawLocation.query||{}},matchedRoute,{redirectedFrom:void 0,href})}__name(resolve2,"resolve");function locationAsObject(to){return typeof to=="string"?parseURL(parseQuery$1,to,currentRoute.value.path):assign({},to)}__name(locationAsObject,"locationAsObject");function checkCanceledNavigation(to,from){if(pendingLocation!==to)return createRouterError(8,{from,to})}__name(checkCanceledNavigation,"checkCanceledNavigation");function push(to){return pushWithRedirect(to)}__name(push,"push");function replace(to){return push(assign(locationAsObject(to),{replace:!0}))}__name(replace,"replace");function handleRedirectRecord(to){const lastMatched=to.matched[to.matched.length-1];if(lastMatched&&lastMatched.redirect){const{redirect}=lastMatched;let newTargetLocation=typeof redirect=="function"?redirect(to):redirect;return typeof newTargetLocation=="string"&&(newTargetLocation=newTargetLocation.includes("?")||newTargetLocation.includes("#")?newTargetLocation=locationAsObject(newTargetLocation):{path:newTargetLocation},newTargetLocation.params={}),assign({query:to.query,hash:to.hash,params:newTargetLocation.path!=null?{}:to.params},newTargetLocation)}}__name(handleRedirectRecord,"handleRedirectRecord");function pushWithRedirect(to,redirectedFrom){const targetLocation=pendingLocation=resolve2(to),from=currentRoute.value,data=to.state,force=to.force,replace2=to.replace===!0,shouldRedirect=handleRedirectRecord(targetLocation);if(shouldRedirect)return pushWithRedirect(assign(locationAsObject(shouldRedirect),{state:typeof shouldRedirect=="object"?assign({},data,shouldRedirect.state):data,force,replace:replace2}),redirectedFrom||targetLocation);const toLocation=targetLocation;toLocation.redirectedFrom=redirectedFrom;let failure;return!force&&isSameRouteLocation(stringifyQuery$1,from,targetLocation)&&(failure=createRouterError(16,{to:toLocation,from}),handleScroll(from,from,!0,!1)),(failure?Promise.resolve(failure):navigate(toLocation,from)).catch(error2=>isNavigationFailure(error2)?isNavigationFailure(error2,2)?error2:markAsReady(error2):triggerError(error2,toLocation,from)).then(failure2=>{if(failure2){if(isNavigationFailure(failure2,2))return pushWithRedirect(assign({replace:replace2},locationAsObject(failure2.to),{state:typeof failure2.to=="object"?assign({},data,failure2.to.state):data,force}),redirectedFrom||toLocation)}else failure2=finalizeNavigation(toLocation,from,!0,replace2,data);return triggerAfterEach(toLocation,from,failure2),failure2})}__name(pushWithRedirect,"pushWithRedirect");function checkCanceledNavigationAndReject(to,from){const error2=checkCanceledNavigation(to,from);return error2?Promise.reject(error2):Promise.resolve()}__name(checkCanceledNavigationAndReject,"checkCanceledNavigationAndReject");function runWithContext(fn){const app2=installedApps.values().next().value;return app2&&typeof app2.runWithContext=="function"?app2.runWithContext(fn):fn()}__name(runWithContext,"runWithContext");function navigate(to,from){let guards;const[leavingRecords,updatingRecords,enteringRecords]=extractChangingRecords(to,from);guards=extractComponentsGuards(leavingRecords.reverse(),"beforeRouteLeave",to,from);for(const record of leavingRecords)record.leaveGuards.forEach(guard=>{guards.push(guardToPromiseFn(guard,to,from))});const canceledNavigationCheck=checkCanceledNavigationAndReject.bind(null,to,from);return guards.push(canceledNavigationCheck),runGuardQueue(guards).then(()=>{guards=[];for(const guard of beforeGuards.list())guards.push(guardToPromiseFn(guard,to,from));return guards.push(canceledNavigationCheck),runGuardQueue(guards)}).then(()=>{guards=extractComponentsGuards(updatingRecords,"beforeRouteUpdate",to,from);for(const record of updatingRecords)record.updateGuards.forEach(guard=>{guards.push(guardToPromiseFn(guard,to,from))});return guards.push(canceledNavigationCheck),runGuardQueue(guards)}).then(()=>{guards=[];for(const record of enteringRecords)if(record.beforeEnter)if(isArray$1(record.beforeEnter))for(const beforeEnter of record.beforeEnter)guards.push(guardToPromiseFn(beforeEnter,to,from));else guards.push(guardToPromiseFn(record.beforeEnter,to,from));return guards.push(canceledNavigationCheck),runGuardQueue(guards)}).then(()=>(to.matched.forEach(record=>record.enterCallbacks={}),guards=extractComponentsGuards(enteringRecords,"beforeRouteEnter",to,from,runWithContext),guards.push(canceledNavigationCheck),runGuardQueue(guards))).then(()=>{guards=[];for(const guard of beforeResolveGuards.list())guards.push(guardToPromiseFn(guard,to,from));return guards.push(canceledNavigationCheck),runGuardQueue(guards)}).catch(err=>isNavigationFailure(err,8)?err:Promise.reject(err))}__name(navigate,"navigate");function triggerAfterEach(to,from,failure){afterGuards.list().forEach(guard=>runWithContext(()=>guard(to,from,failure)))}__name(triggerAfterEach,"triggerAfterEach");function finalizeNavigation(toLocation,from,isPush,replace2,data){const error2=checkCanceledNavigation(toLocation,from);if(error2)return error2;const isFirstNavigation=from===START_LOCATION_NORMALIZED,state=isBrowser$3?history.state:{};isPush&&(replace2||isFirstNavigation?routerHistory.replace(toLocation.fullPath,assign({scroll:isFirstNavigation&&state&&state.scroll},data)):routerHistory.push(toLocation.fullPath,data)),currentRoute.value=toLocation,handleScroll(toLocation,from,isPush,isFirstNavigation),markAsReady()}__name(finalizeNavigation,"finalizeNavigation");let removeHistoryListener;function setupListeners(){removeHistoryListener||(removeHistoryListener=routerHistory.listen((to,_from,info)=>{if(!router2.listening)return;const toLocation=resolve2(to),shouldRedirect=handleRedirectRecord(toLocation);if(shouldRedirect){pushWithRedirect(assign(shouldRedirect,{replace:!0,force:!0}),toLocation).catch(noop);return}pendingLocation=toLocation;const from=currentRoute.value;isBrowser$3&&saveScrollPosition(getScrollKey(from.fullPath,info.delta),computeScrollPosition()),navigate(toLocation,from).catch(error2=>isNavigationFailure(error2,12)?error2:isNavigationFailure(error2,2)?(pushWithRedirect(assign(locationAsObject(error2.to),{force:!0}),toLocation).then(failure=>{isNavigationFailure(failure,20)&&!info.delta&&info.type===NavigationType.pop&&routerHistory.go(-1,!1)}).catch(noop),Promise.reject()):(info.delta&&routerHistory.go(-info.delta,!1),triggerError(error2,toLocation,from))).then(failure=>{failure=failure||finalizeNavigation(toLocation,from,!1),failure&&(info.delta&&!isNavigationFailure(failure,8)?routerHistory.go(-info.delta,!1):info.type===NavigationType.pop&&isNavigationFailure(failure,20)&&routerHistory.go(-1,!1)),triggerAfterEach(toLocation,from,failure)}).catch(noop)}))}__name(setupListeners,"setupListeners");let readyHandlers=useCallbacks(),errorListeners=useCallbacks(),ready;function triggerError(error2,to,from){markAsReady(error2);const list=errorListeners.list();return list.length?list.forEach(handler=>handler(error2,to,from)):console.error(error2),Promise.reject(error2)}__name(triggerError,"triggerError");function isReady(){return ready&&currentRoute.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((resolve22,reject)=>{readyHandlers.add([resolve22,reject])})}__name(isReady,"isReady");function markAsReady(err){return ready||(ready=!err,setupListeners(),readyHandlers.list().forEach(([resolve22,reject])=>err?reject(err):resolve22()),readyHandlers.reset()),err}__name(markAsReady,"markAsReady");function handleScroll(to,from,isPush,isFirstNavigation){const{scrollBehavior}=options;if(!isBrowser$3||!scrollBehavior)return Promise.resolve();const scrollPosition=!isPush&&getSavedScrollPosition(getScrollKey(to.fullPath,0))||(isFirstNavigation||!isPush)&&history.state&&history.state.scroll||null;return nextTick().then(()=>scrollBehavior(to,from,scrollPosition)).then(position=>position&&scrollToPosition(position)).catch(err=>triggerError(err,to,from))}__name(handleScroll,"handleScroll");const go=__name(delta=>routerHistory.go(delta),"go");let started;const installedApps=new Set,router2={currentRoute,listening:!0,addRoute,removeRoute,clearRoutes:matcher.clearRoutes,hasRoute,getRoutes,resolve:resolve2,options,push,replace,go,back:__name(()=>go(-1),"back"),forward:__name(()=>go(1),"forward"),beforeEach:beforeGuards.add,beforeResolve:beforeResolveGuards.add,afterEach:afterGuards.add,onError:errorListeners.add,isReady,install(app2){const router22=this;app2.component("RouterLink",RouterLink),app2.component("RouterView",RouterView),app2.config.globalProperties.$router=router22,Object.defineProperty(app2.config.globalProperties,"$route",{enumerable:!0,get:__name(()=>unref(currentRoute),"get")}),isBrowser$3&&!started&&currentRoute.value===START_LOCATION_NORMALIZED&&(started=!0,push(routerHistory.location).catch(err=>{}));const reactiveRoute={};for(const key in START_LOCATION_NORMALIZED)Object.defineProperty(reactiveRoute,key,{get:__name(()=>currentRoute.value[key],"get"),enumerable:!0});app2.provide(routerKey,router22),app2.provide(routeLocationKey,shallowReactive(reactiveRoute)),app2.provide(routerViewLocationKey,currentRoute);const unmountApp=app2.unmount;installedApps.add(app2),app2.unmount=function(){installedApps.delete(app2),installedApps.size<1&&(pendingLocation=START_LOCATION_NORMALIZED,removeHistoryListener&&removeHistoryListener(),removeHistoryListener=null,currentRoute.value=START_LOCATION_NORMALIZED,started=!1,ready=!1),unmountApp()}}};function runGuardQueue(guards){return guards.reduce((promise,guard)=>promise.then(()=>runWithContext(guard)),Promise.resolve())}return __name(runGuardQueue,"runGuardQueue"),router2}__name(createRouter,"createRouter");function extractChangingRecords(to,from){const leavingRecords=[],updatingRecords=[],enteringRecords=[],len=Math.max(from.matched.length,to.matched.length);for(let i=0;i<len;i++){const recordFrom=from.matched[i];recordFrom&&(to.matched.find(record=>isSameRouteRecord(record,recordFrom))?updatingRecords.push(recordFrom):leavingRecords.push(recordFrom));const recordTo=to.matched[i];recordTo&&(from.matched.find(record=>isSameRouteRecord(record,recordTo))||enteringRecords.push(recordTo))}return[leavingRecords,updatingRecords,enteringRecords]}__name(extractChangingRecords,"extractChangingRecords");function useRoute(_name){return inject(routeLocationKey)}__name(useRoute,"useRoute");const _hoisted_1$3={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},InfoCircle=defineComponent({name:"InfoCircle",render:__name(function(_ctx,_cache){return openBlock(),createElementBlock("svg",_hoisted_1$3,_cache[0]||(_cache[0]=[createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"9"}),createBaseVNode("path",{d:"M12 8h.01"}),createBaseVNode("path",{d:"M11 12h1v4h1"})],-1)]))},"render")}),_hoisted_1$2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Map$2=defineComponent({name:"Map",render:__name(function(_ctx,_cache){return openBlock(),createElementBlock("svg",_hoisted_1$2,_cache[0]||(_cache[0]=[createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[createBaseVNode("path",{d:"M3 7l6-3l6 3l6-3v13l-6 3l-6-3l-6 3V7"}),createBaseVNode("path",{d:"M9 4v13"}),createBaseVNode("path",{d:"M15 7v13"})],-1)]))},"render")}),_hoisted_1$1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Settings=defineComponent({name:"Settings",render:__name(function(_ctx,_cache){return openBlock(),createElementBlock("svg",_hoisted_1$1,_cache[0]||(_cache[0]=[createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[createBaseVNode("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"}),createBaseVNode("circle",{cx:"12",cy:"12",r:"3"})],-1)]))},"render")});function plugin$1(options){let _bPrefix=".",_ePrefix="__",_mPrefix="--",c2;if(options){let t=options.blockPrefix;t&&(_bPrefix=t),t=options.elementPrefix,t&&(_ePrefix=t),t=options.modifierPrefix,t&&(_mPrefix=t)}const _plugin={install(instance2){c2=instance2.c;const ctx2=instance2.context;ctx2.bem={},ctx2.bem.b=null,ctx2.bem.els=null}};function b(arg){let memorizedB,memorizedE;return{before(ctx2){memorizedB=ctx2.bem.b,memorizedE=ctx2.bem.els,ctx2.bem.els=null},after(ctx2){ctx2.bem.b=memorizedB,ctx2.bem.els=memorizedE},$({context,props}){return arg=typeof arg=="string"?arg:arg({context,props}),context.bem.b=arg,"".concat((props==null?void 0:props.bPrefix)||_bPrefix).concat(context.bem.b)}}}__name(b,"b");function e(arg){let memorizedE;return{before(ctx2){memorizedE=ctx2.bem.els},after(ctx2){ctx2.bem.els=memorizedE},$({context,props}){return arg=typeof arg=="string"?arg:arg({context,props}),context.bem.els=arg.split(",").map(v=>v.trim()),context.bem.els.map(el=>"".concat((props==null?void 0:props.bPrefix)||_bPrefix).concat(context.bem.b).concat(_ePrefix).concat(el)).join(", ")}}}__name(e,"e");function m(arg){return{$({context,props}){arg=typeof arg=="string"?arg:arg({context,props});const modifiers=arg.split(",").map(v=>v.trim());function elementToSelector(el){return modifiers.map(modifier=>"&".concat((props==null?void 0:props.bPrefix)||_bPrefix).concat(context.bem.b).concat(el!==void 0?"".concat(_ePrefix).concat(el):"").concat(_mPrefix).concat(modifier)).join(", ")}__name(elementToSelector,"elementToSelector");const els=context.bem.els;return els!==null?elementToSelector(els[0]):elementToSelector()}}}__name(m,"m");function notM(arg){return{$({context,props}){arg=typeof arg=="string"?arg:arg({context,props});const els=context.bem.els;return"&:not(".concat((props==null?void 0:props.bPrefix)||_bPrefix).concat(context.bem.b).concat(els!==null&&els.length>0?"".concat(_ePrefix).concat(els[0]):"").concat(_mPrefix).concat(arg,")")}}}return __name(notM,"notM"),Object.assign(_plugin,{cB:__name((...args)=>c2(b(args[0]),args[1],args[2]),"cB"),cE:__name((...args)=>c2(e(args[0]),args[1],args[2]),"cE"),cM:__name((...args)=>c2(m(args[0]),args[1],args[2]),"cM"),cNotM:__name((...args)=>c2(notM(args[0]),args[1],args[2]),"cNotM")}),_plugin}__name(plugin$1,"plugin$1");function ampCount$2(selector){let cnt=0;for(let i=0;i<selector.length;++i)selector[i]==="&"&&++cnt;return cnt}__name(ampCount$2,"ampCount$2");const separatorRegex$1=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex$2=/\s+/g;function resolveSelectorWithAmp$2(amp,selector){const nextAmp=[];return selector.split(separatorRegex$1).forEach(partialSelector=>{let round=ampCount$2(partialSelector);if(round){if(round===1){amp.forEach(partialAmp=>{nextAmp.push(partialSelector.replace("&",partialAmp))});return}}else{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)});return}let partialNextAmp=[partialSelector];for(;round--;){const nextPartialNextAmp=[];partialNextAmp.forEach(selectorItr=>{amp.forEach(partialAmp=>{nextPartialNextAmp.push(selectorItr.replace("&",partialAmp))})}),partialNextAmp=nextPartialNextAmp}partialNextAmp.forEach(part=>nextAmp.push(part))}),nextAmp}__name(resolveSelectorWithAmp$2,"resolveSelectorWithAmp$2");function resolveSelector$2(amp,selector){const nextAmp=[];return selector.split(separatorRegex$1).forEach(partialSelector=>{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)})}),nextAmp}__name(resolveSelector$2,"resolveSelector$2");function parseSelectorPath$2(selectorPaths){let amp=[""];return selectorPaths.forEach(selector=>{selector=selector&&selector.trim(),selector&&(selector.includes("&")?amp=resolveSelectorWithAmp$2(amp,selector):amp=resolveSelector$2(amp,selector))}),amp.join(", ").replace(extraSpaceRegex$2," ")}__name(parseSelectorPath$2,"parseSelectorPath$2");function removeElement$2(el){if(!el)return;const parentElement=el.parentElement;parentElement&&parentElement.removeChild(el)}__name(removeElement$2,"removeElement$2");function queryElement$2(id,parent){return(parent!=null?parent:document.head).querySelector('style[cssr-id="'.concat(id,'"]'))}__name(queryElement$2,"queryElement$2");function createElement$2(id){const el=document.createElement("style");return el.setAttribute("cssr-id",id),el}__name(createElement$2,"createElement$2");function isMediaOrSupports$1(selector){return selector?/^\s*@(s|m)/.test(selector):!1}__name(isMediaOrSupports$1,"isMediaOrSupports$1");const kebabRegex$2=/[A-Z]/g;function kebabCase$2(pattern){return pattern.replace(kebabRegex$2,match=>"-"+match.toLowerCase())}__name(kebabCase$2,"kebabCase$2");function unwrapProperty$1(prop,indent="  "){return typeof prop=="object"&&prop!==null?" {\n"+Object.entries(prop).map(v=>indent+"  ".concat(kebabCase$2(v[0]),": ").concat(v[1],";")).join("\n")+"\n"+indent+"}":": ".concat(prop,";")}__name(unwrapProperty$1,"unwrapProperty$1");function unwrapProperties$1(props,instance2,params){return typeof props=="function"?props({context:instance2.context,props:params}):props}__name(unwrapProperties$1,"unwrapProperties$1");function createStyle$2(selector,props,instance2,params){if(!props)return"";const unwrappedProps=unwrapProperties$1(props,instance2,params);if(!unwrappedProps)return"";if(typeof unwrappedProps=="string")return"".concat(selector," {\n").concat(unwrappedProps,"\n}");const propertyNames=Object.keys(unwrappedProps);if(propertyNames.length===0)return instance2.config.keepEmptyBlock?selector+" {\n}":"";const statements=selector?[selector+" {"]:[];return propertyNames.forEach(propertyName=>{const property2=unwrappedProps[propertyName];if(propertyName==="raw"){statements.push("\n"+property2+"\n");return}propertyName=kebabCase$2(propertyName),property2!=null&&statements.push("  ".concat(propertyName).concat(unwrapProperty$1(property2)))}),selector&&statements.push("}"),statements.join("\n")}__name(createStyle$2,"createStyle$2");function loopCNodeListWithCallback$2(children,options,callback){children&&children.forEach(child=>{if(Array.isArray(child))loopCNodeListWithCallback$2(child,options,callback);else if(typeof child=="function"){const grandChildren=child(options);Array.isArray(grandChildren)?loopCNodeListWithCallback$2(grandChildren,options,callback):grandChildren&&callback(grandChildren)}else child&&callback(child)})}__name(loopCNodeListWithCallback$2,"loopCNodeListWithCallback$2");function traverseCNode$2(node,selectorPaths,styles,instance2,params){const $=node.$;let blockSelector="";if(!$||typeof $=="string")isMediaOrSupports$1($)?blockSelector=$:selectorPaths.push($);else if(typeof $=="function"){const selector2=$({context:instance2.context,props:params});isMediaOrSupports$1(selector2)?blockSelector=selector2:selectorPaths.push(selector2)}else if($.before&&$.before(instance2.context),!$.$||typeof $.$=="string")isMediaOrSupports$1($.$)?blockSelector=$.$:selectorPaths.push($.$);else if($.$){const selector2=$.$({context:instance2.context,props:params});isMediaOrSupports$1(selector2)?blockSelector=selector2:selectorPaths.push(selector2)}const selector=parseSelectorPath$2(selectorPaths),style2=createStyle$2(selector,node.props,instance2,params);blockSelector?styles.push("".concat(blockSelector," {")):style2.length&&styles.push(style2),node.children&&loopCNodeListWithCallback$2(node.children,{context:instance2.context,props:params},childNode=>{if(typeof childNode=="string"){const style3=createStyle$2(selector,{raw:childNode},instance2,params);styles.push(style3)}else traverseCNode$2(childNode,selectorPaths,styles,instance2,params)}),selectorPaths.pop(),blockSelector&&styles.push("}"),$&&$.after&&$.after(instance2.context)}__name(traverseCNode$2,"traverseCNode$2");function render$3(node,instance2,props){const styles=[];return traverseCNode$2(node,[],styles,instance2,props),styles.join("\n\n")}__name(render$3,"render$3");function murmur2(str){for(var h2=0,k,i=0,len=str.length;len>=4;++i,len-=4)k=str.charCodeAt(i)&255|(str.charCodeAt(++i)&255)<<8|(str.charCodeAt(++i)&255)<<16|(str.charCodeAt(++i)&255)<<24,k=(k&65535)*1540483477+((k>>>16)*59797<<16),k^=k>>>24,h2=(k&65535)*1540483477+((k>>>16)*59797<<16)^(h2&65535)*1540483477+((h2>>>16)*59797<<16);switch(len){case 3:h2^=(str.charCodeAt(i+2)&255)<<16;case 2:h2^=(str.charCodeAt(i+1)&255)<<8;case 1:h2^=str.charCodeAt(i)&255,h2=(h2&65535)*1540483477+((h2>>>16)*59797<<16)}return h2^=h2>>>13,h2=(h2&65535)*1540483477+((h2>>>16)*59797<<16),((h2^h2>>>15)>>>0).toString(36)}__name(murmur2,"murmur2");typeof window<"u"&&(window.__cssrContext={});function unmount$2(instance2,node,id,parent){const{els}=node;if(id===void 0)els.forEach(removeElement$2),node.els=[];else{const target=queryElement$2(id,parent);target&&els.includes(target)&&(removeElement$2(target),node.els=els.filter(el=>el!==target))}}__name(unmount$2,"unmount$2");function addElementToList$2(els,target){els.push(target)}__name(addElementToList$2,"addElementToList$2");function mount$2(instance2,node,id,props,head,force,anchorMetaName,parent,ssrAdapter2){let style2;if(id===void 0&&(style2=node.render(props),id=murmur2(style2)),ssrAdapter2){ssrAdapter2.adapter(id,style2!=null?style2:node.render(props));return}parent===void 0&&(parent=document.head);const queriedTarget=queryElement$2(id,parent);if(queriedTarget!==null&&!force)return queriedTarget;const target=queriedTarget!=null?queriedTarget:createElement$2(id);if(style2===void 0&&(style2=node.render(props)),target.textContent=style2,queriedTarget!==null)return queriedTarget;if(anchorMetaName){const anchorMetaEl=parent.querySelector('meta[name="'.concat(anchorMetaName,'"]'));if(anchorMetaEl)return parent.insertBefore(target,anchorMetaEl),addElementToList$2(node.els,target),target}return head?parent.insertBefore(target,parent.querySelector("style, link")):parent.appendChild(target),addElementToList$2(node.els,target),target}__name(mount$2,"mount$2");function wrappedRender$2(props){return render$3(this,this.instance,props)}__name(wrappedRender$2,"wrappedRender$2");function wrappedMount$2(options={}){const{id,ssr,props,head=!1,force=!1,anchorMetaName,parent}=options;return mount$2(this.instance,this,id,props,head,force,anchorMetaName,parent,ssr)}__name(wrappedMount$2,"wrappedMount$2");function wrappedUnmount$2(options={}){const{id,parent}=options;unmount$2(this.instance,this,id,parent)}__name(wrappedUnmount$2,"wrappedUnmount$2");const createCNode$2=__name(function(instance2,$,props,children){return{instance:instance2,$,props,children,els:[],render:wrappedRender$2,mount:wrappedMount$2,unmount:wrappedUnmount$2}},"createCNode$2"),c$5=__name(function(instance2,$,props,children){return Array.isArray($)?createCNode$2(instance2,{$:null},null,$):Array.isArray(props)?createCNode$2(instance2,$,null,props):Array.isArray(children)?createCNode$2(instance2,$,props,children):createCNode$2(instance2,$,props,null)},"c$5");function CssRender$2(config={}){const cssr2={c:__name((...args)=>c$5(cssr2,...args),"c"),use:__name((plugin2,...args)=>plugin2.install(cssr2,...args),"use"),find:queryElement$2,context:{},config};return cssr2}__name(CssRender$2,"CssRender$2");function exists(id,ssr){if(id===void 0)return!1;if(ssr){const{context:{ids}}=ssr;return ids.has(id)}return queryElement$2(id)!==null}__name(exists,"exists");const namespace="n",prefix$1=".".concat(namespace,"-"),elementPrefix="__",modifierPrefix="--",cssr=CssRender$2(),plugin=plugin$1({blockPrefix:prefix$1,elementPrefix,modifierPrefix});cssr.use(plugin);const{c:c$4,find}=cssr,{cB,cE,cM,cNotM}=plugin;function insideModal(style2){return c$4(({props:{bPrefix}})=>"".concat(bPrefix||prefix$1,"modal, ").concat(bPrefix||prefix$1,"drawer"),[style2])}__name(insideModal,"insideModal");function insidePopover(style2){return c$4(({props:{bPrefix}})=>"".concat(bPrefix||prefix$1,"popover"),[style2])}__name(insidePopover,"insidePopover");function asModal(style2){return c$4(({props:{bPrefix}})=>"&".concat(bPrefix||prefix$1,"modal"),style2)}__name(asModal,"asModal");const cCB=__name((...args)=>c$4(">",[cB(...args)]),"cCB");function createKey(prefix2,suffix2){return prefix2+(suffix2==="default"?"":suffix2.replace(/^[a-z]/,startChar=>startChar.toUpperCase()))}__name(createKey,"createKey");let onceCbs=[];const paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(cb=>cb(...paramsMap.get(cb))),onceCbs=[]}__name(flushOnceCallbacks,"flushOnceCallbacks");function beforeNextFrameOnce(cb,...params){paramsMap.set(cb,params),!onceCbs.includes(cb)&&onceCbs.push(cb)===1&&requestAnimationFrame(flushOnceCallbacks)}__name(beforeNextFrameOnce,"beforeNextFrameOnce");function happensIn(e,dataSetPropName){let{target}=e;for(;target;){if(target.dataset&&target.dataset[dataSetPropName]!==void 0)return!0;target=target.parentElement}return!1}__name(happensIn,"happensIn");function getPreciseEventTarget(event){return event.composedPath()[0]||null}__name(getPreciseEventTarget,"getPreciseEventTarget");function depx(value){return typeof value=="string"?value.endsWith("px")?Number(value.slice(0,value.length-2)):Number(value):value}__name(depx,"depx");function pxfy(value){if(value!=null)return typeof value=="number"?"".concat(value,"px"):value.endsWith("px")?value:"".concat(value,"px")}__name(pxfy,"pxfy");function getMargin(value,position){const parts=value.trim().split(/\s+/g),margin={top:parts[0]};switch(parts.length){case 1:margin.right=parts[0],margin.bottom=parts[0],margin.left=parts[0];break;case 2:margin.right=parts[1],margin.left=parts[1],margin.bottom=parts[0];break;case 3:margin.right=parts[1],margin.bottom=parts[2],margin.left=parts[1];break;case 4:margin.right=parts[1],margin.bottom=parts[2],margin.left=parts[3];break;default:throw new Error("[seemly/getMargin]:"+value+" is not a valid value.")}return position===void 0?margin:margin[position]}__name(getMargin,"getMargin");function getGap(value,orient){const[rowGap,colGap]=value.split(" ");return{row:rowGap,col:colGap||rowGap}}__name(getGap,"getGap");const colors={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function hsv2rgb(h2,s,v){s/=100,v/=100;let f=__name((n,k=(n+h2/60)%6)=>v-v*s*Math.max(Math.min(k,4-k,1),0),"f");return[f(5)*255,f(3)*255,f(1)*255]}__name(hsv2rgb,"hsv2rgb");function hsl2rgb(h2,s,l){s/=100,l/=100;let a=s*Math.min(l,1-l),f=__name((n,k=(n+h2/30)%12)=>l-a*Math.max(Math.min(k-3,9-k,1),-1),"f");return[f(0)*255,f(8)*255,f(4)*255]}__name(hsl2rgb,"hsl2rgb");const prefix="^\\s*",suffix="\\s*$",percent="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",float="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",hslRegex=new RegExp("".concat(prefix,"hsl\\s*\\(").concat(float,",").concat(percent,",").concat(percent,"\\)").concat(suffix)),hsvRegex=new RegExp("".concat(prefix,"hsv\\s*\\(").concat(float,",").concat(percent,",").concat(percent,"\\)").concat(suffix)),hslaRegex=new RegExp("".concat(prefix,"hsla\\s*\\(").concat(float,",").concat(percent,",").concat(percent,",").concat(float,"\\)").concat(suffix)),hsvaRegex=new RegExp("".concat(prefix,"hsva\\s*\\(").concat(float,",").concat(percent,",").concat(percent,",").concat(float,"\\)").concat(suffix)),rgbRegex=new RegExp("".concat(prefix,"rgb\\s*\\(").concat(float,",").concat(float,",").concat(float,"\\)").concat(suffix)),rgbaRegex=new RegExp("".concat(prefix,"rgba\\s*\\(").concat(float,",").concat(float,",").concat(float,",").concat(float,"\\)").concat(suffix)),sHexRegex=new RegExp("".concat(prefix,"#").concat(hex).concat(hex).concat(hex).concat(suffix)),hexRegex=new RegExp("".concat(prefix,"#").concat(dhex).concat(dhex).concat(dhex).concat(suffix)),sHexaRegex=new RegExp("".concat(prefix,"#").concat(hex).concat(hex).concat(hex).concat(hex).concat(suffix)),hexaRegex=new RegExp("".concat(prefix,"#").concat(dhex).concat(dhex).concat(dhex).concat(dhex).concat(suffix));function parseHex(value){return parseInt(value,16)}__name(parseHex,"parseHex");function hsla(color){try{let i;if(i=hslaRegex.exec(color))return[roundDeg(i[1]),roundPercent(i[5]),roundPercent(i[9]),roundAlpha(i[13])];if(i=hslRegex.exec(color))return[roundDeg(i[1]),roundPercent(i[5]),roundPercent(i[9]),1];throw new Error("[seemly/hsla]: Invalid color value ".concat(color,"."))}catch(e){throw e}}__name(hsla,"hsla");function hsva(color){try{let i;if(i=hsvaRegex.exec(color))return[roundDeg(i[1]),roundPercent(i[5]),roundPercent(i[9]),roundAlpha(i[13])];if(i=hsvRegex.exec(color))return[roundDeg(i[1]),roundPercent(i[5]),roundPercent(i[9]),1];throw new Error("[seemly/hsva]: Invalid color value ".concat(color,"."))}catch(e){throw e}}__name(hsva,"hsva");function rgba(color){try{let i;if(i=hexRegex.exec(color))return[parseHex(i[1]),parseHex(i[2]),parseHex(i[3]),1];if(i=rgbRegex.exec(color))return[roundChannel(i[1]),roundChannel(i[5]),roundChannel(i[9]),1];if(i=rgbaRegex.exec(color))return[roundChannel(i[1]),roundChannel(i[5]),roundChannel(i[9]),roundAlpha(i[13])];if(i=sHexRegex.exec(color))return[parseHex(i[1]+i[1]),parseHex(i[2]+i[2]),parseHex(i[3]+i[3]),1];if(i=hexaRegex.exec(color))return[parseHex(i[1]),parseHex(i[2]),parseHex(i[3]),roundAlpha(parseHex(i[4])/255)];if(i=sHexaRegex.exec(color))return[parseHex(i[1]+i[1]),parseHex(i[2]+i[2]),parseHex(i[3]+i[3]),roundAlpha(parseHex(i[4]+i[4])/255)];if(color in colors)return rgba(colors[color]);if(hslRegex.test(color)||hslaRegex.test(color)){const[h2,s,l,a]=hsla(color);return[...hsl2rgb(h2,s,l),a]}else if(hsvRegex.test(color)||hsvaRegex.test(color)){const[h2,s,v,a]=hsva(color);return[...hsv2rgb(h2,s,v),a]}throw new Error("[seemly/rgba]: Invalid color value ".concat(color,"."))}catch(e){throw e}}__name(rgba,"rgba");function normalizeAlpha(alphaValue){return alphaValue>1?1:alphaValue<0?0:alphaValue}__name(normalizeAlpha,"normalizeAlpha");function stringifyRgba(r,g,b,a){return"rgba(".concat(roundChannel(r),", ").concat(roundChannel(g),", ").concat(roundChannel(b),", ").concat(normalizeAlpha(a),")")}__name(stringifyRgba,"stringifyRgba");function compositeChannel(v1,a1,v2,a2,a){return roundChannel((v1*a1*(1-a2)+v2*a2)/a)}__name(compositeChannel,"compositeChannel");function composite(background,overlay2){Array.isArray(background)||(background=rgba(background)),Array.isArray(overlay2)||(overlay2=rgba(overlay2));const a1=background[3],a2=overlay2[3],alpha=roundAlpha(a1+a2-a1*a2);return stringifyRgba(compositeChannel(background[0],a1,overlay2[0],a2,alpha),compositeChannel(background[1],a1,overlay2[1],a2,alpha),compositeChannel(background[2],a1,overlay2[2],a2,alpha),alpha)}__name(composite,"composite");function changeColor(base2,options){const[r,g,b,a=1]=Array.isArray(base2)?base2:rgba(base2);return typeof options.alpha=="number"?stringifyRgba(r,g,b,options.alpha):stringifyRgba(r,g,b,a)}__name(changeColor,"changeColor");function scaleColor(base2,options){const[r,g,b,a=1]=Array.isArray(base2)?base2:rgba(base2),{lightness=1,alpha=1}=options;return toRgbaString([r*lightness,g*lightness,b*lightness,a*alpha])}__name(scaleColor,"scaleColor");function roundAlpha(value){const v=Math.round(Number(value)*100)/100;return v>1?1:v<0?0:v}__name(roundAlpha,"roundAlpha");function roundDeg(value){const v=Math.round(Number(value));return v>=360||v<0?0:v}__name(roundDeg,"roundDeg");function roundChannel(value){const v=Math.round(Number(value));return v>255?255:v<0?0:v}__name(roundChannel,"roundChannel");function roundPercent(value){const v=Math.round(Number(value));return v>100?100:v<0?0:v}__name(roundPercent,"roundPercent");function toRgbaString(base2){const[r,g,b]=base2;return 3 in base2?"rgba(".concat(roundChannel(r),", ").concat(roundChannel(g),", ").concat(roundChannel(b),", ").concat(roundAlpha(base2[3]),")"):"rgba(".concat(roundChannel(r),", ").concat(roundChannel(g),", ").concat(roundChannel(b),", 1)")}__name(toRgbaString,"toRgbaString");function createId(length=8){return Math.random().toString(16).slice(2,2+length)}__name(createId,"createId");function getEventTarget(e){return e.composedPath()[0]}__name(getEventTarget,"getEventTarget");const traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(name,el,originalHandler){if(name==="mousemoveoutside"){const moveHandler=__name(e=>{el.contains(getEventTarget(e))||originalHandler(e)},"moveHandler");return{mousemove:moveHandler,touchstart:moveHandler}}else if(name==="clickoutside"){let mouseDownOutside=!1;const downHandler=__name(e=>{mouseDownOutside=!el.contains(getEventTarget(e))},"downHandler"),upHanlder=__name(e=>{mouseDownOutside&&(el.contains(getEventTarget(e))||originalHandler(e))},"upHanlder");return{mousedown:downHandler,mouseup:upHanlder,touchstart:downHandler,touchend:upHanlder}}return console.error("[evtd/create-trap-handler]: name `".concat(name,"` is invalid. This could be a bug of evtd.")),{}}__name(createTrapHandler,"createTrapHandler");function ensureTrapHandlers(name,el,handler){const handlers2=traps[name];let elHandlers=handlers2.get(el);elHandlers===void 0&&handlers2.set(el,elHandlers=new WeakMap);let trapHandler=elHandlers.get(handler);return trapHandler===void 0&&elHandlers.set(handler,trapHandler=createTrapHandler(name,el,handler)),trapHandler}__name(ensureTrapHandlers,"ensureTrapHandlers");function trapOn(name,el,handler,options){if(name==="mousemoveoutside"||name==="clickoutside"){const trapHandlers=ensureTrapHandlers(name,el,handler);return Object.keys(trapHandlers).forEach(key=>{on(key,document,trapHandlers[key],options)}),!0}return!1}__name(trapOn,"trapOn");function trapOff(name,el,handler,options){if(name==="mousemoveoutside"||name==="clickoutside"){const trapHandlers=ensureTrapHandlers(name,el,handler);return Object.keys(trapHandlers).forEach(key=>{off(key,document,trapHandlers[key],options)}),!0}return!1}__name(trapOff,"trapOff");function createDelegate(){if(typeof window>"u")return{on:__name(()=>{},"on"),off:__name(()=>{},"off")};const propagationStopped=new WeakMap,immediatePropagationStopped=new WeakMap;function trackPropagation(){propagationStopped.set(this,!0)}__name(trackPropagation,"trackPropagation");function trackImmediate(){propagationStopped.set(this,!0),immediatePropagationStopped.set(this,!0)}__name(trackImmediate,"trackImmediate");function spy(event,propName,fn){const source=event[propName];return event[propName]=function(){return fn.apply(event,arguments),source.apply(event,arguments)},event}__name(spy,"spy");function unspy(event,propName){event[propName]=Event.prototype[propName]}__name(unspy,"unspy");const currentTargets=new WeakMap,currentTargetDescriptor=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function getCurrentTarget(){var _a4;return(_a4=currentTargets.get(this))!==null&&_a4!==void 0?_a4:null}__name(getCurrentTarget,"getCurrentTarget");function defineCurrentTarget(event,getter){currentTargetDescriptor!==void 0&&Object.defineProperty(event,"currentTarget",{configurable:!0,enumerable:!0,get:getter!=null?getter:currentTargetDescriptor.get})}__name(defineCurrentTarget,"defineCurrentTarget");const phaseToTypeToElToHandlers={bubble:{},capture:{}},typeToWindowEventHandlers={};function createUnifiedHandler(){const delegeteHandler=__name(function(e){const{type,eventPhase,bubbles}=e,target=getEventTarget(e);if(eventPhase===2)return;const phase=eventPhase===1?"capture":"bubble";let cursor=target;const path=[];for(;cursor===null&&(cursor=window),path.push(cursor),cursor!==window;)cursor=cursor.parentNode||null;const captureElToHandlers=phaseToTypeToElToHandlers.capture[type],bubbleElToHandlers=phaseToTypeToElToHandlers.bubble[type];if(spy(e,"stopPropagation",trackPropagation),spy(e,"stopImmediatePropagation",trackImmediate),defineCurrentTarget(e,getCurrentTarget),phase==="capture"){if(captureElToHandlers===void 0)return;for(let i=path.length-1;i>=0&&!propagationStopped.has(e);--i){const target2=path[i],handlers2=captureElToHandlers.get(target2);if(handlers2!==void 0){currentTargets.set(e,target2);for(const handler of handlers2){if(immediatePropagationStopped.has(e))break;handler(e)}}if(i===0&&!bubbles&&bubbleElToHandlers!==void 0){const bubbleHandlers=bubbleElToHandlers.get(target2);if(bubbleHandlers!==void 0)for(const handler of bubbleHandlers){if(immediatePropagationStopped.has(e))break;handler(e)}}}}else if(phase==="bubble"){if(bubbleElToHandlers===void 0)return;for(let i=0;i<path.length&&!propagationStopped.has(e);++i){const target2=path[i],handlers2=bubbleElToHandlers.get(target2);if(handlers2!==void 0){currentTargets.set(e,target2);for(const handler of handlers2){if(immediatePropagationStopped.has(e))break;handler(e)}}}}unspy(e,"stopPropagation"),unspy(e,"stopImmediatePropagation"),defineCurrentTarget(e)},"delegeteHandler");return delegeteHandler.displayName="evtdUnifiedHandler",delegeteHandler}__name(createUnifiedHandler,"createUnifiedHandler");function createUnifiedWindowEventHandler(){const delegateHandler=__name(function(e){const{type,eventPhase}=e;if(eventPhase!==2)return;const handlers2=typeToWindowEventHandlers[type];handlers2!==void 0&&handlers2.forEach(handler=>handler(e))},"delegateHandler");return delegateHandler.displayName="evtdUnifiedWindowEventHandler",delegateHandler}__name(createUnifiedWindowEventHandler,"createUnifiedWindowEventHandler");const unifiedHandler=createUnifiedHandler(),unfiendWindowEventHandler=createUnifiedWindowEventHandler();function ensureElToHandlers(phase,type){const phaseHandlers=phaseToTypeToElToHandlers[phase];return phaseHandlers[type]===void 0&&(phaseHandlers[type]=new Map,window.addEventListener(type,unifiedHandler,phase==="capture")),phaseHandlers[type]}__name(ensureElToHandlers,"ensureElToHandlers");function ensureWindowEventHandlers(type){return typeToWindowEventHandlers[type]===void 0&&(typeToWindowEventHandlers[type]=new Set,window.addEventListener(type,unfiendWindowEventHandler)),typeToWindowEventHandlers[type]}__name(ensureWindowEventHandlers,"ensureWindowEventHandlers");function ensureHandlers(elToHandlers,el){let elHandlers=elToHandlers.get(el);return elHandlers===void 0&&elToHandlers.set(el,elHandlers=new Set),elHandlers}__name(ensureHandlers,"ensureHandlers");function handlerExist(el,phase,type,handler){const elToHandlers=phaseToTypeToElToHandlers[phase][type];if(elToHandlers!==void 0){const handlers2=elToHandlers.get(el);if(handlers2!==void 0&&handlers2.has(handler))return!0}return!1}__name(handlerExist,"handlerExist");function windowEventHandlerExist(type,handler){const handlers2=typeToWindowEventHandlers[type];return!!(handlers2!==void 0&&handlers2.has(handler))}__name(windowEventHandlerExist,"windowEventHandlerExist");function on2(type,el,handler,options){let mergedHandler;if(typeof options=="object"&&options.once===!0?mergedHandler=__name(e=>{off2(type,el,mergedHandler,options),handler(e)},"mergedHandler"):mergedHandler=handler,trapOn(type,el,mergedHandler,options))return;const phase=options===!0||typeof options=="object"&&options.capture===!0?"capture":"bubble",elToHandlers=ensureElToHandlers(phase,type),handlers2=ensureHandlers(elToHandlers,el);if(handlers2.has(mergedHandler)||handlers2.add(mergedHandler),el===window){const windowEventHandlers=ensureWindowEventHandlers(type);windowEventHandlers.has(mergedHandler)||windowEventHandlers.add(mergedHandler)}}__name(on2,"on");function off2(type,el,handler,options){if(trapOff(type,el,handler,options))return;const capture=options===!0||typeof options=="object"&&options.capture===!0,phase=capture?"capture":"bubble",elToHandlers=ensureElToHandlers(phase,type),handlers2=ensureHandlers(elToHandlers,el);if(el===window&&!handlerExist(el,capture?"bubble":"capture",type,handler)&&windowEventHandlerExist(type,handler)){const windowEventHandlers=typeToWindowEventHandlers[type];windowEventHandlers.delete(handler),windowEventHandlers.size===0&&(window.removeEventListener(type,unfiendWindowEventHandler),typeToWindowEventHandlers[type]=void 0)}handlers2.has(handler)&&handlers2.delete(handler),handlers2.size===0&&elToHandlers.delete(el),elToHandlers.size===0&&(window.removeEventListener(type,unifiedHandler,phase==="capture"),phaseToTypeToElToHandlers[phase][type]=void 0)}return __name(off2,"off"),{on:on2,off:off2}}__name(createDelegate,"createDelegate");const{on,off}=createDelegate();function useFalseUntilTruthy(originalRef){const currentRef=ref(!!originalRef.value);if(currentRef.value)return readonly(currentRef);const stop=watch(originalRef,value=>{value&&(currentRef.value=!0,stop())});return readonly(currentRef)}__name(useFalseUntilTruthy,"useFalseUntilTruthy");function useMemo(getterOrOptions){const computedValueRef=computed(getterOrOptions),valueRef=ref(computedValueRef.value);return watch(computedValueRef,value=>{valueRef.value=value}),typeof getterOrOptions=="function"?valueRef:{__v_isRef:!0,get value(){return valueRef.value},set value(v){getterOrOptions.set(v)}}}__name(useMemo,"useMemo");function hasInstance(){return getCurrentInstance()!==null}__name(hasInstance,"hasInstance");const isBrowser$2=typeof window<"u";let fontsReady,isFontReady;const init$1=__name(()=>{var _a4,_b;fontsReady=isBrowser$2?(_b=(_a4=document)===null||_a4===void 0?void 0:_a4.fonts)===null||_b===void 0?void 0:_b.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0},"init$1");init$1();function onFontsReady(cb){if(isFontReady)return;let deactivated=!1;onMounted(()=>{isFontReady||fontsReady==null||fontsReady.then(()=>{deactivated||cb()})}),onBeforeUnmount(()=>{deactivated=!0})}__name(onFontsReady,"onFontsReady");const mousePositionRef=ref(null);function clickHandler(e){if(e.clientX>0||e.clientY>0)mousePositionRef.value={x:e.clientX,y:e.clientY};else{const{target}=e;if(target instanceof Element){const{left,top,width,height}=target.getBoundingClientRect();left>0||top>0?mousePositionRef.value={x:left+width/2,y:top+height/2}:mousePositionRef.value={x:0,y:0}}else mousePositionRef.value=null}}__name(clickHandler,"clickHandler");let usedCount$2=0,managable$2=!0;function useClickPosition(){if(!isBrowser$2)return readonly(ref(null));usedCount$2===0&&on("click",document,clickHandler,!0);const setup=__name(()=>{usedCount$2+=1},"setup");return managable$2&&(managable$2=hasInstance())?(onBeforeMount(setup),onBeforeUnmount(()=>{usedCount$2-=1,usedCount$2===0&&off("click",document,clickHandler,!0)})):setup(),readonly(mousePositionRef)}__name(useClickPosition,"useClickPosition");const clickedTimeRef=ref(void 0);let usedCount$1=0;function handleClick(){clickedTimeRef.value=Date.now()}__name(handleClick,"handleClick");let managable$1=!0;function useClicked(timeout){if(!isBrowser$2)return readonly(ref(!1));const clickedRef=ref(!1);let timerId=null;function clearTimer(){timerId!==null&&window.clearTimeout(timerId)}__name(clearTimer,"clearTimer");function clickedHandler(){clearTimer(),clickedRef.value=!0,timerId=window.setTimeout(()=>{clickedRef.value=!1},timeout)}__name(clickedHandler,"clickedHandler"),usedCount$1===0&&on("click",window,handleClick,!0);const setup=__name(()=>{usedCount$1+=1,on("click",window,clickedHandler,!0)},"setup");return managable$1&&(managable$1=hasInstance())?(onBeforeMount(setup),onBeforeUnmount(()=>{usedCount$1-=1,usedCount$1===0&&off("click",window,handleClick,!0),off("click",window,clickedHandler,!0),clearTimer()})):setup(),readonly(clickedRef)}__name(useClicked,"useClicked");let usedCount=0;const supportMatchMedia=typeof window<"u"&&window.matchMedia!==void 0,osTheme=ref(null);let darkMql,lightMql;function handleDarkMqlChange(e){e.matches&&(osTheme.value="dark")}__name(handleDarkMqlChange,"handleDarkMqlChange");function handleLightMqlChange(e){e.matches&&(osTheme.value="light")}__name(handleLightMqlChange,"handleLightMqlChange");function init(){darkMql=window.matchMedia("(prefers-color-scheme: dark)"),lightMql=window.matchMedia("(prefers-color-scheme: light)"),darkMql.matches?osTheme.value="dark":lightMql.matches?osTheme.value="light":osTheme.value=null,darkMql.addEventListener?(darkMql.addEventListener("change",handleDarkMqlChange),lightMql.addEventListener("change",handleLightMqlChange)):darkMql.addListener&&(darkMql.addListener(handleDarkMqlChange),lightMql.addListener(handleLightMqlChange))}__name(init,"init");function clean(){"removeEventListener"in darkMql?(darkMql.removeEventListener("change",handleDarkMqlChange),lightMql.removeEventListener("change",handleLightMqlChange)):"removeListener"in darkMql&&(darkMql.removeListener(handleDarkMqlChange),lightMql.removeListener(handleLightMqlChange)),darkMql=void 0,lightMql=void 0}__name(clean,"clean");let managable=!0;function useOsTheme(){return supportMatchMedia&&(usedCount===0&&init(),managable&&(managable=hasInstance())&&(onBeforeMount(()=>{usedCount+=1}),onBeforeUnmount(()=>{usedCount-=1,usedCount===0&&clean()}))),readonly(osTheme)}__name(useOsTheme,"useOsTheme");function useMergedState(controlledStateRef,uncontrolledStateRef){return watch(controlledStateRef,value=>{value!==void 0&&(uncontrolledStateRef.value=value)}),computed(()=>controlledStateRef.value===void 0?uncontrolledStateRef.value:controlledStateRef.value)}__name(useMergedState,"useMergedState");function isMounted(){const isMounted2=ref(!1);return onMounted(()=>{isMounted2.value=!0}),readonly(isMounted2)}__name(isMounted,"isMounted");function useCompitable(reactive2,keys2){return computed(()=>{for(const key of keys2)if(reactive2[key]!==void 0)return reactive2[key];return reactive2[keys2[keys2.length-1]]})}__name(useCompitable,"useCompitable");const isIos=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}__name(useIsIos,"useIsIos");function useKeyboard(options={},enabledRef){const state=reactive({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown,keyup}=options,keydownHandler=__name(e=>{switch(e.key){case"Control":state.ctrl=!0;break;case"Meta":state.command=!0,state.win=!0;break;case"Shift":state.shift=!0;break;case"Tab":state.tab=!0;break}keydown!==void 0&&Object.keys(keydown).forEach(key=>{if(key!==e.key)return;const handler=keydown[key];if(typeof handler=="function")handler(e);else{const{stop=!1,prevent=!1}=handler;stop&&e.stopPropagation(),prevent&&e.preventDefault(),handler.handler(e)}})},"keydownHandler"),keyupHandler=__name(e=>{switch(e.key){case"Control":state.ctrl=!1;break;case"Meta":state.command=!1,state.win=!1;break;case"Shift":state.shift=!1;break;case"Tab":state.tab=!1;break}keyup!==void 0&&Object.keys(keyup).forEach(key=>{if(key!==e.key)return;const handler=keyup[key];if(typeof handler=="function")handler(e);else{const{stop=!1,prevent=!1}=handler;stop&&e.stopPropagation(),prevent&&e.preventDefault(),handler.handler(e)}})},"keyupHandler"),setup=__name(()=>{(enabledRef===void 0||enabledRef.value)&&(on("keydown",document,keydownHandler),on("keyup",document,keyupHandler)),enabledRef!==void 0&&watch(enabledRef,value=>{value?(on("keydown",document,keydownHandler),on("keyup",document,keyupHandler)):(off("keydown",document,keydownHandler),off("keyup",document,keyupHandler))})},"setup");return hasInstance()?(onBeforeMount(setup),onBeforeUnmount(()=>{(enabledRef===void 0||enabledRef.value)&&(off("keydown",document,keydownHandler),off("keyup",document,keyupHandler))})):setup(),readonly(state)}__name(useKeyboard,"useKeyboard");function createInjectionKey(key){return key}__name(createInjectionKey,"createInjectionKey");const internalSelectionMenuInjectionKey="n-internal-select-menu",internalSelectionMenuBodyInjectionKey="n-internal-select-menu-body",drawerBodyInjectionKey="n-drawer-body",modalBodyInjectionKey="n-modal-body",modalProviderInjectionKey$1="n-modal-provider",modalInjectionKey="n-modal",popoverBodyInjectionKey="n-popover-body",teleportDisabled="__disabled__";function useAdjustedTo(props){const modal=inject(modalBodyInjectionKey,null),drawer=inject(drawerBodyInjectionKey,null),popover=inject(popoverBodyInjectionKey,null),selectMenu=inject(internalSelectionMenuBodyInjectionKey,null),fullscreenElementRef=ref();if(typeof document<"u"){fullscreenElementRef.value=document.fullscreenElement;const handleFullscreenChange=__name(()=>{fullscreenElementRef.value=document.fullscreenElement},"handleFullscreenChange");onMounted(()=>{on("fullscreenchange",document,handleFullscreenChange)}),onBeforeUnmount(()=>{off("fullscreenchange",document,handleFullscreenChange)})}return useMemo(()=>{var _a4;const{to}=props;return to!==void 0?to===!1?teleportDisabled:to===!0?fullscreenElementRef.value||"body":to:modal!=null&&modal.value?(_a4=modal.value.$el)!==null&&_a4!==void 0?_a4:modal.value:drawer!=null&&drawer.value?drawer.value:popover!=null&&popover.value?popover.value:selectMenu!=null&&selectMenu.value?selectMenu.value:to!=null?to:fullscreenElementRef.value||"body"})}__name(useAdjustedTo,"useAdjustedTo");useAdjustedTo.tdkey=teleportDisabled;useAdjustedTo.propTo={type:[String,Object,Boolean],default:void 0};function useDeferredTrue(valueRef,delay,shouldDelayRef){const delayedRef=ref(valueRef.value);let timerId=null;return watch(valueRef,value=>{timerId!==null&&window.clearTimeout(timerId),value===!0?shouldDelayRef&&!shouldDelayRef.value?delayedRef.value=!0:timerId=window.setTimeout(()=>{delayedRef.value=!0},delay):delayedRef.value=!1}),delayedRef}__name(useDeferredTrue,"useDeferredTrue");const isBrowser$1=typeof document<"u"&&typeof window<"u",isComposingRef=ref(!1);function compositionStartHandler(){isComposingRef.value=!0}__name(compositionStartHandler,"compositionStartHandler");function compositionEndHandler(){isComposingRef.value=!1}__name(compositionEndHandler,"compositionEndHandler");let mountedCount=0;function useIsComposing(){return isBrowser$1&&(onBeforeMount(()=>{mountedCount||(window.addEventListener("compositionstart",compositionStartHandler),window.addEventListener("compositionend",compositionEndHandler)),mountedCount++}),onBeforeUnmount(()=>{mountedCount<=1?(window.removeEventListener("compositionstart",compositionStartHandler),window.removeEventListener("compositionend",compositionEndHandler),mountedCount=0):mountedCount--})),isComposingRef}__name(useIsComposing,"useIsComposing");let lockCount=0,originalMarginRight="",originalOverflow="",originalOverflowX="",originalOverflowY="";const lockHtmlScrollRightCompensationRef=ref("0px");function useLockHtmlScroll(lockRef){if(typeof document>"u")return;const el=document.documentElement;let watchStopHandle,activated=!1;const unlock=__name(()=>{el.style.marginRight=originalMarginRight,el.style.overflow=originalOverflow,el.style.overflowX=originalOverflowX,el.style.overflowY=originalOverflowY,lockHtmlScrollRightCompensationRef.value="0px"},"unlock");onMounted(()=>{watchStopHandle=watch(lockRef,value=>{if(value){if(!lockCount){const scrollbarWidth=window.innerWidth-el.offsetWidth;scrollbarWidth>0&&(originalMarginRight=el.style.marginRight,el.style.marginRight="".concat(scrollbarWidth,"px"),lockHtmlScrollRightCompensationRef.value="".concat(scrollbarWidth,"px")),originalOverflow=el.style.overflow,originalOverflowX=el.style.overflowX,originalOverflowY=el.style.overflowY,el.style.overflow="hidden",el.style.overflowX="hidden",el.style.overflowY="hidden"}activated=!0,lockCount++}else lockCount--,lockCount||unlock(),activated=!1},{immediate:!0})}),onBeforeUnmount(()=>{watchStopHandle==null||watchStopHandle(),activated&&(lockCount--,lockCount||unlock(),activated=!1)})}__name(useLockHtmlScroll,"useLockHtmlScroll");function useReactivated(callback){const isDeactivatedRef={isDeactivated:!1};let activateStateInitialized=!1;return onActivated(()=>{if(isDeactivatedRef.isDeactivated=!1,!activateStateInitialized){activateStateInitialized=!0;return}callback()}),onDeactivated(()=>{isDeactivatedRef.isDeactivated=!0,activateStateInitialized||(activateStateInitialized=!0)}),isDeactivatedRef}__name(useReactivated,"useReactivated");function getSlot(scope,slots,slotName="default"){const slot=slots[slotName];if(slot===void 0)throw new Error("[vueuc/".concat(scope,"]: slot[").concat(slotName,"] is empty."));return slot()}__name(getSlot,"getSlot");function flatten$2(vNodes,filterCommentNode=!0,result=[]){return vNodes.forEach(vNode=>{if(vNode!==null){if(typeof vNode!="object"){(typeof vNode=="string"||typeof vNode=="number")&&result.push(createTextVNode(String(vNode)));return}if(Array.isArray(vNode)){flatten$2(vNode,filterCommentNode,result);return}if(vNode.type===Fragment){if(vNode.children===null)return;Array.isArray(vNode.children)&&flatten$2(vNode.children,filterCommentNode,result)}else vNode.type!==Comment&&result.push(vNode)}}),result}__name(flatten$2,"flatten$2");function getFirstVNode(scope,slots,slotName="default"){const slot=slots[slotName];if(slot===void 0)throw new Error("[vueuc/".concat(scope,"]: slot[").concat(slotName,"] is empty."));const content=flatten$2(slot());if(content.length===1)return content[0];throw new Error("[vueuc/".concat(scope,"]: slot[").concat(slotName,"] should have exactly one child."))}__name(getFirstVNode,"getFirstVNode");let viewMeasurer=null;function ensureViewBoundingRect(){if(viewMeasurer===null&&(viewMeasurer=document.getElementById("v-binder-view-measurer"),viewMeasurer===null)){viewMeasurer=document.createElement("div"),viewMeasurer.id="v-binder-view-measurer";const{style:style2}=viewMeasurer;style2.position="fixed",style2.left="0",style2.right="0",style2.top="0",style2.bottom="0",style2.pointerEvents="none",style2.visibility="hidden",document.body.appendChild(viewMeasurer)}return viewMeasurer.getBoundingClientRect()}__name(ensureViewBoundingRect,"ensureViewBoundingRect");function getPointRect(x,y){const viewRect=ensureViewBoundingRect();return{top:y,left:x,height:0,width:0,right:viewRect.width-x,bottom:viewRect.height-y}}__name(getPointRect,"getPointRect");function getRect(el){const elRect=el.getBoundingClientRect(),viewRect=ensureViewBoundingRect();return{left:elRect.left-viewRect.left,top:elRect.top-viewRect.top,bottom:viewRect.height+viewRect.top-elRect.bottom,right:viewRect.width+viewRect.left-elRect.right,width:elRect.width,height:elRect.height}}__name(getRect,"getRect");function getParentNode(node){return node.nodeType===9?null:node.parentNode}__name(getParentNode,"getParentNode");function getScrollParent(node){if(node===null)return null;const parentNode=getParentNode(node);if(parentNode===null)return null;if(parentNode.nodeType===9)return document;if(parentNode.nodeType===1){const{overflow,overflowX,overflowY}=getComputedStyle(parentNode);if(/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX))return parentNode}return getScrollParent(parentNode)}__name(getScrollParent,"getScrollParent");const Binder=defineComponent({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(props){var _a4;provide("VBinder",(_a4=getCurrentInstance())===null||_a4===void 0?void 0:_a4.proxy);const VBinder=inject("VBinder",null),targetRef=ref(null),setTargetRef=__name(el=>{targetRef.value=el,VBinder&&props.syncTargetWithParent&&VBinder.setTargetRef(el)},"setTargetRef");let scrollableNodes=[];const ensureScrollListener=__name(()=>{let cursor=targetRef.value;for(;cursor=getScrollParent(cursor),cursor!==null;)scrollableNodes.push(cursor);for(const el of scrollableNodes)on("scroll",el,onScroll,!0)},"ensureScrollListener"),removeScrollListeners=__name(()=>{for(const el of scrollableNodes)off("scroll",el,onScroll,!0);scrollableNodes=[]},"removeScrollListeners"),followerScrollListeners=new Set,addScrollListener=__name(listener=>{followerScrollListeners.size===0&&ensureScrollListener(),followerScrollListeners.has(listener)||followerScrollListeners.add(listener)},"addScrollListener"),removeScrollListener=__name(listener=>{followerScrollListeners.has(listener)&&followerScrollListeners.delete(listener),followerScrollListeners.size===0&&removeScrollListeners()},"removeScrollListener"),onScroll=__name(()=>{beforeNextFrameOnce(onScrollRaf)},"onScroll"),onScrollRaf=__name(()=>{followerScrollListeners.forEach(listener=>listener())},"onScrollRaf"),followerResizeListeners=new Set,addResizeListener=__name(listener=>{followerResizeListeners.size===0&&on("resize",window,onResize),followerResizeListeners.has(listener)||followerResizeListeners.add(listener)},"addResizeListener"),removeResizeListener=__name(listener=>{followerResizeListeners.has(listener)&&followerResizeListeners.delete(listener),followerResizeListeners.size===0&&off("resize",window,onResize)},"removeResizeListener"),onResize=__name(()=>{followerResizeListeners.forEach(listener=>listener())},"onResize");return onBeforeUnmount(()=>{off("resize",window,onResize),removeScrollListeners()}),{targetRef,setTargetRef,addScrollListener,removeScrollListener,addResizeListener,removeResizeListener}},render(){return getSlot("binder",this.$slots)}}),VTarget=defineComponent({name:"Target",setup(){const{setTargetRef,syncTarget}=inject("VBinder");return{syncTarget,setTargetDirective:{mounted:setTargetRef,updated:setTargetRef}}},render(){const{syncTarget,setTargetDirective}=this;return syncTarget?withDirectives(getFirstVNode("follower",this.$slots),[[setTargetDirective]]):getFirstVNode("follower",this.$slots)}}),ctxKey$1="@@mmoContext",mousemoveoutside={mounted(el,{value}){el[ctxKey$1]={handler:void 0},typeof value=="function"&&(el[ctxKey$1].handler=value,on("mousemoveoutside",el,value))},updated(el,{value}){const ctx2=el[ctxKey$1];typeof value=="function"?ctx2.handler?ctx2.handler!==value&&(off("mousemoveoutside",el,ctx2.handler),ctx2.handler=value,on("mousemoveoutside",el,value)):(el[ctxKey$1].handler=value,on("mousemoveoutside",el,value)):ctx2.handler&&(off("mousemoveoutside",el,ctx2.handler),ctx2.handler=void 0)},unmounted(el){const{handler}=el[ctxKey$1];handler&&off("mousemoveoutside",el,handler),el[ctxKey$1].handler=void 0}},ctxKey="@@coContext",clickoutside={mounted(el,{value,modifiers}){el[ctxKey]={handler:void 0},typeof value=="function"&&(el[ctxKey].handler=value,on("clickoutside",el,value,{capture:modifiers.capture}))},updated(el,{value,modifiers}){const ctx2=el[ctxKey];typeof value=="function"?ctx2.handler?ctx2.handler!==value&&(off("clickoutside",el,ctx2.handler,{capture:modifiers.capture}),ctx2.handler=value,on("clickoutside",el,value,{capture:modifiers.capture})):(el[ctxKey].handler=value,on("clickoutside",el,value,{capture:modifiers.capture})):ctx2.handler&&(off("clickoutside",el,ctx2.handler,{capture:modifiers.capture}),ctx2.handler=void 0)},unmounted(el,{modifiers}){const{handler}=el[ctxKey];handler&&off("clickoutside",el,handler,{capture:modifiers.capture}),el[ctxKey].handler=void 0}};function warn$2(location2,message){console.error("[vdirs/".concat(location2,"]: ").concat(message))}__name(warn$2,"warn$2");const _ZIndexManager=class _ZIndexManager{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(el,zIndex){const{elementZIndex}=this;if(zIndex!==void 0){el.style.zIndex="".concat(zIndex),elementZIndex.delete(el);return}const{nextZIndex}=this;elementZIndex.has(el)&&elementZIndex.get(el)+1===this.nextZIndex||(el.style.zIndex="".concat(nextZIndex),elementZIndex.set(el,nextZIndex),this.nextZIndex=nextZIndex+1,this.squashState())}unregister(el,zIndex){const{elementZIndex}=this;elementZIndex.has(el)?elementZIndex.delete(el):zIndex===void 0&&warn$2("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount}=this;elementCount||(this.nextZIndex=2e3),this.nextZIndex-elementCount>2500&&this.rearrange()}rearrange(){const elementZIndexPair=Array.from(this.elementZIndex.entries());elementZIndexPair.sort((pair1,pair2)=>pair1[1]-pair2[1]),this.nextZIndex=2e3,elementZIndexPair.forEach(pair=>{const el=pair[0],zIndex=this.nextZIndex++;"".concat(zIndex)!==el.style.zIndex&&(el.style.zIndex="".concat(zIndex))})}};__name(_ZIndexManager,"ZIndexManager");let ZIndexManager=_ZIndexManager;const zIndexManager=new ZIndexManager,ctx="@@ziContext",zindexable={mounted(el,bindings){const{value={}}=bindings,{zIndex,enabled}=value;el[ctx]={enabled:!!enabled,initialized:!1},enabled&&(zIndexManager.ensureZIndex(el,zIndex),el[ctx].initialized=!0)},updated(el,bindings){const{value={}}=bindings,{zIndex,enabled}=value,cachedEnabled=el[ctx].enabled;enabled&&!cachedEnabled&&(zIndexManager.ensureZIndex(el,zIndex),el[ctx].initialized=!0),el[ctx].enabled=!!enabled},unmounted(el,bindings){if(!el[ctx].initialized)return;const{value={}}=bindings,{zIndex}=value;zIndexManager.unregister(el,zIndex)}},ssrContextKey="@css-render/vue3-ssr";function createStyleString(id,style2){return'<style cssr-id="'.concat(id,'">\n').concat(style2,"\n</style>")}__name(createStyleString,"createStyleString");function ssrAdapter(id,style2,ssrContext){const{styles,ids}=ssrContext;ids.has(id)||styles!==null&&(ids.add(id),styles.push(createStyleString(id,style2)))}__name(ssrAdapter,"ssrAdapter");const isBrowser=typeof document<"u";function useSsrAdapter(){if(isBrowser)return;const context=inject(ssrContextKey,null);if(context!==null)return{adapter:__name((id,style2)=>ssrAdapter(id,style2,context),"adapter"),context}}__name(useSsrAdapter,"useSsrAdapter");function warn$1(location2,message){console.error("[vueuc/".concat(location2,"]: ").concat(message))}__name(warn$1,"warn$1");function ampCount$1(selector){let cnt=0;for(let i=0;i<selector.length;++i)selector[i]==="&"&&++cnt;return cnt}__name(ampCount$1,"ampCount$1");const separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex$1=/\s+/g;function resolveSelectorWithAmp$1(amp,selector){const nextAmp=[];return selector.split(separatorRegex).forEach(partialSelector=>{let round=ampCount$1(partialSelector);if(round){if(round===1){amp.forEach(partialAmp=>{nextAmp.push(partialSelector.replace("&",partialAmp))});return}}else{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)});return}let partialNextAmp=[partialSelector];for(;round--;){const nextPartialNextAmp=[];partialNextAmp.forEach(selectorItr=>{amp.forEach(partialAmp=>{nextPartialNextAmp.push(selectorItr.replace("&",partialAmp))})}),partialNextAmp=nextPartialNextAmp}partialNextAmp.forEach(part=>nextAmp.push(part))}),nextAmp}__name(resolveSelectorWithAmp$1,"resolveSelectorWithAmp$1");function resolveSelector$1(amp,selector){const nextAmp=[];return selector.split(separatorRegex).forEach(partialSelector=>{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)})}),nextAmp}__name(resolveSelector$1,"resolveSelector$1");function parseSelectorPath$1(selectorPaths){let amp=[""];return selectorPaths.forEach(selector=>{selector=selector&&selector.trim(),selector&&(selector.includes("&")?amp=resolveSelectorWithAmp$1(amp,selector):amp=resolveSelector$1(amp,selector))}),amp.join(", ").replace(extraSpaceRegex$1," ")}__name(parseSelectorPath$1,"parseSelectorPath$1");function removeElement$1(el){if(!el)return;const parentElement=el.parentElement;parentElement&&parentElement.removeChild(el)}__name(removeElement$1,"removeElement$1");function queryElement$1(id,parent){return(parent!=null?parent:document.head).querySelector('style[cssr-id="'.concat(id,'"]'))}__name(queryElement$1,"queryElement$1");function createElement$1(id){const el=document.createElement("style");return el.setAttribute("cssr-id",id),el}__name(createElement$1,"createElement$1");function isMediaOrSupports(selector){return selector?/^\s*@(s|m)/.test(selector):!1}__name(isMediaOrSupports,"isMediaOrSupports");const kebabRegex$1=/[A-Z]/g;function kebabCase$1(pattern){return pattern.replace(kebabRegex$1,match=>"-"+match.toLowerCase())}__name(kebabCase$1,"kebabCase$1");function unwrapProperty(prop,indent="  "){return typeof prop=="object"&&prop!==null?" {\n"+Object.entries(prop).map(v=>indent+"  ".concat(kebabCase$1(v[0]),": ").concat(v[1],";")).join("\n")+"\n"+indent+"}":": ".concat(prop,";")}__name(unwrapProperty,"unwrapProperty");function unwrapProperties(props,instance2,params){return typeof props=="function"?props({context:instance2.context,props:params}):props}__name(unwrapProperties,"unwrapProperties");function createStyle$1(selector,props,instance2,params){if(!props)return"";const unwrappedProps=unwrapProperties(props,instance2,params);if(!unwrappedProps)return"";if(typeof unwrappedProps=="string")return"".concat(selector," {\n").concat(unwrappedProps,"\n}");const propertyNames=Object.keys(unwrappedProps);if(propertyNames.length===0)return instance2.config.keepEmptyBlock?selector+" {\n}":"";const statements=selector?[selector+" {"]:[];return propertyNames.forEach(propertyName=>{const property2=unwrappedProps[propertyName];if(propertyName==="raw"){statements.push("\n"+property2+"\n");return}propertyName=kebabCase$1(propertyName),property2!=null&&statements.push("  ".concat(propertyName).concat(unwrapProperty(property2)))}),selector&&statements.push("}"),statements.join("\n")}__name(createStyle$1,"createStyle$1");function loopCNodeListWithCallback$1(children,options,callback){children&&children.forEach(child=>{if(Array.isArray(child))loopCNodeListWithCallback$1(child,options,callback);else if(typeof child=="function"){const grandChildren=child(options);Array.isArray(grandChildren)?loopCNodeListWithCallback$1(grandChildren,options,callback):grandChildren&&callback(grandChildren)}else child&&callback(child)})}__name(loopCNodeListWithCallback$1,"loopCNodeListWithCallback$1");function traverseCNode$1(node,selectorPaths,styles,instance2,params){const $=node.$;let blockSelector="";if(!$||typeof $=="string")isMediaOrSupports($)?blockSelector=$:selectorPaths.push($);else if(typeof $=="function"){const selector2=$({context:instance2.context,props:params});isMediaOrSupports(selector2)?blockSelector=selector2:selectorPaths.push(selector2)}else if($.before&&$.before(instance2.context),!$.$||typeof $.$=="string")isMediaOrSupports($.$)?blockSelector=$.$:selectorPaths.push($.$);else if($.$){const selector2=$.$({context:instance2.context,props:params});isMediaOrSupports(selector2)?blockSelector=selector2:selectorPaths.push(selector2)}const selector=parseSelectorPath$1(selectorPaths),style2=createStyle$1(selector,node.props,instance2,params);blockSelector?styles.push("".concat(blockSelector," {")):style2.length&&styles.push(style2),node.children&&loopCNodeListWithCallback$1(node.children,{context:instance2.context,props:params},childNode=>{if(typeof childNode=="string"){const style3=createStyle$1(selector,{raw:childNode},instance2,params);styles.push(style3)}else traverseCNode$1(childNode,selectorPaths,styles,instance2,params)}),selectorPaths.pop(),blockSelector&&styles.push("}"),$&&$.after&&$.after(instance2.context)}__name(traverseCNode$1,"traverseCNode$1");function render$2(node,instance2,props){const styles=[];return traverseCNode$1(node,[],styles,instance2,props),styles.join("\n\n")}__name(render$2,"render$2");typeof window<"u"&&(window.__cssrContext={});function unmount$1(instance2,node,id,parent){const{els}=node;if(id===void 0)els.forEach(removeElement$1),node.els=[];else{const target=queryElement$1(id,parent);target&&els.includes(target)&&(removeElement$1(target),node.els=els.filter(el=>el!==target))}}__name(unmount$1,"unmount$1");function addElementToList$1(els,target){els.push(target)}__name(addElementToList$1,"addElementToList$1");function mount$1(instance2,node,id,props,head,force,anchorMetaName,parent,ssrAdapter2){let style2;if(id===void 0&&(style2=node.render(props),id=murmur2(style2)),ssrAdapter2){ssrAdapter2.adapter(id,style2!=null?style2:node.render(props));return}parent===void 0&&(parent=document.head);const queriedTarget=queryElement$1(id,parent);if(queriedTarget!==null&&!force)return queriedTarget;const target=queriedTarget!=null?queriedTarget:createElement$1(id);if(style2===void 0&&(style2=node.render(props)),target.textContent=style2,queriedTarget!==null)return queriedTarget;if(anchorMetaName){const anchorMetaEl=parent.querySelector('meta[name="'.concat(anchorMetaName,'"]'));if(anchorMetaEl)return parent.insertBefore(target,anchorMetaEl),addElementToList$1(node.els,target),target}return head?parent.insertBefore(target,parent.querySelector("style, link")):parent.appendChild(target),addElementToList$1(node.els,target),target}__name(mount$1,"mount$1");function wrappedRender$1(props){return render$2(this,this.instance,props)}__name(wrappedRender$1,"wrappedRender$1");function wrappedMount$1(options={}){const{id,ssr,props,head=!1,force=!1,anchorMetaName,parent}=options;return mount$1(this.instance,this,id,props,head,force,anchorMetaName,parent,ssr)}__name(wrappedMount$1,"wrappedMount$1");function wrappedUnmount$1(options={}){const{id,parent}=options;unmount$1(this.instance,this,id,parent)}__name(wrappedUnmount$1,"wrappedUnmount$1");const createCNode$1=__name(function(instance2,$,props,children){return{instance:instance2,$,props,children,els:[],render:wrappedRender$1,mount:wrappedMount$1,unmount:wrappedUnmount$1}},"createCNode$1"),c$3=__name(function(instance2,$,props,children){return Array.isArray($)?createCNode$1(instance2,{$:null},null,$):Array.isArray(props)?createCNode$1(instance2,$,null,props):Array.isArray(children)?createCNode$1(instance2,$,props,children):createCNode$1(instance2,$,props,null)},"c$3");function CssRender$1(config={}){const cssr2={c:__name((...args)=>c$3(cssr2,...args),"c"),use:__name((plugin2,...args)=>plugin2.install(cssr2,...args),"use"),find:queryElement$1,context:{},config};return cssr2}__name(CssRender$1,"CssRender$1");const{c:c$2}=CssRender$1(),cssrAnchorMetaName$1="vueuc-style";function resolveTo(selector){return typeof selector=="string"?document.querySelector(selector):selector()}__name(resolveTo,"resolveTo");const LazyTeleport=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(props){return{showTeleport:useFalseUntilTruthy(toRef(props,"show")),mergedTo:computed(()=>{const{to}=props;return to!=null?to:"body"})}},render(){return this.showTeleport?this.disabled?getSlot("lazy-teleport",this.$slots):h(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot("lazy-teleport",this.$slots)):null}}),oppositionPositions={top:"bottom",bottom:"top",left:"right",right:"left"},oppositeAligns={start:"end",center:"center",end:"start"},propToCompare={top:"height",bottom:"height",left:"width",right:"width"},transformOrigins={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},overlapTransformOrigin={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oppositeAlignCssPositionProps={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},keepOffsetDirection={top:!0,bottom:!1,left:!0,right:!1},cssPositionToOppositeAlign={top:"end",bottom:"start",left:"end",right:"start"};function getPlacementAndOffsetOfFollower(placement,targetRect,followerRect,shift,flip,overlap){if(!flip||overlap)return{placement,top:0,left:0};const[position,align]=placement.split("-");let properAlign=align!=null?align:"center",properOffset={top:0,left:0};const deriveOffset=__name((oppositeAlignCssSizeProp,alignCssPositionProp,offsetVertically2)=>{let left=0,top=0;const diff=followerRect[oppositeAlignCssSizeProp]-targetRect[alignCssPositionProp]-targetRect[oppositeAlignCssSizeProp];return diff>0&&shift&&(offsetVertically2?top=keepOffsetDirection[alignCssPositionProp]?diff:-diff:left=keepOffsetDirection[alignCssPositionProp]?diff:-diff),{left,top}},"deriveOffset"),offsetVertically=position==="left"||position==="right";if(properAlign!=="center"){const oppositeAlignCssPositionProp=oppositeAlignCssPositionProps[placement],currentAlignCssPositionProp=oppositionPositions[oppositeAlignCssPositionProp],oppositeAlignCssSizeProp=propToCompare[oppositeAlignCssPositionProp];if(followerRect[oppositeAlignCssSizeProp]>targetRect[oppositeAlignCssSizeProp]){if(targetRect[oppositeAlignCssPositionProp]+targetRect[oppositeAlignCssSizeProp]<followerRect[oppositeAlignCssSizeProp]){const followerOverTargetSize=(followerRect[oppositeAlignCssSizeProp]-targetRect[oppositeAlignCssSizeProp])/2;targetRect[oppositeAlignCssPositionProp]<followerOverTargetSize||targetRect[currentAlignCssPositionProp]<followerOverTargetSize?targetRect[oppositeAlignCssPositionProp]<targetRect[currentAlignCssPositionProp]?(properAlign=oppositeAligns[align],properOffset=deriveOffset(oppositeAlignCssSizeProp,currentAlignCssPositionProp,offsetVertically)):properOffset=deriveOffset(oppositeAlignCssSizeProp,oppositeAlignCssPositionProp,offsetVertically):properAlign="center"}}else followerRect[oppositeAlignCssSizeProp]<targetRect[oppositeAlignCssSizeProp]&&targetRect[currentAlignCssPositionProp]<0&&targetRect[oppositeAlignCssPositionProp]>targetRect[currentAlignCssPositionProp]&&(properAlign=oppositeAligns[align])}else{const possibleAlternativeAlignCssPositionProp1=position==="bottom"||position==="top"?"left":"top",possibleAlternativeAlignCssPositionProp2=oppositionPositions[possibleAlternativeAlignCssPositionProp1],alternativeAlignCssSizeProp=propToCompare[possibleAlternativeAlignCssPositionProp1],followerOverTargetSize=(followerRect[alternativeAlignCssSizeProp]-targetRect[alternativeAlignCssSizeProp])/2;(targetRect[possibleAlternativeAlignCssPositionProp1]<followerOverTargetSize||targetRect[possibleAlternativeAlignCssPositionProp2]<followerOverTargetSize)&&(targetRect[possibleAlternativeAlignCssPositionProp1]>targetRect[possibleAlternativeAlignCssPositionProp2]?(properAlign=cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp1],properOffset=deriveOffset(alternativeAlignCssSizeProp,possibleAlternativeAlignCssPositionProp1,offsetVertically)):(properAlign=cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp2],properOffset=deriveOffset(alternativeAlignCssSizeProp,possibleAlternativeAlignCssPositionProp2,offsetVertically)))}let properPosition=position;return targetRect[position]<followerRect[propToCompare[position]]&&targetRect[position]<targetRect[oppositionPositions[position]]&&(properPosition=oppositionPositions[position]),{placement:properAlign!=="center"?"".concat(properPosition,"-").concat(properAlign):properPosition,left:properOffset.left,top:properOffset.top}}__name(getPlacementAndOffsetOfFollower,"getPlacementAndOffsetOfFollower");function getProperTransformOrigin(placement,overlap){return overlap?overlapTransformOrigin[placement]:transformOrigins[placement]}__name(getProperTransformOrigin,"getProperTransformOrigin");function getOffset(placement,offsetRect,targetRect,offsetTopToStandardPlacement,offsetLeftToStandardPlacement,overlap){if(overlap)switch(placement){case"bottom-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left),"px"),transform:"translateY(-100%)"};case"bottom-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left),"px"),transform:""};case"top-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width),"px"),transform:"translateX(-100%)"};case"right-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width),"px"),transform:"translateX(-100%)"};case"right-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width),"px"),transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left),"px"),transform:""};case"left-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left),"px"),transform:"translateY(-100%)"};case"top":return{top:"".concat(Math.round(targetRect.top-offsetRect.top),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width/2),"px"),transform:"translateX(-50%)"};case"right":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height/2),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width),"px"),transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height/2),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left),"px"),transform:"translateY(-50%)"};case"bottom":default:return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width/2),"px"),transform:"translateX(-50%) translateY(-100%)"}}switch(placement){case"bottom-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+offsetLeftToStandardPlacement),"px"),transform:""};case"bottom-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width+offsetLeftToStandardPlacement),"px"),transform:"translateX(-100%)"};case"top-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+offsetLeftToStandardPlacement),"px"),transform:"translateY(-100%)"};case"top-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width+offsetLeftToStandardPlacement),"px"),transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width+offsetLeftToStandardPlacement),"px"),transform:""};case"right-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width+offsetLeftToStandardPlacement),"px"),transform:"translateY(-100%)"};case"left-start":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+offsetLeftToStandardPlacement),"px"),transform:"translateX(-100%)"};case"left-end":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+offsetLeftToStandardPlacement),"px"),transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width/2+offsetLeftToStandardPlacement),"px"),transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height/2+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width+offsetLeftToStandardPlacement),"px"),transform:"translateY(-50%)"};case"left":return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height/2+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+offsetLeftToStandardPlacement),"px"),transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:"".concat(Math.round(targetRect.top-offsetRect.top+targetRect.height+offsetTopToStandardPlacement),"px"),left:"".concat(Math.round(targetRect.left-offsetRect.left+targetRect.width/2+offsetLeftToStandardPlacement),"px"),transform:"translateX(-50%)"}}}__name(getOffset,"getOffset");const style$h=c$2([c$2(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),c$2(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[c$2("> *",{pointerEvents:"all"})])]),VFollower=defineComponent({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(props){const VBinder=inject("VBinder"),mergedEnabledRef=useMemo(()=>props.enabled!==void 0?props.enabled:props.show),followerRef=ref(null),offsetContainerRef=ref(null),ensureListeners=__name(()=>{const{syncTrigger}=props;syncTrigger.includes("scroll")&&VBinder.addScrollListener(syncPosition),syncTrigger.includes("resize")&&VBinder.addResizeListener(syncPosition)},"ensureListeners"),removeListeners=__name(()=>{VBinder.removeScrollListener(syncPosition),VBinder.removeResizeListener(syncPosition)},"removeListeners");onMounted(()=>{mergedEnabledRef.value&&(syncPosition(),ensureListeners())});const ssrAdapter2=useSsrAdapter();style$h.mount({id:"vueuc/binder",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:ssrAdapter2}),onBeforeUnmount(()=>{removeListeners()}),onFontsReady(()=>{mergedEnabledRef.value&&syncPosition()});const syncPosition=__name(()=>{if(!mergedEnabledRef.value)return;const follower=followerRef.value;if(follower===null)return;const target=VBinder.targetRef,{x,y,overlap}=props,targetRect=x!==void 0&&y!==void 0?getPointRect(x,y):getRect(target);follower.style.setProperty("--v-target-width","".concat(Math.round(targetRect.width),"px")),follower.style.setProperty("--v-target-height","".concat(Math.round(targetRect.height),"px"));const{width,minWidth,placement,internalShift,flip}=props;follower.setAttribute("v-placement",placement),overlap?follower.setAttribute("v-overlap",""):follower.removeAttribute("v-overlap");const{style:style2}=follower;width==="target"?style2.width="".concat(targetRect.width,"px"):width!==void 0?style2.width=width:style2.width="",minWidth==="target"?style2.minWidth="".concat(targetRect.width,"px"):minWidth!==void 0?style2.minWidth=minWidth:style2.minWidth="";const followerRect=getRect(follower),offsetContainerRect=getRect(offsetContainerRef.value),{left:offsetLeftToStandardPlacement,top:offsetTopToStandardPlacement,placement:properPlacement}=getPlacementAndOffsetOfFollower(placement,targetRect,followerRect,internalShift,flip,overlap),properTransformOrigin=getProperTransformOrigin(properPlacement,overlap),{left,top,transform:transform2}=getOffset(properPlacement,offsetContainerRect,targetRect,offsetTopToStandardPlacement,offsetLeftToStandardPlacement,overlap);follower.setAttribute("v-placement",properPlacement),follower.style.setProperty("--v-offset-left","".concat(Math.round(offsetLeftToStandardPlacement),"px")),follower.style.setProperty("--v-offset-top","".concat(Math.round(offsetTopToStandardPlacement),"px")),follower.style.transform="translateX(".concat(left,") translateY(").concat(top,") ").concat(transform2),follower.style.setProperty("--v-transform-origin",properTransformOrigin),follower.style.transformOrigin=properTransformOrigin},"syncPosition");watch(mergedEnabledRef,value=>{value?(ensureListeners(),syncOnNextTick()):removeListeners()});const syncOnNextTick=__name(()=>{nextTick().then(syncPosition).catch(e=>console.error(e))},"syncOnNextTick");["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(prop=>{watch(toRef(props,prop),syncPosition)}),["teleportDisabled"].forEach(prop=>{watch(toRef(props,prop),syncOnNextTick)}),watch(toRef(props,"syncTrigger"),value=>{value.includes("resize")?VBinder.addResizeListener(syncPosition):VBinder.removeResizeListener(syncPosition),value.includes("scroll")?VBinder.addScrollListener(syncPosition):VBinder.removeScrollListener(syncPosition)});const isMountedRef=isMounted(),mergedToRef=useMemo(()=>{const{to}=props;if(to!==void 0)return to;isMountedRef.value});return{VBinder,mergedEnabled:mergedEnabledRef,offsetContainerRef,followerRef,mergedTo:mergedToRef,syncPosition}},render(){return h(LazyTeleport,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:__name(()=>{var _a4,_b;const vNode=h("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[h("div",{class:"v-binder-follower-content",ref:"followerRef"},(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4))]);return this.zindexable?withDirectives(vNode,[[zindexable,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):vNode},"default")})}});var resizeObservers=[],hasActiveObservations=__name(function(){return resizeObservers.some(function(ro){return ro.activeTargets.length>0})},"hasActiveObservations"),hasSkippedObservations=__name(function(){return resizeObservers.some(function(ro){return ro.skippedTargets.length>0})},"hasSkippedObservations"),msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=__name(function(){var event;typeof ErrorEvent=="function"?event=new ErrorEvent("error",{message:msg}):(event=document.createEvent("Event"),event.initEvent("error",!1,!1),event.message=msg),window.dispatchEvent(event)},"deliverResizeLoopError"),ResizeObserverBoxOptions;(function(ResizeObserverBoxOptions2){ResizeObserverBoxOptions2.BORDER_BOX="border-box",ResizeObserverBoxOptions2.CONTENT_BOX="content-box",ResizeObserverBoxOptions2.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=__name(function(obj){return Object.freeze(obj)},"freeze"),ResizeObserverSize=function(){function ResizeObserverSize2(inlineSize,blockSize){this.inlineSize=inlineSize,this.blockSize=blockSize,freeze(this)}return __name(ResizeObserverSize2,"ResizeObserverSize"),ResizeObserverSize2}(),DOMRectReadOnly=function(){function DOMRectReadOnly2(x,y,width,height){return this.x=x,this.y=y,this.width=width,this.height=height,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return __name(DOMRectReadOnly2,"DOMRectReadOnly"),DOMRectReadOnly2.prototype.toJSON=function(){var _a4=this,x=_a4.x,y=_a4.y,top=_a4.top,right=_a4.right,bottom=_a4.bottom,left=_a4.left,width=_a4.width,height=_a4.height;return{x,y,top,right,bottom,left,width,height}},DOMRectReadOnly2.fromRect=function(rectangle){return new DOMRectReadOnly2(rectangle.x,rectangle.y,rectangle.width,rectangle.height)},DOMRectReadOnly2}(),isSVG=__name(function(target){return target instanceof SVGElement&&"getBBox"in target},"isSVG"),isHidden=__name(function(target){if(isSVG(target)){var _a4=target.getBBox(),width=_a4.width,height=_a4.height;return!width&&!height}var _b=target,offsetWidth=_b.offsetWidth,offsetHeight=_b.offsetHeight;return!(offsetWidth||offsetHeight||target.getClientRects().length)},"isHidden"),isElement=__name(function(obj){var _a4;if(obj instanceof Element)return!0;var scope=(_a4=obj==null?void 0:obj.ownerDocument)===null||_a4===void 0?void 0:_a4.defaultView;return!!(scope&&obj instanceof scope.Element)},"isElement"),isReplacedElement=__name(function(target){switch(target.tagName){case"INPUT":if(target.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},"isReplacedElement"),global$1=typeof window<"u"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent),parseDimension=__name(function(pixel){return parseFloat(pixel||"0")},"parseDimension"),size=__name(function(inlineSize,blockSize,switchSizes){return inlineSize===void 0&&(inlineSize=0),blockSize===void 0&&(blockSize=0),switchSizes===void 0&&(switchSizes=!1),new ResizeObserverSize((switchSizes?blockSize:inlineSize)||0,(switchSizes?inlineSize:blockSize)||0)},"size"),zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=__name(function(target,forceRecalculation){if(forceRecalculation===void 0&&(forceRecalculation=!1),cache.has(target)&&!forceRecalculation)return cache.get(target);if(isHidden(target))return cache.set(target,zeroBoxes),zeroBoxes;var cs=getComputedStyle(target),svg=isSVG(target)&&target.ownerSVGElement&&target.getBBox(),removePadding=!IE&&cs.boxSizing==="border-box",switchSizes=verticalRegexp.test(cs.writingMode||""),canScrollVertically=!svg&&scrollRegexp.test(cs.overflowY||""),canScrollHorizontally=!svg&&scrollRegexp.test(cs.overflowX||""),paddingTop=svg?0:parseDimension(cs.paddingTop),paddingRight=svg?0:parseDimension(cs.paddingRight),paddingBottom=svg?0:parseDimension(cs.paddingBottom),paddingLeft=svg?0:parseDimension(cs.paddingLeft),borderTop=svg?0:parseDimension(cs.borderTopWidth),borderRight=svg?0:parseDimension(cs.borderRightWidth),borderBottom=svg?0:parseDimension(cs.borderBottomWidth),borderLeft=svg?0:parseDimension(cs.borderLeftWidth),horizontalPadding=paddingLeft+paddingRight,verticalPadding=paddingTop+paddingBottom,horizontalBorderArea=borderLeft+borderRight,verticalBorderArea=borderTop+borderBottom,horizontalScrollbarThickness=canScrollHorizontally?target.offsetHeight-verticalBorderArea-target.clientHeight:0,verticalScrollbarThickness=canScrollVertically?target.offsetWidth-horizontalBorderArea-target.clientWidth:0,widthReduction=removePadding?horizontalPadding+horizontalBorderArea:0,heightReduction=removePadding?verticalPadding+verticalBorderArea:0,contentWidth=svg?svg.width:parseDimension(cs.width)-widthReduction-verticalScrollbarThickness,contentHeight=svg?svg.height:parseDimension(cs.height)-heightReduction-horizontalScrollbarThickness,borderBoxWidth=contentWidth+horizontalPadding+verticalScrollbarThickness+horizontalBorderArea,borderBoxHeight=contentHeight+verticalPadding+horizontalScrollbarThickness+verticalBorderArea,boxes=freeze({devicePixelContentBoxSize:size(Math.round(contentWidth*devicePixelRatio),Math.round(contentHeight*devicePixelRatio),switchSizes),borderBoxSize:size(borderBoxWidth,borderBoxHeight,switchSizes),contentBoxSize:size(contentWidth,contentHeight,switchSizes),contentRect:new DOMRectReadOnly(paddingLeft,paddingTop,contentWidth,contentHeight)});return cache.set(target,boxes),boxes},"calculateBoxSizes"),calculateBoxSize=__name(function(target,observedBox,forceRecalculation){var _a4=calculateBoxSizes(target,forceRecalculation),borderBoxSize=_a4.borderBoxSize,contentBoxSize=_a4.contentBoxSize,devicePixelContentBoxSize=_a4.devicePixelContentBoxSize;switch(observedBox){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return devicePixelContentBoxSize;case ResizeObserverBoxOptions.BORDER_BOX:return borderBoxSize;default:return contentBoxSize}},"calculateBoxSize"),ResizeObserverEntry=function(){function ResizeObserverEntry2(target){var boxes=calculateBoxSizes(target);this.target=target,this.contentRect=boxes.contentRect,this.borderBoxSize=freeze([boxes.borderBoxSize]),this.contentBoxSize=freeze([boxes.contentBoxSize]),this.devicePixelContentBoxSize=freeze([boxes.devicePixelContentBoxSize])}return __name(ResizeObserverEntry2,"ResizeObserverEntry"),ResizeObserverEntry2}(),calculateDepthForNode=__name(function(node){if(isHidden(node))return 1/0;for(var depth=0,parent=node.parentNode;parent;)depth+=1,parent=parent.parentNode;return depth},"calculateDepthForNode"),broadcastActiveObservations=__name(function(){var shallowestDepth=1/0,callbacks2=[];resizeObservers.forEach(__name(function(ro){if(ro.activeTargets.length!==0){var entries=[];ro.activeTargets.forEach(__name(function(ot){var entry=new ResizeObserverEntry(ot.target),targetDepth=calculateDepthForNode(ot.target);entries.push(entry),ot.lastReportedSize=calculateBoxSize(ot.target,ot.observedBox),targetDepth<shallowestDepth&&(shallowestDepth=targetDepth)},"processTarget")),callbacks2.push(__name(function(){ro.callback.call(ro.observer,entries,ro.observer)},"resizeObserverCallback")),ro.activeTargets.splice(0,ro.activeTargets.length)}},"processObserver"));for(var _i=0,callbacks_1=callbacks2;_i<callbacks_1.length;_i++){var callback=callbacks_1[_i];callback()}return shallowestDepth},"broadcastActiveObservations"),gatherActiveObservationsAtDepth=__name(function(depth){resizeObservers.forEach(__name(function(ro){ro.activeTargets.splice(0,ro.activeTargets.length),ro.skippedTargets.splice(0,ro.skippedTargets.length),ro.observationTargets.forEach(__name(function(ot){ot.isActive()&&(calculateDepthForNode(ot.target)>depth?ro.activeTargets.push(ot):ro.skippedTargets.push(ot))},"processTarget"))},"processObserver"))},"gatherActiveObservationsAtDepth"),process=__name(function(){var depth=0;for(gatherActiveObservationsAtDepth(depth);hasActiveObservations();)depth=broadcastActiveObservations(),gatherActiveObservationsAtDepth(depth);return hasSkippedObservations()&&deliverResizeLoopError(),depth>0},"process"),trigger,callbacks=[],notify=__name(function(){return callbacks.splice(0).forEach(function(cb){return cb()})},"notify"),queueMicroTask=__name(function(callback){if(!trigger){var toggle_1=0,el_1=document.createTextNode(""),config={characterData:!0};new MutationObserver(function(){return notify()}).observe(el_1,config),trigger=__name(function(){el_1.textContent="".concat(toggle_1?toggle_1--:toggle_1++)},"trigger")}callbacks.push(callback),trigger()},"queueMicroTask"),queueResizeObserver=__name(function(cb){queueMicroTask(__name(function(){requestAnimationFrame(cb)},"ResizeObserver"))},"queueResizeObserver"),watching=0,isWatching=__name(function(){return!!watching},"isWatching"),CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=__name(function(timeout){return timeout===void 0&&(timeout=0),Date.now()+timeout},"time"),scheduled=!1,Scheduler=function(){function Scheduler2(){var _this=this;this.stopped=!0,this.listener=function(){return _this.schedule()}}return __name(Scheduler2,"Scheduler"),Scheduler2.prototype.run=function(timeout){var _this=this;if(timeout===void 0&&(timeout=CATCH_PERIOD),!scheduled){scheduled=!0;var until=time(timeout);queueResizeObserver(function(){var elementsHaveResized=!1;try{elementsHaveResized=process()}finally{if(scheduled=!1,timeout=until-time(),!isWatching())return;elementsHaveResized?_this.run(1e3):timeout>0?_this.run(timeout):_this.start()}})}},Scheduler2.prototype.schedule=function(){this.stop(),this.run()},Scheduler2.prototype.observe=function(){var _this=this,cb=__name(function(){return _this.observer&&_this.observer.observe(document.body,observerConfig)},"cb");document.body?cb():global$1.addEventListener("DOMContentLoaded",cb)},Scheduler2.prototype.start=function(){var _this=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(name){return global$1.addEventListener(name,_this.listener,!0)}))},Scheduler2.prototype.stop=function(){var _this=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(name){return global$1.removeEventListener(name,_this.listener,!0)}),this.stopped=!0)},Scheduler2}(),scheduler=new Scheduler,updateCount=__name(function(n){!watching&&n>0&&scheduler.start(),watching+=n,!watching&&scheduler.stop()},"updateCount"),skipNotifyOnElement=__name(function(target){return!isSVG(target)&&!isReplacedElement(target)&&getComputedStyle(target).display==="inline"},"skipNotifyOnElement"),ResizeObservation=function(){function ResizeObservation2(target,observedBox){this.target=target,this.observedBox=observedBox||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return __name(ResizeObservation2,"ResizeObservation"),ResizeObservation2.prototype.isActive=function(){var size2=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=size2),this.lastReportedSize.inlineSize!==size2.inlineSize||this.lastReportedSize.blockSize!==size2.blockSize},ResizeObservation2}(),ResizeObserverDetail=function(){function ResizeObserverDetail2(resizeObserver,callback){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=resizeObserver,this.callback=callback}return __name(ResizeObserverDetail2,"ResizeObserverDetail"),ResizeObserverDetail2}(),observerMap=new WeakMap,getObservationIndex=__name(function(observationTargets,target){for(var i=0;i<observationTargets.length;i+=1)if(observationTargets[i].target===target)return i;return-1},"getObservationIndex"),ResizeObserverController=function(){function ResizeObserverController2(){}return __name(ResizeObserverController2,"ResizeObserverController"),ResizeObserverController2.connect=function(resizeObserver,callback){var detail=new ResizeObserverDetail(resizeObserver,callback);observerMap.set(resizeObserver,detail)},ResizeObserverController2.observe=function(resizeObserver,target,options){var detail=observerMap.get(resizeObserver),firstObservation=detail.observationTargets.length===0;getObservationIndex(detail.observationTargets,target)<0&&(firstObservation&&resizeObservers.push(detail),detail.observationTargets.push(new ResizeObservation(target,options&&options.box)),updateCount(1),scheduler.schedule())},ResizeObserverController2.unobserve=function(resizeObserver,target){var detail=observerMap.get(resizeObserver),index=getObservationIndex(detail.observationTargets,target),lastObservation=detail.observationTargets.length===1;index>=0&&(lastObservation&&resizeObservers.splice(resizeObservers.indexOf(detail),1),detail.observationTargets.splice(index,1),updateCount(-1))},ResizeObserverController2.disconnect=function(resizeObserver){var _this=this,detail=observerMap.get(resizeObserver);detail.observationTargets.slice().forEach(function(ot){return _this.unobserve(resizeObserver,ot.target)}),detail.activeTargets.splice(0,detail.activeTargets.length)},ResizeObserverController2}(),ResizeObserver$1=function(){function ResizeObserver2(callback){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof callback!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,callback)}return __name(ResizeObserver2,"ResizeObserver"),ResizeObserver2.prototype.observe=function(target,options){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(target))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,target,options)},ResizeObserver2.prototype.unobserve=function(target){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(target))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,target)},ResizeObserver2.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},ResizeObserver2.toString=function(){return"function ResizeObserver () { [polyfill code] }"},ResizeObserver2}();const _ResizeObserverDelegate=class _ResizeObserverDelegate{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||ResizeObserver$1)(this.handleResize),this.elHandlersMap=new Map}handleResize(entries){for(const entry of entries){const handler=this.elHandlersMap.get(entry.target);handler!==void 0&&handler(entry)}}registerHandler(el,handler){this.elHandlersMap.set(el,handler),this.observer.observe(el)}unregisterHandler(el){this.elHandlersMap.has(el)&&(this.elHandlersMap.delete(el),this.observer.unobserve(el))}};__name(_ResizeObserverDelegate,"ResizeObserverDelegate");let ResizeObserverDelegate=_ResizeObserverDelegate;const resizeObserverManager=new ResizeObserverDelegate,VResizeObserver=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(props){let registered=!1;const proxy=getCurrentInstance().proxy;function handleResize(entry){const{onResize}=props;onResize!==void 0&&onResize(entry)}__name(handleResize,"handleResize"),onMounted(()=>{const el=proxy.$el;if(el===void 0){warn$1("resize-observer","$el does not exist.");return}if(el.nextElementSibling!==el.nextSibling&&el.nodeType===3&&el.nodeValue!==""){warn$1("resize-observer","$el can not be observed (it may be a text node).");return}el.nextElementSibling!==null&&(resizeObserverManager.registerHandler(el.nextElementSibling,handleResize),registered=!0)}),onBeforeUnmount(()=>{registered&&resizeObserverManager.unregisterHandler(proxy.$el.nextElementSibling)})},render(){return renderSlot(this.$slots,"default")}}),hiddenAttr="v-hidden",style$g=c$2("[v-hidden]",{display:"none!important"}),VOverflow=defineComponent({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(props,{slots}){const selfRef=ref(null),counterRef=ref(null);function deriveCounter(options){const{value:self2}=selfRef,{getCounter,getTail}=props;let counter;if(getCounter!==void 0?counter=getCounter():counter=counterRef.value,!self2||!counter)return;counter.hasAttribute(hiddenAttr)&&counter.removeAttribute(hiddenAttr);const{children}=self2;if(options.showAllItemsBeforeCalculate)for(const child of children)child.hasAttribute(hiddenAttr)&&child.removeAttribute(hiddenAttr);const containerWidth=self2.offsetWidth,childWidths=[],tail=slots.tail?getTail==null?void 0:getTail():null;let childWidthSum=tail?tail.offsetWidth:0,overflow=!1;const len=self2.children.length-(slots.tail?1:0);for(let i=0;i<len-1;++i){if(i<0)continue;const child=children[i];if(overflow){child.hasAttribute(hiddenAttr)||child.setAttribute(hiddenAttr,"");continue}else child.hasAttribute(hiddenAttr)&&child.removeAttribute(hiddenAttr);const childWidth=child.offsetWidth;if(childWidthSum+=childWidth,childWidths[i]=childWidth,childWidthSum>containerWidth){const{updateCounter}=props;for(let j=i;j>=0;--j){const restCount=len-1-j;updateCounter!==void 0?updateCounter(restCount):counter.textContent="".concat(restCount);const counterWidth=counter.offsetWidth;if(childWidthSum-=childWidths[j],childWidthSum+counterWidth<=containerWidth||j===0){overflow=!0,i=j-1,tail&&(i===-1?(tail.style.maxWidth="".concat(containerWidth-counterWidth,"px"),tail.style.boxSizing="border-box"):tail.style.maxWidth="");const{onUpdateCount}=props;onUpdateCount&&onUpdateCount(restCount);break}}}}const{onUpdateOverflow}=props;overflow?onUpdateOverflow!==void 0&&onUpdateOverflow(!0):(onUpdateOverflow!==void 0&&onUpdateOverflow(!1),counter.setAttribute(hiddenAttr,""))}__name(deriveCounter,"deriveCounter");const ssrAdapter2=useSsrAdapter();return style$g.mount({id:"vueuc/overflow",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:ssrAdapter2}),onMounted(()=>deriveCounter({showAllItemsBeforeCalculate:!1})),{selfRef,counterRef,sync:deriveCounter}},render(){const{$slots}=this;return nextTick(()=>this.sync({showAllItemsBeforeCalculate:!1})),h("div",{class:"v-overflow",ref:"selfRef"},[renderSlot($slots,"default"),$slots.counter?$slots.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),$slots.tail?$slots.tail():null])}});function isHTMLElement(node){return node instanceof HTMLElement}__name(isHTMLElement,"isHTMLElement");function focusFirstDescendant(node){for(let i=0;i<node.childNodes.length;i++){const child=node.childNodes[i];if(isHTMLElement(child)&&(attemptFocus(child)||focusFirstDescendant(child)))return!0}return!1}__name(focusFirstDescendant,"focusFirstDescendant");function focusLastDescendant(element){for(let i=element.childNodes.length-1;i>=0;i--){const child=element.childNodes[i];if(isHTMLElement(child)&&(attemptFocus(child)||focusLastDescendant(child)))return!0}return!1}__name(focusLastDescendant,"focusLastDescendant");function attemptFocus(element){if(!isFocusable(element))return!1;try{element.focus({preventScroll:!0})}catch(e){}return document.activeElement===element}__name(attemptFocus,"attemptFocus");function isFocusable(element){if(element.tabIndex>0||element.tabIndex===0&&element.getAttribute("tabIndex")!==null)return!0;if(element.getAttribute("disabled"))return!1;switch(element.nodeName){case"A":return!!element.href&&element.rel!=="ignore";case"INPUT":return element.type!=="hidden"&&element.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}__name(isFocusable,"isFocusable");let stack=[];const FocusTrap=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(props){const id=createId(),focusableStartRef=ref(null),focusableEndRef=ref(null);let activated=!1,ignoreInternalFocusChange=!1;const lastFocusedElement=typeof document>"u"?null:document.activeElement;function isCurrentActive(){return stack[stack.length-1]===id}__name(isCurrentActive,"isCurrentActive");function handleDocumentKeydown(e){var _a4;e.code==="Escape"&&isCurrentActive()&&((_a4=props.onEsc)===null||_a4===void 0||_a4.call(props,e))}__name(handleDocumentKeydown,"handleDocumentKeydown"),onMounted(()=>{watch(()=>props.active,value=>{value?(activate(),on("keydown",document,handleDocumentKeydown)):(off("keydown",document,handleDocumentKeydown),activated&&deactivate())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,handleDocumentKeydown),activated&&deactivate()});function handleDocumentFocus(e){if(!ignoreInternalFocusChange&&isCurrentActive()){const mainEl=getMainEl();if(mainEl===null||mainEl.contains(getPreciseEventTarget(e)))return;resetFocusTo("first")}}__name(handleDocumentFocus,"handleDocumentFocus");function getMainEl(){const focusableStartEl=focusableStartRef.value;if(focusableStartEl===null)return null;let mainEl=focusableStartEl;for(;mainEl=mainEl.nextSibling,!(mainEl===null||mainEl instanceof Element&&mainEl.tagName==="DIV"););return mainEl}__name(getMainEl,"getMainEl");function activate(){var _a4;if(!props.disabled){if(stack.push(id),props.autoFocus){const{initialFocusTo}=props;initialFocusTo===void 0?resetFocusTo("first"):(_a4=resolveTo(initialFocusTo))===null||_a4===void 0||_a4.focus({preventScroll:!0})}activated=!0,document.addEventListener("focus",handleDocumentFocus,!0)}}__name(activate,"activate");function deactivate(){var _a4;if(props.disabled||(document.removeEventListener("focus",handleDocumentFocus,!0),stack=stack.filter(idInStack=>idInStack!==id),isCurrentActive()))return;const{finalFocusTo}=props;finalFocusTo!==void 0?(_a4=resolveTo(finalFocusTo))===null||_a4===void 0||_a4.focus({preventScroll:!0}):props.returnFocusOnDeactivated&&lastFocusedElement instanceof HTMLElement&&(ignoreInternalFocusChange=!0,lastFocusedElement.focus({preventScroll:!0}),ignoreInternalFocusChange=!1)}__name(deactivate,"deactivate");function resetFocusTo(target){if(isCurrentActive()&&props.active){const focusableStartEl=focusableStartRef.value,focusableEndEl=focusableEndRef.value;if(focusableStartEl!==null&&focusableEndEl!==null){const mainEl=getMainEl();if(mainEl==null||mainEl===focusableEndEl){ignoreInternalFocusChange=!0,focusableStartEl.focus({preventScroll:!0}),ignoreInternalFocusChange=!1;return}ignoreInternalFocusChange=!0;const focused=target==="first"?focusFirstDescendant(mainEl):focusLastDescendant(mainEl);ignoreInternalFocusChange=!1,focused||(ignoreInternalFocusChange=!0,focusableStartEl.focus({preventScroll:!0}),ignoreInternalFocusChange=!1)}}}__name(resetFocusTo,"resetFocusTo");function handleStartFocus(e){if(ignoreInternalFocusChange)return;const mainEl=getMainEl();mainEl!==null&&(e.relatedTarget!==null&&mainEl.contains(e.relatedTarget)?resetFocusTo("last"):resetFocusTo("first"))}__name(handleStartFocus,"handleStartFocus");function handleEndFocus(e){ignoreInternalFocusChange||(e.relatedTarget!==null&&e.relatedTarget===focusableStartRef.value?resetFocusTo("last"):resetFocusTo("first"))}return __name(handleEndFocus,"handleEndFocus"),{focusableStartRef,focusableEndRef,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus,handleEndFocus}},render(){const{default:defaultSlot}=this.$slots;if(defaultSlot===void 0)return null;if(this.disabled)return defaultSlot();const{active,focusableStyle}=this;return h(Fragment,null,[h("div",{"aria-hidden":"true",tabindex:active?"0":"-1",ref:"focusableStartRef",style:focusableStyle,onFocus:this.handleStartFocus}),defaultSlot(),h("div",{"aria-hidden":"true",style:focusableStyle,ref:"focusableEndRef",tabindex:active?"0":"-1",onFocus:this.handleEndFocus})])}});function color2Class(color){return color.replace(/#|\(|\)|,|\s|\./g,"_")}__name(color2Class,"color2Class");const pureNumberRegex=/^(\d|\.)+$/,numberRegex=/(\d|\.)+/;function formatLength(length,{c:c2=1,offset=0,attachPx=!0}={}){if(typeof length=="number"){const result=(length+offset)*c2;return result===0?"0":"".concat(result,"px")}else if(typeof length=="string")if(pureNumberRegex.test(length)){const result=(Number(length)+offset)*c2;return attachPx?result===0?"0":"".concat(result,"px"):"".concat(result)}else{const result=numberRegex.exec(length);return result?length.replace(numberRegex,String((Number(result[0])+offset)*c2)):length}return length}__name(formatLength,"formatLength");function rtlInset(inset){const{left,right,top,bottom}=getMargin(inset);return"".concat(top," ").concat(left," ").concat(bottom," ").concat(right)}__name(rtlInset,"rtlInset");let _isJsdom;function isJsdom(){return _isJsdom===void 0&&(_isJsdom=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),_isJsdom}__name(isJsdom,"isJsdom");const eventSet=new WeakSet;function markEventEffectPerformed(event){eventSet.add(event)}__name(markEventEffectPerformed,"markEventEffectPerformed");function eventEffectNotPerformed(event){return!eventSet.has(event)}__name(eventEffectNotPerformed,"eventEffectNotPerformed");function warn(location2,message){console.error("[naive/".concat(location2,"]: ").concat(message))}__name(warn,"warn");function error(location2,message,error2){console.error("[naive/".concat(location2,"]: ").concat(message),error2)}__name(error,"error");function throwError(location2,message){throw new Error("[naive/".concat(location2,"]: ").concat(message))}__name(throwError,"throwError");function call(funcs,...args){if(Array.isArray(funcs))funcs.forEach(func=>call(func,...args));else return funcs(...args)}__name(call,"call");function createRefSetter(ref2){return inst=>{inst?ref2.value=inst.$el:ref2.value=null}}__name(createRefSetter,"createRefSetter");function flatten$1(vNodes,filterCommentNode=!0,result=[]){return vNodes.forEach(vNode=>{if(vNode!==null){if(typeof vNode!="object"){(typeof vNode=="string"||typeof vNode=="number")&&result.push(createTextVNode(String(vNode)));return}if(Array.isArray(vNode)){flatten$1(vNode,filterCommentNode,result);return}if(vNode.type===Fragment){if(vNode.children===null)return;Array.isArray(vNode.children)&&flatten$1(vNode.children,filterCommentNode,result)}else{if(vNode.type===Comment&&filterCommentNode)return;result.push(vNode)}}}),result}__name(flatten$1,"flatten$1");function getFirstSlotVNode(slots,slotName="default",props=void 0){const slot=slots[slotName];if(!slot)return warn("getFirstSlotVNode","slot[".concat(slotName,"] is empty")),null;const slotContent=flatten$1(slot(props));return slotContent.length===1?slotContent[0]:(warn("getFirstSlotVNode","slot[".concat(slotName,"] should have exactly one child")),null)}__name(getFirstSlotVNode,"getFirstSlotVNode");function getFirstSlotVNodeWithTypedProps(slotName,slot,props){if(!slot)return null;const slotContent=flatten$1(slot(props));return slotContent.length===1?slotContent[0]:(warn("getFirstSlotVNode","slot[".concat(slotName,"] should have exactly one child")),null)}__name(getFirstSlotVNodeWithTypedProps,"getFirstSlotVNodeWithTypedProps");function keep(object,keys2=[],rest){const keepedObject={};return keys2.forEach(key=>{keepedObject[key]=object[key]}),Object.assign(keepedObject,rest)}__name(keep,"keep");function keysOf(obj){return Object.keys(obj)}__name(keysOf,"keysOf");function omit(object,keys2=[],rest){const omitedObject={};return Object.getOwnPropertyNames(object).forEach(originalKey=>{keys2.includes(originalKey)||(omitedObject[originalKey]=object[originalKey])}),Object.assign(omitedObject,rest)}__name(omit,"omit");function render$1(r,...args){return typeof r=="function"?r(...args):typeof r=="string"?createTextVNode(r):typeof r=="number"?createTextVNode(String(r)):null}__name(render$1,"render$1");function ensureValidVNode(vnodes){return vnodes.some(child=>isVNode$1(child)?!(child.type===Comment||child.type===Fragment&&!ensureValidVNode(child.children)):!0)?vnodes:null}__name(ensureValidVNode,"ensureValidVNode");function resolveSlot(slot,fallback){return slot&&ensureValidVNode(slot())||fallback()}__name(resolveSlot,"resolveSlot");function resolveSlotWithTypedProps(slot,props,fallback){return slot&&ensureValidVNode(slot(props))||fallback(props)}__name(resolveSlotWithTypedProps,"resolveSlotWithTypedProps");function resolveWrappedSlot(slot,wrapper){const children=slot&&ensureValidVNode(slot());return wrapper(children||null)}__name(resolveWrappedSlot,"resolveWrappedSlot");function resolveWrappedSlotWithProps(slot,props,wrapper){const children=slot&&ensureValidVNode(slot(props));return wrapper(children||null)}__name(resolveWrappedSlotWithProps,"resolveWrappedSlotWithProps");function isSlotEmpty(slot){return!(slot&&ensureValidVNode(slot()))}__name(isSlotEmpty,"isSlotEmpty");const Wrapper=defineComponent({render(){var _a4,_b;return(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4)}}),configProviderInjectionKey="n-config-provider",defaultClsPrefix="n";function useConfig(props={},options={defaultBordered:!0}){const NConfigProvider2=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:NConfigProvider2==null?void 0:NConfigProvider2.inlineThemeDisabled,mergedRtlRef:NConfigProvider2==null?void 0:NConfigProvider2.mergedRtlRef,mergedComponentPropsRef:NConfigProvider2==null?void 0:NConfigProvider2.mergedComponentPropsRef,mergedBreakpointsRef:NConfigProvider2==null?void 0:NConfigProvider2.mergedBreakpointsRef,mergedBorderedRef:computed(()=>{var _a4,_b;const{bordered}=props;return bordered!==void 0?bordered:(_b=(_a4=NConfigProvider2==null?void 0:NConfigProvider2.mergedBorderedRef.value)!==null&&_a4!==void 0?_a4:options.defaultBordered)!==null&&_b!==void 0?_b:!0}),mergedClsPrefixRef:NConfigProvider2?NConfigProvider2.mergedClsPrefixRef:shallowRef(defaultClsPrefix),namespaceRef:computed(()=>NConfigProvider2==null?void 0:NConfigProvider2.mergedNamespaceRef.value)}}__name(useConfig,"useConfig");function useThemeClass(componentName,hashRef,cssVarsRef,props){cssVarsRef||throwError("useThemeClass","cssVarsRef is not passed");const NConfigProvider2=inject(configProviderInjectionKey,null),mergedThemeHashRef=NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeHashRef,styleMountTarget=NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget,themeClassRef=ref(""),ssrAdapter2=useSsrAdapter();let renderCallback;const hashClassPrefix="__".concat(componentName),mountStyle2=__name(()=>{let finalThemeHash=hashClassPrefix;const hashValue=hashRef?hashRef.value:void 0,themeHash=mergedThemeHashRef==null?void 0:mergedThemeHashRef.value;themeHash&&(finalThemeHash+="-".concat(themeHash)),hashValue&&(finalThemeHash+="-".concat(hashValue));const{themeOverrides,builtinThemeOverrides}=props;themeOverrides&&(finalThemeHash+="-".concat(murmur2(JSON.stringify(themeOverrides)))),builtinThemeOverrides&&(finalThemeHash+="-".concat(murmur2(JSON.stringify(builtinThemeOverrides)))),themeClassRef.value=finalThemeHash,renderCallback=__name(()=>{const cssVars=cssVarsRef.value;let style2="";for(const key in cssVars)style2+="".concat(key,": ").concat(cssVars[key],";");c$4(".".concat(finalThemeHash),style2).mount({id:finalThemeHash,ssr:ssrAdapter2,parent:styleMountTarget}),renderCallback=void 0},"renderCallback")},"mountStyle");return watchEffect(()=>{mountStyle2()}),{themeClass:themeClassRef,onRender:__name(()=>{renderCallback==null||renderCallback()},"onRender")}}__name(useThemeClass,"useThemeClass");const formItemInjectionKey="n-form-item";function useFormItem(props,{defaultSize="medium",mergedSize,mergedDisabled}={}){const NFormItem=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const mergedSizeRef=computed(mergedSize?()=>mergedSize(NFormItem):()=>{const{size:size2}=props;if(size2)return size2;if(NFormItem){const{mergedSize:mergedSize2}=NFormItem;if(mergedSize2.value!==void 0)return mergedSize2.value}return defaultSize}),mergedDisabledRef=computed(mergedDisabled?()=>mergedDisabled(NFormItem):()=>{const{disabled}=props;return disabled!==void 0?disabled:NFormItem?NFormItem.disabled.value:!1}),mergedStatusRef=computed(()=>{const{status}=props;return status||(NFormItem==null?void 0:NFormItem.mergedValidationStatus.value)});return onBeforeUnmount(()=>{NFormItem&&NFormItem.restoreValidation()}),{mergedSizeRef,mergedDisabledRef,mergedStatusRef,nTriggerFormBlur(){NFormItem&&NFormItem.handleContentBlur()},nTriggerFormChange(){NFormItem&&NFormItem.handleContentChange()},nTriggerFormFocus(){NFormItem&&NFormItem.handleContentFocus()},nTriggerFormInput(){NFormItem&&NFormItem.handleContentInput()}}}__name(useFormItem,"useFormItem");var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(value){var isOwn=hasOwnProperty$c.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString$1.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}__name(getRawTag,"getRawTag");var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(value){return nativeObjectToString.call(value)}__name(objectToString,"objectToString");var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(value){return value==null?value===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}__name(baseGetTag,"baseGetTag");function isObjectLike(value){return value!=null&&typeof value=="object"}__name(isObjectLike,"isObjectLike");var symbolTag$3="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag$3}__name(isSymbol,"isSymbol");function arrayMap(array,iteratee){for(var index=-1,length=array==null?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}__name(arrayMap,"arrayMap");var isArray=Array.isArray,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(value){if(typeof value=="string")return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return result=="0"&&1/value==-1/0?"-0":result}__name(baseToString,"baseToString");function isObject$1(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}__name(isObject$1,"isObject$1");function identity(value){return value}__name(identity,"identity");var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject$1(value))return!1;var tag=baseGetTag(value);return tag==funcTag$2||tag==genTag$1||tag==asyncTag||tag==proxyTag}__name(isFunction,"isFunction");var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid2=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid2?"Symbol(src)_1."+uid2:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}__name(isMasked,"isMasked");var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(func){if(func!=null){try{return funcToString$2.call(func)}catch(e){}try{return func+""}catch(e){}}return""}__name(toSource,"toSource");var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject$1(value)||isMasked(value))return!1;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}__name(baseIsNative,"baseIsNative");function getValue(object,key){return object==null?void 0:object[key]}__name(getValue,"getValue");function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}__name(getNative,"getNative");var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function object(){}return __name(object,"object"),function(proto){if(!isObject$1(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}__name(apply,"apply");function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}__name(copyArray,"copyArray");var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}__name(shortOut,"shortOut");function constant(value){return function(){return value}}__name(constant,"constant");var defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(array,iteratee){for(var index=-1,length=array==null?0:array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}__name(arrayEach,"arrayEach");var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;return length=length==null?MAX_SAFE_INTEGER$1:length,!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}__name(isIndex,"isIndex");function baseAssignValue(object,key,value){key=="__proto__"&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value,writable:!0}):object[key]=value}__name(baseAssignValue,"baseAssignValue");function eq(value,other){return value===other||value!==value&&other!==other}__name(eq,"eq");var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];(!(hasOwnProperty$a.call(object,key)&&eq(objValue,value))||value===void 0&&!(key in object))&&baseAssignValue(object,key,value)}__name(assignValue,"assignValue");function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=void 0;newValue===void 0&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}__name(copyObject,"copyObject");var nativeMax=Math.max;function overRest(func,start,transform2){return start=nativeMax(start===void 0?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform2(array),apply(func,this,otherArgs)}}__name(overRest,"overRest");function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}__name(baseRest,"baseRest");var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}__name(isLength,"isLength");function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}__name(isArrayLike,"isArrayLike");function isIterateeCall(value,index,object){if(!isObject$1(object))return!1;var type=typeof index;return(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object)?eq(object[index],value):!1}__name(isIterateeCall,"isIterateeCall");function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}__name(createAssigner,"createAssigner");var objectProto$b=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto$b;return value===proto}__name(isPrototype,"isPrototype");function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}__name(baseTimes,"baseTimes");var argsTag$3="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag$3}__name(baseIsArguments,"baseIsArguments");var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$9.call(value,"callee")&&!propertyIsEnumerable$1.call(value,"callee")};function stubFalse(){return!1}__name(stubFalse,"stubFalse");var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$4="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$4]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}__name(baseIsTypedArray,"baseIsTypedArray");function baseUnary(func){return function(value){return func(value)}}__name(baseUnary,"baseUnary");var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)(inherited||hasOwnProperty$8.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))&&result.push(key);return result}__name(arrayLikeKeys,"arrayLikeKeys");function overArg(func,transform2){return function(arg){return func(transform2(arg))}}__name(overArg,"overArg");var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty$7.call(object,key)&&key!="constructor"&&result.push(key);return result}__name(baseKeys,"baseKeys");function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}__name(keys,"keys");function nativeKeysIn(object){var result=[];if(object!=null)for(var key in Object(object))result.push(key);return result}__name(nativeKeysIn,"nativeKeysIn");var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(object){if(!isObject$1(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)key=="constructor"&&(isProto||!hasOwnProperty$6.call(object,key))||result.push(key);return result}__name(baseKeysIn,"baseKeysIn");function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}__name(keysIn,"keysIn");var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)?!0:reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}__name(isKey,"isKey");var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}__name(hashClear,"hashClear");function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}__name(hashDelete,"hashDelete");var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED$2?void 0:result}return hasOwnProperty$5.call(data,key)?data[key]:void 0}__name(hashGet,"hashGet");var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==void 0:hasOwnProperty$4.call(data,key)}__name(hashHas,"hashHas");var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===void 0?HASH_UNDEFINED$1:value,this}__name(hashSet,"hashSet");function Hash(entries){var index=-1,length=entries==null?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}__name(Hash,"Hash");Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}__name(listCacheClear,"listCacheClear");function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}__name(assocIndexOf,"assocIndexOf");var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),--this.size,!0}__name(listCacheDelete,"listCacheDelete");function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}__name(listCacheGet,"listCacheGet");function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}__name(listCacheHas,"listCacheHas");function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}__name(listCacheSet,"listCacheSet");function ListCache(entries){var index=-1,length=entries==null?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}__name(ListCache,"ListCache");ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}__name(mapCacheClear,"mapCacheClear");function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}__name(isKeyable,"isKeyable");function getMapData(map2,key){var data=map2.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}__name(getMapData,"getMapData");function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}__name(mapCacheDelete,"mapCacheDelete");function mapCacheGet(key){return getMapData(this,key).get(key)}__name(mapCacheGet,"mapCacheGet");function mapCacheHas(key){return getMapData(this,key).has(key)}__name(mapCacheHas,"mapCacheHas");function mapCacheSet(key,value){var data=getMapData(this,key),size2=data.size;return data.set(key,value),this.size+=data.size==size2?0:1,this}__name(mapCacheSet,"mapCacheSet");function MapCache(entries){var index=-1,length=entries==null?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}__name(MapCache,"MapCache");MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function")throw new TypeError(FUNC_ERROR_TEXT);var memoized=__name(function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache2=memoized.cache;if(cache2.has(key))return cache2.get(key);var result=func.apply(this,args);return memoized.cache=cache2.set(key,result)||cache2,result},"memoized");return memoized.cache=new(memoize.Cache||MapCache),memoized}__name(memoize,"memoize");memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,function(key){return cache2.size===MAX_MEMOIZE_SIZE&&cache2.clear(),key}),cache2=result.cache;return result}__name(memoizeCapped,"memoizeCapped");var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return string.charCodeAt(0)===46&&result.push(""),string.replace(rePropName,function(match,number2,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number2||match)}),result});function toString$1(value){return value==null?"":baseToString(value)}__name(toString$1,"toString$1");function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString$1(value))}__name(castPath,"castPath");function toKey(value){if(typeof value=="string"||isSymbol(value))return value;var result=value+"";return result=="0"&&1/value==-1/0?"-0":result}__name(toKey,"toKey");function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;object!=null&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}__name(baseGet,"baseGet");function get(object,path,defaultValue){var result=object==null?void 0:baseGet(object,path);return result===void 0?defaultValue:result}__name(get,"get");function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}__name(arrayPush,"arrayPush");var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag$3)return!1;var proto=getPrototype(value);if(proto===null)return!0;var Ctor=hasOwnProperty$3.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}__name(isPlainObject,"isPlainObject");function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}__name(baseSlice,"baseSlice");function castSlice(array,start,end){var length=array.length;return end=end===void 0?length:end,!start&&end>=length?array:baseSlice(array,start,end)}__name(castSlice,"castSlice");var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(string){return reHasUnicode.test(string)}__name(hasUnicode,"hasUnicode");function asciiToArray(string){return string.split("")}__name(asciiToArray,"asciiToArray");var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(string){return string.match(reUnicode)||[]}__name(unicodeToArray,"unicodeToArray");function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}__name(stringToArray,"stringToArray");function createCaseFirst(methodName){return function(string){string=toString$1(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}__name(createCaseFirst,"createCaseFirst");var upperFirst=createCaseFirst("toUpperCase");function stackClear(){this.__data__=new ListCache,this.size=0}__name(stackClear,"stackClear");function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}__name(stackDelete,"stackDelete");function stackGet(key){return this.__data__.get(key)}__name(stackGet,"stackGet");function stackHas(key){return this.__data__.has(key)}__name(stackHas,"stackHas");var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map$1||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}__name(stackSet,"stackSet");function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}__name(Stack,"Stack");Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer2?Buffer2.allocUnsafe:void 0;function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}__name(cloneBuffer,"cloneBuffer");function arrayFilter(array,predicate){for(var index=-1,length=array==null?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}__name(arrayFilter,"arrayFilter");function stubArray(){return[]}__name(stubArray,"stubArray");var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return object==null?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}__name(baseGetAllKeys,"baseGetAllKeys");function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}__name(getAllKeys,"getAllKeys");var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=__name(function(value){var result=baseGetTag(value),Ctor=result==objectTag$2?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return result},"getTag"));var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&typeof array[0]=="string"&&hasOwnProperty$2.call(array,"index")&&(result.index=array.index,result.input=array.input),result}__name(initCloneArray,"initCloneArray");var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array$1(result).set(new Uint8Array$1(arrayBuffer)),result}__name(cloneArrayBuffer,"cloneArrayBuffer");function cloneDataView(dataView,isDeep){var buffer=cloneArrayBuffer(dataView.buffer);return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}__name(cloneDataView,"cloneDataView");var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}__name(cloneRegExp,"cloneRegExp");var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(symbol){return symbolValueOf$1?Object(symbolValueOf$1.call(symbol)):{}}__name(cloneSymbol,"cloneSymbol");function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}__name(cloneTypedArray,"cloneTypedArray");var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$3="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag$2:return cloneArrayBuffer(object);case boolTag$2:case dateTag$2:return new Ctor(+object);case dataViewTag$2:return cloneDataView(object);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(object,isDeep);case mapTag$3:return new Ctor;case numberTag$3:case stringTag$2:return new Ctor(object);case regexpTag$2:return cloneRegExp(object);case setTag$3:return new Ctor;case symbolTag$2:return cloneSymbol(object)}}__name(initCloneByTag,"initCloneByTag");function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}__name(initCloneObject,"initCloneObject");var mapTag$2="[object Map]";function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag$2}__name(baseIsMap,"baseIsMap");var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag$2}__name(baseIsSet,"baseIsSet");var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$2="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$2]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(value,bitmask,customizer,key,object,stack2){var result,isDeep=bitmask&CLONE_DEEP_FLAG$1;if(result!==void 0)return result;if(!isObject$1(value))return value;var isArr=isArray(value);if(isArr)result=initCloneArray(value);else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag$1||tag==argsTag$1||isFunc&&!object)result=isFunc?{}:initCloneObject(value);else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack2||(stack2=new Stack);var stacked=stack2.get(value);if(stacked)return stacked;stack2.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack2))}):isMap(value)&&value.forEach(function(subValue,key2){result.set(key2,baseClone(subValue,bitmask,customizer,key2,value,stack2))});var keysFunc=getAllKeys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,function(subValue,key2){props&&(key2=subValue,subValue=value[key2]),assignValue(result,key2,baseClone(subValue,bitmask,customizer,key2,value,stack2))}),result}__name(baseClone,"baseClone");var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}__name(cloneDeep,"cloneDeep");var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}__name(setCacheAdd,"setCacheAdd");function setCacheHas(value){return this.__data__.has(value)}__name(setCacheHas,"setCacheHas");function SetCache(values){var index=-1,length=values==null?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}__name(SetCache,"SetCache");SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(array,predicate){for(var index=-1,length=array==null?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}__name(arraySome,"arraySome");function cacheHas(cache2,key){return cache2.has(key)}__name(cacheHas,"cacheHas");var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(array,other,bitmask,customizer,equalFunc,stack2){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$5,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack2.get(array),othStacked=stack2.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen2=bitmask&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(stack2.set(array,other),stack2.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack2):customizer(arrValue,othValue,index,array,other,stack2);if(compared!==void 0){if(compared)continue;result=!1;break}if(seen2){if(!arraySome(other,function(othValue2,othIndex){if(!cacheHas(seen2,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack2)))return seen2.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack2))){result=!1;break}}return stack2.delete(array),stack2.delete(other),result}__name(equalArrays,"equalArrays");function mapToArray(map2){var index=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index]=[key,value]}),result}__name(mapToArray,"mapToArray");function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}__name(setToArray,"setToArray");var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag$1="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack2){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array$1(object),new Uint8Array$1(other)));case boolTag:case dateTag:case numberTag$1:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG$4;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack2.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG$2,stack2.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack2);return stack2.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}__name(equalByTag,"equalByTag");var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(object,other,bitmask,customizer,equalFunc,stack2){var isPartial=bitmask&COMPARE_PARTIAL_FLAG$3,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty$1.call(other,key)))return!1}var objStacked=stack2.get(object),othStacked=stack2.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack2.set(object,other),stack2.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack2):customizer(objValue,othValue,key,object,other,stack2);if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack2):compared)){result=!1;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)&&(result=!1)}return stack2.delete(object),stack2.delete(other),result}__name(equalObjects,"equalObjects");var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack2){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack2||(stack2=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack2):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack2);if(!(bitmask&COMPARE_PARTIAL_FLAG$2)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack2||(stack2=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack2)}}return isSameTag?(stack2||(stack2=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack2)):!1}__name(baseIsEqualDeep,"baseIsEqualDeep");function baseIsEqual(value,other,bitmask,customizer,stack2){return value===other?!0:value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack2)}__name(baseIsEqual,"baseIsEqual");var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index;if(object==null)return!length;for(object=Object(object);index--;){var data=matchData[index];if(data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(data[2]){if(objValue===void 0&&!(key in object))return!1}else{var stack2=new Stack,result;if(!(result===void 0?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,customizer,stack2):result))return!1}}return!0}__name(baseIsMatch,"baseIsMatch");function isStrictComparable(value){return value===value&&!isObject$1(value)}__name(isStrictComparable,"isStrictComparable");function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}__name(getMatchData,"getMatchData");function matchesStrictComparable(key,srcValue){return function(object){return object==null?!1:object[key]===srcValue&&(srcValue!==void 0||key in Object(object))}}__name(matchesStrictComparable,"matchesStrictComparable");function baseMatches(source){var matchData=getMatchData(source);return matchData.length==1&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}__name(baseMatches,"baseMatches");function baseHasIn(object,key){return object!=null&&key in Object(object)}__name(baseHasIn,"baseHasIn");function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:(length=object==null?0:object.length,!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object)))}__name(hasPath,"hasPath");function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}__name(hasIn,"hasIn");var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===void 0&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}__name(baseMatchesProperty,"baseMatchesProperty");function baseProperty(key){return function(object){return object==null?void 0:object[key]}}__name(baseProperty,"baseProperty");function basePropertyDeep(path){return function(object){return baseGet(object,path)}}__name(basePropertyDeep,"basePropertyDeep");function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}__name(property,"property");function baseIteratee(value){return typeof value=="function"?value:value==null?identity:typeof value=="object"?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}__name(baseIteratee,"baseIteratee");function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}__name(createBaseFor,"createBaseFor");var baseFor=createBaseFor();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}__name(baseForOwn,"baseForOwn");function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=-1,iterable=Object(collection);++index<length&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}__name(createBaseEach,"createBaseEach");var baseEach=createBaseEach(baseForOwn);function assignMergeValue(object,key,value){(value!==void 0&&!eq(object[key],value)||value===void 0&&!(key in object))&&baseAssignValue(object,key,value)}__name(assignMergeValue,"assignMergeValue");function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}__name(isArrayLikeObject,"isArrayLikeObject");function safeGet(object,key){if(!(key==="constructor"&&typeof object[key]=="function")&&key!="__proto__")return object[key]}__name(safeGet,"safeGet");function toPlainObject(value){return copyObject(value,keysIn(value))}__name(toPlainObject,"toPlainObject");function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack2){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack2.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack2):void 0,isCommon=newValue===void 0;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):(!isObject$1(objValue)||isFunction(objValue))&&(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack2.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack2),stack2.delete(srcValue)),assignMergeValue(object,key,newValue)}__name(baseMergeDeep,"baseMergeDeep");function baseMerge(object,source,srcIndex,customizer,stack2){object!==source&&baseFor(source,function(srcValue,key){if(stack2||(stack2=new Stack),isObject$1(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack2);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack2):void 0;newValue===void 0&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}__name(baseMerge,"baseMerge");function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection2){result[++index]=iteratee(value,key,collection2)}),result}__name(baseMap,"baseMap");function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,baseIteratee(iteratee))}__name(map,"map");function isEqual(value,other){return baseIsEqual(value,other)}__name(isEqual,"isEqual");var numberTag="[object Number]";function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}__name(isNumber,"isNumber");var merge$1=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});const cssrAnchorMetaName="naive-ui-style";function useRtl(mountId,rtlStateRef,clsPrefixRef){if(!rtlStateRef)return;const ssrAdapter2=useSsrAdapter(),componentRtlStateRef=computed(()=>{const{value:rtlState}=rtlStateRef;if(!rtlState)return;const componentRtlState=rtlState[mountId];if(componentRtlState)return componentRtlState}),NConfigProvider2=inject(configProviderInjectionKey,null),mountStyle2=__name(()=>{watchEffect(()=>{const{value:clsPrefix}=clsPrefixRef,id="".concat(clsPrefix).concat(mountId,"Rtl");if(exists(id,ssrAdapter2))return;const{value:componentRtlState}=componentRtlStateRef;componentRtlState&&componentRtlState.style.mount({id,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:clsPrefix?".".concat(clsPrefix,"-"):void 0},ssr:ssrAdapter2,parent:NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget})})},"mountStyle");return ssrAdapter2?mountStyle2():onBeforeMount(mountStyle2),componentRtlStateRef}__name(useRtl,"useRtl");const commonVariables$n={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize,fontFamily,lineHeight}=commonVariables$n,globalStyle=c$4("body","\n margin: 0;\n font-size: ".concat(fontSize,";\n font-family: ").concat(fontFamily,";\n line-height: ").concat(lineHeight,";\n -webkit-text-size-adjust: 100%;\n -webkit-tap-highlight-color: transparent;\n"),[c$4("input","\n font-family: inherit;\n font-size: inherit;\n ")]);function useStyle(mountId,style2,clsPrefixRef){if(!style2)return;const ssrAdapter2=useSsrAdapter(),NConfigProvider2=inject(configProviderInjectionKey,null),mountStyle2=__name(()=>{const clsPrefix=clsPrefixRef.value;style2.mount({id:clsPrefix===void 0?mountId:clsPrefix+mountId,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:clsPrefix?".".concat(clsPrefix,"-"):void 0},ssr:ssrAdapter2,parent:NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget}),NConfigProvider2!=null&&NConfigProvider2.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:ssrAdapter2,parent:NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget})},"mountStyle");ssrAdapter2?mountStyle2():onBeforeMount(mountStyle2)}__name(useStyle,"useStyle");function useTheme(resolveId,mountId,style2,defaultTheme,props,clsPrefixRef){const ssrAdapter2=useSsrAdapter(),NConfigProvider2=inject(configProviderInjectionKey,null);if(style2){const mountStyle2=__name(()=>{const clsPrefix=clsPrefixRef==null?void 0:clsPrefixRef.value;style2.mount({id:clsPrefix===void 0?mountId:clsPrefix+mountId,head:!0,props:{bPrefix:clsPrefix?".".concat(clsPrefix,"-"):void 0},anchorMetaName:cssrAnchorMetaName,ssr:ssrAdapter2,parent:NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget}),NConfigProvider2!=null&&NConfigProvider2.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:ssrAdapter2,parent:NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget})},"mountStyle");ssrAdapter2?mountStyle2():onBeforeMount(mountStyle2)}return computed(()=>{var _a4;const{theme:{common:selfCommon,self:self2,peers={}}={},themeOverrides:selfOverrides={},builtinThemeOverrides:builtinOverrides={}}=props,{common:selfCommonOverrides,peers:peersOverrides}=selfOverrides,{common:globalCommon=void 0,[resolveId]:{common:globalSelfCommon=void 0,self:globalSelf=void 0,peers:globalPeers={}}={}}=(NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeRef.value)||{},{common:globalCommonOverrides=void 0,[resolveId]:globalSelfOverrides={}}=(NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeOverridesRef.value)||{},{common:globalSelfCommonOverrides,peers:globalPeersOverrides={}}=globalSelfOverrides,mergedCommon=merge$1({},selfCommon||globalSelfCommon||globalCommon||defaultTheme.common,globalCommonOverrides,globalSelfCommonOverrides,selfCommonOverrides),mergedSelf=merge$1((_a4=self2||globalSelf||defaultTheme.self)===null||_a4===void 0?void 0:_a4(mergedCommon),builtinOverrides,globalSelfOverrides,selfOverrides);return{common:mergedCommon,self:mergedSelf,peers:merge$1({},defaultTheme.peers,globalPeers,peers),peerOverrides:merge$1({},builtinOverrides.peers,globalPeersOverrides,peersOverrides)}})}__name(useTheme,"useTheme");useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const style$f=cB("base-icon","\n height: 1em;\n width: 1em;\n line-height: 1em;\n text-align: center;\n display: inline-block;\n position: relative;\n fill: currentColor;\n",[c$4("svg","\n height: 1em;\n width: 1em;\n ")]),NBaseIcon=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(props){useStyle("-base-icon",style$f,toRef(props,"clsPrefix"))},render(){return h("i",{class:"".concat(this.clsPrefix,"-base-icon"),onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),NIconSwitchTransition=defineComponent({name:"BaseIconSwitchTransition",setup(_,{slots}){const isMountedRef=isMounted();return()=>h(Transition,{name:"icon-switch-transition",appear:isMountedRef.value},slots)}});function replaceable(name,icon){const IconComponent=defineComponent({render(){return icon()}});return defineComponent({name:upperFirst(name),setup(){var _a4;const mergedIconsRef=(_a4=inject(configProviderInjectionKey,null))===null||_a4===void 0?void 0:_a4.mergedIconsRef;return()=>{var _a5;const iconOverride=(_a5=mergedIconsRef==null?void 0:mergedIconsRef.value)===null||_a5===void 0?void 0:_a5[name];return iconOverride?iconOverride():h(IconComponent,null)}}})}__name(replaceable,"replaceable");const ChevronDownFilledIcon=defineComponent({name:"ChevronDownFilled",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))}}),ChevronRightIcon=defineComponent({name:"ChevronRight",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),ErrorIcon$1=replaceable("close",()=>h("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),ErrorIcon=replaceable("error",()=>h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),InfoIcon=replaceable("info",()=>h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),SuccessIcon=replaceable("success",()=>h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),WarningIcon=replaceable("warning",()=>h("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),{cubicBezierEaseInOut:cubicBezierEaseInOut$3}=commonVariables$n;function iconSwitchTransition({originalTransform="",left=0,top=0,transition="all .3s ".concat(cubicBezierEaseInOut$3," !important")}={}){return[c$4("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:"".concat(originalTransform," scale(0.75)"),left,top,opacity:0}),c$4("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:"scale(1) ".concat(originalTransform),left,top,opacity:1}),c$4("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left,top,transition})]}__name(iconSwitchTransition,"iconSwitchTransition");const style$e=cB("base-close","\n display: flex;\n align-items: center;\n justify-content: center;\n cursor: pointer;\n background-color: transparent;\n color: var(--n-close-icon-color);\n border-radius: var(--n-close-border-radius);\n height: var(--n-close-size);\n width: var(--n-close-size);\n font-size: var(--n-close-icon-size);\n outline: none;\n border: none;\n position: relative;\n padding: 0;\n",[cM("absolute","\n height: var(--n-close-icon-size);\n width: var(--n-close-icon-size);\n "),c$4("&::before",'\n content: "";\n position: absolute;\n width: var(--n-close-size);\n height: var(--n-close-size);\n left: 50%;\n top: 50%;\n transform: translateY(-50%) translateX(-50%);\n transition: inherit;\n border-radius: inherit;\n '),cNotM("disabled",[c$4("&:hover","\n color: var(--n-close-icon-color-hover);\n "),c$4("&:hover::before","\n background-color: var(--n-close-color-hover);\n "),c$4("&:focus::before","\n background-color: var(--n-close-color-hover);\n "),c$4("&:active","\n color: var(--n-close-icon-color-pressed);\n "),c$4("&:active::before","\n background-color: var(--n-close-color-pressed);\n ")]),cM("disabled","\n cursor: not-allowed;\n color: var(--n-close-icon-color-disabled);\n background-color: transparent;\n "),cM("round",[c$4("&::before","\n border-radius: 50%;\n ")])]),NBaseClose=defineComponent({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(props){return useStyle("-base-close",style$e,toRef(props,"clsPrefix")),()=>{const{clsPrefix,disabled,absolute,round,isButtonTag}=props;return h(isButtonTag?"button":"div",{type:isButtonTag?"button":void 0,tabindex:disabled||!props.focusable?-1:0,"aria-disabled":disabled,"aria-label":"close",role:isButtonTag?void 0:"button",disabled,class:["".concat(clsPrefix,"-base-close"),absolute&&"".concat(clsPrefix,"-base-close--absolute"),disabled&&"".concat(clsPrefix,"-base-close--disabled"),round&&"".concat(clsPrefix,"-base-close--round")],onMousedown:__name(e=>{props.focusable||e.preventDefault()},"onMousedown"),onClick:props.onClick},h(NBaseIcon,{clsPrefix},{default:__name(()=>h(ErrorIcon$1,null),"default")}))}}}),NFadeInExpandTransition=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(props,{slots}){function handleBeforeLeave(el){props.width?el.style.maxWidth="".concat(el.offsetWidth,"px"):el.style.maxHeight="".concat(el.offsetHeight,"px"),el.offsetWidth}__name(handleBeforeLeave,"handleBeforeLeave");function handleLeave(el){props.width?el.style.maxWidth="0":el.style.maxHeight="0",el.offsetWidth;const{onLeave}=props;onLeave&&onLeave()}__name(handleLeave,"handleLeave");function handleAfterLeave(el){props.width?el.style.maxWidth="":el.style.maxHeight="";const{onAfterLeave}=props;onAfterLeave&&onAfterLeave()}__name(handleAfterLeave,"handleAfterLeave");function handleEnter(el){if(el.style.transition="none",props.width){const memorizedWidth=el.offsetWidth;el.style.maxWidth="0",el.offsetWidth,el.style.transition="",el.style.maxWidth="".concat(memorizedWidth,"px")}else if(props.reverse)el.style.maxHeight="".concat(el.offsetHeight,"px"),el.offsetHeight,el.style.transition="",el.style.maxHeight="0";else{const memorizedHeight=el.offsetHeight;el.style.maxHeight="0",el.offsetWidth,el.style.transition="",el.style.maxHeight="".concat(memorizedHeight,"px")}el.offsetWidth}__name(handleEnter,"handleEnter");function handleAfterEnter(el){var _a4;props.width?el.style.maxWidth="":props.reverse||(el.style.maxHeight=""),(_a4=props.onAfterEnter)===null||_a4===void 0||_a4.call(props)}return __name(handleAfterEnter,"handleAfterEnter"),()=>{const{group,width,appear,mode}=props,type=group?TransitionGroup:Transition,resolvedProps={name:width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear,onEnter:handleEnter,onAfterEnter:handleAfterEnter,onBeforeLeave:handleBeforeLeave,onLeave:handleLeave,onAfterLeave:handleAfterLeave};return group||(resolvedProps.mode=mode),h(type,resolvedProps,slots)}}}),style$d=c$4([c$4("@keyframes rotator","\n 0% {\n -webkit-transform: rotate(0deg);\n transform: rotate(0deg);\n }\n 100% {\n -webkit-transform: rotate(360deg);\n transform: rotate(360deg);\n }"),cB("base-loading","\n position: relative;\n line-height: 0;\n width: 1em;\n height: 1em;\n ",[cE("transition-wrapper","\n position: absolute;\n width: 100%;\n height: 100%;\n ",[iconSwitchTransition()]),cE("placeholder","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n ",[iconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),cE("container","\n animation: rotator 3s linear infinite both;\n ",[cE("icon","\n height: 1em;\n width: 1em;\n ")])])]),duration="1.6s",exposedLoadingProps={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},NBaseLoading=defineComponent({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},exposedLoadingProps),setup(props){useStyle("-base-loading",style$d,toRef(props,"clsPrefix"))},render(){const{clsPrefix,radius,strokeWidth,stroke,scale}=this,scaledRadius=radius/scale;return h("div",{class:"".concat(clsPrefix,"-base-loading"),role:"img","aria-label":"loading"},h(NIconSwitchTransition,null,{default:__name(()=>this.show?h("div",{key:"icon",class:"".concat(clsPrefix,"-base-loading__transition-wrapper")},h("div",{class:"".concat(clsPrefix,"-base-loading__container")},h("svg",{class:"".concat(clsPrefix,"-base-loading__icon"),viewBox:"0 0 ".concat(2*scaledRadius," ").concat(2*scaledRadius),xmlns:"http://www.w3.org/2000/svg",style:{color:stroke}},h("g",null,h("animateTransform",{attributeName:"transform",type:"rotate",values:"0 ".concat(scaledRadius," ").concat(scaledRadius,";270 ").concat(scaledRadius," ").concat(scaledRadius),begin:"0s",dur:duration,fill:"freeze",repeatCount:"indefinite"}),h("circle",{class:"".concat(clsPrefix,"-base-loading__icon"),fill:"none",stroke:"currentColor","stroke-width":strokeWidth,"stroke-linecap":"round",cx:scaledRadius,cy:scaledRadius,r:radius-strokeWidth/2,"stroke-dasharray":5.67*radius,"stroke-dashoffset":18.48*radius},h("animateTransform",{attributeName:"transform",type:"rotate",values:"0 ".concat(scaledRadius," ").concat(scaledRadius,";135 ").concat(scaledRadius," ").concat(scaledRadius,";450 ").concat(scaledRadius," ").concat(scaledRadius),begin:"0s",dur:duration,fill:"freeze",repeatCount:"indefinite"}),h("animate",{attributeName:"stroke-dashoffset",values:"".concat(5.67*radius,";").concat(1.42*radius,";").concat(5.67*radius),begin:"0s",dur:duration,fill:"freeze",repeatCount:"indefinite"})))))):h("div",{key:"placeholder",class:"".concat(clsPrefix,"-base-loading__placeholder")},this.$slots),"default")}))}}),{cubicBezierEaseInOut:cubicBezierEaseInOut$2}=commonVariables$n;function fadeInTransition({name="fade-in",enterDuration="0.2s",leaveDuration="0.2s",enterCubicBezier=cubicBezierEaseInOut$2,leaveCubicBezier=cubicBezierEaseInOut$2}={}){return[c$4("&.".concat(name,"-transition-enter-active"),{transition:"all ".concat(enterDuration," ").concat(enterCubicBezier,"!important")}),c$4("&.".concat(name,"-transition-leave-active"),{transition:"all ".concat(leaveDuration," ").concat(leaveCubicBezier,"!important")}),c$4("&.".concat(name,"-transition-enter-from, &.").concat(name,"-transition-leave-to"),{opacity:0}),c$4("&.".concat(name,"-transition-leave-from, &.").concat(name,"-transition-enter-to"),{opacity:1})]}__name(fadeInTransition,"fadeInTransition");const base$1={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},baseBackgroundRgb$1=rgba(base$1.neutralBase),baseInvertBackgroundRgb$1=rgba(base$1.neutralInvertBase),overlayPrefix$1="rgba(".concat(baseInvertBackgroundRgb$1.slice(0,3).join(", "),", ");function overlay$1(alpha){return"".concat(overlayPrefix$1+String(alpha),")")}__name(overlay$1,"overlay$1");function neutral$1(alpha){const overlayRgba=Array.from(baseInvertBackgroundRgb$1);return overlayRgba[3]=Number(alpha),composite(baseBackgroundRgb$1,overlayRgba)}__name(neutral$1,"neutral$1");const derived$1=Object.assign(Object.assign({name:"common"},commonVariables$n),{baseColor:base$1.neutralBase,primaryColor:base$1.primaryDefault,primaryColorHover:base$1.primaryHover,primaryColorPressed:base$1.primaryActive,primaryColorSuppl:base$1.primarySuppl,infoColor:base$1.infoDefault,infoColorHover:base$1.infoHover,infoColorPressed:base$1.infoActive,infoColorSuppl:base$1.infoSuppl,successColor:base$1.successDefault,successColorHover:base$1.successHover,successColorPressed:base$1.successActive,successColorSuppl:base$1.successSuppl,warningColor:base$1.warningDefault,warningColorHover:base$1.warningHover,warningColorPressed:base$1.warningActive,warningColorSuppl:base$1.warningSuppl,errorColor:base$1.errorDefault,errorColorHover:base$1.errorHover,errorColorPressed:base$1.errorActive,errorColorSuppl:base$1.errorSuppl,textColorBase:base$1.neutralTextBase,textColor1:overlay$1(base$1.alpha1),textColor2:overlay$1(base$1.alpha2),textColor3:overlay$1(base$1.alpha3),textColorDisabled:overlay$1(base$1.alpha4),placeholderColor:overlay$1(base$1.alpha4),placeholderColorDisabled:overlay$1(base$1.alpha5),iconColor:overlay$1(base$1.alpha4),iconColorDisabled:overlay$1(base$1.alpha5),iconColorHover:overlay$1(Number(base$1.alpha4)*1.25),iconColorPressed:overlay$1(Number(base$1.alpha4)*.8),opacity1:base$1.alpha1,opacity2:base$1.alpha2,opacity3:base$1.alpha3,opacity4:base$1.alpha4,opacity5:base$1.alpha5,dividerColor:overlay$1(base$1.alphaDivider),borderColor:overlay$1(base$1.alphaBorder),closeIconColorHover:overlay$1(Number(base$1.alphaClose)),closeIconColor:overlay$1(Number(base$1.alphaClose)),closeIconColorPressed:overlay$1(Number(base$1.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:overlay$1(base$1.alpha4),clearColorHover:scaleColor(overlay$1(base$1.alpha4),{alpha:1.25}),clearColorPressed:scaleColor(overlay$1(base$1.alpha4),{alpha:.8}),scrollbarColor:overlay$1(base$1.alphaScrollbar),scrollbarColorHover:overlay$1(base$1.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:overlay$1(base$1.alphaProgressRail),railColor:overlay$1(base$1.alphaRail),popoverColor:base$1.neutralPopover,tableColor:base$1.neutralCard,cardColor:base$1.neutralCard,modalColor:base$1.neutralModal,bodyColor:base$1.neutralBody,tagColor:neutral$1(base$1.alphaTag),avatarColor:overlay$1(base$1.alphaAvatar),invertedColor:base$1.neutralBase,inputColor:overlay$1(base$1.alphaInput),codeColor:overlay$1(base$1.alphaCode),tabColor:overlay$1(base$1.alphaTab),actionColor:overlay$1(base$1.alphaAction),tableHeaderColor:overlay$1(base$1.alphaAction),hoverColor:overlay$1(base$1.alphaPending),tableColorHover:overlay$1(base$1.alphaTablePending),tableColorStriped:overlay$1(base$1.alphaTableStriped),pressedColor:overlay$1(base$1.alphaPressed),opacityDisabled:base$1.alphaDisabled,inputColorDisabled:overlay$1(base$1.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),base={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaAvatar:"0.2",alphaProgressRail:".08",alphaInput:"0",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb=rgba(base.neutralBase),baseInvertBackgroundRgb=rgba(base.neutralInvertBase),overlayPrefix="rgba(".concat(baseInvertBackgroundRgb.slice(0,3).join(", "),", ");function overlay(alpha){return"".concat(overlayPrefix+String(alpha),")")}__name(overlay,"overlay");function neutral(alpha){const overlayRgba=Array.from(baseInvertBackgroundRgb);return overlayRgba[3]=Number(alpha),composite(baseBackgroundRgb,overlayRgba)}__name(neutral,"neutral");const derived=Object.assign(Object.assign({name:"common"},commonVariables$n),{baseColor:base.neutralBase,primaryColor:base.primaryDefault,primaryColorHover:base.primaryHover,primaryColorPressed:base.primaryActive,primaryColorSuppl:base.primarySuppl,infoColor:base.infoDefault,infoColorHover:base.infoHover,infoColorPressed:base.infoActive,infoColorSuppl:base.infoSuppl,successColor:base.successDefault,successColorHover:base.successHover,successColorPressed:base.successActive,successColorSuppl:base.successSuppl,warningColor:base.warningDefault,warningColorHover:base.warningHover,warningColorPressed:base.warningActive,warningColorSuppl:base.warningSuppl,errorColor:base.errorDefault,errorColorHover:base.errorHover,errorColorPressed:base.errorActive,errorColorSuppl:base.errorSuppl,textColorBase:base.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral(base.alpha4),placeholderColor:neutral(base.alpha4),placeholderColorDisabled:neutral(base.alpha5),iconColor:neutral(base.alpha4),iconColorHover:scaleColor(neutral(base.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral(base.alpha4),{lightness:.9}),iconColorDisabled:neutral(base.alpha5),opacity1:base.alpha1,opacity2:base.alpha2,opacity3:base.alpha3,opacity4:base.alpha4,opacity5:base.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:neutral(Number(base.alphaClose)),closeIconColorHover:neutral(Number(base.alphaClose)),closeIconColorPressed:neutral(Number(base.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:neutral(base.alpha4),clearColorHover:scaleColor(neutral(base.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral(base.alpha4),{lightness:.9}),scrollbarColor:overlay(base.alphaScrollbar),scrollbarColorHover:overlay(base.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral(base.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base.neutralPopover,tableColor:base.neutralCard,cardColor:base.neutralCard,modalColor:base.neutralModal,bodyColor:base.neutralBody,tagColor:"#eee",avatarColor:neutral(base.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral(base.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),commonVars$d={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function self$1k(vars){const{scrollbarColor,scrollbarColorHover,scrollbarHeight,scrollbarWidth,scrollbarBorderRadius}=vars;return Object.assign(Object.assign({},commonVars$d),{height:scrollbarHeight,width:scrollbarWidth,borderRadius:scrollbarBorderRadius,color:scrollbarColor,colorHover:scrollbarColorHover})}__name(self$1k,"self$1k");const scrollbarLight={name:"Scrollbar",common:derived,self:self$1k},scrollbarDark={name:"Scrollbar",common:derived$1,self:self$1k},style$c=cB("scrollbar","\n overflow: hidden;\n position: relative;\n z-index: auto;\n height: 100%;\n width: 100%;\n",[c$4(">",[cB("scrollbar-container","\n width: 100%;\n overflow: scroll;\n height: 100%;\n min-height: inherit;\n max-height: inherit;\n scrollbar-width: none;\n ",[c$4("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),c$4(">",[cB("scrollbar-content","\n box-sizing: border-box;\n min-width: 100%;\n ")])])]),c$4(">, +",[cB("scrollbar-rail","\n position: absolute;\n pointer-events: none;\n user-select: none;\n background: var(--n-scrollbar-rail-color);\n -webkit-user-select: none;\n ",[cM("horizontal","\n height: var(--n-scrollbar-height);\n ",[c$4(">",[cE("scrollbar","\n height: var(--n-scrollbar-height);\n border-radius: var(--n-scrollbar-border-radius);\n right: 0;\n ")])]),cM("horizontal--top","\n top: var(--n-scrollbar-rail-top-horizontal-top); \n right: var(--n-scrollbar-rail-right-horizontal-top); \n bottom: var(--n-scrollbar-rail-bottom-horizontal-top); \n left: var(--n-scrollbar-rail-left-horizontal-top); \n "),cM("horizontal--bottom","\n top: var(--n-scrollbar-rail-top-horizontal-bottom); \n right: var(--n-scrollbar-rail-right-horizontal-bottom); \n bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); \n left: var(--n-scrollbar-rail-left-horizontal-bottom); \n "),cM("vertical","\n width: var(--n-scrollbar-width);\n ",[c$4(">",[cE("scrollbar","\n width: var(--n-scrollbar-width);\n border-radius: var(--n-scrollbar-border-radius);\n bottom: 0;\n ")])]),cM("vertical--left","\n top: var(--n-scrollbar-rail-top-vertical-left); \n right: var(--n-scrollbar-rail-right-vertical-left); \n bottom: var(--n-scrollbar-rail-bottom-vertical-left); \n left: var(--n-scrollbar-rail-left-vertical-left); \n "),cM("vertical--right","\n top: var(--n-scrollbar-rail-top-vertical-right); \n right: var(--n-scrollbar-rail-right-vertical-right); \n bottom: var(--n-scrollbar-rail-bottom-vertical-right); \n left: var(--n-scrollbar-rail-left-vertical-right); \n "),cM("disabled",[c$4(">",[cE("scrollbar","pointer-events: none;")])]),c$4(">",[cE("scrollbar","\n z-index: 1;\n position: absolute;\n cursor: pointer;\n pointer-events: all;\n background-color: var(--n-scrollbar-color);\n transition: background-color .2s var(--n-scrollbar-bezier);\n ",[fadeInTransition(),c$4("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),scrollbarProps=Object.assign(Object.assign({},useTheme.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,inheritAttrs:!1,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled,mergedRtlRef}=useConfig(props),rtlEnabledRef=useRtl("Scrollbar",mergedRtlRef,mergedClsPrefixRef),wrapperRef=ref(null),containerRef=ref(null),contentRef=ref(null),yRailRef=ref(null),xRailRef=ref(null),contentHeightRef=ref(null),contentWidthRef=ref(null),containerHeightRef=ref(null),containerWidthRef=ref(null),yRailSizeRef=ref(null),xRailSizeRef=ref(null),containerScrollTopRef=ref(0),containerScrollLeftRef=ref(0),isShowXBarRef=ref(!1),isShowYBarRef=ref(!1);let yBarPressed=!1,xBarPressed=!1,xBarVanishTimerId,yBarVanishTimerId,memoYTop=0,memoXLeft=0,memoMouseX=0,memoMouseY=0;const isIos2=useIsIos(),themeRef=useTheme("Scrollbar","-scrollbar",style$c,scrollbarLight,props,mergedClsPrefixRef),yBarSizeRef=computed(()=>{const{value:containerHeight}=containerHeightRef,{value:contentHeight}=contentHeightRef,{value:yRailSize}=yRailSizeRef;return containerHeight===null||contentHeight===null||yRailSize===null?0:Math.min(containerHeight,yRailSize*containerHeight/contentHeight+depx(themeRef.value.self.width)*1.5)}),yBarSizePxRef=computed(()=>"".concat(yBarSizeRef.value,"px")),xBarSizeRef=computed(()=>{const{value:containerWidth}=containerWidthRef,{value:contentWidth}=contentWidthRef,{value:xRailSize}=xRailSizeRef;return containerWidth===null||contentWidth===null||xRailSize===null?0:xRailSize*containerWidth/contentWidth+depx(themeRef.value.self.height)*1.5}),xBarSizePxRef=computed(()=>"".concat(xBarSizeRef.value,"px")),yBarTopRef=computed(()=>{const{value:containerHeight}=containerHeightRef,{value:containerScrollTop}=containerScrollTopRef,{value:contentHeight}=contentHeightRef,{value:yRailSize}=yRailSizeRef;if(containerHeight===null||contentHeight===null||yRailSize===null)return 0;{const heightDiff=contentHeight-containerHeight;return heightDiff?containerScrollTop/heightDiff*(yRailSize-yBarSizeRef.value):0}}),yBarTopPxRef=computed(()=>"".concat(yBarTopRef.value,"px")),xBarLeftRef=computed(()=>{const{value:containerWidth}=containerWidthRef,{value:containerScrollLeft}=containerScrollLeftRef,{value:contentWidth}=contentWidthRef,{value:xRailSize}=xRailSizeRef;if(containerWidth===null||contentWidth===null||xRailSize===null)return 0;{const widthDiff=contentWidth-containerWidth;return widthDiff?containerScrollLeft/widthDiff*(xRailSize-xBarSizeRef.value):0}}),xBarLeftPxRef=computed(()=>"".concat(xBarLeftRef.value,"px")),needYBarRef=computed(()=>{const{value:containerHeight}=containerHeightRef,{value:contentHeight}=contentHeightRef;return containerHeight!==null&&contentHeight!==null&&contentHeight>containerHeight}),needXBarRef=computed(()=>{const{value:containerWidth}=containerWidthRef,{value:contentWidth}=contentWidthRef;return containerWidth!==null&&contentWidth!==null&&contentWidth>containerWidth}),mergedShowXBarRef=computed(()=>{const{trigger:trigger2}=props;return trigger2==="none"||isShowXBarRef.value}),mergedShowYBarRef=computed(()=>{const{trigger:trigger2}=props;return trigger2==="none"||isShowYBarRef.value}),mergedContainerRef=computed(()=>{const{container}=props;return container?container():containerRef.value}),mergedContentRef=computed(()=>{const{content}=props;return content?content():contentRef.value}),scrollTo=__name((options,y)=>{if(!props.scrollable)return;if(typeof options=="number"){scrollToPosition2(options,y!=null?y:0,0,!1,"auto");return}const{left,top,index,elSize,position,behavior,el,debounce=!0}=options;(left!==void 0||top!==void 0)&&scrollToPosition2(left!=null?left:0,top!=null?top:0,0,!1,behavior),el!==void 0?scrollToPosition2(0,el.offsetTop,el.offsetHeight,debounce,behavior):index!==void 0&&elSize!==void 0?scrollToPosition2(0,index*elSize,elSize,debounce,behavior):position==="bottom"?scrollToPosition2(0,Number.MAX_SAFE_INTEGER,0,!1,behavior):position==="top"&&scrollToPosition2(0,0,0,!1,behavior)},"scrollTo"),activateState=useReactivated(()=>{props.container||scrollTo({top:containerScrollTopRef.value,left:containerScrollLeftRef.value})}),handleContentResize=__name(()=>{activateState.isDeactivated||sync()},"handleContentResize"),handleContainerResize=__name(e=>{if(activateState.isDeactivated)return;const{onResize}=props;onResize&&onResize(e),sync()},"handleContainerResize"),scrollBy=__name((options,y)=>{if(!props.scrollable)return;const{value:container}=mergedContainerRef;container&&(typeof options=="object"?container.scrollBy(options):container.scrollBy(options,y||0))},"scrollBy");function scrollToPosition2(left,top,elSize,debounce,behavior){const{value:container}=mergedContainerRef;if(container){if(debounce){const{scrollTop,offsetHeight}=container;if(top>scrollTop){top+elSize<=scrollTop+offsetHeight||container.scrollTo({left,top:top+elSize-offsetHeight,behavior});return}}container.scrollTo({left,top,behavior})}}__name(scrollToPosition2,"scrollToPosition");function handleMouseEnterWrapper(){showXBar(),showYBar(),sync()}__name(handleMouseEnterWrapper,"handleMouseEnterWrapper");function handleMouseLeaveWrapper(){hideBar()}__name(handleMouseLeaveWrapper,"handleMouseLeaveWrapper");function hideBar(){hideYBar(),hideXBar()}__name(hideBar,"hideBar");function hideYBar(){yBarVanishTimerId!==void 0&&window.clearTimeout(yBarVanishTimerId),yBarVanishTimerId=window.setTimeout(()=>{isShowYBarRef.value=!1},props.duration)}__name(hideYBar,"hideYBar");function hideXBar(){xBarVanishTimerId!==void 0&&window.clearTimeout(xBarVanishTimerId),xBarVanishTimerId=window.setTimeout(()=>{isShowXBarRef.value=!1},props.duration)}__name(hideXBar,"hideXBar");function showXBar(){xBarVanishTimerId!==void 0&&window.clearTimeout(xBarVanishTimerId),isShowXBarRef.value=!0}__name(showXBar,"showXBar");function showYBar(){yBarVanishTimerId!==void 0&&window.clearTimeout(yBarVanishTimerId),isShowYBarRef.value=!0}__name(showYBar,"showYBar");function handleScroll(e){const{onScroll}=props;onScroll&&onScroll(e),syncScrollState()}__name(handleScroll,"handleScroll");function syncScrollState(){const{value:container}=mergedContainerRef;container&&(containerScrollTopRef.value=container.scrollTop,containerScrollLeftRef.value=container.scrollLeft*(rtlEnabledRef!=null&&rtlEnabledRef.value?-1:1))}__name(syncScrollState,"syncScrollState");function syncPositionState(){const{value:content}=mergedContentRef;content&&(contentHeightRef.value=content.offsetHeight,contentWidthRef.value=content.offsetWidth);const{value:container}=mergedContainerRef;container&&(containerHeightRef.value=container.offsetHeight,containerWidthRef.value=container.offsetWidth);const{value:xRailEl}=xRailRef,{value:yRailEl}=yRailRef;xRailEl&&(xRailSizeRef.value=xRailEl.offsetWidth),yRailEl&&(yRailSizeRef.value=yRailEl.offsetHeight)}__name(syncPositionState,"syncPositionState");function syncUnifiedContainer(){const{value:container}=mergedContainerRef;container&&(containerScrollTopRef.value=container.scrollTop,containerScrollLeftRef.value=container.scrollLeft*(rtlEnabledRef!=null&&rtlEnabledRef.value?-1:1),containerHeightRef.value=container.offsetHeight,containerWidthRef.value=container.offsetWidth,contentHeightRef.value=container.scrollHeight,contentWidthRef.value=container.scrollWidth);const{value:xRailEl}=xRailRef,{value:yRailEl}=yRailRef;xRailEl&&(xRailSizeRef.value=xRailEl.offsetWidth),yRailEl&&(yRailSizeRef.value=yRailEl.offsetHeight)}__name(syncUnifiedContainer,"syncUnifiedContainer");function sync(){props.scrollable&&(props.useUnifiedContainer?syncUnifiedContainer():(syncPositionState(),syncScrollState()))}__name(sync,"sync");function isMouseUpAway(e){var _a4;return!(!((_a4=wrapperRef.value)===null||_a4===void 0)&&_a4.contains(getPreciseEventTarget(e)))}__name(isMouseUpAway,"isMouseUpAway");function handleXScrollMouseDown(e){e.preventDefault(),e.stopPropagation(),xBarPressed=!0,on("mousemove",window,handleXScrollMouseMove,!0),on("mouseup",window,handleXScrollMouseUp,!0),memoXLeft=containerScrollLeftRef.value,memoMouseX=rtlEnabledRef!=null&&rtlEnabledRef.value?window.innerWidth-e.clientX:e.clientX}__name(handleXScrollMouseDown,"handleXScrollMouseDown");function handleXScrollMouseMove(e){if(!xBarPressed)return;xBarVanishTimerId!==void 0&&window.clearTimeout(xBarVanishTimerId),yBarVanishTimerId!==void 0&&window.clearTimeout(yBarVanishTimerId);const{value:containerWidth}=containerWidthRef,{value:contentWidth}=contentWidthRef,{value:xBarSize}=xBarSizeRef;if(containerWidth===null||contentWidth===null)return;const dScrollLeft=(rtlEnabledRef!=null&&rtlEnabledRef.value?window.innerWidth-e.clientX-memoMouseX:e.clientX-memoMouseX)*(contentWidth-containerWidth)/(containerWidth-xBarSize),toScrollLeftUpperBound=contentWidth-containerWidth;let toScrollLeft=memoXLeft+dScrollLeft;toScrollLeft=Math.min(toScrollLeftUpperBound,toScrollLeft),toScrollLeft=Math.max(toScrollLeft,0);const{value:container}=mergedContainerRef;if(container){container.scrollLeft=toScrollLeft*(rtlEnabledRef!=null&&rtlEnabledRef.value?-1:1);const{internalOnUpdateScrollLeft}=props;internalOnUpdateScrollLeft&&internalOnUpdateScrollLeft(toScrollLeft)}}__name(handleXScrollMouseMove,"handleXScrollMouseMove");function handleXScrollMouseUp(e){e.preventDefault(),e.stopPropagation(),off("mousemove",window,handleXScrollMouseMove,!0),off("mouseup",window,handleXScrollMouseUp,!0),xBarPressed=!1,sync(),isMouseUpAway(e)&&hideBar()}__name(handleXScrollMouseUp,"handleXScrollMouseUp");function handleYScrollMouseDown(e){e.preventDefault(),e.stopPropagation(),yBarPressed=!0,on("mousemove",window,handleYScrollMouseMove,!0),on("mouseup",window,handleYScrollMouseUp,!0),memoYTop=containerScrollTopRef.value,memoMouseY=e.clientY}__name(handleYScrollMouseDown,"handleYScrollMouseDown");function handleYScrollMouseMove(e){if(!yBarPressed)return;xBarVanishTimerId!==void 0&&window.clearTimeout(xBarVanishTimerId),yBarVanishTimerId!==void 0&&window.clearTimeout(yBarVanishTimerId);const{value:containerHeight}=containerHeightRef,{value:contentHeight}=contentHeightRef,{value:yBarSize}=yBarSizeRef;if(containerHeight===null||contentHeight===null)return;const dScrollTop=(e.clientY-memoMouseY)*(contentHeight-containerHeight)/(containerHeight-yBarSize),toScrollTopUpperBound=contentHeight-containerHeight;let toScrollTop=memoYTop+dScrollTop;toScrollTop=Math.min(toScrollTopUpperBound,toScrollTop),toScrollTop=Math.max(toScrollTop,0);const{value:container}=mergedContainerRef;container&&(container.scrollTop=toScrollTop)}__name(handleYScrollMouseMove,"handleYScrollMouseMove");function handleYScrollMouseUp(e){e.preventDefault(),e.stopPropagation(),off("mousemove",window,handleYScrollMouseMove,!0),off("mouseup",window,handleYScrollMouseUp,!0),yBarPressed=!1,sync(),isMouseUpAway(e)&&hideBar()}__name(handleYScrollMouseUp,"handleYScrollMouseUp"),watchEffect(()=>{const{value:needXBar}=needXBarRef,{value:needYBar}=needYBarRef,{value:mergedClsPrefix}=mergedClsPrefixRef,{value:xRailEl}=xRailRef,{value:yRailEl}=yRailRef;xRailEl&&(needXBar?xRailEl.classList.remove("".concat(mergedClsPrefix,"-scrollbar-rail--disabled")):xRailEl.classList.add("".concat(mergedClsPrefix,"-scrollbar-rail--disabled"))),yRailEl&&(needYBar?yRailEl.classList.remove("".concat(mergedClsPrefix,"-scrollbar-rail--disabled")):yRailEl.classList.add("".concat(mergedClsPrefix,"-scrollbar-rail--disabled")))}),onMounted(()=>{props.container||sync()}),onBeforeUnmount(()=>{xBarVanishTimerId!==void 0&&window.clearTimeout(xBarVanishTimerId),yBarVanishTimerId!==void 0&&window.clearTimeout(yBarVanishTimerId),off("mousemove",window,handleYScrollMouseMove,!0),off("mouseup",window,handleYScrollMouseUp,!0)});const cssVarsRef=computed(()=>{const{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:{color,colorHover,height,width,borderRadius,railInsetHorizontalTop,railInsetHorizontalBottom,railInsetVerticalRight,railInsetVerticalLeft,railColor}}=themeRef.value,{top:railTopHorizontalTop,right:railRightHorizontalTop,bottom:railBottomHorizontalTop,left:railLeftHorizontalTop}=getMargin(railInsetHorizontalTop),{top:railTopHorizontalBottom,right:railRightHorizontalBottom,bottom:railBottomHorizontalBottom,left:railLeftHorizontalBottom}=getMargin(railInsetHorizontalBottom),{top:railTopVerticalRight,right:railRightVerticalRight,bottom:railBottomVerticalRight,left:railLeftVerticalRight}=getMargin(rtlEnabledRef!=null&&rtlEnabledRef.value?rtlInset(railInsetVerticalRight):railInsetVerticalRight),{top:railTopVerticalLeft,right:railRightVerticalLeft,bottom:railBottomVerticalLeft,left:railLeftVerticalLeft}=getMargin(rtlEnabledRef!=null&&rtlEnabledRef.value?rtlInset(railInsetVerticalLeft):railInsetVerticalLeft);return{"--n-scrollbar-bezier":cubicBezierEaseInOut2,"--n-scrollbar-color":color,"--n-scrollbar-color-hover":colorHover,"--n-scrollbar-border-radius":borderRadius,"--n-scrollbar-width":width,"--n-scrollbar-height":height,"--n-scrollbar-rail-top-horizontal-top":railTopHorizontalTop,"--n-scrollbar-rail-right-horizontal-top":railRightHorizontalTop,"--n-scrollbar-rail-bottom-horizontal-top":railBottomHorizontalTop,"--n-scrollbar-rail-left-horizontal-top":railLeftHorizontalTop,"--n-scrollbar-rail-top-horizontal-bottom":railTopHorizontalBottom,"--n-scrollbar-rail-right-horizontal-bottom":railRightHorizontalBottom,"--n-scrollbar-rail-bottom-horizontal-bottom":railBottomHorizontalBottom,"--n-scrollbar-rail-left-horizontal-bottom":railLeftHorizontalBottom,"--n-scrollbar-rail-top-vertical-right":railTopVerticalRight,"--n-scrollbar-rail-right-vertical-right":railRightVerticalRight,"--n-scrollbar-rail-bottom-vertical-right":railBottomVerticalRight,"--n-scrollbar-rail-left-vertical-right":railLeftVerticalRight,"--n-scrollbar-rail-top-vertical-left":railTopVerticalLeft,"--n-scrollbar-rail-right-vertical-left":railRightVerticalLeft,"--n-scrollbar-rail-bottom-vertical-left":railBottomVerticalLeft,"--n-scrollbar-rail-left-vertical-left":railLeftVerticalLeft,"--n-scrollbar-rail-color":railColor}}),themeClassHandle=inlineThemeDisabled?useThemeClass("scrollbar",void 0,cssVarsRef,props):void 0;return Object.assign(Object.assign({},{scrollTo,scrollBy,sync,syncUnifiedContainer,handleMouseEnterWrapper,handleMouseLeaveWrapper}),{mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,containerScrollTop:containerScrollTopRef,wrapperRef,containerRef,contentRef,yRailRef,xRailRef,needYBar:needYBarRef,needXBar:needXBarRef,yBarSizePx:yBarSizePxRef,xBarSizePx:xBarSizePxRef,yBarTopPx:yBarTopPxRef,xBarLeftPx:xBarLeftPxRef,isShowXBar:mergedShowXBarRef,isShowYBar:mergedShowYBarRef,isIos:isIos2,handleScroll,handleContentResize,handleContainerResize,handleYScrollMouseDown,handleXScrollMouseDown,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender})},render(){var _a4;const{$slots,mergedClsPrefix,triggerDisplayManually,rtlEnabled,internalHoistYRail,yPlacement,xPlacement,xScrollable}=this;if(!this.scrollable)return(_a4=$slots.default)===null||_a4===void 0?void 0:_a4.call($slots);const triggerIsNone=this.trigger==="none",createYRail=__name((className,style2)=>h("div",{ref:"yRailRef",class:["".concat(mergedClsPrefix,"-scrollbar-rail"),"".concat(mergedClsPrefix,"-scrollbar-rail--vertical"),"".concat(mergedClsPrefix,"-scrollbar-rail--vertical--").concat(yPlacement),className],"data-scrollbar-rail":!0,style:[style2||"",this.verticalRailStyle],"aria-hidden":!0},h(triggerIsNone?Wrapper:Transition,triggerIsNone?null:{name:"fade-in-transition"},{default:__name(()=>this.needYBar&&this.isShowYBar&&!this.isIos?h("div",{class:"".concat(mergedClsPrefix,"-scrollbar-rail__scrollbar"),style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null,"default")})),"createYRail"),createChildren=__name(()=>{var _a5,_b;return(_a5=this.onRender)===null||_a5===void 0||_a5.call(this),h("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:["".concat(mergedClsPrefix,"-scrollbar"),this.themeClass,rtlEnabled&&"".concat(mergedClsPrefix,"-scrollbar--rtl")],style:this.cssVars,onMouseenter:triggerDisplayManually?void 0:this.handleMouseEnterWrapper,onMouseleave:triggerDisplayManually?void 0:this.handleMouseLeaveWrapper}),[this.container?(_b=$slots.default)===null||_b===void 0?void 0:_b.call($slots):h("div",{role:"none",ref:"containerRef",class:["".concat(mergedClsPrefix,"-scrollbar-container"),this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h(VResizeObserver,{onResize:this.handleContentResize},{default:__name(()=>h("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:["".concat(mergedClsPrefix,"-scrollbar-content"),this.contentClass]},$slots),"default")})),internalHoistYRail?null:createYRail(void 0,void 0),xScrollable&&h("div",{ref:"xRailRef",class:["".concat(mergedClsPrefix,"-scrollbar-rail"),"".concat(mergedClsPrefix,"-scrollbar-rail--horizontal"),"".concat(mergedClsPrefix,"-scrollbar-rail--horizontal--").concat(xPlacement)],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},h(triggerIsNone?Wrapper:Transition,triggerIsNone?null:{name:"fade-in-transition"},{default:__name(()=>this.needXBar&&this.isShowXBar&&!this.isIos?h("div",{class:"".concat(mergedClsPrefix,"-scrollbar-rail__scrollbar"),style:{width:this.xBarSizePx,right:rtlEnabled?this.xBarLeftPx:void 0,left:rtlEnabled?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null,"default")}))])},"createChildren"),scrollbarNode=this.container?createChildren():h(VResizeObserver,{onResize:this.handleContainerResize},{default:createChildren});return internalHoistYRail?h(Fragment,null,scrollbarNode,createYRail(this.themeClass,this.cssVars)):scrollbarNode}}),XScrollbar=Scrollbar;function toArray$1(arg){return Array.isArray(arg)?arg:[arg]}__name(toArray$1,"toArray$1");const TRAVERSE_COMMAND={STOP:"STOP"};function traverseWithCb(treeNode,callback){const command=callback(treeNode);treeNode.children!==void 0&&command!==TRAVERSE_COMMAND.STOP&&treeNode.children.forEach(childNode=>traverseWithCb(childNode,callback))}__name(traverseWithCb,"traverseWithCb");function getNonLeafKeys(treeNodes,options={}){const{preserveGroup=!1}=options,keys2=[],cb=preserveGroup?node=>{node.isLeaf||(keys2.push(node.key),traverse2(node.children))}:node=>{node.isLeaf||(node.isGroup||keys2.push(node.key),traverse2(node.children))};function traverse2(nodes){nodes.forEach(cb)}return __name(traverse2,"traverse"),traverse2(treeNodes),keys2}__name(getNonLeafKeys,"getNonLeafKeys");function isLeaf(rawNode,getChildren){const{isLeaf:isLeaf2}=rawNode;return isLeaf2!==void 0?isLeaf2:!getChildren(rawNode)}__name(isLeaf,"isLeaf");function defaultGetChildren(node){return node.children}__name(defaultGetChildren,"defaultGetChildren");function defaultGetKey(node){return node.key}__name(defaultGetKey,"defaultGetKey");function isIgnored(){return!1}__name(isIgnored,"isIgnored");function isShallowLoaded(rawNode,getChildren){const{isLeaf:isLeaf2}=rawNode;return!(isLeaf2===!1&&!Array.isArray(getChildren(rawNode)))}__name(isShallowLoaded,"isShallowLoaded");function isDisabled(rawNode){return rawNode.disabled===!0}__name(isDisabled,"isDisabled");function isExpilicitlyNotLoaded(rawNode,getChildren){return rawNode.isLeaf===!1&&!Array.isArray(getChildren(rawNode))}__name(isExpilicitlyNotLoaded,"isExpilicitlyNotLoaded");function unwrapCheckedKeys(result){var _a4;return result==null?[]:Array.isArray(result)?result:(_a4=result.checkedKeys)!==null&&_a4!==void 0?_a4:[]}__name(unwrapCheckedKeys,"unwrapCheckedKeys");function unwrapIndeterminateKeys(result){var _a4;return result==null||Array.isArray(result)?[]:(_a4=result.indeterminateKeys)!==null&&_a4!==void 0?_a4:[]}__name(unwrapIndeterminateKeys,"unwrapIndeterminateKeys");function merge(originalKeys,keysToAdd){const set=new Set(originalKeys);return keysToAdd.forEach(key=>{set.has(key)||set.add(key)}),Array.from(set)}__name(merge,"merge");function minus(originalKeys,keysToRemove){const set=new Set(originalKeys);return keysToRemove.forEach(key=>{set.has(key)&&set.delete(key)}),Array.from(set)}__name(minus,"minus");function isGroup(rawNode){return(rawNode==null?void 0:rawNode.type)==="group"}__name(isGroup,"isGroup");function createIndexGetter(treeNodes){const map2=new Map;return treeNodes.forEach((treeNode,i)=>{map2.set(treeNode.key,i)}),key=>{var _a4;return(_a4=map2.get(key))!==null&&_a4!==void 0?_a4:null}}__name(createIndexGetter,"createIndexGetter");const _SubtreeNotLoadedError=class _SubtreeNotLoadedError extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}};__name(_SubtreeNotLoadedError,"SubtreeNotLoadedError");let SubtreeNotLoadedError=_SubtreeNotLoadedError;function getExtendedCheckedKeySetAfterCheck(checkKeys,currentCheckedKeys,treeMate,allowNotLoaded){return getExtendedCheckedKeySet(currentCheckedKeys.concat(checkKeys),treeMate,allowNotLoaded,!1)}__name(getExtendedCheckedKeySetAfterCheck,"getExtendedCheckedKeySetAfterCheck");function getAvailableAscendantNodeSet(uncheckedKeys,treeMate){const visitedKeys=new Set;return uncheckedKeys.forEach(uncheckedKey=>{const uncheckedTreeNode=treeMate.treeNodeMap.get(uncheckedKey);if(uncheckedTreeNode!==void 0){let nodeCursor=uncheckedTreeNode.parent;for(;nodeCursor!==null&&!(nodeCursor.disabled||visitedKeys.has(nodeCursor.key));)visitedKeys.add(nodeCursor.key),nodeCursor=nodeCursor.parent}}),visitedKeys}__name(getAvailableAscendantNodeSet,"getAvailableAscendantNodeSet");function getExtendedCheckedKeySetAfterUncheck(uncheckedKeys,currentCheckedKeys,treeMate,allowNotLoaded){const extendedCheckedKeySet=getExtendedCheckedKeySet(currentCheckedKeys,treeMate,allowNotLoaded,!1),extendedKeySetToUncheck=getExtendedCheckedKeySet(uncheckedKeys,treeMate,allowNotLoaded,!0),ascendantKeySet=getAvailableAscendantNodeSet(uncheckedKeys,treeMate),keysToRemove=[];return extendedCheckedKeySet.forEach(key=>{(extendedKeySetToUncheck.has(key)||ascendantKeySet.has(key))&&keysToRemove.push(key)}),keysToRemove.forEach(key=>extendedCheckedKeySet.delete(key)),extendedCheckedKeySet}__name(getExtendedCheckedKeySetAfterUncheck,"getExtendedCheckedKeySetAfterUncheck");function getCheckedKeys(options,treeMate){const{checkedKeys,keysToCheck,keysToUncheck,indeterminateKeys,cascade,leafOnly,checkStrategy,allowNotLoaded}=options;if(!cascade)return keysToCheck!==void 0?{checkedKeys:merge(checkedKeys,keysToCheck),indeterminateKeys:Array.from(indeterminateKeys)}:keysToUncheck!==void 0?{checkedKeys:minus(checkedKeys,keysToUncheck),indeterminateKeys:Array.from(indeterminateKeys)}:{checkedKeys:Array.from(checkedKeys),indeterminateKeys:Array.from(indeterminateKeys)};const{levelTreeNodeMap}=treeMate;let extendedCheckedKeySet;keysToUncheck!==void 0?extendedCheckedKeySet=getExtendedCheckedKeySetAfterUncheck(keysToUncheck,checkedKeys,treeMate,allowNotLoaded):keysToCheck!==void 0?extendedCheckedKeySet=getExtendedCheckedKeySetAfterCheck(keysToCheck,checkedKeys,treeMate,allowNotLoaded):extendedCheckedKeySet=getExtendedCheckedKeySet(checkedKeys,treeMate,allowNotLoaded,!1);const checkStrategyIsParent=checkStrategy==="parent",checkStrategyIsChild=checkStrategy==="child"||leafOnly,syntheticCheckedKeySet=extendedCheckedKeySet,syntheticIndeterminateKeySet=new Set,maxLevel=Math.max.apply(null,Array.from(levelTreeNodeMap.keys()));for(let level=maxLevel;level>=0;level-=1){const levelIsZero=level===0,levelTreeNodes=levelTreeNodeMap.get(level);for(const levelTreeNode of levelTreeNodes){if(levelTreeNode.isLeaf)continue;const{key:levelTreeNodeKey,shallowLoaded}=levelTreeNode;if(checkStrategyIsChild&&shallowLoaded&&levelTreeNode.children.forEach(v=>{!v.disabled&&!v.isLeaf&&v.shallowLoaded&&syntheticCheckedKeySet.has(v.key)&&syntheticCheckedKeySet.delete(v.key)}),levelTreeNode.disabled||!shallowLoaded)continue;let fullyChecked=!0,partialChecked=!1,allDisabled=!0;for(const childNode of levelTreeNode.children){const childKey=childNode.key;if(!childNode.disabled){if(allDisabled&&(allDisabled=!1),syntheticCheckedKeySet.has(childKey))partialChecked=!0;else if(syntheticIndeterminateKeySet.has(childKey)){partialChecked=!0,fullyChecked=!1;break}else if(fullyChecked=!1,partialChecked)break}}fullyChecked&&!allDisabled?(checkStrategyIsParent&&levelTreeNode.children.forEach(v=>{!v.disabled&&syntheticCheckedKeySet.has(v.key)&&syntheticCheckedKeySet.delete(v.key)}),syntheticCheckedKeySet.add(levelTreeNodeKey)):partialChecked&&syntheticIndeterminateKeySet.add(levelTreeNodeKey),levelIsZero&&checkStrategyIsChild&&syntheticCheckedKeySet.has(levelTreeNodeKey)&&syntheticCheckedKeySet.delete(levelTreeNodeKey)}}return{checkedKeys:Array.from(syntheticCheckedKeySet),indeterminateKeys:Array.from(syntheticIndeterminateKeySet)}}__name(getCheckedKeys,"getCheckedKeys");function getExtendedCheckedKeySet(checkedKeys,treeMate,allowNotLoaded,isUnchecking){const{treeNodeMap,getChildren}=treeMate,visitedKeySet=new Set,extendedKeySet=new Set(checkedKeys);return checkedKeys.forEach(checkedKey=>{const checkedTreeNode=treeNodeMap.get(checkedKey);checkedTreeNode!==void 0&&traverseWithCb(checkedTreeNode,treeNode=>{if(treeNode.disabled)return TRAVERSE_COMMAND.STOP;const{key}=treeNode;if(!visitedKeySet.has(key)&&(visitedKeySet.add(key),extendedKeySet.add(key),isExpilicitlyNotLoaded(treeNode.rawNode,getChildren))){if(isUnchecking)return TRAVERSE_COMMAND.STOP;if(!allowNotLoaded)throw new SubtreeNotLoadedError}})}),extendedKeySet}__name(getExtendedCheckedKeySet,"getExtendedCheckedKeySet");function getPath(key,{includeGroup=!1,includeSelf=!0},treeMate){var _a4;const treeNodeMap=treeMate.treeNodeMap;let treeNode=key==null?null:(_a4=treeNodeMap.get(key))!==null&&_a4!==void 0?_a4:null;const mergedPath={keyPath:[],treeNodePath:[],treeNode};if(treeNode!=null&&treeNode.ignored)return mergedPath.treeNode=null,mergedPath;for(;treeNode;)!treeNode.ignored&&(includeGroup||!treeNode.isGroup)&&mergedPath.treeNodePath.push(treeNode),treeNode=treeNode.parent;return mergedPath.treeNodePath.reverse(),includeSelf||mergedPath.treeNodePath.pop(),mergedPath.keyPath=mergedPath.treeNodePath.map(treeNode2=>treeNode2.key),mergedPath}__name(getPath,"getPath");function getFirstAvailableNode(nodes){if(nodes.length===0)return null;const node=nodes[0];return node.isGroup||node.ignored||node.disabled?node.getNext():node}__name(getFirstAvailableNode,"getFirstAvailableNode");function rawGetNext(node,loop){const sibs=node.siblings,l=sibs.length,{index}=node;return loop?sibs[(index+1)%l]:index===sibs.length-1?null:sibs[index+1]}__name(rawGetNext,"rawGetNext");function move(fromNode,dir,{loop=!1,includeDisabled=!1}={}){const iterate=dir==="prev"?rawGetPrev:rawGetNext,getChildOptions={reverse:dir==="prev"};let meet=!1,endNode=null;function traverse2(node){if(node!==null){if(node===fromNode){if(!meet)meet=!0;else if(!fromNode.disabled&&!fromNode.isGroup){endNode=fromNode;return}}else if((!node.disabled||includeDisabled)&&!node.ignored&&!node.isGroup){endNode=node;return}if(node.isGroup){const child=getChild(node,getChildOptions);child!==null?endNode=child:traverse2(iterate(node,loop))}else{const nextNode=iterate(node,!1);if(nextNode!==null)traverse2(nextNode);else{const parent=rawGetParent(node);parent!=null&&parent.isGroup?traverse2(iterate(parent,loop)):loop&&traverse2(iterate(node,!0))}}}}return __name(traverse2,"traverse"),traverse2(fromNode),endNode}__name(move,"move");function rawGetPrev(node,loop){const sibs=node.siblings,l=sibs.length,{index}=node;return loop?sibs[(index-1+l)%l]:index===0?null:sibs[index-1]}__name(rawGetPrev,"rawGetPrev");function rawGetParent(node){return node.parent}__name(rawGetParent,"rawGetParent");function getChild(node,options={}){const{reverse=!1}=options,{children}=node;if(children){const{length}=children,start=reverse?length-1:0,end=reverse?-1:length,delta=reverse?-1:1;for(let i=start;i!==end;i+=delta){const child=children[i];if(!child.disabled&&!child.ignored)if(child.isGroup){const childInGroup=getChild(child,options);if(childInGroup!==null)return childInGroup}else return child}}return null}__name(getChild,"getChild");const moveMethods={getChild(){return this.ignored?null:getChild(this)},getParent(){const{parent}=this;return parent!=null&&parent.isGroup?parent.getParent():parent},getNext(options={}){return move(this,"next",options)},getPrev(options={}){return move(this,"prev",options)}};function flatten(treeNodes,expandedKeys){const expandedKeySet=expandedKeys?new Set(expandedKeys):void 0,flattenedNodes=[];function traverse2(treeNodes2){treeNodes2.forEach(treeNode=>{flattenedNodes.push(treeNode),!(treeNode.isLeaf||!treeNode.children||treeNode.ignored)&&(treeNode.isGroup||expandedKeySet===void 0||expandedKeySet.has(treeNode.key))&&traverse2(treeNode.children)})}return __name(traverse2,"traverse"),traverse2(treeNodes),flattenedNodes}__name(flatten,"flatten");function contains(parent,child){const parentKey=parent.key;for(;child;){if(child.key===parentKey)return!0;child=child.parent}return!1}__name(contains,"contains");function createTreeNodes(rawNodes,treeNodeMap,levelTreeNodeMap,nodeProto,getChildren,parent=null,level=0){const treeNodes=[];return rawNodes.forEach((rawNode,index)=>{var _a4;const treeNode=Object.create(nodeProto);if(treeNode.rawNode=rawNode,treeNode.siblings=treeNodes,treeNode.level=level,treeNode.index=index,treeNode.isFirstChild=index===0,treeNode.isLastChild=index+1===rawNodes.length,treeNode.parent=parent,!treeNode.ignored){const rawChildren=getChildren(rawNode);Array.isArray(rawChildren)&&(treeNode.children=createTreeNodes(rawChildren,treeNodeMap,levelTreeNodeMap,nodeProto,getChildren,treeNode,level+1))}treeNodes.push(treeNode),treeNodeMap.set(treeNode.key,treeNode),levelTreeNodeMap.has(level)||levelTreeNodeMap.set(level,[]),(_a4=levelTreeNodeMap.get(level))===null||_a4===void 0||_a4.push(treeNode)}),treeNodes}__name(createTreeNodes,"createTreeNodes");function createTreeMate(rawNodes,options={}){var _a4;const treeNodeMap=new Map,levelTreeNodeMap=new Map,{getDisabled=isDisabled,getIgnored=isIgnored,getIsGroup=isGroup,getKey=defaultGetKey}=options,_getChildren=(_a4=options.getChildren)!==null&&_a4!==void 0?_a4:defaultGetChildren,getChildren=options.ignoreEmptyChildren?node=>{const children=_getChildren(node);return Array.isArray(children)?children.length?children:null:children}:_getChildren,nodeProto=Object.assign({get key(){return getKey(this.rawNode)},get disabled(){return getDisabled(this.rawNode)},get isGroup(){return getIsGroup(this.rawNode)},get isLeaf(){return isLeaf(this.rawNode,getChildren)},get shallowLoaded(){return isShallowLoaded(this.rawNode,getChildren)},get ignored(){return getIgnored(this.rawNode)},contains(node){return contains(this,node)}},moveMethods),treeNodes=createTreeNodes(rawNodes,treeNodeMap,levelTreeNodeMap,nodeProto,getChildren);function getNode(key){if(key==null)return null;const tmNode=treeNodeMap.get(key);return tmNode&&!tmNode.isGroup&&!tmNode.ignored?tmNode:null}__name(getNode,"getNode");function _getNode(key){if(key==null)return null;const tmNode=treeNodeMap.get(key);return tmNode&&!tmNode.ignored?tmNode:null}__name(_getNode,"_getNode");function getPrev(key,options2){const node=_getNode(key);return node?node.getPrev(options2):null}__name(getPrev,"getPrev");function getNext(key,options2){const node=_getNode(key);return node?node.getNext(options2):null}__name(getNext,"getNext");function getParent(key){const node=_getNode(key);return node?node.getParent():null}__name(getParent,"getParent");function getChild2(key){const node=_getNode(key);return node?node.getChild():null}__name(getChild2,"getChild");const treemate={treeNodes,treeNodeMap,levelTreeNodeMap,maxLevel:Math.max(...levelTreeNodeMap.keys()),getChildren,getFlattenedNodes(expandedKeys){return flatten(treeNodes,expandedKeys)},getNode,getPrev,getNext,getParent,getChild:getChild2,getFirstAvailableNode(){return getFirstAvailableNode(treeNodes)},getPath(key,options2={}){return getPath(key,options2,treemate)},getCheckedKeys(checkedKeys,options2={}){const{cascade=!0,leafOnly=!1,checkStrategy="all",allowNotLoaded=!1}=options2;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(checkedKeys),indeterminateKeys:unwrapIndeterminateKeys(checkedKeys),cascade,leafOnly,checkStrategy,allowNotLoaded},treemate)},check(keysToCheck,checkedKeys,options2={}){const{cascade=!0,leafOnly=!1,checkStrategy="all",allowNotLoaded=!1}=options2;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(checkedKeys),indeterminateKeys:unwrapIndeterminateKeys(checkedKeys),keysToCheck:keysToCheck==null?[]:toArray$1(keysToCheck),cascade,leafOnly,checkStrategy,allowNotLoaded},treemate)},uncheck(keysToUncheck,checkedKeys,options2={}){const{cascade=!0,leafOnly=!1,checkStrategy="all",allowNotLoaded=!1}=options2;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(checkedKeys),indeterminateKeys:unwrapIndeterminateKeys(checkedKeys),keysToUncheck:keysToUncheck==null?[]:toArray$1(keysToUncheck),cascade,leafOnly,checkStrategy,allowNotLoaded},treemate)},getNonLeafKeys(options2={}){return getNonLeafKeys(treeNodes,options2)}};return treemate}__name(createTreeMate,"createTreeMate");const commonVars$c={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function self$1j(vars){const{textColorDisabled,iconColor,textColor2,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge}=vars;return Object.assign(Object.assign({},commonVars$c),{fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge,textColor:textColorDisabled,iconColor,extraTextColor:textColor2})}__name(self$1j,"self$1j");const emptyLight={name:"Empty",common:derived,self:self$1j},emptyDark={name:"Empty",common:derived$1,self:self$1j},commonVariables$m={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function self$1i(vars){const{borderRadius,popoverColor,textColor3,dividerColor,textColor2,primaryColorPressed,textColorDisabled,primaryColor,opacityDisabled,hoverColor,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge,heightTiny,heightSmall,heightMedium,heightLarge,heightHuge}=vars;return Object.assign(Object.assign({},commonVariables$m),{optionFontSizeTiny:fontSizeTiny,optionFontSizeSmall:fontSizeSmall,optionFontSizeMedium:fontSizeMedium,optionFontSizeLarge:fontSizeLarge,optionFontSizeHuge:fontSizeHuge,optionHeightTiny:heightTiny,optionHeightSmall:heightSmall,optionHeightMedium:heightMedium,optionHeightLarge:heightLarge,optionHeightHuge:heightHuge,borderRadius,color:popoverColor,groupHeaderTextColor:textColor3,actionDividerColor:dividerColor,optionTextColor:textColor2,optionTextColorPressed:primaryColorPressed,optionTextColorDisabled:textColorDisabled,optionTextColorActive:primaryColor,optionOpacityDisabled:opacityDisabled,optionCheckColor:primaryColor,optionColorPending:hoverColor,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:hoverColor,actionTextColor:textColor2,loadingColor:primaryColor})}__name(self$1i,"self$1i");const internalSelectMenuLight={name:"InternalSelectMenu",common:derived,peers:{Scrollbar:scrollbarLight,Empty:emptyLight},self:self$1i},internalSelectMenuDark={name:"InternalSelectMenu",common:derived$1,peers:{Scrollbar:scrollbarDark,Empty:emptyDark},self:self$1i},{cubicBezierEaseIn:cubicBezierEaseIn$1,cubicBezierEaseOut:cubicBezierEaseOut$1}=commonVariables$n;function fadeInScaleUpTransition({transformOrigin="inherit",duration:duration2=".2s",enterScale=".9",originalTransform="",originalTransition=""}={}){return[c$4("&.fade-in-scale-up-transition-leave-active",{transformOrigin,transition:"opacity ".concat(duration2," ").concat(cubicBezierEaseIn$1,", transform ").concat(duration2," ").concat(cubicBezierEaseIn$1," ").concat(originalTransition&&",".concat(originalTransition))}),c$4("&.fade-in-scale-up-transition-enter-active",{transformOrigin,transition:"opacity ".concat(duration2," ").concat(cubicBezierEaseOut$1,", transform ").concat(duration2," ").concat(cubicBezierEaseOut$1," ").concat(originalTransition&&",".concat(originalTransition))}),c$4("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:"".concat(originalTransform," scale(").concat(enterScale,")")}),c$4("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:"".concat(originalTransform," scale(1)")})]}__name(fadeInScaleUpTransition,"fadeInScaleUpTransition");const commonVariables$l={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function self$1h(vars){const{boxShadow2,popoverColor,textColor2,borderRadius,fontSize:fontSize2,dividerColor}=vars;return Object.assign(Object.assign({},commonVariables$l),{fontSize:fontSize2,borderRadius,color:popoverColor,dividerColor,textColor:textColor2,boxShadow:boxShadow2})}__name(self$1h,"self$1h");const popoverLight={name:"Popover",common:derived,self:self$1h},popoverDark={name:"Popover",common:derived$1,self:self$1h},oppositePlacement={top:"bottom",bottom:"top",left:"right",right:"left"},arrowSize="var(--n-arrow-height) * 1.414",style$b=c$4([cB("popover","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n ",[c$4(">",[cB("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),cNotM("raw","\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n ",[cNotM("scrollable",[cNotM("show-header-or-footer","padding: var(--n-padding);")])]),cE("header","\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),cE("footer","\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),cM("scrollable, show-header-or-footer",[cE("content","\n padding: var(--n-padding);\n ")])]),cB("popover-shared","\n transform-origin: inherit;\n ",[cB("popover-arrow-wrapper","\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n ",[cB("popover-arrow","\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(".concat(arrowSize,");\n height: calc(").concat(arrowSize,");\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n "))]),c$4("&.popover-transition-enter-from, &.popover-transition-leave-to","\n opacity: 0;\n transform: scale(.85);\n "),c$4("&.popover-transition-enter-to, &.popover-transition-leave-from","\n transform: scale(1);\n opacity: 1;\n "),c$4("&.popover-transition-enter-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n "),c$4("&.popover-transition-leave-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n ")]),placementStyle("top-start","\n top: calc(".concat(arrowSize," / -2);\n left: calc(").concat(getArrowOffset("top-start")," - var(--v-offset-left));\n ")),placementStyle("top","\n top: calc(".concat(arrowSize," / -2);\n transform: translateX(calc(").concat(arrowSize," / -2)) rotate(45deg);\n left: 50%;\n ")),placementStyle("top-end","\n top: calc(".concat(arrowSize," / -2);\n right: calc(").concat(getArrowOffset("top-end")," + var(--v-offset-left));\n ")),placementStyle("bottom-start","\n bottom: calc(".concat(arrowSize," / -2);\n left: calc(").concat(getArrowOffset("bottom-start")," - var(--v-offset-left));\n ")),placementStyle("bottom","\n bottom: calc(".concat(arrowSize," / -2);\n transform: translateX(calc(").concat(arrowSize," / -2)) rotate(45deg);\n left: 50%;\n ")),placementStyle("bottom-end","\n bottom: calc(".concat(arrowSize," / -2);\n right: calc(").concat(getArrowOffset("bottom-end")," + var(--v-offset-left));\n ")),placementStyle("left-start","\n left: calc(".concat(arrowSize," / -2);\n top: calc(").concat(getArrowOffset("left-start")," - var(--v-offset-top));\n ")),placementStyle("left","\n left: calc(".concat(arrowSize," / -2);\n transform: translateY(calc(").concat(arrowSize," / -2)) rotate(45deg);\n top: 50%;\n ")),placementStyle("left-end","\n left: calc(".concat(arrowSize," / -2);\n bottom: calc(").concat(getArrowOffset("left-end")," + var(--v-offset-top));\n ")),placementStyle("right-start","\n right: calc(".concat(arrowSize," / -2);\n top: calc(").concat(getArrowOffset("right-start")," - var(--v-offset-top));\n ")),placementStyle("right","\n right: calc(".concat(arrowSize," / -2);\n transform: translateY(calc(").concat(arrowSize," / -2)) rotate(45deg);\n top: 50%;\n ")),placementStyle("right-end","\n right: calc(".concat(arrowSize," / -2);\n bottom: calc(").concat(getArrowOffset("right-end")," + var(--v-offset-top));\n ")),...map({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(placements,direction)=>{const isVertical=["right","left"].includes(direction),sizeType=isVertical?"width":"height";return placements.map(placement=>{const isReverse=placement.split("-")[1]==="end",targetSize="var(--v-target-".concat(sizeType,", 0px)"),centerOffset="calc((".concat(targetSize," - ").concat(arrowSize,") / 2)"),offset=getArrowOffset(placement);return c$4('[v-placement="'.concat(placement,'"] >'),[cB("popover-shared",[cM("center-arrow",[cB("popover-arrow","".concat(direction,": calc(max(").concat(centerOffset,", ").concat(offset,") ").concat(isReverse?"+":"-"," var(--v-offset-").concat(isVertical?"left":"top","));"))])])])})})]);function getArrowOffset(placement){return["top","bottom"].includes(placement.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}__name(getArrowOffset,"getArrowOffset");function placementStyle(placement,arrowStyleLiteral){const position=placement.split("-")[0],sizeStyle=["top","bottom"].includes(position)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return c$4('[v-placement="'.concat(placement,'"] >'),[cB("popover-shared","\n margin-".concat(oppositePlacement[position],": var(--n-space);\n "),[cM("show-arrow","\n margin-".concat(oppositePlacement[position],": var(--n-space-arrow);\n ")),cM("overlap","\n margin: 0;\n "),cCB("popover-arrow-wrapper","\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ".concat(position,": 100%;\n ").concat(oppositePlacement[position],": auto;\n ").concat(sizeStyle,"\n "),[cB("popover-arrow",arrowStyleLiteral)])])])}__name(placementStyle,"placementStyle");const popoverBodyProps=Object.assign(Object.assign({},useTheme.props),{to:useAdjustedTo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function renderArrow({arrowClass,arrowStyle,arrowWrapperClass,arrowWrapperStyle,clsPrefix}){return h("div",{key:"__popover-arrow__",style:arrowWrapperStyle,class:["".concat(clsPrefix,"-popover-arrow-wrapper"),arrowWrapperClass]},h("div",{class:["".concat(clsPrefix,"-popover-arrow"),arrowClass],style:arrowStyle}))}__name(renderArrow,"renderArrow");const NPopoverBody=defineComponent({name:"PopoverBody",inheritAttrs:!1,props:popoverBodyProps,setup(props,{slots,attrs}){const{namespaceRef,mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Popover","-popover",style$b,popoverLight,props,mergedClsPrefixRef),followerRef=ref(null),NPopover2=inject("NPopover"),bodyRef=ref(null),followerEnabledRef=ref(props.show),displayedRef=ref(!1);watchEffect(()=>{const{show}=props;show&&!isJsdom()&&!props.internalDeactivateImmediately&&(displayedRef.value=!0)});const directivesRef=computed(()=>{const{trigger:trigger2,onClickoutside}=props,directives=[],{positionManuallyRef:{value:positionManually}}=NPopover2;return positionManually||(trigger2==="click"&&!onClickoutside&&directives.push([clickoutside,handleClickOutside,void 0,{capture:!0}]),trigger2==="hover"&&directives.push([mousemoveoutside,handleMouseMoveOutside])),onClickoutside&&directives.push([clickoutside,handleClickOutside,void 0,{capture:!0}]),(props.displayDirective==="show"||props.animated&&displayedRef.value)&&directives.push([vShow,props.show]),directives}),cssVarsRef=computed(()=>{const{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2,cubicBezierEaseIn:cubicBezierEaseIn2,cubicBezierEaseOut:cubicBezierEaseOut2},self:{space,spaceArrow,padding,fontSize:fontSize2,textColor,dividerColor,color,boxShadow,borderRadius,arrowHeight,arrowOffset,arrowOffsetVertical}}=themeRef.value;return{"--n-box-shadow":boxShadow,"--n-bezier":cubicBezierEaseInOut2,"--n-bezier-ease-in":cubicBezierEaseIn2,"--n-bezier-ease-out":cubicBezierEaseOut2,"--n-font-size":fontSize2,"--n-text-color":textColor,"--n-color":color,"--n-divider-color":dividerColor,"--n-border-radius":borderRadius,"--n-arrow-height":arrowHeight,"--n-arrow-offset":arrowOffset,"--n-arrow-offset-vertical":arrowOffsetVertical,"--n-padding":padding,"--n-space":space,"--n-space-arrow":spaceArrow}}),styleRef=computed(()=>{const width=props.width==="trigger"?void 0:formatLength(props.width),style2=[];width&&style2.push({width});const{maxWidth,minWidth}=props;return maxWidth&&style2.push({maxWidth:formatLength(maxWidth)}),minWidth&&style2.push({maxWidth:formatLength(minWidth)}),inlineThemeDisabled||style2.push(cssVarsRef.value),style2}),themeClassHandle=inlineThemeDisabled?useThemeClass("popover",void 0,cssVarsRef,props):void 0;NPopover2.setBodyInstance({syncPosition}),onBeforeUnmount(()=>{NPopover2.setBodyInstance(null)}),watch(toRef(props,"show"),value=>{props.animated||(value?followerEnabledRef.value=!0:followerEnabledRef.value=!1)});function syncPosition(){var _a4;(_a4=followerRef.value)===null||_a4===void 0||_a4.syncPosition()}__name(syncPosition,"syncPosition");function handleMouseEnter(e){props.trigger==="hover"&&props.keepAliveOnHover&&props.show&&NPopover2.handleMouseEnter(e)}__name(handleMouseEnter,"handleMouseEnter");function handleMouseLeave(e){props.trigger==="hover"&&props.keepAliveOnHover&&NPopover2.handleMouseLeave(e)}__name(handleMouseLeave,"handleMouseLeave");function handleMouseMoveOutside(e){props.trigger==="hover"&&!getTriggerElement().contains(getPreciseEventTarget(e))&&NPopover2.handleMouseMoveOutside(e)}__name(handleMouseMoveOutside,"handleMouseMoveOutside");function handleClickOutside(e){(props.trigger==="click"&&!getTriggerElement().contains(getPreciseEventTarget(e))||props.onClickoutside)&&NPopover2.handleClickOutside(e)}__name(handleClickOutside,"handleClickOutside");function getTriggerElement(){return NPopover2.getTriggerElement()}__name(getTriggerElement,"getTriggerElement"),provide(popoverBodyInjectionKey,bodyRef),provide(drawerBodyInjectionKey,null),provide(modalBodyInjectionKey,null);function renderContentNode(){if(themeClassHandle==null||themeClassHandle.onRender(),!(props.displayDirective==="show"||props.show||props.animated&&displayedRef.value))return null;let contentNode;const renderBody=NPopover2.internalRenderBodyRef.value,{value:mergedClsPrefix}=mergedClsPrefixRef;if(renderBody)contentNode=renderBody(["".concat(mergedClsPrefix,"-popover-shared"),themeClassHandle==null?void 0:themeClassHandle.themeClass.value,props.overlap&&"".concat(mergedClsPrefix,"-popover-shared--overlap"),props.showArrow&&"".concat(mergedClsPrefix,"-popover-shared--show-arrow"),props.arrowPointToCenter&&"".concat(mergedClsPrefix,"-popover-shared--center-arrow")],bodyRef,styleRef.value,handleMouseEnter,handleMouseLeave);else{const{value:extraClass}=NPopover2.extraClassRef,{internalTrapFocus}=props,hasHeaderOrFooter=!isSlotEmpty(slots.header)||!isSlotEmpty(slots.footer),renderContentInnerNode=__name(()=>{var _a4,_b;const body=hasHeaderOrFooter?h(Fragment,null,resolveWrappedSlot(slots.header,children=>children?h("div",{class:["".concat(mergedClsPrefix,"-popover__header"),props.headerClass],style:props.headerStyle},children):null),resolveWrappedSlot(slots.default,children=>children?h("div",{class:["".concat(mergedClsPrefix,"-popover__content"),props.contentClass],style:props.contentStyle},slots):null),resolveWrappedSlot(slots.footer,children=>children?h("div",{class:["".concat(mergedClsPrefix,"-popover__footer"),props.footerClass],style:props.footerStyle},children):null)):props.scrollable?(_a4=slots.default)===null||_a4===void 0?void 0:_a4.call(slots):h("div",{class:["".concat(mergedClsPrefix,"-popover__content"),props.contentClass],style:props.contentStyle},slots),maybeScrollableBody=props.scrollable?h(XScrollbar,{contentClass:hasHeaderOrFooter?void 0:"".concat(mergedClsPrefix,"-popover__content ").concat((_b=props.contentClass)!==null&&_b!==void 0?_b:""),contentStyle:hasHeaderOrFooter?void 0:props.contentStyle},{default:__name(()=>body,"default")}):body,arrow=props.showArrow?renderArrow({arrowClass:props.arrowClass,arrowStyle:props.arrowStyle,arrowWrapperClass:props.arrowWrapperClass,arrowWrapperStyle:props.arrowWrapperStyle,clsPrefix:mergedClsPrefix}):null;return[maybeScrollableBody,arrow]},"renderContentInnerNode");contentNode=h("div",mergeProps({class:["".concat(mergedClsPrefix,"-popover"),"".concat(mergedClsPrefix,"-popover-shared"),themeClassHandle==null?void 0:themeClassHandle.themeClass.value,extraClass.map(v=>"".concat(mergedClsPrefix,"-").concat(v)),{["".concat(mergedClsPrefix,"-popover--scrollable")]:props.scrollable,["".concat(mergedClsPrefix,"-popover--show-header-or-footer")]:hasHeaderOrFooter,["".concat(mergedClsPrefix,"-popover--raw")]:props.raw,["".concat(mergedClsPrefix,"-popover-shared--overlap")]:props.overlap,["".concat(mergedClsPrefix,"-popover-shared--show-arrow")]:props.showArrow,["".concat(mergedClsPrefix,"-popover-shared--center-arrow")]:props.arrowPointToCenter}],ref:bodyRef,style:styleRef.value,onKeydown:NPopover2.handleKeydown,onMouseenter:handleMouseEnter,onMouseleave:handleMouseLeave},attrs),internalTrapFocus?h(FocusTrap,{active:props.show,autoFocus:!0},{default:renderContentInnerNode}):renderContentInnerNode())}return withDirectives(contentNode,directivesRef.value)}return __name(renderContentNode,"renderContentNode"),{displayed:displayedRef,namespace:namespaceRef,isMounted:NPopover2.isMountedRef,zIndex:NPopover2.zIndexRef,followerRef,adjustedTo:useAdjustedTo(props),followerEnabled:followerEnabledRef,renderContentNode}},render(){return h(VFollower,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey},{default:__name(()=>this.animated?h(Transition,{name:"popover-transition",appear:this.isMounted,onEnter:__name(()=>{this.followerEnabled=!0},"onEnter"),onAfterLeave:__name(()=>{var _a4;(_a4=this.internalOnAfterLeave)===null||_a4===void 0||_a4.call(this),this.followerEnabled=!1,this.displayed=!1},"onAfterLeave")},{default:this.renderContentNode}):this.renderContentNode(),"default")})}}),bodyPropKeys=Object.keys(popoverBodyProps),triggerEventMap={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function appendEvents(vNode,trigger2,events2){triggerEventMap[trigger2].forEach(eventName=>{vNode.props?vNode.props=Object.assign({},vNode.props):vNode.props={};const originalHandler=vNode.props[eventName],handler=events2[eventName];originalHandler?vNode.props[eventName]=(...args)=>{originalHandler(...args),handler(...args)}:vNode.props[eventName]=handler})}__name(appendEvents,"appendEvents");const popoverBaseProps={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:useAdjustedTo.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:__name(()=>[],"default")},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:__name(()=>[],"default")},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},popoverProps=Object.assign(Object.assign(Object.assign({},useTheme.props),popoverBaseProps),{internalOnAfterLeave:Function,internalRenderBody:Function}),NPopover=defineComponent({name:"Popover",inheritAttrs:!1,props:popoverProps,slots:Object,__popover__:!0,setup(props){const isMountedRef=isMounted(),binderInstRef=ref(null),controlledShowRef=computed(()=>props.show),uncontrolledShowRef=ref(props.defaultShow),mergedShowWithoutDisabledRef=useMergedState(controlledShowRef,uncontrolledShowRef),mergedShowConsideringDisabledPropRef=useMemo(()=>props.disabled?!1:mergedShowWithoutDisabledRef.value),getMergedDisabled=__name(()=>{if(props.disabled)return!0;const{getDisabled}=props;return!!(getDisabled!=null&&getDisabled())},"getMergedDisabled"),getMergedShow=__name(()=>getMergedDisabled()?!1:mergedShowWithoutDisabledRef.value,"getMergedShow"),compatibleShowArrowRef=useCompitable(props,["arrow","showArrow"]),mergedShowArrowRef=computed(()=>props.overlap?!1:compatibleShowArrowRef.value);let bodyInstance=null;const showTimerIdRef=ref(null),hideTimerIdRef=ref(null),positionManuallyRef=useMemo(()=>props.x!==void 0&&props.y!==void 0);function doUpdateShow(value){const{"onUpdate:show":_onUpdateShow,onUpdateShow,onShow,onHide}=props;uncontrolledShowRef.value=value,_onUpdateShow&&call(_onUpdateShow,value),onUpdateShow&&call(onUpdateShow,value),value&&onShow&&call(onShow,!0),value&&onHide&&call(onHide,!1)}__name(doUpdateShow,"doUpdateShow");function syncPosition(){bodyInstance&&bodyInstance.syncPosition()}__name(syncPosition,"syncPosition");function clearShowTimer(){const{value:showTimerId}=showTimerIdRef;showTimerId&&(window.clearTimeout(showTimerId),showTimerIdRef.value=null)}__name(clearShowTimer,"clearShowTimer");function clearHideTimer(){const{value:hideTimerId}=hideTimerIdRef;hideTimerId&&(window.clearTimeout(hideTimerId),hideTimerIdRef.value=null)}__name(clearHideTimer,"clearHideTimer");function handleFocus(){const mergedDisabled=getMergedDisabled();if(props.trigger==="focus"&&!mergedDisabled){if(getMergedShow())return;doUpdateShow(!0)}}__name(handleFocus,"handleFocus");function handleBlur(){const mergedDisabled=getMergedDisabled();if(props.trigger==="focus"&&!mergedDisabled){if(!getMergedShow())return;doUpdateShow(!1)}}__name(handleBlur,"handleBlur");function handleMouseEnter(){const mergedDisabled=getMergedDisabled();if(props.trigger==="hover"&&!mergedDisabled){if(clearHideTimer(),showTimerIdRef.value!==null||getMergedShow())return;const delayCallback=__name(()=>{doUpdateShow(!0),showTimerIdRef.value=null},"delayCallback"),{delay}=props;delay===0?delayCallback():showTimerIdRef.value=window.setTimeout(delayCallback,delay)}}__name(handleMouseEnter,"handleMouseEnter");function handleMouseLeave(){const mergedDisabled=getMergedDisabled();if(props.trigger==="hover"&&!mergedDisabled){if(clearShowTimer(),hideTimerIdRef.value!==null||!getMergedShow())return;const delayedCallback=__name(()=>{doUpdateShow(!1),hideTimerIdRef.value=null},"delayedCallback"),{duration:duration2}=props;duration2===0?delayedCallback():hideTimerIdRef.value=window.setTimeout(delayedCallback,duration2)}}__name(handleMouseLeave,"handleMouseLeave");function handleMouseMoveOutside(){handleMouseLeave()}__name(handleMouseMoveOutside,"handleMouseMoveOutside");function handleClickOutside(e){var _a4;getMergedShow()&&(props.trigger==="click"&&(clearShowTimer(),clearHideTimer(),doUpdateShow(!1)),(_a4=props.onClickoutside)===null||_a4===void 0||_a4.call(props,e))}__name(handleClickOutside,"handleClickOutside");function handleClick2(){if(props.trigger==="click"&&!getMergedDisabled()){clearShowTimer(),clearHideTimer();const nextShow=!getMergedShow();doUpdateShow(nextShow)}}__name(handleClick2,"handleClick");function handleKeydown(e){props.internalTrapFocus&&e.key==="Escape"&&(clearShowTimer(),clearHideTimer(),doUpdateShow(!1))}__name(handleKeydown,"handleKeydown");function setShow(value){uncontrolledShowRef.value=value}__name(setShow,"setShow");function getTriggerElement(){var _a4;return(_a4=binderInstRef.value)===null||_a4===void 0?void 0:_a4.targetRef}__name(getTriggerElement,"getTriggerElement");function setBodyInstance(value){bodyInstance=value}return __name(setBodyInstance,"setBodyInstance"),provide("NPopover",{getTriggerElement,handleKeydown,handleMouseEnter,handleMouseLeave,handleClickOutside,handleMouseMoveOutside,setBodyInstance,positionManuallyRef,isMountedRef,zIndexRef:toRef(props,"zIndex"),extraClassRef:toRef(props,"internalExtraClass"),internalRenderBodyRef:toRef(props,"internalRenderBody")}),watchEffect(()=>{mergedShowWithoutDisabledRef.value&&getMergedDisabled()&&doUpdateShow(!1)}),{binderInstRef,positionManually:positionManuallyRef,mergedShowConsideringDisabledProp:mergedShowConsideringDisabledPropRef,uncontrolledShow:uncontrolledShowRef,mergedShowArrow:mergedShowArrowRef,getMergedShow,setShow,handleClick:handleClick2,handleMouseEnter,handleMouseLeave,handleFocus,handleBlur,syncPosition}},render(){var _a4;const{positionManually,$slots:slots}=this;let triggerVNode,popoverInside=!1;if(!positionManually&&(triggerVNode=getFirstSlotVNode(slots,"trigger"),triggerVNode)){triggerVNode=cloneVNode(triggerVNode),triggerVNode=triggerVNode.type===Text?h("span",[triggerVNode]):triggerVNode;const handlers2={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((_a4=triggerVNode.type)===null||_a4===void 0)&&_a4.__popover__)popoverInside=!0,triggerVNode.props||(triggerVNode.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),triggerVNode.props.internalSyncTargetWithParent=!0,triggerVNode.props.internalInheritedEventHandlers?triggerVNode.props.internalInheritedEventHandlers=[handlers2,...triggerVNode.props.internalInheritedEventHandlers]:triggerVNode.props.internalInheritedEventHandlers=[handlers2];else{const{internalInheritedEventHandlers}=this,ascendantAndCurrentHandlers=[handlers2,...internalInheritedEventHandlers],mergedHandlers={onBlur:__name(e=>{ascendantAndCurrentHandlers.forEach(_handlers=>{_handlers.onBlur(e)})},"onBlur"),onFocus:__name(e=>{ascendantAndCurrentHandlers.forEach(_handlers=>{_handlers.onFocus(e)})},"onFocus"),onClick:__name(e=>{ascendantAndCurrentHandlers.forEach(_handlers=>{_handlers.onClick(e)})},"onClick"),onMouseenter:__name(e=>{ascendantAndCurrentHandlers.forEach(_handlers=>{_handlers.onMouseenter(e)})},"onMouseenter"),onMouseleave:__name(e=>{ascendantAndCurrentHandlers.forEach(_handlers=>{_handlers.onMouseleave(e)})},"onMouseleave")};appendEvents(triggerVNode,internalInheritedEventHandlers?"nested":positionManually?"manual":this.trigger,mergedHandlers)}}return h(Binder,{ref:"binderInstRef",syncTarget:!popoverInside,syncTargetWithParent:this.internalSyncTargetWithParent},{default:__name(()=>{this.mergedShowConsideringDisabledProp;const mergedShow=this.getMergedShow();return[this.internalTrapFocus&&mergedShow?withDirectives(h("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[zindexable,{enabled:mergedShow,zIndex:this.zIndex}]]):null,positionManually?null:h(VTarget,null,{default:__name(()=>triggerVNode,"default")}),h(NPopoverBody,keep(this.$props,bodyPropKeys,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:mergedShow})),{default:__name(()=>{var _a22,_b;return(_b=(_a22=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a22)},"default"),header:__name(()=>{var _a22,_b;return(_b=(_a22=this.$slots).header)===null||_b===void 0?void 0:_b.call(_a22)},"header"),footer:__name(()=>{var _a22,_b;return(_b=(_a22=this.$slots).footer)===null||_b===void 0?void 0:_b.call(_a22)},"footer")})]},"default")})}}),commonVariables$k={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"},tagDark={name:"Tag",common:derived$1,self(vars){const{textColor2,primaryColorHover,primaryColorPressed,primaryColor,infoColor,successColor,warningColor,errorColor,baseColor,borderColor,tagColor,opacityDisabled,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,borderRadiusSmall:borderRadius,fontSizeMini,fontSizeTiny,fontSizeSmall,fontSizeMedium,heightMini,heightTiny,heightSmall,heightMedium,buttonColor2Hover,buttonColor2Pressed,fontWeightStrong}=vars;return Object.assign(Object.assign({},commonVariables$k),{closeBorderRadius:borderRadius,heightTiny:heightMini,heightSmall:heightTiny,heightMedium:heightSmall,heightLarge:heightMedium,borderRadius,opacityDisabled,fontSizeTiny:fontSizeMini,fontSizeSmall:fontSizeTiny,fontSizeMedium:fontSizeSmall,fontSizeLarge:fontSizeMedium,fontWeightStrong,textColorCheckable:textColor2,textColorHoverCheckable:textColor2,textColorPressedCheckable:textColor2,textColorChecked:baseColor,colorCheckable:"#0000",colorHoverCheckable:buttonColor2Hover,colorPressedCheckable:buttonColor2Pressed,colorChecked:primaryColor,colorCheckedHover:primaryColorHover,colorCheckedPressed:primaryColorPressed,border:"1px solid ".concat(borderColor),textColor:textColor2,color:tagColor,colorBordered:"#0000",closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,borderPrimary:"1px solid ".concat(changeColor(primaryColor,{alpha:.3})),textColorPrimary:primaryColor,colorPrimary:changeColor(primaryColor,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:scaleColor(primaryColor,{lightness:.7}),closeIconColorHoverPrimary:scaleColor(primaryColor,{lightness:.7}),closeIconColorPressedPrimary:scaleColor(primaryColor,{lightness:.7}),closeColorHoverPrimary:changeColor(primaryColor,{alpha:.16}),closeColorPressedPrimary:changeColor(primaryColor,{alpha:.12}),borderInfo:"1px solid ".concat(changeColor(infoColor,{alpha:.3})),textColorInfo:infoColor,colorInfo:changeColor(infoColor,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:scaleColor(infoColor,{alpha:.7}),closeIconColorHoverInfo:scaleColor(infoColor,{alpha:.7}),closeIconColorPressedInfo:scaleColor(infoColor,{alpha:.7}),closeColorHoverInfo:changeColor(infoColor,{alpha:.16}),closeColorPressedInfo:changeColor(infoColor,{alpha:.12}),borderSuccess:"1px solid ".concat(changeColor(successColor,{alpha:.3})),textColorSuccess:successColor,colorSuccess:changeColor(successColor,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:scaleColor(successColor,{alpha:.7}),closeIconColorHoverSuccess:scaleColor(successColor,{alpha:.7}),closeIconColorPressedSuccess:scaleColor(successColor,{alpha:.7}),closeColorHoverSuccess:changeColor(successColor,{alpha:.16}),closeColorPressedSuccess:changeColor(successColor,{alpha:.12}),borderWarning:"1px solid ".concat(changeColor(warningColor,{alpha:.3})),textColorWarning:warningColor,colorWarning:changeColor(warningColor,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:scaleColor(warningColor,{alpha:.7}),closeIconColorHoverWarning:scaleColor(warningColor,{alpha:.7}),closeIconColorPressedWarning:scaleColor(warningColor,{alpha:.7}),closeColorHoverWarning:changeColor(warningColor,{alpha:.16}),closeColorPressedWarning:changeColor(warningColor,{alpha:.11}),borderError:"1px solid ".concat(changeColor(errorColor,{alpha:.3})),textColorError:errorColor,colorError:changeColor(errorColor,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:scaleColor(errorColor,{alpha:.7}),closeIconColorHoverError:scaleColor(errorColor,{alpha:.7}),closeIconColorPressedError:scaleColor(errorColor,{alpha:.7}),closeColorHoverError:changeColor(errorColor,{alpha:.16}),closeColorPressedError:changeColor(errorColor,{alpha:.12})})}};function self$1g(vars){const{textColor2,primaryColorHover,primaryColorPressed,primaryColor,infoColor,successColor,warningColor,errorColor,baseColor,borderColor,opacityDisabled,tagColor,closeIconColor,closeIconColorHover,closeIconColorPressed,borderRadiusSmall:borderRadius,fontSizeMini,fontSizeTiny,fontSizeSmall,fontSizeMedium,heightMini,heightTiny,heightSmall,heightMedium,closeColorHover,closeColorPressed,buttonColor2Hover,buttonColor2Pressed,fontWeightStrong}=vars;return Object.assign(Object.assign({},commonVariables$k),{closeBorderRadius:borderRadius,heightTiny:heightMini,heightSmall:heightTiny,heightMedium:heightSmall,heightLarge:heightMedium,borderRadius,opacityDisabled,fontSizeTiny:fontSizeMini,fontSizeSmall:fontSizeTiny,fontSizeMedium:fontSizeSmall,fontSizeLarge:fontSizeMedium,fontWeightStrong,textColorCheckable:textColor2,textColorHoverCheckable:textColor2,textColorPressedCheckable:textColor2,textColorChecked:baseColor,colorCheckable:"#0000",colorHoverCheckable:buttonColor2Hover,colorPressedCheckable:buttonColor2Pressed,colorChecked:primaryColor,colorCheckedHover:primaryColorHover,colorCheckedPressed:primaryColorPressed,border:"1px solid ".concat(borderColor),textColor:textColor2,color:tagColor,colorBordered:"rgb(250, 250, 252)",closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,borderPrimary:"1px solid ".concat(changeColor(primaryColor,{alpha:.3})),textColorPrimary:primaryColor,colorPrimary:changeColor(primaryColor,{alpha:.12}),colorBorderedPrimary:changeColor(primaryColor,{alpha:.1}),closeIconColorPrimary:primaryColor,closeIconColorHoverPrimary:primaryColor,closeIconColorPressedPrimary:primaryColor,closeColorHoverPrimary:changeColor(primaryColor,{alpha:.12}),closeColorPressedPrimary:changeColor(primaryColor,{alpha:.18}),borderInfo:"1px solid ".concat(changeColor(infoColor,{alpha:.3})),textColorInfo:infoColor,colorInfo:changeColor(infoColor,{alpha:.12}),colorBorderedInfo:changeColor(infoColor,{alpha:.1}),closeIconColorInfo:infoColor,closeIconColorHoverInfo:infoColor,closeIconColorPressedInfo:infoColor,closeColorHoverInfo:changeColor(infoColor,{alpha:.12}),closeColorPressedInfo:changeColor(infoColor,{alpha:.18}),borderSuccess:"1px solid ".concat(changeColor(successColor,{alpha:.3})),textColorSuccess:successColor,colorSuccess:changeColor(successColor,{alpha:.12}),colorBorderedSuccess:changeColor(successColor,{alpha:.1}),closeIconColorSuccess:successColor,closeIconColorHoverSuccess:successColor,closeIconColorPressedSuccess:successColor,closeColorHoverSuccess:changeColor(successColor,{alpha:.12}),closeColorPressedSuccess:changeColor(successColor,{alpha:.18}),borderWarning:"1px solid ".concat(changeColor(warningColor,{alpha:.35})),textColorWarning:warningColor,colorWarning:changeColor(warningColor,{alpha:.15}),colorBorderedWarning:changeColor(warningColor,{alpha:.12}),closeIconColorWarning:warningColor,closeIconColorHoverWarning:warningColor,closeIconColorPressedWarning:warningColor,closeColorHoverWarning:changeColor(warningColor,{alpha:.12}),closeColorPressedWarning:changeColor(warningColor,{alpha:.18}),borderError:"1px solid ".concat(changeColor(errorColor,{alpha:.23})),textColorError:errorColor,colorError:changeColor(errorColor,{alpha:.1}),colorBorderedError:changeColor(errorColor,{alpha:.08}),closeIconColorError:errorColor,closeIconColorHoverError:errorColor,closeIconColorPressedError:errorColor,closeColorHoverError:changeColor(errorColor,{alpha:.12}),closeColorPressedError:changeColor(errorColor,{alpha:.18})})}__name(self$1g,"self$1g");const tagLight={name:"Tag",common:derived,self:self$1g},commonVariables$j={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},internalSelectionDark={name:"InternalSelection",common:derived$1,peers:{Popover:popoverDark},self(vars){const{borderRadius,textColor2,textColorDisabled,inputColor,inputColorDisabled,primaryColor,primaryColorHover,warningColor,warningColorHover,errorColor,errorColorHover,iconColor,iconColorDisabled,clearColor,clearColorHover,clearColorPressed,placeholderColor,placeholderColorDisabled,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,fontWeight}=vars;return Object.assign(Object.assign({},commonVariables$j),{fontWeight,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,borderRadius,textColor:textColor2,textColorDisabled,placeholderColor,placeholderColorDisabled,color:inputColor,colorDisabled:inputColorDisabled,colorActive:changeColor(primaryColor,{alpha:.1}),border:"1px solid #0000",borderHover:"1px solid ".concat(primaryColorHover),borderActive:"1px solid ".concat(primaryColor),borderFocus:"1px solid ".concat(primaryColorHover),boxShadowHover:"none",boxShadowActive:"0 0 8px 0 ".concat(changeColor(primaryColor,{alpha:.4})),boxShadowFocus:"0 0 8px 0 ".concat(changeColor(primaryColor,{alpha:.4})),caretColor:primaryColor,arrowColor:iconColor,arrowColorDisabled:iconColorDisabled,loadingColor:primaryColor,borderWarning:"1px solid ".concat(warningColor),borderHoverWarning:"1px solid ".concat(warningColorHover),borderActiveWarning:"1px solid ".concat(warningColor),borderFocusWarning:"1px solid ".concat(warningColorHover),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 8px 0 ".concat(changeColor(warningColor,{alpha:.4})),boxShadowFocusWarning:"0 0 8px 0 ".concat(changeColor(warningColor,{alpha:.4})),colorActiveWarning:changeColor(warningColor,{alpha:.1}),caretColorWarning:warningColor,borderError:"1px solid ".concat(errorColor),borderHoverError:"1px solid ".concat(errorColorHover),borderActiveError:"1px solid ".concat(errorColor),borderFocusError:"1px solid ".concat(errorColorHover),boxShadowHoverError:"none",boxShadowActiveError:"0 0 8px 0 ".concat(changeColor(errorColor,{alpha:.4})),boxShadowFocusError:"0 0 8px 0 ".concat(changeColor(errorColor,{alpha:.4})),colorActiveError:changeColor(errorColor,{alpha:.1}),caretColorError:errorColor,clearColor,clearColorHover,clearColorPressed})}};function self$1f(vars){const{borderRadius,textColor2,textColorDisabled,inputColor,inputColorDisabled,primaryColor,primaryColorHover,warningColor,warningColorHover,errorColor,errorColorHover,borderColor,iconColor,iconColorDisabled,clearColor,clearColorHover,clearColorPressed,placeholderColor,placeholderColorDisabled,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,fontWeight}=vars;return Object.assign(Object.assign({},commonVariables$j),{fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,borderRadius,fontWeight,textColor:textColor2,textColorDisabled,placeholderColor,placeholderColorDisabled,color:inputColor,colorDisabled:inputColorDisabled,colorActive:inputColor,border:"1px solid ".concat(borderColor),borderHover:"1px solid ".concat(primaryColorHover),borderActive:"1px solid ".concat(primaryColor),borderFocus:"1px solid ".concat(primaryColorHover),boxShadowHover:"none",boxShadowActive:"0 0 0 2px ".concat(changeColor(primaryColor,{alpha:.2})),boxShadowFocus:"0 0 0 2px ".concat(changeColor(primaryColor,{alpha:.2})),caretColor:primaryColor,arrowColor:iconColor,arrowColorDisabled:iconColorDisabled,loadingColor:primaryColor,borderWarning:"1px solid ".concat(warningColor),borderHoverWarning:"1px solid ".concat(warningColorHover),borderActiveWarning:"1px solid ".concat(warningColor),borderFocusWarning:"1px solid ".concat(warningColorHover),boxShadowHoverWarning:"none",boxShadowActiveWarning:"0 0 0 2px ".concat(changeColor(warningColor,{alpha:.2})),boxShadowFocusWarning:"0 0 0 2px ".concat(changeColor(warningColor,{alpha:.2})),colorActiveWarning:inputColor,caretColorWarning:warningColor,borderError:"1px solid ".concat(errorColor),borderHoverError:"1px solid ".concat(errorColorHover),borderActiveError:"1px solid ".concat(errorColor),borderFocusError:"1px solid ".concat(errorColorHover),boxShadowHoverError:"none",boxShadowActiveError:"0 0 0 2px ".concat(changeColor(errorColor,{alpha:.2})),boxShadowFocusError:"0 0 0 2px ".concat(changeColor(errorColor,{alpha:.2})),colorActiveError:inputColor,caretColorError:errorColor,clearColor,clearColorHover,clearColorPressed})}__name(self$1f,"self$1f");const internalSelectionLight={name:"InternalSelection",common:derived,peers:{Popover:popoverLight},self:self$1f},{cubicBezierEaseInOut:cubicBezierEaseInOut$1}=commonVariables$n;function fadeInWidthExpandTransition({duration:duration2=".2s",delay=".1s"}={}){return[c$4("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c$4("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from","\n opacity: 0!important;\n margin-left: 0!important;\n margin-right: 0!important;\n "),c$4("&.fade-in-width-expand-transition-leave-active","\n overflow: hidden;\n transition:\n opacity ".concat(duration2," ").concat(cubicBezierEaseInOut$1,",\n max-width ").concat(duration2," ").concat(cubicBezierEaseInOut$1," ").concat(delay,",\n margin-left ").concat(duration2," ").concat(cubicBezierEaseInOut$1," ").concat(delay,",\n margin-right ").concat(duration2," ").concat(cubicBezierEaseInOut$1," ").concat(delay,";\n ")),c$4("&.fade-in-width-expand-transition-enter-active","\n overflow: hidden;\n transition:\n opacity ".concat(duration2," ").concat(cubicBezierEaseInOut$1," ").concat(delay,",\n max-width ").concat(duration2," ").concat(cubicBezierEaseInOut$1,",\n margin-left ").concat(duration2," ").concat(cubicBezierEaseInOut$1,",\n margin-right ").concat(duration2," ").concat(cubicBezierEaseInOut$1,";\n "))]}__name(fadeInWidthExpandTransition,"fadeInWidthExpandTransition");const style$a=cB("base-wave","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n"),NBaseWave=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(props){useStyle("-base-wave",style$a,toRef(props,"clsPrefix"));const selfRef=ref(null),activeRef=ref(!1);let animationTimerId=null;return onBeforeUnmount(()=>{animationTimerId!==null&&window.clearTimeout(animationTimerId)}),{active:activeRef,selfRef,play(){animationTimerId!==null&&(window.clearTimeout(animationTimerId),activeRef.value=!1,animationTimerId=null),nextTick(()=>{var _a4;(_a4=selfRef.value)===null||_a4===void 0||_a4.offsetHeight,activeRef.value=!0,animationTimerId=window.setTimeout(()=>{activeRef.value=!1,animationTimerId=null},1e3)})}}},render(){const{clsPrefix}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:["".concat(clsPrefix,"-base-wave"),this.active&&"".concat(clsPrefix,"-base-wave--active")]})}}),commonVars$b={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},alertDark={name:"Alert",common:derived$1,self(vars){const{lineHeight:lineHeight2,borderRadius,fontWeightStrong,dividerColor,inputColor,textColor1,textColor2,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,infoColorSuppl,successColorSuppl,warningColorSuppl,errorColorSuppl,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},commonVars$b),{fontSize:fontSize2,lineHeight:lineHeight2,titleFontWeight:fontWeightStrong,borderRadius,border:"1px solid ".concat(dividerColor),color:inputColor,titleTextColor:textColor1,iconColor:textColor2,contentTextColor:textColor2,closeBorderRadius:borderRadius,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,borderInfo:"1px solid ".concat(changeColor(infoColorSuppl,{alpha:.35})),colorInfo:changeColor(infoColorSuppl,{alpha:.25}),titleTextColorInfo:textColor1,iconColorInfo:infoColorSuppl,contentTextColorInfo:textColor2,closeColorHoverInfo:closeColorHover,closeColorPressedInfo:closeColorPressed,closeIconColorInfo:closeIconColor,closeIconColorHoverInfo:closeIconColorHover,closeIconColorPressedInfo:closeIconColorPressed,borderSuccess:"1px solid ".concat(changeColor(successColorSuppl,{alpha:.35})),colorSuccess:changeColor(successColorSuppl,{alpha:.25}),titleTextColorSuccess:textColor1,iconColorSuccess:successColorSuppl,contentTextColorSuccess:textColor2,closeColorHoverSuccess:closeColorHover,closeColorPressedSuccess:closeColorPressed,closeIconColorSuccess:closeIconColor,closeIconColorHoverSuccess:closeIconColorHover,closeIconColorPressedSuccess:closeIconColorPressed,borderWarning:"1px solid ".concat(changeColor(warningColorSuppl,{alpha:.35})),colorWarning:changeColor(warningColorSuppl,{alpha:.25}),titleTextColorWarning:textColor1,iconColorWarning:warningColorSuppl,contentTextColorWarning:textColor2,closeColorHoverWarning:closeColorHover,closeColorPressedWarning:closeColorPressed,closeIconColorWarning:closeIconColor,closeIconColorHoverWarning:closeIconColorHover,closeIconColorPressedWarning:closeIconColorPressed,borderError:"1px solid ".concat(changeColor(errorColorSuppl,{alpha:.35})),colorError:changeColor(errorColorSuppl,{alpha:.25}),titleTextColorError:textColor1,iconColorError:errorColorSuppl,contentTextColorError:textColor2,closeColorHoverError:closeColorHover,closeColorPressedError:closeColorPressed,closeIconColorError:closeIconColor,closeIconColorHoverError:closeIconColorHover,closeIconColorPressedError:closeIconColorPressed})}};function self$1e(vars){const{lineHeight:lineHeight2,borderRadius,fontWeightStrong,baseColor,dividerColor,actionColor,textColor1,textColor2,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,infoColor,successColor,warningColor,errorColor,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},commonVars$b),{fontSize:fontSize2,lineHeight:lineHeight2,titleFontWeight:fontWeightStrong,borderRadius,border:"1px solid ".concat(dividerColor),color:actionColor,titleTextColor:textColor1,iconColor:textColor2,contentTextColor:textColor2,closeBorderRadius:borderRadius,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,borderInfo:"1px solid ".concat(composite(baseColor,changeColor(infoColor,{alpha:.25}))),colorInfo:composite(baseColor,changeColor(infoColor,{alpha:.08})),titleTextColorInfo:textColor1,iconColorInfo:infoColor,contentTextColorInfo:textColor2,closeColorHoverInfo:closeColorHover,closeColorPressedInfo:closeColorPressed,closeIconColorInfo:closeIconColor,closeIconColorHoverInfo:closeIconColorHover,closeIconColorPressedInfo:closeIconColorPressed,borderSuccess:"1px solid ".concat(composite(baseColor,changeColor(successColor,{alpha:.25}))),colorSuccess:composite(baseColor,changeColor(successColor,{alpha:.08})),titleTextColorSuccess:textColor1,iconColorSuccess:successColor,contentTextColorSuccess:textColor2,closeColorHoverSuccess:closeColorHover,closeColorPressedSuccess:closeColorPressed,closeIconColorSuccess:closeIconColor,closeIconColorHoverSuccess:closeIconColorHover,closeIconColorPressedSuccess:closeIconColorPressed,borderWarning:"1px solid ".concat(composite(baseColor,changeColor(warningColor,{alpha:.33}))),colorWarning:composite(baseColor,changeColor(warningColor,{alpha:.08})),titleTextColorWarning:textColor1,iconColorWarning:warningColor,contentTextColorWarning:textColor2,closeColorHoverWarning:closeColorHover,closeColorPressedWarning:closeColorPressed,closeIconColorWarning:closeIconColor,closeIconColorHoverWarning:closeIconColorHover,closeIconColorPressedWarning:closeIconColorPressed,borderError:"1px solid ".concat(composite(baseColor,changeColor(errorColor,{alpha:.25}))),colorError:composite(baseColor,changeColor(errorColor,{alpha:.08})),titleTextColorError:textColor1,iconColorError:errorColor,contentTextColorError:textColor2,closeColorHoverError:closeColorHover,closeColorPressedError:closeColorPressed,closeIconColorError:closeIconColor,closeIconColorHoverError:closeIconColorHover,closeIconColorPressedError:closeIconColorPressed})}__name(self$1e,"self$1e");const alertLight={name:"Alert",common:derived,self:self$1e},{cubicBezierEaseInOut,cubicBezierEaseOut,cubicBezierEaseIn}=commonVariables$n;function fadeInHeightExpandTransition({overflow="hidden",duration:duration2=".3s",originalTransition="",leavingDelay="0s",foldPadding=!1,enterToProps=void 0,leaveToProps=void 0,reverse=!1}={}){const enterClass=reverse?"leave":"enter",leaveClass=reverse?"enter":"leave";return[c$4("&.fade-in-height-expand-transition-".concat(leaveClass,"-from,\n &.fade-in-height-expand-transition-").concat(enterClass,"-to"),Object.assign(Object.assign({},enterToProps),{opacity:1})),c$4("&.fade-in-height-expand-transition-".concat(leaveClass,"-to,\n &.fade-in-height-expand-transition-").concat(enterClass,"-from"),Object.assign(Object.assign({},leaveToProps),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:foldPadding?"0 !important":void 0,paddingBottom:foldPadding?"0 !important":void 0})),c$4("&.fade-in-height-expand-transition-".concat(leaveClass,"-active"),"\n overflow: ".concat(overflow,";\n transition:\n max-height ").concat(duration2," ").concat(cubicBezierEaseInOut," ").concat(leavingDelay,",\n opacity ").concat(duration2," ").concat(cubicBezierEaseOut," ").concat(leavingDelay,",\n margin-top ").concat(duration2," ").concat(cubicBezierEaseInOut," ").concat(leavingDelay,",\n margin-bottom ").concat(duration2," ").concat(cubicBezierEaseInOut," ").concat(leavingDelay,",\n padding-top ").concat(duration2," ").concat(cubicBezierEaseInOut," ").concat(leavingDelay,",\n padding-bottom ").concat(duration2," ").concat(cubicBezierEaseInOut," ").concat(leavingDelay,"\n ").concat(originalTransition?",".concat(originalTransition):"","\n ")),c$4("&.fade-in-height-expand-transition-".concat(enterClass,"-active"),"\n overflow: ".concat(overflow,";\n transition:\n max-height ").concat(duration2," ").concat(cubicBezierEaseInOut,",\n opacity ").concat(duration2," ").concat(cubicBezierEaseIn,",\n margin-top ").concat(duration2," ").concat(cubicBezierEaseInOut,",\n margin-bottom ").concat(duration2," ").concat(cubicBezierEaseInOut,",\n padding-top ").concat(duration2," ").concat(cubicBezierEaseInOut,",\n padding-bottom ").concat(duration2," ").concat(cubicBezierEaseInOut,"\n ").concat(originalTransition?",".concat(originalTransition):"","\n "))]}__name(fadeInHeightExpandTransition,"fadeInHeightExpandTransition");const commonVars$a={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"};function self$1d(vars){const{borderRadius,railColor,primaryColor,primaryColorHover,primaryColorPressed,textColor2}=vars;return Object.assign(Object.assign({},commonVars$a),{borderRadius,railColor,railColorActive:primaryColor,linkColor:changeColor(primaryColor,{alpha:.15}),linkTextColor:textColor2,linkTextColorHover:primaryColorHover,linkTextColorPressed:primaryColorPressed,linkTextColorActive:primaryColor})}__name(self$1d,"self$1d");const anchorLight={name:"Anchor",common:derived,self:self$1d},anchorDark={name:"Anchor",common:derived$1,self:self$1d},isChrome=isBrowser$1&&"chrome"in window;isBrowser$1&&navigator.userAgent.includes("Firefox");const isSafari=isBrowser$1&&navigator.userAgent.includes("Safari")&&!isChrome,commonVariables$i={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},inputDark={name:"Input",common:derived$1,self(vars){const{textColor2,textColor3,textColorDisabled,primaryColor,primaryColorHover,inputColor,inputColorDisabled,warningColor,warningColorHover,errorColor,errorColorHover,borderRadius,lineHeight:lineHeight2,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,clearColor,clearColorHover,clearColorPressed,placeholderColor,placeholderColorDisabled,iconColor,iconColorDisabled,iconColorHover,iconColorPressed,fontWeight}=vars;return Object.assign(Object.assign({},commonVariables$i),{fontWeight,countTextColorDisabled:textColorDisabled,countTextColor:textColor3,heightTiny,heightSmall,heightMedium,heightLarge,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,lineHeight:lineHeight2,lineHeightTextarea:lineHeight2,borderRadius,iconSize:"16px",groupLabelColor:inputColor,textColor:textColor2,textColorDisabled,textDecorationColor:textColor2,groupLabelTextColor:textColor2,caretColor:primaryColor,placeholderColor,placeholderColorDisabled,color:inputColor,colorDisabled:inputColorDisabled,colorFocus:changeColor(primaryColor,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:"1px solid ".concat(primaryColorHover),borderDisabled:"1px solid #0000",borderFocus:"1px solid ".concat(primaryColorHover),boxShadowFocus:"0 0 8px 0 ".concat(changeColor(primaryColor,{alpha:.3})),loadingColor:primaryColor,loadingColorWarning:warningColor,borderWarning:"1px solid ".concat(warningColor),borderHoverWarning:"1px solid ".concat(warningColorHover),colorFocusWarning:changeColor(warningColor,{alpha:.1}),borderFocusWarning:"1px solid ".concat(warningColorHover),boxShadowFocusWarning:"0 0 8px 0 ".concat(changeColor(warningColor,{alpha:.3})),caretColorWarning:warningColor,loadingColorError:errorColor,borderError:"1px solid ".concat(errorColor),borderHoverError:"1px solid ".concat(errorColorHover),colorFocusError:changeColor(errorColor,{alpha:.1}),borderFocusError:"1px solid ".concat(errorColorHover),boxShadowFocusError:"0 0 8px 0 ".concat(changeColor(errorColor,{alpha:.3})),caretColorError:errorColor,clearColor,clearColorHover,clearColorPressed,iconColor,iconColorDisabled,iconColorHover,iconColorPressed,suffixTextColor:textColor2})}};function self$1c(vars){const{textColor2,textColor3,textColorDisabled,primaryColor,primaryColorHover,inputColor,inputColorDisabled,borderColor,warningColor,warningColorHover,errorColor,errorColorHover,borderRadius,lineHeight:lineHeight2,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightTiny,heightSmall,heightMedium,heightLarge,actionColor,clearColor,clearColorHover,clearColorPressed,placeholderColor,placeholderColorDisabled,iconColor,iconColorDisabled,iconColorHover,iconColorPressed,fontWeight}=vars;return Object.assign(Object.assign({},commonVariables$i),{fontWeight,countTextColorDisabled:textColorDisabled,countTextColor:textColor3,heightTiny,heightSmall,heightMedium,heightLarge,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,lineHeight:lineHeight2,lineHeightTextarea:lineHeight2,borderRadius,iconSize:"16px",groupLabelColor:actionColor,groupLabelTextColor:textColor2,textColor:textColor2,textColorDisabled,textDecorationColor:textColor2,caretColor:primaryColor,placeholderColor,placeholderColorDisabled,color:inputColor,colorDisabled:inputColorDisabled,colorFocus:inputColor,groupLabelBorder:"1px solid ".concat(borderColor),border:"1px solid ".concat(borderColor),borderHover:"1px solid ".concat(primaryColorHover),borderDisabled:"1px solid ".concat(borderColor),borderFocus:"1px solid ".concat(primaryColorHover),boxShadowFocus:"0 0 0 2px ".concat(changeColor(primaryColor,{alpha:.2})),loadingColor:primaryColor,loadingColorWarning:warningColor,borderWarning:"1px solid ".concat(warningColor),borderHoverWarning:"1px solid ".concat(warningColorHover),colorFocusWarning:inputColor,borderFocusWarning:"1px solid ".concat(warningColorHover),boxShadowFocusWarning:"0 0 0 2px ".concat(changeColor(warningColor,{alpha:.2})),caretColorWarning:warningColor,loadingColorError:errorColor,borderError:"1px solid ".concat(errorColor),borderHoverError:"1px solid ".concat(errorColorHover),colorFocusError:inputColor,borderFocusError:"1px solid ".concat(errorColorHover),boxShadowFocusError:"0 0 0 2px ".concat(changeColor(errorColor,{alpha:.2})),caretColorError:errorColor,clearColor,clearColorHover,clearColorPressed,iconColor,iconColorDisabled,iconColorHover,iconColorPressed,suffixTextColor:textColor2})}__name(self$1c,"self$1c");const inputLight={name:"Input",common:derived,self:self$1c};function self$1b(vars){const{boxShadow2}=vars;return{menuBoxShadow:boxShadow2}}__name(self$1b,"self$1b");const autoCompleteLight={name:"AutoComplete",common:derived,peers:{InternalSelectMenu:internalSelectMenuLight,Input:inputLight},self:self$1b},autoCompleteDark={name:"AutoComplete",common:derived$1,peers:{InternalSelectMenu:internalSelectMenuDark,Input:inputDark},self:self$1b};function self$1a(vars){const{borderRadius,avatarColor,cardColor,fontSize:fontSize2,heightTiny,heightSmall,heightMedium,heightLarge,heightHuge,modalColor,popoverColor}=vars;return{borderRadius,fontSize:fontSize2,border:"2px solid ".concat(cardColor),heightTiny,heightSmall,heightMedium,heightLarge,heightHuge,color:composite(cardColor,avatarColor),colorModal:composite(modalColor,avatarColor),colorPopover:composite(popoverColor,avatarColor)}}__name(self$1a,"self$1a");const avatarLight={name:"Avatar",common:derived,self:self$1a},avatarDark={name:"Avatar",common:derived$1,self:self$1a};function self$19(){return{gap:"-12px"}}__name(self$19,"self$19");const avatarGroupLight={name:"AvatarGroup",common:derived,peers:{Avatar:avatarLight},self:self$19},avatarGroupDark={name:"AvatarGroup",common:derived$1,peers:{Avatar:avatarDark},self:self$19},commonVariables$h={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},backTopDark={name:"BackTop",common:derived$1,self(vars){const{popoverColor,textColor2,primaryColorHover,primaryColorPressed}=vars;return Object.assign(Object.assign({},commonVariables$h),{color:popoverColor,textColor:textColor2,iconColor:textColor2,iconColorHover:primaryColorHover,iconColorPressed:primaryColorPressed,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}};function self$18(vars){const{popoverColor,textColor2,primaryColorHover,primaryColorPressed}=vars;return Object.assign(Object.assign({},commonVariables$h),{color:popoverColor,textColor:textColor2,iconColor:textColor2,iconColorHover:primaryColorHover,iconColorPressed:primaryColorPressed,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}__name(self$18,"self$18");const backTopLight={name:"BackTop",common:derived,self:self$18},badgeDark={name:"Badge",common:derived$1,self(vars){const{errorColorSuppl,infoColorSuppl,successColorSuppl,warningColorSuppl,fontFamily:fontFamily2}=vars;return{color:errorColorSuppl,colorInfo:infoColorSuppl,colorSuccess:successColorSuppl,colorError:errorColorSuppl,colorWarning:warningColorSuppl,fontSize:"12px",fontFamily:fontFamily2}}};function self$17(vars){const{errorColor,infoColor,successColor,warningColor,fontFamily:fontFamily2}=vars;return{color:errorColor,colorInfo:infoColor,colorSuccess:successColor,colorError:errorColor,colorWarning:warningColor,fontSize:"12px",fontFamily:fontFamily2}}__name(self$17,"self$17");const badgeLight={name:"Badge",common:derived,self:self$17},commonVariables$g={fontWeightActive:"400"};function self$16(vars){const{fontSize:fontSize2,textColor3,textColor2,borderRadius,buttonColor2Hover,buttonColor2Pressed}=vars;return Object.assign(Object.assign({},commonVariables$g),{fontSize:fontSize2,itemLineHeight:"1.25",itemTextColor:textColor3,itemTextColorHover:textColor2,itemTextColorPressed:textColor2,itemTextColorActive:textColor2,itemBorderRadius:borderRadius,itemColorHover:buttonColor2Hover,itemColorPressed:buttonColor2Pressed,separatorColor:textColor3})}__name(self$16,"self$16");const breadcrumbLight={name:"Breadcrumb",common:derived,self:self$16},breadcrumbDark={name:"Breadcrumb",common:derived$1,self:self$16};function createHoverColor(rgb){return composite(rgb,[255,255,255,.16])}__name(createHoverColor,"createHoverColor");function createPressedColor(rgb){return composite(rgb,[0,0,0,.12])}__name(createPressedColor,"createPressedColor");const buttonGroupInjectionKey="n-button-group",commonVariables$f={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};function self$15(vars){const{heightTiny,heightSmall,heightMedium,heightLarge,borderRadius,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,opacityDisabled,textColor2,textColor3,primaryColorHover,primaryColorPressed,borderColor,primaryColor,baseColor,infoColor,infoColorHover,infoColorPressed,successColor,successColorHover,successColorPressed,warningColor,warningColorHover,warningColorPressed,errorColor,errorColorHover,errorColorPressed,fontWeight,buttonColor2,buttonColor2Hover,buttonColor2Pressed,fontWeightStrong}=vars;return Object.assign(Object.assign({},commonVariables$f),{heightTiny,heightSmall,heightMedium,heightLarge,borderRadiusTiny:borderRadius,borderRadiusSmall:borderRadius,borderRadiusMedium:borderRadius,borderRadiusLarge:borderRadius,fontSizeTiny,fontSizeSmall,fontSizeMedium,fontSizeLarge,opacityDisabled,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:buttonColor2,colorSecondaryHover:buttonColor2Hover,colorSecondaryPressed:buttonColor2Pressed,colorTertiary:buttonColor2,colorTertiaryHover:buttonColor2Hover,colorTertiaryPressed:buttonColor2Pressed,colorQuaternary:"#0000",colorQuaternaryHover:buttonColor2Hover,colorQuaternaryPressed:buttonColor2Pressed,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:textColor2,textColorTertiary:textColor3,textColorHover:primaryColorHover,textColorPressed:primaryColorPressed,textColorFocus:primaryColorHover,textColorDisabled:textColor2,textColorText:textColor2,textColorTextHover:primaryColorHover,textColorTextPressed:primaryColorPressed,textColorTextFocus:primaryColorHover,textColorTextDisabled:textColor2,textColorGhost:textColor2,textColorGhostHover:primaryColorHover,textColorGhostPressed:primaryColorPressed,textColorGhostFocus:primaryColorHover,textColorGhostDisabled:textColor2,border:"1px solid ".concat(borderColor),borderHover:"1px solid ".concat(primaryColorHover),borderPressed:"1px solid ".concat(primaryColorPressed),borderFocus:"1px solid ".concat(primaryColorHover),borderDisabled:"1px solid ".concat(borderColor),rippleColor:primaryColor,colorPrimary:primaryColor,colorHoverPrimary:primaryColorHover,colorPressedPrimary:primaryColorPressed,colorFocusPrimary:primaryColorHover,colorDisabledPrimary:primaryColor,textColorPrimary:baseColor,textColorHoverPrimary:baseColor,textColorPressedPrimary:baseColor,textColorFocusPrimary:baseColor,textColorDisabledPrimary:baseColor,textColorTextPrimary:primaryColor,textColorTextHoverPrimary:primaryColorHover,textColorTextPressedPrimary:primaryColorPressed,textColorTextFocusPrimary:primaryColorHover,textColorTextDisabledPrimary:textColor2,textColorGhostPrimary:primaryColor,textColorGhostHoverPrimary:primaryColorHover,textColorGhostPressedPrimary:primaryColorPressed,textColorGhostFocusPrimary:primaryColorHover,textColorGhostDisabledPrimary:primaryColor,borderPrimary:"1px solid ".concat(primaryColor),borderHoverPrimary:"1px solid ".concat(primaryColorHover),borderPressedPrimary:"1px solid ".concat(primaryColorPressed),borderFocusPrimary:"1px solid ".concat(primaryColorHover),borderDisabledPrimary:"1px solid ".concat(primaryColor),rippleColorPrimary:primaryColor,colorInfo:infoColor,colorHoverInfo:infoColorHover,colorPressedInfo:infoColorPressed,colorFocusInfo:infoColorHover,colorDisabledInfo:infoColor,textColorInfo:baseColor,textColorHoverInfo:baseColor,textColorPressedInfo:baseColor,textColorFocusInfo:baseColor,textColorDisabledInfo:baseColor,textColorTextInfo:infoColor,textColorTextHoverInfo:infoColorHover,textColorTextPressedInfo:infoColorPressed,textColorTextFocusInfo:infoColorHover,textColorTextDisabledInfo:textColor2,textColorGhostInfo:infoColor,textColorGhostHoverInfo:infoColorHover,textColorGhostPressedInfo:infoColorPressed,textColorGhostFocusInfo:infoColorHover,textColorGhostDisabledInfo:infoColor,borderInfo:"1px solid ".concat(infoColor),borderHoverInfo:"1px solid ".concat(infoColorHover),borderPressedInfo:"1px solid ".concat(infoColorPressed),borderFocusInfo:"1px solid ".concat(infoColorHover),borderDisabledInfo:"1px solid ".concat(infoColor),rippleColorInfo:infoColor,colorSuccess:successColor,colorHoverSuccess:successColorHover,colorPressedSuccess:successColorPressed,colorFocusSuccess:successColorHover,colorDisabledSuccess:successColor,textColorSuccess:baseColor,textColorHoverSuccess:baseColor,textColorPressedSuccess:baseColor,textColorFocusSuccess:baseColor,textColorDisabledSuccess:baseColor,textColorTextSuccess:successColor,textColorTextHoverSuccess:successColorHover,textColorTextPressedSuccess:successColorPressed,textColorTextFocusSuccess:successColorHover,textColorTextDisabledSuccess:textColor2,textColorGhostSuccess:successColor,textColorGhostHoverSuccess:successColorHover,textColorGhostPressedSuccess:successColorPressed,textColorGhostFocusSuccess:successColorHover,textColorGhostDisabledSuccess:successColor,borderSuccess:"1px solid ".concat(successColor),borderHoverSuccess:"1px solid ".concat(successColorHover),borderPressedSuccess:"1px solid ".concat(successColorPressed),borderFocusSuccess:"1px solid ".concat(successColorHover),borderDisabledSuccess:"1px solid ".concat(successColor),rippleColorSuccess:successColor,colorWarning:warningColor,colorHoverWarning:warningColorHover,colorPressedWarning:warningColorPressed,colorFocusWarning:warningColorHover,colorDisabledWarning:warningColor,textColorWarning:baseColor,textColorHoverWarning:baseColor,textColorPressedWarning:baseColor,textColorFocusWarning:baseColor,textColorDisabledWarning:baseColor,textColorTextWarning:warningColor,textColorTextHoverWarning:warningColorHover,textColorTextPressedWarning:warningColorPressed,textColorTextFocusWarning:warningColorHover,textColorTextDisabledWarning:textColor2,textColorGhostWarning:warningColor,textColorGhostHoverWarning:warningColorHover,textColorGhostPressedWarning:warningColorPressed,textColorGhostFocusWarning:warningColorHover,textColorGhostDisabledWarning:warningColor,borderWarning:"1px solid ".concat(warningColor),borderHoverWarning:"1px solid ".concat(warningColorHover),borderPressedWarning:"1px solid ".concat(warningColorPressed),borderFocusWarning:"1px solid ".concat(warningColorHover),borderDisabledWarning:"1px solid ".concat(warningColor),rippleColorWarning:warningColor,colorError:errorColor,colorHoverError:errorColorHover,colorPressedError:errorColorPressed,colorFocusError:errorColorHover,colorDisabledError:errorColor,textColorError:baseColor,textColorHoverError:baseColor,textColorPressedError:baseColor,textColorFocusError:baseColor,textColorDisabledError:baseColor,textColorTextError:errorColor,textColorTextHoverError:errorColorHover,textColorTextPressedError:errorColorPressed,textColorTextFocusError:errorColorHover,textColorTextDisabledError:textColor2,textColorGhostError:errorColor,textColorGhostHoverError:errorColorHover,textColorGhostPressedError:errorColorPressed,textColorGhostFocusError:errorColorHover,textColorGhostDisabledError:errorColor,borderError:"1px solid ".concat(errorColor),borderHoverError:"1px solid ".concat(errorColorHover),borderPressedError:"1px solid ".concat(errorColorPressed),borderFocusError:"1px solid ".concat(errorColorHover),borderDisabledError:"1px solid ".concat(errorColor),rippleColorError:errorColor,waveOpacity:"0.6",fontWeight,fontWeightStrong})}__name(self$15,"self$15");const buttonLight={name:"Button",common:derived,self:self$15},buttonDark={name:"Button",common:derived$1,self(vars){const commonSelf=self$15(vars);return commonSelf.waveOpacity="0.8",commonSelf.colorOpacitySecondary="0.16",commonSelf.colorOpacitySecondaryHover="0.2",commonSelf.colorOpacitySecondaryPressed="0.12",commonSelf}},style$9=c$4([cB("button","\n margin: 0;\n font-weight: var(--n-font-weight);\n line-height: 1;\n font-family: inherit;\n padding: var(--n-padding);\n height: var(--n-height);\n font-size: var(--n-font-size);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n width: var(--n-width);\n white-space: nowrap;\n outline: none;\n position: relative;\n z-index: auto;\n border: none;\n display: inline-flex;\n flex-wrap: nowrap;\n flex-shrink: 0;\n align-items: center;\n justify-content: center;\n user-select: none;\n -webkit-user-select: none;\n text-align: center;\n cursor: pointer;\n text-decoration: none;\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c$4("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c$4("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c$4("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c$4("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c$4("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c$4("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading","cursor: wait;"),cB("base-wave","\n pointer-events: none;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n animation-iteration-count: 1;\n animation-duration: var(--n-ripple-duration);\n animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);\n ",[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),isBrowser$1&&"MozBoxSizing"in document.createElement("div").style?c$4("&::moz-focus-inner",{border:0}):null,cE("border, state-border","\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n border-radius: inherit;\n transition: border-color .3s var(--n-bezier);\n pointer-events: none;\n "),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon","\n margin: var(--n-icon-margin);\n margin-left: 0;\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n max-width: var(--n-icon-size);\n font-size: var(--n-icon-size);\n position: relative;\n flex-shrink: 0;\n ",[cB("icon-slot","\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n position: absolute;\n left: 0;\n top: 50%;\n transform: translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n ",[iconSwitchTransition({top:"50%",originalTransform:"translateY(-50%)"})]),fadeInWidthExpandTransition()]),cE("content","\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n min-width: 0;\n ",[c$4("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block","\n display: flex;\n width: 100%;\n "),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c$4("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c$4("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),buttonProps=Object.assign(Object.assign({},useTheme.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!isSafari}}),Button=defineComponent({name:"Button",props:buttonProps,slots:Object,setup(props){const selfElRef=ref(null),waveElRef=ref(null),enterPressedRef=ref(!1),showBorderRef=useMemo(()=>!props.quaternary&&!props.tertiary&&!props.secondary&&!props.text&&(!props.color||props.ghost||props.dashed)&&props.bordered),NButtonGroup=inject(buttonGroupInjectionKey,{}),{mergedSizeRef}=useFormItem({},{defaultSize:"medium",mergedSize:__name(NFormItem=>{const{size:size2}=props;if(size2)return size2;const{size:buttonGroupSize}=NButtonGroup;if(buttonGroupSize)return buttonGroupSize;const{mergedSize:formItemSize}=NFormItem||{};return formItemSize?formItemSize.value:"medium"},"mergedSize")}),mergedFocusableRef=computed(()=>props.focusable&&!props.disabled),handleMousedown=__name(e=>{var _a4;mergedFocusableRef.value||e.preventDefault(),!props.nativeFocusBehavior&&(e.preventDefault(),!props.disabled&&mergedFocusableRef.value&&((_a4=selfElRef.value)===null||_a4===void 0||_a4.focus({preventScroll:!0})))},"handleMousedown"),handleClick2=__name(e=>{var _a4;if(!props.disabled&&!props.loading){const{onClick}=props;onClick&&call(onClick,e),props.text||(_a4=waveElRef.value)===null||_a4===void 0||_a4.play()}},"handleClick"),handleKeyup=__name(e=>{switch(e.key){case"Enter":if(!props.keyboard)return;enterPressedRef.value=!1}},"handleKeyup"),handleKeydown=__name(e=>{switch(e.key){case"Enter":if(!props.keyboard||props.loading){e.preventDefault();return}enterPressedRef.value=!0}},"handleKeydown"),handleBlur=__name(()=>{enterPressedRef.value=!1},"handleBlur"),{inlineThemeDisabled,mergedClsPrefixRef,mergedRtlRef}=useConfig(props),themeRef=useTheme("Button","-button",style$9,buttonLight,props,mergedClsPrefixRef),rtlEnabledRef=useRtl("Button",mergedRtlRef,mergedClsPrefixRef),cssVarsRef=computed(()=>{const theme=themeRef.value,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2,cubicBezierEaseOut:cubicBezierEaseOut2},self:self2}=theme,{rippleDuration,opacityDisabled,fontWeight,fontWeightStrong}=self2,size2=mergedSizeRef.value,{dashed,type,ghost,text,color,round,circle,textColor,secondary,tertiary,quaternary,strong}=props,fontProps={"--n-font-weight":strong?fontWeightStrong:fontWeight};let colorProps={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const typeIsTertiary=type==="tertiary",typeIsDefault=type==="default",mergedType=typeIsTertiary?"default":type;if(text){const propTextColor=textColor||color;colorProps={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":propTextColor||self2[createKey("textColorText",mergedType)],"--n-text-color-hover":propTextColor?createHoverColor(propTextColor):self2[createKey("textColorTextHover",mergedType)],"--n-text-color-pressed":propTextColor?createPressedColor(propTextColor):self2[createKey("textColorTextPressed",mergedType)],"--n-text-color-focus":propTextColor?createHoverColor(propTextColor):self2[createKey("textColorTextHover",mergedType)],"--n-text-color-disabled":propTextColor||self2[createKey("textColorTextDisabled",mergedType)]}}else if(ghost||dashed){const mergedTextColor=textColor||color;colorProps={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":color||self2[createKey("rippleColor",mergedType)],"--n-text-color":mergedTextColor||self2[createKey("textColorGhost",mergedType)],"--n-text-color-hover":mergedTextColor?createHoverColor(mergedTextColor):self2[createKey("textColorGhostHover",mergedType)],"--n-text-color-pressed":mergedTextColor?createPressedColor(mergedTextColor):self2[createKey("textColorGhostPressed",mergedType)],"--n-text-color-focus":mergedTextColor?createHoverColor(mergedTextColor):self2[createKey("textColorGhostHover",mergedType)],"--n-text-color-disabled":mergedTextColor||self2[createKey("textColorGhostDisabled",mergedType)]}}else if(secondary){const typeTextColor=typeIsDefault?self2.textColor:typeIsTertiary?self2.textColorTertiary:self2[createKey("color",mergedType)],mergedTextColor=color||typeTextColor,isColoredType=type!=="default"&&type!=="tertiary";colorProps={"--n-color":isColoredType?changeColor(mergedTextColor,{alpha:Number(self2.colorOpacitySecondary)}):self2.colorSecondary,"--n-color-hover":isColoredType?changeColor(mergedTextColor,{alpha:Number(self2.colorOpacitySecondaryHover)}):self2.colorSecondaryHover,"--n-color-pressed":isColoredType?changeColor(mergedTextColor,{alpha:Number(self2.colorOpacitySecondaryPressed)}):self2.colorSecondaryPressed,"--n-color-focus":isColoredType?changeColor(mergedTextColor,{alpha:Number(self2.colorOpacitySecondaryHover)}):self2.colorSecondaryHover,"--n-color-disabled":self2.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":mergedTextColor,"--n-text-color-hover":mergedTextColor,"--n-text-color-pressed":mergedTextColor,"--n-text-color-focus":mergedTextColor,"--n-text-color-disabled":mergedTextColor}}else if(tertiary||quaternary){const typeColor=typeIsDefault?self2.textColor:typeIsTertiary?self2.textColorTertiary:self2[createKey("color",mergedType)],mergedColor=color||typeColor;tertiary?(colorProps["--n-color"]=self2.colorTertiary,colorProps["--n-color-hover"]=self2.colorTertiaryHover,colorProps["--n-color-pressed"]=self2.colorTertiaryPressed,colorProps["--n-color-focus"]=self2.colorSecondaryHover,colorProps["--n-color-disabled"]=self2.colorTertiary):(colorProps["--n-color"]=self2.colorQuaternary,colorProps["--n-color-hover"]=self2.colorQuaternaryHover,colorProps["--n-color-pressed"]=self2.colorQuaternaryPressed,colorProps["--n-color-focus"]=self2.colorQuaternaryHover,colorProps["--n-color-disabled"]=self2.colorQuaternary),colorProps["--n-ripple-color"]="#0000",colorProps["--n-text-color"]=mergedColor,colorProps["--n-text-color-hover"]=mergedColor,colorProps["--n-text-color-pressed"]=mergedColor,colorProps["--n-text-color-focus"]=mergedColor,colorProps["--n-text-color-disabled"]=mergedColor}else colorProps={"--n-color":color||self2[createKey("color",mergedType)],"--n-color-hover":color?createHoverColor(color):self2[createKey("colorHover",mergedType)],"--n-color-pressed":color?createPressedColor(color):self2[createKey("colorPressed",mergedType)],"--n-color-focus":color?createHoverColor(color):self2[createKey("colorFocus",mergedType)],"--n-color-disabled":color||self2[createKey("colorDisabled",mergedType)],"--n-ripple-color":color||self2[createKey("rippleColor",mergedType)],"--n-text-color":textColor||(color?self2.textColorPrimary:typeIsTertiary?self2.textColorTertiary:self2[createKey("textColor",mergedType)]),"--n-text-color-hover":textColor||(color?self2.textColorHoverPrimary:self2[createKey("textColorHover",mergedType)]),"--n-text-color-pressed":textColor||(color?self2.textColorPressedPrimary:self2[createKey("textColorPressed",mergedType)]),"--n-text-color-focus":textColor||(color?self2.textColorFocusPrimary:self2[createKey("textColorFocus",mergedType)]),"--n-text-color-disabled":textColor||(color?self2.textColorDisabledPrimary:self2[createKey("textColorDisabled",mergedType)])};let borderProps={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};text?borderProps={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:borderProps={"--n-border":self2[createKey("border",mergedType)],"--n-border-hover":self2[createKey("borderHover",mergedType)],"--n-border-pressed":self2[createKey("borderPressed",mergedType)],"--n-border-focus":self2[createKey("borderFocus",mergedType)],"--n-border-disabled":self2[createKey("borderDisabled",mergedType)]};const{[createKey("height",size2)]:height,[createKey("fontSize",size2)]:fontSize2,[createKey("padding",size2)]:padding,[createKey("paddingRound",size2)]:paddingRound,[createKey("iconSize",size2)]:iconSize,[createKey("borderRadius",size2)]:borderRadius,[createKey("iconMargin",size2)]:iconMargin,waveOpacity}=self2,sizeProps={"--n-width":circle&&!text?height:"initial","--n-height":text?"initial":height,"--n-font-size":fontSize2,"--n-padding":circle||text?"initial":round?paddingRound:padding,"--n-icon-size":iconSize,"--n-icon-margin":iconMargin,"--n-border-radius":text?"initial":circle||round?height:borderRadius};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":cubicBezierEaseInOut2,"--n-bezier-ease-out":cubicBezierEaseOut2,"--n-ripple-duration":rippleDuration,"--n-opacity-disabled":opacityDisabled,"--n-wave-opacity":waveOpacity},fontProps),colorProps),borderProps),sizeProps)}),themeClassHandle=inlineThemeDisabled?useThemeClass("button",computed(()=>{let hash="";const{dashed,type,ghost,text,color,round,circle,textColor,secondary,tertiary,quaternary,strong}=props;dashed&&(hash+="a"),ghost&&(hash+="b"),text&&(hash+="c"),round&&(hash+="d"),circle&&(hash+="e"),secondary&&(hash+="f"),tertiary&&(hash+="g"),quaternary&&(hash+="h"),strong&&(hash+="i"),color&&(hash+="j".concat(color2Class(color))),textColor&&(hash+="k".concat(color2Class(textColor)));const{value:size2}=mergedSizeRef;return hash+="l".concat(size2[0]),hash+="m".concat(type[0]),hash}),cssVarsRef,props):void 0;return{selfElRef,waveElRef,mergedClsPrefix:mergedClsPrefixRef,mergedFocusable:mergedFocusableRef,mergedSize:mergedSizeRef,showBorder:showBorderRef,enterPressed:enterPressedRef,rtlEnabled:rtlEnabledRef,handleMousedown,handleKeydown,handleBlur,handleKeyup,handleClick:handleClick2,customColorCssVars:computed(()=>{const{color}=props;if(!color)return null;const hoverColor=createHoverColor(color);return{"--n-border-color":color,"--n-border-color-hover":hoverColor,"--n-border-color-pressed":createPressedColor(color),"--n-border-color-focus":hoverColor,"--n-border-color-disabled":color}}),cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{mergedClsPrefix,tag:Component,onRender}=this;onRender==null||onRender();const children=resolveWrappedSlot(this.$slots.default,children2=>children2&&h("span",{class:"".concat(mergedClsPrefix,"-button__content")},children2));return h(Component,{ref:"selfElRef",class:[this.themeClass,"".concat(mergedClsPrefix,"-button"),"".concat(mergedClsPrefix,"-button--").concat(this.type,"-type"),"".concat(mergedClsPrefix,"-button--").concat(this.mergedSize,"-type"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-button--rtl"),this.disabled&&"".concat(mergedClsPrefix,"-button--disabled"),this.block&&"".concat(mergedClsPrefix,"-button--block"),this.enterPressed&&"".concat(mergedClsPrefix,"-button--pressed"),!this.text&&this.dashed&&"".concat(mergedClsPrefix,"-button--dashed"),this.color&&"".concat(mergedClsPrefix,"-button--color"),this.secondary&&"".concat(mergedClsPrefix,"-button--secondary"),this.loading&&"".concat(mergedClsPrefix,"-button--loading"),this.ghost&&"".concat(mergedClsPrefix,"-button--ghost")],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&children,h(NFadeInExpandTransition,{width:!0},{default:__name(()=>resolveWrappedSlot(this.$slots.icon,children2=>(this.loading||this.renderIcon||children2)&&h("span",{class:"".concat(mergedClsPrefix,"-button__icon"),style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h(NIconSwitchTransition,null,{default:__name(()=>this.loading?h(NBaseLoading,{clsPrefix:mergedClsPrefix,key:"loading",class:"".concat(mergedClsPrefix,"-icon-slot"),strokeWidth:20}):h("div",{key:"icon",class:"".concat(mergedClsPrefix,"-icon-slot"),role:"none"},this.renderIcon?this.renderIcon():children2),"default")}))),"default")}),this.iconPlacement==="left"&&children,this.text?null:h(NBaseWave,{ref:"waveElRef",clsPrefix:mergedClsPrefix}),this.showBorder?h("div",{"aria-hidden":!0,class:"".concat(mergedClsPrefix,"-button__border"),style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:"".concat(mergedClsPrefix,"-button__state-border"),style:this.customColorCssVars}):null)}}),commonVariables$e={titleFontSize:"22px"};function self$14(vars){const{borderRadius,fontSize:fontSize2,lineHeight:lineHeight2,textColor2,textColor1,textColorDisabled,dividerColor,fontWeightStrong,primaryColor,baseColor,hoverColor,cardColor,modalColor,popoverColor}=vars;return Object.assign(Object.assign({},commonVariables$e),{borderRadius,borderColor:composite(cardColor,dividerColor),borderColorModal:composite(modalColor,dividerColor),borderColorPopover:composite(popoverColor,dividerColor),textColor:textColor2,titleFontWeight:fontWeightStrong,titleTextColor:textColor1,dayTextColor:textColorDisabled,fontSize:fontSize2,lineHeight:lineHeight2,dateColorCurrent:primaryColor,dateTextColorCurrent:baseColor,cellColorHover:composite(cardColor,hoverColor),cellColorHoverModal:composite(modalColor,hoverColor),cellColorHoverPopover:composite(popoverColor,hoverColor),cellColor:cardColor,cellColorModal:modalColor,cellColorPopover:popoverColor,barColor:primaryColor})}__name(self$14,"self$14");const calendarLight={name:"Calendar",common:derived,peers:{Button:buttonLight},self:self$14},calendarDark={name:"Calendar",common:derived$1,peers:{Button:buttonDark},self:self$14},commonVariables$d={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"};function self$13(vars){const{primaryColor,borderRadius,lineHeight:lineHeight2,fontSize:fontSize2,cardColor,textColor2,textColor1,dividerColor,fontWeightStrong,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,modalColor,boxShadow1,popoverColor,actionColor}=vars;return Object.assign(Object.assign({},commonVariables$d),{lineHeight:lineHeight2,color:cardColor,colorModal:modalColor,colorPopover:popoverColor,colorTarget:primaryColor,colorEmbedded:actionColor,colorEmbeddedModal:actionColor,colorEmbeddedPopover:actionColor,textColor:textColor2,titleTextColor:textColor1,borderColor:dividerColor,actionColor,titleFontWeight:fontWeightStrong,closeColorHover,closeColorPressed,closeBorderRadius:borderRadius,closeIconColor,closeIconColorHover,closeIconColorPressed,fontSizeSmall:fontSize2,fontSizeMedium:fontSize2,fontSizeLarge:fontSize2,fontSizeHuge:fontSize2,boxShadow:boxShadow1,borderRadius})}__name(self$13,"self$13");const cardLight={name:"Card",common:derived,self:self$13},cardDark={name:"Card",common:derived$1,self(vars){const commonSelf=self$13(vars),{cardColor,modalColor,popoverColor}=vars;return commonSelf.colorEmbedded=cardColor,commonSelf.colorEmbeddedModal=modalColor,commonSelf.colorEmbeddedPopover=popoverColor,commonSelf}},style$8=c$4([cB("card","\n font-size: var(--n-font-size);\n line-height: var(--n-line-height);\n display: flex;\n flex-direction: column;\n width: 100%;\n box-sizing: border-box;\n position: relative;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n color: var(--n-text-color);\n word-break: break-word;\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[asModal({background:"var(--n-color-modal)"}),cM("hoverable",[c$4("&:hover","box-shadow: var(--n-box-shadow);")]),cM("content-segmented",[c$4(">",[cE("content",{paddingTop:"var(--n-padding-bottom)"})])]),cM("content-soft-segmented",[c$4(">",[cE("content","\n margin: 0 var(--n-padding-left);\n padding: var(--n-padding-bottom) 0;\n ")])]),cM("footer-segmented",[c$4(">",[cE("footer",{paddingTop:"var(--n-padding-bottom)"})])]),cM("footer-soft-segmented",[c$4(">",[cE("footer","\n padding: var(--n-padding-bottom) 0;\n margin: 0 var(--n-padding-left);\n ")])]),c$4(">",[cB("card-header","\n box-sizing: border-box;\n display: flex;\n align-items: center;\n font-size: var(--n-title-font-size);\n padding:\n var(--n-padding-top)\n var(--n-padding-left)\n var(--n-padding-bottom)\n var(--n-padding-left);\n ",[cE("main","\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n flex: 1;\n min-width: 0;\n color: var(--n-title-text-color);\n "),cE("extra","\n display: flex;\n align-items: center;\n font-size: var(--n-font-size);\n font-weight: 400;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),cE("close","\n margin: 0 0 0 8px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),cE("action","\n box-sizing: border-box;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n background-clip: padding-box;\n background-color: var(--n-action-color);\n "),cE("content","flex: 1; min-width: 0;"),cE("content, footer","\n box-sizing: border-box;\n padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);\n font-size: var(--n-font-size);\n ",[c$4("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),cE("action","\n background-color: var(--n-action-color);\n padding: var(--n-padding-bottom) var(--n-padding-left);\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ")]),cB("card-cover","\n overflow: hidden;\n width: 100%;\n border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;\n ",[c$4("img","\n display: block;\n width: 100%;\n ")]),cM("bordered","\n border: 1px solid var(--n-border-color);\n ",[c$4("&:target","border-color: var(--n-color-target);")]),cM("action-segmented",[c$4(">",[cE("action",[c$4("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("content-segmented, content-soft-segmented",[c$4(">",[cE("content",{transition:"border-color 0.3s var(--n-bezier)"},[c$4("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("footer-segmented, footer-soft-segmented",[c$4(">",[cE("footer",{transition:"border-color 0.3s var(--n-bezier)"},[c$4("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("embedded","\n background-color: var(--n-color-embedded);\n ")]),insideModal(cB("card","\n background: var(--n-color-modal);\n ",[cM("embedded","\n background-color: var(--n-color-embedded-modal);\n ")])),insidePopover(cB("card","\n background: var(--n-color-popover);\n ",[cM("embedded","\n background-color: var(--n-color-embedded-popover);\n ")]))]),cardBaseProps={title:[String,Function],contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"},cover:Function,content:[String,Function],footer:Function,action:Function,headerExtra:Function},cardBasePropKeys=keysOf(cardBaseProps),cardProps=Object.assign(Object.assign({},useTheme.props),cardBaseProps),NCard=defineComponent({name:"Card",props:cardProps,slots:Object,setup(props){const handleCloseClick=__name(()=>{const{onClose}=props;onClose&&call(onClose)},"handleCloseClick"),{inlineThemeDisabled,mergedClsPrefixRef,mergedRtlRef}=useConfig(props),themeRef=useTheme("Card","-card",style$8,cardLight,props,mergedClsPrefixRef),rtlEnabledRef=useRtl("Card",mergedRtlRef,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{size:size2}=props,{self:{color,colorModal,colorTarget,textColor,titleTextColor,titleFontWeight,borderColor,actionColor,borderRadius,lineHeight:lineHeight2,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,closeBorderRadius,closeIconSize,closeSize,boxShadow,colorPopover,colorEmbedded,colorEmbeddedModal,colorEmbeddedPopover,[createKey("padding",size2)]:padding,[createKey("fontSize",size2)]:fontSize2,[createKey("titleFontSize",size2)]:titleFontSize},common:{cubicBezierEaseInOut:cubicBezierEaseInOut2}}=themeRef.value,{top:paddingTop,left:paddingLeft,bottom:paddingBottom}=getMargin(padding);return{"--n-bezier":cubicBezierEaseInOut2,"--n-border-radius":borderRadius,"--n-color":color,"--n-color-modal":colorModal,"--n-color-popover":colorPopover,"--n-color-embedded":colorEmbedded,"--n-color-embedded-modal":colorEmbeddedModal,"--n-color-embedded-popover":colorEmbeddedPopover,"--n-color-target":colorTarget,"--n-text-color":textColor,"--n-line-height":lineHeight2,"--n-action-color":actionColor,"--n-title-text-color":titleTextColor,"--n-title-font-weight":titleFontWeight,"--n-close-icon-color":closeIconColor,"--n-close-icon-color-hover":closeIconColorHover,"--n-close-icon-color-pressed":closeIconColorPressed,"--n-close-color-hover":closeColorHover,"--n-close-color-pressed":closeColorPressed,"--n-border-color":borderColor,"--n-box-shadow":boxShadow,"--n-padding-top":paddingTop,"--n-padding-bottom":paddingBottom,"--n-padding-left":paddingLeft,"--n-font-size":fontSize2,"--n-title-font-size":titleFontSize,"--n-close-size":closeSize,"--n-close-icon-size":closeIconSize,"--n-close-border-radius":closeBorderRadius}}),themeClassHandle=inlineThemeDisabled?useThemeClass("card",computed(()=>props.size[0]),cssVarsRef,props):void 0;return{rtlEnabled:rtlEnabledRef,mergedClsPrefix:mergedClsPrefixRef,mergedTheme:themeRef,handleCloseClick,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{segmented,bordered,hoverable,mergedClsPrefix,rtlEnabled,onRender,embedded,tag:Component,$slots}=this;return onRender==null||onRender(),h(Component,{class:["".concat(mergedClsPrefix,"-card"),this.themeClass,embedded&&"".concat(mergedClsPrefix,"-card--embedded"),{["".concat(mergedClsPrefix,"-card--rtl")]:rtlEnabled,["".concat(mergedClsPrefix,"-card--content").concat(typeof segmented!="boolean"&&segmented.content==="soft"?"-soft":"","-segmented")]:segmented===!0||segmented!==!1&&segmented.content,["".concat(mergedClsPrefix,"-card--footer").concat(typeof segmented!="boolean"&&segmented.footer==="soft"?"-soft":"","-segmented")]:segmented===!0||segmented!==!1&&segmented.footer,["".concat(mergedClsPrefix,"-card--action-segmented")]:segmented===!0||segmented!==!1&&segmented.action,["".concat(mergedClsPrefix,"-card--bordered")]:bordered,["".concat(mergedClsPrefix,"-card--hoverable")]:hoverable}],style:this.cssVars,role:this.role},resolveWrappedSlot($slots.cover,children=>{const mergedChildren=this.cover?ensureValidVNode([this.cover()]):children;return mergedChildren&&h("div",{class:"".concat(mergedClsPrefix,"-card-cover"),role:"none"},mergedChildren)}),resolveWrappedSlot($slots.header,children=>{const{title}=this,mergedChildren=title?ensureValidVNode(typeof title=="function"?[title()]:[title]):children;return mergedChildren||this.closable?h("div",{class:["".concat(mergedClsPrefix,"-card-header"),this.headerClass],style:this.headerStyle,role:"heading"},h("div",{class:"".concat(mergedClsPrefix,"-card-header__main"),role:"heading"},mergedChildren),resolveWrappedSlot($slots["header-extra"],children2=>{const mergedChildren2=this.headerExtra?ensureValidVNode([this.headerExtra()]):children2;return mergedChildren2&&h("div",{class:["".concat(mergedClsPrefix,"-card-header__extra"),this.headerExtraClass],style:this.headerExtraStyle},mergedChildren2)}),this.closable&&h(NBaseClose,{clsPrefix:mergedClsPrefix,class:"".concat(mergedClsPrefix,"-card-header__close"),onClick:this.handleCloseClick,absolute:!0})):null}),resolveWrappedSlot($slots.default,children=>{const{content}=this,mergedChildren=content?ensureValidVNode(typeof content=="function"?[content()]:[content]):children;return mergedChildren&&h("div",{class:["".concat(mergedClsPrefix,"-card__content"),this.contentClass],style:this.contentStyle,role:"none"},mergedChildren)}),resolveWrappedSlot($slots.footer,children=>{const mergedChildren=this.footer?ensureValidVNode([this.footer()]):children;return mergedChildren&&h("div",{class:["".concat(mergedClsPrefix,"-card__footer"),this.footerClass],style:this.footerStyle,role:"none"},mergedChildren)}),resolveWrappedSlot($slots.action,children=>{const mergedChildren=this.action?ensureValidVNode([this.action()]):children;return mergedChildren&&h("div",{class:"".concat(mergedClsPrefix,"-card__action"),role:"none"},mergedChildren)}))}});function self$12(){return{dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}}__name(self$12,"self$12");const carouselLight={name:"Carousel",common:derived,self:self$12},carouselDark={name:"Carousel",common:derived$1,self:self$12},commonVariables$c={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function self$11(vars){const{baseColor,inputColorDisabled,cardColor,modalColor,popoverColor,textColorDisabled,borderColor,primaryColor,textColor2,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadiusSmall,lineHeight:lineHeight2}=vars;return Object.assign(Object.assign({},commonVariables$c),{labelLineHeight:lineHeight2,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadius:borderRadiusSmall,color:baseColor,colorChecked:primaryColor,colorDisabled:inputColorDisabled,colorDisabledChecked:inputColorDisabled,colorTableHeader:cardColor,colorTableHeaderModal:modalColor,colorTableHeaderPopover:popoverColor,checkMarkColor:baseColor,checkMarkColorDisabled:textColorDisabled,checkMarkColorDisabledChecked:textColorDisabled,border:"1px solid ".concat(borderColor),borderDisabled:"1px solid ".concat(borderColor),borderDisabledChecked:"1px solid ".concat(borderColor),borderChecked:"1px solid ".concat(primaryColor),borderFocus:"1px solid ".concat(primaryColor),boxShadowFocus:"0 0 0 2px ".concat(changeColor(primaryColor,{alpha:.3})),textColor:textColor2,textColorDisabled})}__name(self$11,"self$11");const checkboxLight={name:"Checkbox",common:derived,self:self$11},checkboxDark={name:"Checkbox",common:derived$1,self(vars){const{cardColor}=vars,commonSelf=self$11(vars);return commonSelf.color="#0000",commonSelf.checkMarkColor=cardColor,commonSelf}};function self$10(vars){const{borderRadius,boxShadow2,popoverColor,textColor2,textColor3,primaryColor,textColorDisabled,dividerColor,hoverColor,fontSizeMedium,heightMedium}=vars;return{menuBorderRadius:borderRadius,menuColor:popoverColor,menuBoxShadow:boxShadow2,menuDividerColor:dividerColor,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:textColor3,optionHeight:heightMedium,optionFontSize:fontSizeMedium,optionColorHover:hoverColor,optionTextColor:textColor2,optionTextColorActive:primaryColor,optionTextColorDisabled:textColorDisabled,optionCheckMarkColor:primaryColor,loadingColor:primaryColor,columnWidth:"180px"}}__name(self$10,"self$10");const cascaderLight={name:"Cascader",common:derived,peers:{InternalSelectMenu:internalSelectMenuLight,InternalSelection:internalSelectionLight,Scrollbar:scrollbarLight,Checkbox:checkboxLight,Empty:emptyLight},self:self$10},cascaderDark={name:"Cascader",common:derived$1,peers:{InternalSelectMenu:internalSelectMenuDark,InternalSelection:internalSelectionDark,Scrollbar:scrollbarDark,Checkbox:checkboxDark,Empty:emptyLight},self:self$10},codeDark={name:"Code",common:derived$1,self(vars){const{textColor2,fontSize:fontSize2,fontWeightStrong,textColor3}=vars;return{textColor:textColor2,fontSize:fontSize2,fontWeightStrong,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:textColor3}}};function self$$(vars){const{textColor2,fontSize:fontSize2,fontWeightStrong,textColor3}=vars;return{textColor:textColor2,fontSize:fontSize2,fontWeightStrong,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:textColor3}}__name(self$$,"self$$");const codeLight={name:"Code",common:derived,self:self$$};function self$_(vars){const{fontWeight,textColor1,textColor2,textColorDisabled,dividerColor,fontSize:fontSize2}=vars;return{titleFontSize:fontSize2,titleFontWeight:fontWeight,dividerColor,titleTextColor:textColor1,titleTextColorDisabled:textColorDisabled,fontSize:fontSize2,textColor:textColor2,arrowColor:textColor2,arrowColorDisabled:textColorDisabled,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}}__name(self$_,"self$_");const collapseLight={name:"Collapse",common:derived,self:self$_},collapseDark={name:"Collapse",common:derived$1,self:self$_};function self$Z(vars){const{cubicBezierEaseInOut:cubicBezierEaseInOut2}=vars;return{bezier:cubicBezierEaseInOut2}}__name(self$Z,"self$Z");const collapseTransitionLight={name:"CollapseTransition",common:derived,self:self$Z},collapseTransitionDark={name:"CollapseTransition",common:derived$1,self:self$Z};function self$Y(vars){const{fontSize:fontSize2,boxShadow2,popoverColor,textColor2,borderRadius,borderColor,heightSmall,heightMedium,heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,dividerColor}=vars;return{panelFontSize:fontSize2,boxShadow:boxShadow2,color:popoverColor,textColor:textColor2,borderRadius,border:"1px solid ".concat(borderColor),heightSmall,heightMedium,heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,dividerColor}}__name(self$Y,"self$Y");const colorPickerLight={name:"ColorPicker",common:derived,peers:{Input:inputLight,Button:buttonLight},self:self$Y},colorPickerDark={name:"ColorPicker",common:derived$1,peers:{Input:inputDark,Button:buttonDark},self:self$Y},configProviderProps={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,styleMountTarget:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:__name(()=>(warn("config-provider","`as` is deprecated, please use `tag` instead."),!0),"validator"),default:void 0}},NConfigProvider=defineComponent({name:"ConfigProvider",alias:["App"],props:configProviderProps,setup(props){const NConfigProvider2=inject(configProviderInjectionKey,null),mergedThemeRef=computed(()=>{const{theme}=props;if(theme===null)return;const inheritedTheme=NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeRef.value;return theme===void 0?inheritedTheme:inheritedTheme===void 0?theme:Object.assign({},inheritedTheme,theme)}),mergedThemeOverridesRef=computed(()=>{const{themeOverrides}=props;if(themeOverrides!==null){if(themeOverrides===void 0)return NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeOverridesRef.value;{const inheritedThemeOverrides=NConfigProvider2==null?void 0:NConfigProvider2.mergedThemeOverridesRef.value;return inheritedThemeOverrides===void 0?themeOverrides:merge$1({},inheritedThemeOverrides,themeOverrides)}}}),mergedNamespaceRef=useMemo(()=>{const{namespace:namespace2}=props;return namespace2===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedNamespaceRef.value:namespace2}),mergedBorderedRef=useMemo(()=>{const{bordered}=props;return bordered===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedBorderedRef.value:bordered}),mergedIconsRef=computed(()=>{const{icons}=props;return icons===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedIconsRef.value:icons}),mergedComponentPropsRef=computed(()=>{const{componentOptions}=props;return componentOptions!==void 0?componentOptions:NConfigProvider2==null?void 0:NConfigProvider2.mergedComponentPropsRef.value}),mergedClsPrefixRef=computed(()=>{const{clsPrefix}=props;return clsPrefix!==void 0?clsPrefix:NConfigProvider2?NConfigProvider2.mergedClsPrefixRef.value:defaultClsPrefix}),mergedRtlRef=computed(()=>{var _a4;const{rtl}=props;if(rtl===void 0)return NConfigProvider2==null?void 0:NConfigProvider2.mergedRtlRef.value;const rtlEnabledState={};for(const rtlInfo of rtl)rtlEnabledState[rtlInfo.name]=markRaw(rtlInfo),(_a4=rtlInfo.peers)===null||_a4===void 0||_a4.forEach(peerRtlInfo=>{peerRtlInfo.name in rtlEnabledState||(rtlEnabledState[peerRtlInfo.name]=markRaw(peerRtlInfo))});return rtlEnabledState}),mergedBreakpointsRef=computed(()=>props.breakpoints||(NConfigProvider2==null?void 0:NConfigProvider2.mergedBreakpointsRef.value)),inlineThemeDisabled=props.inlineThemeDisabled||(NConfigProvider2==null?void 0:NConfigProvider2.inlineThemeDisabled),preflightStyleDisabled=props.preflightStyleDisabled||(NConfigProvider2==null?void 0:NConfigProvider2.preflightStyleDisabled),styleMountTarget=props.styleMountTarget||(NConfigProvider2==null?void 0:NConfigProvider2.styleMountTarget),mergedThemeHashRef=computed(()=>{const{value:theme}=mergedThemeRef,{value:mergedThemeOverrides}=mergedThemeOverridesRef,hasThemeOverrides=mergedThemeOverrides&&Object.keys(mergedThemeOverrides).length!==0,themeName=theme==null?void 0:theme.name;return themeName?hasThemeOverrides?"".concat(themeName,"-").concat(murmur2(JSON.stringify(mergedThemeOverridesRef.value))):themeName:hasThemeOverrides?murmur2(JSON.stringify(mergedThemeOverridesRef.value)):""});return provide(configProviderInjectionKey,{mergedThemeHashRef,mergedBreakpointsRef,mergedRtlRef,mergedIconsRef,mergedComponentPropsRef,mergedBorderedRef,mergedNamespaceRef,mergedClsPrefixRef,mergedLocaleRef:computed(()=>{const{locale}=props;if(locale!==null)return locale===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedLocaleRef.value:locale}),mergedDateLocaleRef:computed(()=>{const{dateLocale}=props;if(dateLocale!==null)return dateLocale===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedDateLocaleRef.value:dateLocale}),mergedHljsRef:computed(()=>{const{hljs}=props;return hljs===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedHljsRef.value:hljs}),mergedKatexRef:computed(()=>{const{katex}=props;return katex===void 0?NConfigProvider2==null?void 0:NConfigProvider2.mergedKatexRef.value:katex}),mergedThemeRef,mergedThemeOverridesRef,inlineThemeDisabled:inlineThemeDisabled||!1,preflightStyleDisabled:preflightStyleDisabled||!1,styleMountTarget}),{mergedClsPrefix:mergedClsPrefixRef,mergedBordered:mergedBorderedRef,mergedNamespace:mergedNamespaceRef,mergedTheme:mergedThemeRef,mergedThemeOverrides:mergedThemeOverridesRef}},render(){var _a4,_b,_c,_d;return this.abstract?(_d=(_c=this.$slots).default)===null||_d===void 0?void 0:_d.call(_c):h(this.as||this.tag,{class:"".concat(this.mergedClsPrefix||defaultClsPrefix,"-config-provider")},(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4))}}),popselect={name:"Popselect",common:derived$1,peers:{Popover:popoverDark,InternalSelectMenu:internalSelectMenuDark}};function self$X(vars){const{boxShadow2}=vars;return{menuBoxShadow:boxShadow2}}__name(self$X,"self$X");const popselectLight={name:"Popselect",common:derived,peers:{Popover:popoverLight,InternalSelectMenu:internalSelectMenuLight},self:self$X};function self$W(vars){const{boxShadow2}=vars;return{menuBoxShadow:boxShadow2}}__name(self$W,"self$W");const selectLight={name:"Select",common:derived,peers:{InternalSelection:internalSelectionLight,InternalSelectMenu:internalSelectMenuLight},self:self$W},selectDark={name:"Select",common:derived$1,peers:{InternalSelection:internalSelectionDark,InternalSelectMenu:internalSelectMenuDark},self:self$W},commonVariables$b={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"};function self$V(vars){const{textColor2,primaryColor,primaryColorHover,primaryColorPressed,inputColorDisabled,textColorDisabled,borderColor,borderRadius,fontSizeTiny,fontSizeSmall,fontSizeMedium,heightTiny,heightSmall,heightMedium}=vars;return Object.assign(Object.assign({},commonVariables$b),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:"1px solid ".concat(borderColor),buttonBorderHover:"1px solid ".concat(borderColor),buttonBorderPressed:"1px solid ".concat(borderColor),buttonIconColor:textColor2,buttonIconColorHover:textColor2,buttonIconColorPressed:textColor2,itemTextColor:textColor2,itemTextColorHover:primaryColorHover,itemTextColorPressed:primaryColorPressed,itemTextColorActive:primaryColor,itemTextColorDisabled:textColorDisabled,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:inputColorDisabled,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:"1px solid ".concat(primaryColor),itemBorderDisabled:"1px solid ".concat(borderColor),itemBorderRadius:borderRadius,itemSizeSmall:heightTiny,itemSizeMedium:heightSmall,itemSizeLarge:heightMedium,itemFontSizeSmall:fontSizeTiny,itemFontSizeMedium:fontSizeSmall,itemFontSizeLarge:fontSizeMedium,jumperFontSizeSmall:fontSizeTiny,jumperFontSizeMedium:fontSizeSmall,jumperFontSizeLarge:fontSizeMedium,jumperTextColor:textColor2,jumperTextColorDisabled:textColorDisabled})}__name(self$V,"self$V");const paginationLight={name:"Pagination",common:derived,peers:{Select:selectLight,Input:inputLight,Popselect:popselectLight},self:self$V},paginationDark={name:"Pagination",common:derived$1,peers:{Select:selectDark,Input:inputDark,Popselect:popselect},self(vars){const{primaryColor,opacity3}=vars,borderColorActive=changeColor(primaryColor,{alpha:Number(opacity3)}),commonSelf=self$V(vars);return commonSelf.itemBorderActive="1px solid ".concat(borderColorActive),commonSelf.itemBorderDisabled="1px solid #0000",commonSelf}},commonVariables$a={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};function self$U(vars){const{primaryColor,textColor2,dividerColor,hoverColor,popoverColor,invertedColor,borderRadius,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge,heightSmall,heightMedium,heightLarge,heightHuge,textColor3,opacityDisabled}=vars;return Object.assign(Object.assign({},commonVariables$a),{optionHeightSmall:heightSmall,optionHeightMedium:heightMedium,optionHeightLarge:heightLarge,optionHeightHuge:heightHuge,borderRadius,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge,optionTextColor:textColor2,optionTextColorHover:textColor2,optionTextColorActive:primaryColor,optionTextColorChildActive:primaryColor,color:popoverColor,dividerColor,suffixColor:textColor2,prefixColor:textColor2,optionColorHover:hoverColor,optionColorActive:changeColor(primaryColor,{alpha:.1}),groupHeaderTextColor:textColor3,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:invertedColor,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:primaryColor,optionColorActiveInverted:primaryColor,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:opacityDisabled})}__name(self$U,"self$U");const dropdownLight={name:"Dropdown",common:derived,peers:{Popover:popoverLight},self:self$U},dropdownDark={name:"Dropdown",common:derived$1,peers:{Popover:popoverDark},self(vars){const{primaryColorSuppl,primaryColor,popoverColor}=vars,commonSelf=self$U(vars);return commonSelf.colorInverted=popoverColor,commonSelf.optionColorActive=changeColor(primaryColor,{alpha:.15}),commonSelf.optionColorActiveInverted=primaryColorSuppl,commonSelf.optionColorHoverInverted=primaryColorSuppl,commonSelf}},commonVars$9={padding:"8px 14px"},tooltipDark={name:"Tooltip",common:derived$1,peers:{Popover:popoverDark},self(vars){const{borderRadius,boxShadow2,popoverColor,textColor2}=vars;return Object.assign(Object.assign({},commonVars$9),{borderRadius,boxShadow:boxShadow2,color:popoverColor,textColor:textColor2})}};function self$T(vars){const{borderRadius,boxShadow2,baseColor}=vars;return Object.assign(Object.assign({},commonVars$9),{borderRadius,boxShadow:boxShadow2,color:composite(baseColor,"rgba(0, 0, 0, .85)"),textColor:baseColor})}__name(self$T,"self$T");const tooltipLight={name:"Tooltip",common:derived,peers:{Popover:popoverLight},self:self$T},ellipsisDark={name:"Ellipsis",common:derived$1,peers:{Tooltip:tooltipDark}},ellipsisLight={name:"Ellipsis",common:derived,peers:{Tooltip:tooltipLight}},commonVariables$9={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},radioDark={name:"Radio",common:derived$1,self(vars){const{borderColor,primaryColor,baseColor,textColorDisabled,inputColorDisabled,textColor2,opacityDisabled,borderRadius,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightSmall,heightMedium,heightLarge,lineHeight:lineHeight2}=vars;return Object.assign(Object.assign({},commonVariables$9),{labelLineHeight:lineHeight2,buttonHeightSmall:heightSmall,buttonHeightMedium:heightMedium,buttonHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,boxShadow:"inset 0 0 0 1px ".concat(borderColor),boxShadowActive:"inset 0 0 0 1px ".concat(primaryColor),boxShadowFocus:"inset 0 0 0 1px ".concat(primaryColor,", 0 0 0 2px ").concat(changeColor(primaryColor,{alpha:.3})),boxShadowHover:"inset 0 0 0 1px ".concat(primaryColor),boxShadowDisabled:"inset 0 0 0 1px ".concat(borderColor),color:"#0000",colorDisabled:inputColorDisabled,colorActive:"#0000",textColor:textColor2,textColorDisabled,dotColorActive:primaryColor,dotColorDisabled:borderColor,buttonBorderColor:borderColor,buttonBorderColorActive:primaryColor,buttonBorderColorHover:primaryColor,buttonColor:"#0000",buttonColorActive:primaryColor,buttonTextColor:textColor2,buttonTextColorActive:baseColor,buttonTextColorHover:primaryColor,opacityDisabled,buttonBoxShadowFocus:"inset 0 0 0 1px ".concat(primaryColor,", 0 0 0 2px ").concat(changeColor(primaryColor,{alpha:.3})),buttonBoxShadowHover:"inset 0 0 0 1px ".concat(primaryColor),buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:borderRadius})}};function self$S(vars){const{borderColor,primaryColor,baseColor,textColorDisabled,inputColorDisabled,textColor2,opacityDisabled,borderRadius,fontSizeSmall,fontSizeMedium,fontSizeLarge,heightSmall,heightMedium,heightLarge,lineHeight:lineHeight2}=vars;return Object.assign(Object.assign({},commonVariables$9),{labelLineHeight:lineHeight2,buttonHeightSmall:heightSmall,buttonHeightMedium:heightMedium,buttonHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,boxShadow:"inset 0 0 0 1px ".concat(borderColor),boxShadowActive:"inset 0 0 0 1px ".concat(primaryColor),boxShadowFocus:"inset 0 0 0 1px ".concat(primaryColor,", 0 0 0 2px ").concat(changeColor(primaryColor,{alpha:.2})),boxShadowHover:"inset 0 0 0 1px ".concat(primaryColor),boxShadowDisabled:"inset 0 0 0 1px ".concat(borderColor),color:baseColor,colorDisabled:inputColorDisabled,colorActive:"#0000",textColor:textColor2,textColorDisabled,dotColorActive:primaryColor,dotColorDisabled:borderColor,buttonBorderColor:borderColor,buttonBorderColorActive:primaryColor,buttonBorderColorHover:borderColor,buttonColor:baseColor,buttonColorActive:baseColor,buttonTextColor:textColor2,buttonTextColorActive:primaryColor,buttonTextColorHover:primaryColor,opacityDisabled,buttonBoxShadowFocus:"inset 0 0 0 1px ".concat(primaryColor,", 0 0 0 2px ").concat(changeColor(primaryColor,{alpha:.3})),buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:borderRadius})}__name(self$S,"self$S");const radioLight={name:"Radio",common:derived,self:self$S},commonVariables$8={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};function self$R(vars){const{cardColor,modalColor,popoverColor,textColor2,textColor1,tableHeaderColor,tableColorHover,iconColor,primaryColor,fontWeightStrong,borderRadius,lineHeight:lineHeight2,fontSizeSmall,fontSizeMedium,fontSizeLarge,dividerColor,heightSmall,opacityDisabled,tableColorStriped}=vars;return Object.assign(Object.assign({},commonVariables$8),{actionDividerColor:dividerColor,lineHeight:lineHeight2,borderRadius,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderColor:composite(cardColor,dividerColor),tdColorHover:composite(cardColor,tableColorHover),tdColorSorting:composite(cardColor,tableColorHover),tdColorStriped:composite(cardColor,tableColorStriped),thColor:composite(cardColor,tableHeaderColor),thColorHover:composite(composite(cardColor,tableHeaderColor),tableColorHover),thColorSorting:composite(composite(cardColor,tableHeaderColor),tableColorHover),tdColor:cardColor,tdTextColor:textColor2,thTextColor:textColor1,thFontWeight:fontWeightStrong,thButtonColorHover:tableColorHover,thIconColor:iconColor,thIconColorActive:primaryColor,borderColorModal:composite(modalColor,dividerColor),tdColorHoverModal:composite(modalColor,tableColorHover),tdColorSortingModal:composite(modalColor,tableColorHover),tdColorStripedModal:composite(modalColor,tableColorStriped),thColorModal:composite(modalColor,tableHeaderColor),thColorHoverModal:composite(composite(modalColor,tableHeaderColor),tableColorHover),thColorSortingModal:composite(composite(modalColor,tableHeaderColor),tableColorHover),tdColorModal:modalColor,borderColorPopover:composite(popoverColor,dividerColor),tdColorHoverPopover:composite(popoverColor,tableColorHover),tdColorSortingPopover:composite(popoverColor,tableColorHover),tdColorStripedPopover:composite(popoverColor,tableColorStriped),thColorPopover:composite(popoverColor,tableHeaderColor),thColorHoverPopover:composite(composite(popoverColor,tableHeaderColor),tableColorHover),thColorSortingPopover:composite(composite(popoverColor,tableHeaderColor),tableColorHover),tdColorPopover:popoverColor,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:primaryColor,loadingSize:heightSmall,opacityLoading:opacityDisabled})}__name(self$R,"self$R");const dataTableLight={name:"DataTable",common:derived,peers:{Button:buttonLight,Checkbox:checkboxLight,Radio:radioLight,Pagination:paginationLight,Scrollbar:scrollbarLight,Empty:emptyLight,Popover:popoverLight,Ellipsis:ellipsisLight,Dropdown:dropdownLight},self:self$R},dataTableDark={name:"DataTable",common:derived$1,peers:{Button:buttonDark,Checkbox:checkboxDark,Radio:radioDark,Pagination:paginationDark,Scrollbar:scrollbarDark,Empty:emptyDark,Popover:popoverDark,Ellipsis:ellipsisDark,Dropdown:dropdownDark},self(vars){const commonSelf=self$R(vars);return commonSelf.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",commonSelf.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",commonSelf}},tooltipProps=Object.assign(Object.assign({},popoverBaseProps),useTheme.props),NTooltip=defineComponent({name:"Tooltip",props:tooltipProps,slots:Object,__popover__:!0,setup(props){const{mergedClsPrefixRef}=useConfig(props),themeRef=useTheme("Tooltip","-tooltip",void 0,tooltipLight,props,mergedClsPrefixRef),popoverRef=ref(null);return Object.assign(Object.assign({},{syncPosition(){popoverRef.value.syncPosition()},setShow(show){popoverRef.value.setShow(show)}}),{popoverRef,mergedTheme:themeRef,popoverThemeOverrides:computed(()=>themeRef.value.self)})},render(){const{mergedTheme,internalExtraClass}=this;return h(NPopover,Object.assign(Object.assign({},this.$props),{theme:mergedTheme.peers.Popover,themeOverrides:mergedTheme.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:internalExtraClass.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),dropdownMenuInjectionKey="n-dropdown-menu",dropdownInjectionKey="n-dropdown",dropdownOptionInjectionKey="n-dropdown-option",NDropdownDivider=defineComponent({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return h("div",{class:"".concat(this.clsPrefix,"-dropdown-divider")})}}),NDropdownGroupHeader=defineComponent({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef,hasSubmenuRef}=inject(dropdownMenuInjectionKey),{renderLabelRef,labelFieldRef,nodePropsRef,renderOptionRef}=inject(dropdownInjectionKey);return{labelField:labelFieldRef,showIcon:showIconRef,hasSubmenu:hasSubmenuRef,renderLabel:renderLabelRef,nodeProps:nodePropsRef,renderOption:renderOptionRef}},render(){var _a4;const{clsPrefix,hasSubmenu,showIcon,nodeProps,renderLabel,renderOption}=this,{rawNode}=this.tmNode,node=h("div",Object.assign({class:"".concat(clsPrefix,"-dropdown-option")},nodeProps==null?void 0:nodeProps(rawNode)),h("div",{class:"".concat(clsPrefix,"-dropdown-option-body ").concat(clsPrefix,"-dropdown-option-body--group")},h("div",{"data-dropdown-option":!0,class:["".concat(clsPrefix,"-dropdown-option-body__prefix"),showIcon&&"".concat(clsPrefix,"-dropdown-option-body__prefix--show-icon")]},render$1(rawNode.icon)),h("div",{class:"".concat(clsPrefix,"-dropdown-option-body__label"),"data-dropdown-option":!0},renderLabel?renderLabel(rawNode):render$1((_a4=rawNode.title)!==null&&_a4!==void 0?_a4:rawNode[this.labelField])),h("div",{class:["".concat(clsPrefix,"-dropdown-option-body__suffix"),hasSubmenu&&"".concat(clsPrefix,"-dropdown-option-body__suffix--has-submenu")],"data-dropdown-option":!0})));return renderOption?renderOption({node,option:rawNode}):node}});function self$Q(vars){const{textColorBase,opacity1,opacity2,opacity3,opacity4,opacity5}=vars;return{color:textColorBase,opacity1Depth:opacity1,opacity2Depth:opacity2,opacity3Depth:opacity3,opacity4Depth:opacity4,opacity5Depth:opacity5}}__name(self$Q,"self$Q");const iconLight={name:"Icon",common:derived,self:self$Q},iconDark$1={name:"Icon",common:derived$1,self:self$Q},style$7=cB("icon","\n height: 1em;\n width: 1em;\n line-height: 1em;\n text-align: center;\n display: inline-block;\n position: relative;\n fill: currentColor;\n",[cM("color-transition",{transition:"color .3s var(--n-bezier)"}),cM("depth",{color:"var(--n-color)"},[c$4("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),c$4("svg",{height:"1em",width:"1em"})]),iconProps=Object.assign(Object.assign({},useTheme.props),{depth:[String,Number],size:[Number,String],color:String,component:[Object,Function]}),NIcon=defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:iconProps,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Icon","-icon",style$7,iconLight,props,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{depth}=props,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:self2}=themeRef.value;if(depth!==void 0){const{color,["opacity".concat(depth,"Depth")]:opacity}=self2;return{"--n-bezier":cubicBezierEaseInOut2,"--n-color":color,"--n-opacity":opacity}}return{"--n-bezier":cubicBezierEaseInOut2,"--n-color":"","--n-opacity":""}}),themeClassHandle=inlineThemeDisabled?useThemeClass("icon",computed(()=>"".concat(props.depth||"d")),cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,mergedStyle:computed(()=>{const{size:size2,color}=props;return{fontSize:formatLength(size2),color}}),cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){var _a4;const{$parent,depth,mergedClsPrefix,component,onRender,themeClass}=this;return!((_a4=$parent==null?void 0:$parent.$options)===null||_a4===void 0)&&_a4._n_icon__&&warn("icon","don't wrap `n-icon` inside `n-icon`"),onRender==null||onRender(),h("i",mergeProps(this.$attrs,{role:"img",class:["".concat(mergedClsPrefix,"-icon"),themeClass,{["".concat(mergedClsPrefix,"-icon--depth")]:depth,["".concat(mergedClsPrefix,"-icon--color-transition")]:depth!==void 0}],style:[this.cssVars,this.mergedStyle]}),component?h(component):this.$slots)}});function isSubmenuNode(rawNode,childrenField){return rawNode.type==="submenu"||rawNode.type===void 0&&rawNode[childrenField]!==void 0}__name(isSubmenuNode,"isSubmenuNode");function isGroupNode(rawNode){return rawNode.type==="group"}__name(isGroupNode,"isGroupNode");function isDividerNode$1(rawNode){return rawNode.type==="divider"}__name(isDividerNode$1,"isDividerNode$1");function isRenderNode(rawNode){return rawNode.type==="render"}__name(isRenderNode,"isRenderNode");const NDropdownOption=defineComponent({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(props){const NDropdown2=inject(dropdownInjectionKey),{hoverKeyRef,keyboardKeyRef,lastToggledSubmenuKeyRef,pendingKeyPathRef,activeKeyPathRef,animatedRef,mergedShowRef,renderLabelRef,renderIconRef,labelFieldRef,childrenFieldRef,renderOptionRef,nodePropsRef,menuPropsRef}=NDropdown2,NDropdownOption2=inject(dropdownOptionInjectionKey,null),NDropdownMenu2=inject(dropdownMenuInjectionKey),NPopoverBody2=inject(popoverBodyInjectionKey),rawNodeRef=computed(()=>props.tmNode.rawNode),hasSubmenuRef=computed(()=>{const{value:childrenField}=childrenFieldRef;return isSubmenuNode(props.tmNode.rawNode,childrenField)}),mergedDisabledRef=computed(()=>{const{disabled}=props.tmNode;return disabled}),showSubmenuRef=computed(()=>{if(!hasSubmenuRef.value)return!1;const{key,disabled}=props.tmNode;if(disabled)return!1;const{value:hoverKey}=hoverKeyRef,{value:keyboardKey}=keyboardKeyRef,{value:lastToggledSubmenuKey}=lastToggledSubmenuKeyRef,{value:pendingKeyPath}=pendingKeyPathRef;return hoverKey!==null?pendingKeyPath.includes(key):keyboardKey!==null?pendingKeyPath.includes(key)&&pendingKeyPath[pendingKeyPath.length-1]!==key:lastToggledSubmenuKey!==null?pendingKeyPath.includes(key):!1}),shouldDelayRef=computed(()=>keyboardKeyRef.value===null&&!animatedRef.value),deferredShowSubmenuRef=useDeferredTrue(showSubmenuRef,300,shouldDelayRef),parentEnteringSubmenuRef=computed(()=>!!(NDropdownOption2!=null&&NDropdownOption2.enteringSubmenuRef.value)),enteringSubmenuRef=ref(!1);provide(dropdownOptionInjectionKey,{enteringSubmenuRef});function handleSubmenuBeforeEnter(){enteringSubmenuRef.value=!0}__name(handleSubmenuBeforeEnter,"handleSubmenuBeforeEnter");function handleSubmenuAfterEnter(){enteringSubmenuRef.value=!1}__name(handleSubmenuAfterEnter,"handleSubmenuAfterEnter");function handleMouseEnter(){const{parentKey,tmNode}=props;tmNode.disabled||mergedShowRef.value&&(lastToggledSubmenuKeyRef.value=parentKey,keyboardKeyRef.value=null,hoverKeyRef.value=tmNode.key)}__name(handleMouseEnter,"handleMouseEnter");function handleMouseMove(){const{tmNode}=props;tmNode.disabled||mergedShowRef.value&&hoverKeyRef.value!==tmNode.key&&handleMouseEnter()}__name(handleMouseMove,"handleMouseMove");function handleMouseLeave(e){if(props.tmNode.disabled||!mergedShowRef.value)return;const{relatedTarget}=e;relatedTarget&&!happensIn({target:relatedTarget},"dropdownOption")&&!happensIn({target:relatedTarget},"scrollbarRail")&&(hoverKeyRef.value=null)}__name(handleMouseLeave,"handleMouseLeave");function handleClick2(){const{value:hasSubmenu}=hasSubmenuRef,{tmNode}=props;mergedShowRef.value&&!hasSubmenu&&!tmNode.disabled&&(NDropdown2.doSelect(tmNode.key,tmNode.rawNode),NDropdown2.doUpdateShow(!1))}return __name(handleClick2,"handleClick"),{labelField:labelFieldRef,renderLabel:renderLabelRef,renderIcon:renderIconRef,siblingHasIcon:NDropdownMenu2.showIconRef,siblingHasSubmenu:NDropdownMenu2.hasSubmenuRef,menuProps:menuPropsRef,popoverBody:NPopoverBody2,animated:animatedRef,mergedShowSubmenu:computed(()=>deferredShowSubmenuRef.value&&!parentEnteringSubmenuRef.value),rawNode:rawNodeRef,hasSubmenu:hasSubmenuRef,pending:useMemo(()=>{const{value:pendingKeyPath}=pendingKeyPathRef,{key}=props.tmNode;return pendingKeyPath.includes(key)}),childActive:useMemo(()=>{const{value:activeKeyPath}=activeKeyPathRef,{key}=props.tmNode,index=activeKeyPath.findIndex(k=>key===k);return index===-1?!1:index<activeKeyPath.length-1}),active:useMemo(()=>{const{value:activeKeyPath}=activeKeyPathRef,{key}=props.tmNode,index=activeKeyPath.findIndex(k=>key===k);return index===-1?!1:index===activeKeyPath.length-1}),mergedDisabled:mergedDisabledRef,renderOption:renderOptionRef,nodeProps:nodePropsRef,handleClick:handleClick2,handleMouseMove,handleMouseEnter,handleMouseLeave,handleSubmenuBeforeEnter,handleSubmenuAfterEnter}},render(){var _a4,_b;const{animated,rawNode,mergedShowSubmenu,clsPrefix,siblingHasIcon,siblingHasSubmenu,renderLabel,renderIcon,renderOption,nodeProps,props,scrollable}=this;let submenuVNode=null;if(mergedShowSubmenu){const submenuNodeProps=(_a4=this.menuProps)===null||_a4===void 0?void 0:_a4.call(this,rawNode,rawNode.children);submenuVNode=h(NDropdownMenu,Object.assign({},submenuNodeProps,{clsPrefix,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const builtinProps={class:["".concat(clsPrefix,"-dropdown-option-body"),this.pending&&"".concat(clsPrefix,"-dropdown-option-body--pending"),this.active&&"".concat(clsPrefix,"-dropdown-option-body--active"),this.childActive&&"".concat(clsPrefix,"-dropdown-option-body--child-active"),this.mergedDisabled&&"".concat(clsPrefix,"-dropdown-option-body--disabled")],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},optionNodeProps=nodeProps==null?void 0:nodeProps(rawNode),node=h("div",Object.assign({class:["".concat(clsPrefix,"-dropdown-option"),optionNodeProps==null?void 0:optionNodeProps.class],"data-dropdown-option":!0},optionNodeProps),h("div",mergeProps(builtinProps,props),[h("div",{class:["".concat(clsPrefix,"-dropdown-option-body__prefix"),siblingHasIcon&&"".concat(clsPrefix,"-dropdown-option-body__prefix--show-icon")]},[renderIcon?renderIcon(rawNode):render$1(rawNode.icon)]),h("div",{"data-dropdown-option":!0,class:"".concat(clsPrefix,"-dropdown-option-body__label")},renderLabel?renderLabel(rawNode):render$1((_b=rawNode[this.labelField])!==null&&_b!==void 0?_b:rawNode.title)),h("div",{"data-dropdown-option":!0,class:["".concat(clsPrefix,"-dropdown-option-body__suffix"),siblingHasSubmenu&&"".concat(clsPrefix,"-dropdown-option-body__suffix--has-submenu")]},this.hasSubmenu?h(NIcon,null,{default:__name(()=>h(ChevronRightIcon,null),"default")}):null)]),this.hasSubmenu?h(Binder,null,{default:__name(()=>[h(VTarget,null,{default:__name(()=>h("div",{class:"".concat(clsPrefix,"-dropdown-offset-container")},h(VFollower,{show:this.mergedShowSubmenu,placement:this.placement,to:scrollable&&this.popoverBody||void 0,teleportDisabled:!scrollable},{default:__name(()=>h("div",{class:"".concat(clsPrefix,"-dropdown-menu-wrapper")},animated?h(Transition,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:__name(()=>submenuVNode,"default")}):submenuVNode),"default")})),"default")})],"default")}):null);return renderOption?renderOption({node,option:rawNode}):node}}),NDropdownGroup=defineComponent({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode,parentKey,clsPrefix}=this,{children}=tmNode;return h(Fragment,null,h(NDropdownGroupHeader,{clsPrefix,tmNode,key:tmNode.key}),children==null?void 0:children.map(child=>{const{rawNode}=child;return rawNode.show===!1?null:isDividerNode$1(rawNode)?h(NDropdownDivider,{clsPrefix,key:child.key}):child.isGroup?(warn("dropdown","`group` node is not allowed to be put in `group` node."),null):h(NDropdownOption,{clsPrefix,tmNode:child,parentKey,key:child.key})}))}}),NDropdownRenderOption=defineComponent({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:render5,props}}=this.tmNode;return h("div",props,[render5==null?void 0:render5()])}}),NDropdownMenu=defineComponent({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:__name(()=>[],"default")},parentKey:{type:[String,Number],default:null}},setup(props){const{renderIconRef,childrenFieldRef}=inject(dropdownInjectionKey);provide(dropdownMenuInjectionKey,{showIconRef:computed(()=>{const renderIcon=renderIconRef.value;return props.tmNodes.some(tmNode=>{var _a4;if(tmNode.isGroup)return(_a4=tmNode.children)===null||_a4===void 0?void 0:_a4.some(({rawNode:rawChild})=>renderIcon?renderIcon(rawChild):rawChild.icon);const{rawNode}=tmNode;return renderIcon?renderIcon(rawNode):rawNode.icon})}),hasSubmenuRef:computed(()=>{const{value:childrenField}=childrenFieldRef;return props.tmNodes.some(tmNode=>{var _a4;if(tmNode.isGroup)return(_a4=tmNode.children)===null||_a4===void 0?void 0:_a4.some(({rawNode:rawChild})=>isSubmenuNode(rawChild,childrenField));const{rawNode}=tmNode;return isSubmenuNode(rawNode,childrenField)})})});const bodyRef=ref(null);return provide(modalBodyInjectionKey,null),provide(drawerBodyInjectionKey,null),provide(popoverBodyInjectionKey,bodyRef),{bodyRef}},render(){const{parentKey,clsPrefix,scrollable}=this,menuOptionsNode=this.tmNodes.map(tmNode=>{const{rawNode}=tmNode;return rawNode.show===!1?null:isRenderNode(rawNode)?h(NDropdownRenderOption,{tmNode,key:tmNode.key}):isDividerNode$1(rawNode)?h(NDropdownDivider,{clsPrefix,key:tmNode.key}):isGroupNode(rawNode)?h(NDropdownGroup,{clsPrefix,tmNode,parentKey,key:tmNode.key}):h(NDropdownOption,{clsPrefix,tmNode,parentKey,key:tmNode.key,props:rawNode.props,scrollable})});return h("div",{class:["".concat(clsPrefix,"-dropdown-menu"),scrollable&&"".concat(clsPrefix,"-dropdown-menu--scrollable")],ref:"bodyRef"},scrollable?h(XScrollbar,{contentClass:"".concat(clsPrefix,"-dropdown-menu__content")},{default:__name(()=>menuOptionsNode,"default")}):menuOptionsNode,this.showArrow?renderArrow({clsPrefix,arrowStyle:this.arrowStyle,arrowClass:void 0,arrowWrapperClass:void 0,arrowWrapperStyle:void 0}):null)}}),style$6=cB("dropdown-menu","\n transform-origin: var(--v-transform-origin);\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n position: relative;\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n",[fadeInScaleUpTransition(),cB("dropdown-option","\n position: relative;\n ",[c$4("a","\n text-decoration: none;\n color: inherit;\n outline: none;\n ",[c$4("&::before",'\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),cB("dropdown-option-body","\n display: flex;\n cursor: pointer;\n position: relative;\n height: var(--n-option-height);\n line-height: var(--n-option-height);\n font-size: var(--n-font-size);\n color: var(--n-option-text-color);\n transition: color .3s var(--n-bezier);\n ",[c$4("&::before",'\n content: "";\n position: absolute;\n top: 0;\n bottom: 0;\n left: 4px;\n right: 4px;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n '),cNotM("disabled",[cM("pending","\n color: var(--n-option-text-color-hover);\n ",[cE("prefix, suffix","\n color: var(--n-option-text-color-hover);\n "),c$4("&::before","background-color: var(--n-option-color-hover);")]),cM("active","\n color: var(--n-option-text-color-active);\n ",[cE("prefix, suffix","\n color: var(--n-option-text-color-active);\n "),c$4("&::before","background-color: var(--n-option-color-active);")]),cM("child-active","\n color: var(--n-option-text-color-child-active);\n ",[cE("prefix, suffix","\n color: var(--n-option-text-color-child-active);\n ")])]),cM("disabled","\n cursor: not-allowed;\n opacity: var(--n-option-opacity-disabled);\n "),cM("group","\n font-size: calc(var(--n-font-size) - 1px);\n color: var(--n-group-header-text-color);\n ",[cE("prefix","\n width: calc(var(--n-option-prefix-width) / 2);\n ",[cM("show-icon","\n width: calc(var(--n-option-icon-prefix-width) / 2);\n ")])]),cE("prefix","\n width: var(--n-option-prefix-width);\n display: flex;\n justify-content: center;\n align-items: center;\n color: var(--n-prefix-color);\n transition: color .3s var(--n-bezier);\n z-index: 1;\n ",[cM("show-icon","\n width: var(--n-option-icon-prefix-width);\n "),cB("icon","\n font-size: var(--n-option-icon-size);\n ")]),cE("label","\n white-space: nowrap;\n flex: 1;\n z-index: 1;\n "),cE("suffix","\n box-sizing: border-box;\n flex-grow: 0;\n flex-shrink: 0;\n display: flex;\n justify-content: flex-end;\n align-items: center;\n min-width: var(--n-option-suffix-width);\n padding: 0 8px;\n transition: color .3s var(--n-bezier);\n color: var(--n-suffix-color);\n z-index: 1;\n ",[cM("has-submenu","\n width: var(--n-option-icon-suffix-width);\n "),cB("icon","\n font-size: var(--n-option-icon-size);\n ")]),cB("dropdown-menu","pointer-events: all;")]),cB("dropdown-offset-container","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: -4px;\n bottom: -4px;\n ")]),cB("dropdown-divider","\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-divider-color);\n height: 1px;\n margin: 4px 0;\n "),cB("dropdown-menu-wrapper","\n transform-origin: var(--v-transform-origin);\n width: fit-content;\n "),c$4(">",[cB("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),cNotM("scrollable","\n padding: var(--n-padding);\n "),cM("scrollable",[cE("content","\n padding: var(--n-padding);\n ")])]),dropdownBaseProps={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:__name(()=>[],"default")},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},popoverPropKeys=Object.keys(popoverBaseProps),dropdownProps=Object.assign(Object.assign(Object.assign({},popoverBaseProps),dropdownBaseProps),useTheme.props),NDropdown=defineComponent({name:"Dropdown",inheritAttrs:!1,props:dropdownProps,setup(props){const uncontrolledShowRef=ref(!1),mergedShowRef=useMergedState(toRef(props,"show"),uncontrolledShowRef),treemateRef=computed(()=>{const{keyField,childrenField}=props;return createTreeMate(props.options,{getKey(node){return node[keyField]},getDisabled(node){return node.disabled===!0},getIgnored(node){return node.type==="divider"||node.type==="render"},getChildren(node){return node[childrenField]}})}),tmNodesRef=computed(()=>treemateRef.value.treeNodes),hoverKeyRef=ref(null),keyboardKeyRef=ref(null),lastToggledSubmenuKeyRef=ref(null),pendingKeyRef=computed(()=>{var _a4,_b,_c;return(_c=(_b=(_a4=hoverKeyRef.value)!==null&&_a4!==void 0?_a4:keyboardKeyRef.value)!==null&&_b!==void 0?_b:lastToggledSubmenuKeyRef.value)!==null&&_c!==void 0?_c:null}),pendingKeyPathRef=computed(()=>treemateRef.value.getPath(pendingKeyRef.value).keyPath),activeKeyPathRef=computed(()=>treemateRef.value.getPath(props.value).keyPath),keyboardEnabledRef=useMemo(()=>props.keyboard&&mergedShowRef.value);useKeyboard({keydown:{ArrowUp:{prevent:!0,handler:handleKeydownUp},ArrowRight:{prevent:!0,handler:handleKeydownRight},ArrowDown:{prevent:!0,handler:handleKeydownDown},ArrowLeft:{prevent:!0,handler:handleKeydownLeft},Enter:{prevent:!0,handler:handleKeydownEnter},Escape:handleKeydownEsc}},keyboardEnabledRef);const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Dropdown","-dropdown",style$6,dropdownLight,props,mergedClsPrefixRef);provide(dropdownInjectionKey,{labelFieldRef:toRef(props,"labelField"),childrenFieldRef:toRef(props,"childrenField"),renderLabelRef:toRef(props,"renderLabel"),renderIconRef:toRef(props,"renderIcon"),hoverKeyRef,keyboardKeyRef,lastToggledSubmenuKeyRef,pendingKeyPathRef,activeKeyPathRef,animatedRef:toRef(props,"animated"),mergedShowRef,nodePropsRef:toRef(props,"nodeProps"),renderOptionRef:toRef(props,"renderOption"),menuPropsRef:toRef(props,"menuProps"),doSelect,doUpdateShow}),watch(mergedShowRef,value=>{!props.animated&&!value&&clearPendingState()});function doSelect(key,node){const{onSelect}=props;onSelect&&call(onSelect,key,node)}__name(doSelect,"doSelect");function doUpdateShow(value){const{"onUpdate:show":_onUpdateShow,onUpdateShow}=props;_onUpdateShow&&call(_onUpdateShow,value),onUpdateShow&&call(onUpdateShow,value),uncontrolledShowRef.value=value}__name(doUpdateShow,"doUpdateShow");function clearPendingState(){hoverKeyRef.value=null,keyboardKeyRef.value=null,lastToggledSubmenuKeyRef.value=null}__name(clearPendingState,"clearPendingState");function handleKeydownEsc(){doUpdateShow(!1)}__name(handleKeydownEsc,"handleKeydownEsc");function handleKeydownLeft(){handleKeydown("left")}__name(handleKeydownLeft,"handleKeydownLeft");function handleKeydownRight(){handleKeydown("right")}__name(handleKeydownRight,"handleKeydownRight");function handleKeydownUp(){handleKeydown("up")}__name(handleKeydownUp,"handleKeydownUp");function handleKeydownDown(){handleKeydown("down")}__name(handleKeydownDown,"handleKeydownDown");function handleKeydownEnter(){const pendingNode=getPendingNode();pendingNode!=null&&pendingNode.isLeaf&&mergedShowRef.value&&(doSelect(pendingNode.key,pendingNode.rawNode),doUpdateShow(!1))}__name(handleKeydownEnter,"handleKeydownEnter");function getPendingNode(){var _a4;const{value:treeMate}=treemateRef,{value:pendingKey}=pendingKeyRef;return!treeMate||pendingKey===null?null:(_a4=treeMate.getNode(pendingKey))!==null&&_a4!==void 0?_a4:null}__name(getPendingNode,"getPendingNode");function handleKeydown(direction){const{value:pendingKey}=pendingKeyRef,{value:{getFirstAvailableNode:getFirstAvailableNode2}}=treemateRef;let nextKeyboardKey=null;if(pendingKey===null){const firstNode=getFirstAvailableNode2();firstNode!==null&&(nextKeyboardKey=firstNode.key)}else{const currentNode=getPendingNode();if(currentNode){let nextNode;switch(direction){case"down":nextNode=currentNode.getNext();break;case"up":nextNode=currentNode.getPrev();break;case"right":nextNode=currentNode.getChild();break;case"left":nextNode=currentNode.getParent();break}nextNode&&(nextKeyboardKey=nextNode.key)}}nextKeyboardKey!==null&&(hoverKeyRef.value=null,keyboardKeyRef.value=nextKeyboardKey)}__name(handleKeydown,"handleKeydown");const cssVarsRef=computed(()=>{const{size:size2,inverted}=props,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:self2}=themeRef.value,{padding,dividerColor,borderRadius,optionOpacityDisabled,[createKey("optionIconSuffixWidth",size2)]:optionIconSuffixWidth,[createKey("optionSuffixWidth",size2)]:optionSuffixWidth,[createKey("optionIconPrefixWidth",size2)]:optionIconPrefixWidth,[createKey("optionPrefixWidth",size2)]:optionPrefixWidth,[createKey("fontSize",size2)]:fontSize2,[createKey("optionHeight",size2)]:optionHeight,[createKey("optionIconSize",size2)]:optionIconSize}=self2,vars={"--n-bezier":cubicBezierEaseInOut2,"--n-font-size":fontSize2,"--n-padding":padding,"--n-border-radius":borderRadius,"--n-option-height":optionHeight,"--n-option-prefix-width":optionPrefixWidth,"--n-option-icon-prefix-width":optionIconPrefixWidth,"--n-option-suffix-width":optionSuffixWidth,"--n-option-icon-suffix-width":optionIconSuffixWidth,"--n-option-icon-size":optionIconSize,"--n-divider-color":dividerColor,"--n-option-opacity-disabled":optionOpacityDisabled};return inverted?(vars["--n-color"]=self2.colorInverted,vars["--n-option-color-hover"]=self2.optionColorHoverInverted,vars["--n-option-color-active"]=self2.optionColorActiveInverted,vars["--n-option-text-color"]=self2.optionTextColorInverted,vars["--n-option-text-color-hover"]=self2.optionTextColorHoverInverted,vars["--n-option-text-color-active"]=self2.optionTextColorActiveInverted,vars["--n-option-text-color-child-active"]=self2.optionTextColorChildActiveInverted,vars["--n-prefix-color"]=self2.prefixColorInverted,vars["--n-suffix-color"]=self2.suffixColorInverted,vars["--n-group-header-text-color"]=self2.groupHeaderTextColorInverted):(vars["--n-color"]=self2.color,vars["--n-option-color-hover"]=self2.optionColorHover,vars["--n-option-color-active"]=self2.optionColorActive,vars["--n-option-text-color"]=self2.optionTextColor,vars["--n-option-text-color-hover"]=self2.optionTextColorHover,vars["--n-option-text-color-active"]=self2.optionTextColorActive,vars["--n-option-text-color-child-active"]=self2.optionTextColorChildActive,vars["--n-prefix-color"]=self2.prefixColor,vars["--n-suffix-color"]=self2.suffixColor,vars["--n-group-header-text-color"]=self2.groupHeaderTextColor),vars}),themeClassHandle=inlineThemeDisabled?useThemeClass("dropdown",computed(()=>"".concat(props.size[0]).concat(props.inverted?"i":"")),cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,mergedTheme:themeRef,tmNodes:tmNodesRef,mergedShow:mergedShowRef,handleAfterLeave:__name(()=>{props.animated&&clearPendingState()},"handleAfterLeave"),doUpdateShow,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const renderPopoverBody=__name((className,ref2,style2,onMouseenter,onMouseleave)=>{var _a4;const{mergedClsPrefix,menuProps:menuProps2}=this;(_a4=this.onRender)===null||_a4===void 0||_a4.call(this);const menuNodeProps=(menuProps2==null?void 0:menuProps2(void 0,this.tmNodes.map(v=>v.rawNode)))||{},dropdownProps2={ref:createRefSetter(ref2),class:[className,"".concat(mergedClsPrefix,"-dropdown"),this.themeClass],clsPrefix:mergedClsPrefix,tmNodes:this.tmNodes,style:[...style2,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter,onMouseleave};return h(NDropdownMenu,mergeProps(this.$attrs,dropdownProps2,menuNodeProps))},"renderPopoverBody"),{mergedTheme}=this,popoverProps2={show:this.mergedShow,theme:mergedTheme.peers.Popover,themeOverrides:mergedTheme.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:renderPopoverBody,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return h(NPopover,Object.assign({},keep(this.$props,popoverPropKeys),popoverProps2),{trigger:__name(()=>{var _a4,_b;return(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4)},"trigger")})}}),commonVars$8={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};function self$P(vars){const{popoverColor,textColor2,primaryColor,hoverColor,dividerColor,opacityDisabled,boxShadow2,borderRadius,iconColor,iconColorDisabled}=vars;return Object.assign(Object.assign({},commonVars$8),{panelColor:popoverColor,panelBoxShadow:boxShadow2,panelDividerColor:dividerColor,itemTextColor:textColor2,itemTextColorActive:primaryColor,itemColorHover:hoverColor,itemOpacityDisabled:opacityDisabled,itemBorderRadius:borderRadius,borderRadius,iconColor,iconColorDisabled})}__name(self$P,"self$P");const timePickerLight={name:"TimePicker",common:derived,peers:{Scrollbar:scrollbarLight,Button:buttonLight,Input:inputLight},self:self$P},timePickerDark={name:"TimePicker",common:derived$1,peers:{Scrollbar:scrollbarDark,Button:buttonDark,Input:inputDark},self:self$P},commonVars$7={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarLeftPaddingWeek:"6px 12px 4px 12px",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0",calendarRightPaddingWeek:"0"};function self$O(vars){const{hoverColor,fontSize:fontSize2,textColor2,textColorDisabled,popoverColor,primaryColor,borderRadiusSmall,iconColor,iconColorDisabled,textColor1,dividerColor,boxShadow2,borderRadius,fontWeightStrong}=vars;return Object.assign(Object.assign({},commonVars$7),{itemFontSize:fontSize2,calendarDaysFontSize:fontSize2,calendarTitleFontSize:fontSize2,itemTextColor:textColor2,itemTextColorDisabled:textColorDisabled,itemTextColorActive:popoverColor,itemTextColorCurrent:primaryColor,itemColorIncluded:changeColor(primaryColor,{alpha:.1}),itemColorHover:hoverColor,itemColorDisabled:hoverColor,itemColorActive:primaryColor,itemBorderRadius:borderRadiusSmall,panelColor:popoverColor,panelTextColor:textColor2,arrowColor:iconColor,calendarTitleTextColor:textColor1,calendarTitleColorHover:hoverColor,calendarDaysTextColor:textColor2,panelHeaderDividerColor:dividerColor,calendarDaysDividerColor:dividerColor,calendarDividerColor:dividerColor,panelActionDividerColor:dividerColor,panelBoxShadow:boxShadow2,panelBorderRadius:borderRadius,calendarTitleFontWeight:fontWeightStrong,scrollItemBorderRadius:borderRadius,iconColor,iconColorDisabled})}__name(self$O,"self$O");const datePickerLight={name:"DatePicker",common:derived,peers:{Input:inputLight,Button:buttonLight,TimePicker:timePickerLight,Scrollbar:scrollbarLight},self:self$O},datePickerDark={name:"DatePicker",common:derived$1,peers:{Input:inputDark,Button:buttonDark,TimePicker:timePickerDark,Scrollbar:scrollbarDark},self(vars){const{popoverColor,hoverColor,primaryColor}=vars,commonSelf=self$O(vars);return commonSelf.itemColorDisabled=composite(popoverColor,hoverColor),commonSelf.itemColorIncluded=changeColor(primaryColor,{alpha:.15}),commonSelf.itemColorHover=composite(popoverColor,hoverColor),commonSelf}},commonVariables$7={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"};function self$N(vars){const{tableHeaderColor,textColor2,textColor1,cardColor,modalColor,popoverColor,dividerColor,borderRadius,fontWeightStrong,lineHeight:lineHeight2,fontSizeSmall,fontSizeMedium,fontSizeLarge}=vars;return Object.assign(Object.assign({},commonVariables$7),{lineHeight:lineHeight2,fontSizeSmall,fontSizeMedium,fontSizeLarge,titleTextColor:textColor1,thColor:composite(cardColor,tableHeaderColor),thColorModal:composite(modalColor,tableHeaderColor),thColorPopover:composite(popoverColor,tableHeaderColor),thTextColor:textColor1,thFontWeight:fontWeightStrong,tdTextColor:textColor2,tdColor:cardColor,tdColorModal:modalColor,tdColorPopover:popoverColor,borderColor:composite(cardColor,dividerColor),borderColorModal:composite(modalColor,dividerColor),borderColorPopover:composite(popoverColor,dividerColor),borderRadius})}__name(self$N,"self$N");const descriptionsLight={name:"Descriptions",common:derived,self:self$N},descriptionsDark={name:"Descriptions",common:derived$1,self:self$N},dialogProviderInjectionKey="n-dialog-provider",dialogApiInjectionKey="n-dialog-api",dialogReactiveListInjectionKey="n-dialog-reactive-list",commonVars$6={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"};function self$M(vars){const{textColor1,textColor2,modalColor,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,infoColor,successColor,warningColor,errorColor,primaryColor,dividerColor,borderRadius,fontWeightStrong,lineHeight:lineHeight2,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},commonVars$6),{fontSize:fontSize2,lineHeight:lineHeight2,border:"1px solid ".concat(dividerColor),titleTextColor:textColor1,textColor:textColor2,color:modalColor,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,closeBorderRadius:borderRadius,iconColor:primaryColor,iconColorInfo:infoColor,iconColorSuccess:successColor,iconColorWarning:warningColor,iconColorError:errorColor,borderRadius,titleFontWeight:fontWeightStrong})}__name(self$M,"self$M");const dialogLight={name:"Dialog",common:derived,peers:{Button:buttonLight},self:self$M},dialogDark={name:"Dialog",common:derived$1,peers:{Button:buttonDark},self:self$M},dialogProps={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,titleClass:[String,Array],titleStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],actionClass:[String,Array],actionStyle:[String,Object],onPositiveClick:Function,onNegativeClick:Function,onClose:Function},dialogPropKeys=keysOf(dialogProps),style$5=c$4([cB("dialog","\n --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);\n word-break: break-word;\n line-height: var(--n-line-height);\n position: relative;\n background: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n margin: auto;\n border-radius: var(--n-border-radius);\n padding: var(--n-padding);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ",[cE("icon",{color:"var(--n-icon-color)"}),cM("bordered",{border:"var(--n-border)"}),cM("icon-top",[cE("close",{margin:"var(--n-close-margin)"}),cE("icon",{margin:"var(--n-icon-margin)"}),cE("content",{textAlign:"center"}),cE("title",{justifyContent:"center"}),cE("action",{justifyContent:"center"})]),cM("icon-left",[cE("icon",{margin:"var(--n-icon-margin)"}),cM("closable",[cE("title","\n padding-right: calc(var(--n-close-size) + 6px);\n ")])]),cE("close","\n position: absolute;\n right: 0;\n top: 0;\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n z-index: 1;\n "),cE("content","\n font-size: var(--n-font-size);\n margin: var(--n-content-margin);\n position: relative;\n word-break: break-word;\n ",[cM("last","margin-bottom: 0;")]),cE("action","\n display: flex;\n justify-content: flex-end;\n ",[c$4("> *:not(:last-child)","\n margin-right: var(--n-action-space);\n ")]),cE("icon","\n font-size: var(--n-icon-size);\n transition: color .3s var(--n-bezier);\n "),cE("title","\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n font-size: var(--n-title-font-size);\n font-weight: var(--n-title-font-weight);\n color: var(--n-title-text-color);\n "),cB("dialog-icon-container","\n display: flex;\n justify-content: center;\n ")]),insideModal(cB("dialog","\n width: 446px;\n max-width: calc(100vw - 32px);\n ")),cB("dialog",[asModal("\n width: 446px;\n max-width: calc(100vw - 32px);\n ")])]),iconRenderMap$1={default:__name(()=>h(InfoIcon,null),"default"),info:__name(()=>h(InfoIcon,null),"info"),success:__name(()=>h(SuccessIcon,null),"success"),warning:__name(()=>h(WarningIcon,null),"warning"),error:__name(()=>h(ErrorIcon,null),"error")},NDialog=defineComponent({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},useTheme.props),dialogProps),slots:Object,setup(props){const{mergedComponentPropsRef,mergedClsPrefixRef,inlineThemeDisabled,mergedRtlRef}=useConfig(props),rtlEnabledRef=useRtl("Dialog",mergedRtlRef,mergedClsPrefixRef),mergedIconPlacementRef=computed(()=>{var _a4,_b;const{iconPlacement}=props;return iconPlacement||((_b=(_a4=mergedComponentPropsRef==null?void 0:mergedComponentPropsRef.value)===null||_a4===void 0?void 0:_a4.Dialog)===null||_b===void 0?void 0:_b.iconPlacement)||"left"});function handlePositiveClick(e){const{onPositiveClick}=props;onPositiveClick&&onPositiveClick(e)}__name(handlePositiveClick,"handlePositiveClick");function handleNegativeClick(e){const{onNegativeClick}=props;onNegativeClick&&onNegativeClick(e)}__name(handleNegativeClick,"handleNegativeClick");function handleCloseClick(){const{onClose}=props;onClose&&onClose()}__name(handleCloseClick,"handleCloseClick");const themeRef=useTheme("Dialog","-dialog",style$5,dialogLight,props,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{type}=props,iconPlacement=mergedIconPlacementRef.value,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:{fontSize:fontSize2,lineHeight:lineHeight2,border,titleTextColor,textColor,color,closeBorderRadius,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,closeIconSize,borderRadius,titleFontWeight,titleFontSize,padding,iconSize,actionSpace,contentMargin,closeSize,[iconPlacement==="top"?"iconMarginIconTop":"iconMargin"]:iconMargin,[iconPlacement==="top"?"closeMarginIconTop":"closeMargin"]:closeMargin,[createKey("iconColor",type)]:iconColor}}=themeRef.value,iconMarginDiscrete=getMargin(iconMargin);return{"--n-font-size":fontSize2,"--n-icon-color":iconColor,"--n-bezier":cubicBezierEaseInOut2,"--n-close-margin":closeMargin,"--n-icon-margin-top":iconMarginDiscrete.top,"--n-icon-margin-right":iconMarginDiscrete.right,"--n-icon-margin-bottom":iconMarginDiscrete.bottom,"--n-icon-margin-left":iconMarginDiscrete.left,"--n-icon-size":iconSize,"--n-close-size":closeSize,"--n-close-icon-size":closeIconSize,"--n-close-border-radius":closeBorderRadius,"--n-close-color-hover":closeColorHover,"--n-close-color-pressed":closeColorPressed,"--n-close-icon-color":closeIconColor,"--n-close-icon-color-hover":closeIconColorHover,"--n-close-icon-color-pressed":closeIconColorPressed,"--n-color":color,"--n-text-color":textColor,"--n-border-radius":borderRadius,"--n-padding":padding,"--n-line-height":lineHeight2,"--n-border":border,"--n-content-margin":contentMargin,"--n-title-font-size":titleFontSize,"--n-title-font-weight":titleFontWeight,"--n-title-text-color":titleTextColor,"--n-action-space":actionSpace}}),themeClassHandle=inlineThemeDisabled?useThemeClass("dialog",computed(()=>"".concat(props.type[0]).concat(mergedIconPlacementRef.value[0])),cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,mergedIconPlacement:mergedIconPlacementRef,mergedTheme:themeRef,handlePositiveClick,handleNegativeClick,handleCloseClick,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){var _a4;const{bordered,mergedIconPlacement,cssVars,closable,showIcon,title,content,action,negativeText,positiveText,positiveButtonProps,negativeButtonProps,handlePositiveClick,handleNegativeClick,mergedTheme,loading,type,mergedClsPrefix}=this;(_a4=this.onRender)===null||_a4===void 0||_a4.call(this);const icon=showIcon?h(NBaseIcon,{clsPrefix:mergedClsPrefix,class:"".concat(mergedClsPrefix,"-dialog__icon")},{default:__name(()=>resolveWrappedSlot(this.$slots.icon,children=>children||(this.icon?render$1(this.icon):iconRenderMap$1[this.type]())),"default")}):null,actionNode=resolveWrappedSlot(this.$slots.action,children=>children||positiveText||negativeText||action?h("div",{class:["".concat(mergedClsPrefix,"-dialog__action"),this.actionClass],style:this.actionStyle},children||(action?[render$1(action)]:[this.negativeText&&h(Button,Object.assign({theme:mergedTheme.peers.Button,themeOverrides:mergedTheme.peerOverrides.Button,ghost:!0,size:"small",onClick:handleNegativeClick},negativeButtonProps),{default:__name(()=>render$1(this.negativeText),"default")}),this.positiveText&&h(Button,Object.assign({theme:mergedTheme.peers.Button,themeOverrides:mergedTheme.peerOverrides.Button,size:"small",type:type==="default"?"primary":type,disabled:loading,loading,onClick:handlePositiveClick},positiveButtonProps),{default:__name(()=>render$1(this.positiveText),"default")})])):null);return h("div",{class:["".concat(mergedClsPrefix,"-dialog"),this.themeClass,this.closable&&"".concat(mergedClsPrefix,"-dialog--closable"),"".concat(mergedClsPrefix,"-dialog--icon-").concat(mergedIconPlacement),bordered&&"".concat(mergedClsPrefix,"-dialog--bordered"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-dialog--rtl")],style:cssVars,role:"dialog"},closable?resolveWrappedSlot(this.$slots.close,node=>{const classNames=["".concat(mergedClsPrefix,"-dialog__close"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-dialog--rtl")];return node?h("div",{class:classNames},node):h(NBaseClose,{clsPrefix:mergedClsPrefix,class:classNames,onClick:this.handleCloseClick})}):null,showIcon&&mergedIconPlacement==="top"?h("div",{class:"".concat(mergedClsPrefix,"-dialog-icon-container")},icon):null,h("div",{class:["".concat(mergedClsPrefix,"-dialog__title"),this.titleClass],style:this.titleStyle},showIcon&&mergedIconPlacement==="left"?icon:null,resolveSlot(this.$slots.header,()=>[render$1(title)])),h("div",{class:["".concat(mergedClsPrefix,"-dialog__content"),actionNode?"":"".concat(mergedClsPrefix,"-dialog__content--last"),this.contentClass],style:this.contentStyle},resolveSlot(this.$slots.default,()=>[render$1(content)])),actionNode)}});function self$L(vars){const{modalColor,textColor2,boxShadow3}=vars;return{color:modalColor,textColor:textColor2,boxShadow:boxShadow3}}__name(self$L,"self$L");const modalLight={name:"Modal",common:derived,peers:{Scrollbar:scrollbarLight,Dialog:dialogLight,Card:cardLight},self:self$L},modalDark={name:"Modal",common:derived$1,peers:{Scrollbar:scrollbarDark,Dialog:dialogDark,Card:cardDark},self:self$L},modalProviderInjectionKey="n-modal-provider",modalApiInjectionKey="n-modal-api",modalReactiveListInjectionKey="n-modal-reactive-list",DRAGGABLE_CLASS="n-draggable";function useDragModal(draggablePropsRef,options){let cleanup;const draggableRef=computed(()=>draggablePropsRef.value!==!1),draggableClassRef=computed(()=>draggableRef.value?DRAGGABLE_CLASS:""),boundsToWindowRef=computed(()=>{const draggableProps=draggablePropsRef.value;return draggableProps===!0||draggableProps===!1?!0:draggableProps?draggableProps.bounds!=="none":!0});function startDrag(modal){const header=modal.querySelector(".".concat(DRAGGABLE_CLASS));if(!header||!draggableClassRef.value)return;let maxMoveX=0,minMoveX=0,maxMoveY=0,minMoveY=0,prevMoveY=0,prevMoveX=0,mousedownEvent;function handleMouseDown(event){event.preventDefault(),mousedownEvent=event;const{x,y,right,bottom}=modal.getBoundingClientRect();minMoveX=x,minMoveY=y,maxMoveX=window.innerWidth-right,maxMoveY=window.innerHeight-bottom;const{left,top}=modal.style;prevMoveY=+top.slice(0,-2),prevMoveX=+left.slice(0,-2)}__name(handleMouseDown,"handleMouseDown");function handleMouseMove(event){if(!mousedownEvent)return;const{clientX:downX,clientY:downY}=mousedownEvent;let moveX=event.clientX-downX,moveY=event.clientY-downY;boundsToWindowRef.value&&(moveX>maxMoveX?moveX=maxMoveX:-moveX>minMoveX&&(moveX=-minMoveX),moveY>maxMoveY?moveY=maxMoveY:-moveY>minMoveY&&(moveY=-minMoveY));const x=moveX+prevMoveX,y=moveY+prevMoveY;modal.style.top="".concat(y,"px"),modal.style.left="".concat(x,"px")}__name(handleMouseMove,"handleMouseMove");function handleMouseUp(){mousedownEvent=void 0,options.onEnd(modal)}__name(handleMouseUp,"handleMouseUp"),on("mousedown",header,handleMouseDown),on("mousemove",window,handleMouseMove),on("mouseup",window,handleMouseUp),cleanup=__name(()=>{off("mousedown",header,handleMouseDown),on("mousemove",window,handleMouseMove),on("mouseup",window,handleMouseUp)},"cleanup")}__name(startDrag,"startDrag");function stopDrag(){cleanup&&(cleanup(),cleanup=void 0)}return __name(stopDrag,"stopDrag"),onUnmounted(stopDrag),{stopDrag,startDrag,draggableRef,draggableClassRef}}__name(useDragModal,"useDragModal");const presetProps=Object.assign(Object.assign({},cardBaseProps),dialogProps),presetPropsKeys=keysOf(presetProps),NModalBodyWrapper=defineComponent({name:"ModalBody",inheritAttrs:!1,slots:Object,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean,draggable:{type:[Boolean,Object],default:!1}},presetProps),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(props){const bodyRef=ref(null),scrollbarRef=ref(null),displayedRef=ref(props.show),transformOriginXRef=ref(null),transformOriginYRef=ref(null),NModal2=inject(modalInjectionKey);let mousePosition=null;watch(toRef(props,"show"),value=>{value&&(mousePosition=NModal2.getMousePosition())},{immediate:!0});const{stopDrag,startDrag,draggableRef,draggableClassRef}=useDragModal(toRef(props,"draggable"),{onEnd:__name(el=>{syncTransformOrigin(el)},"onEnd")}),dialogTitleClassRef=computed(()=>normalizeClass([props.titleClass,draggableClassRef.value])),cardHeaderClassRef=computed(()=>normalizeClass([props.headerClass,draggableClassRef.value]));watch(toRef(props,"show"),value=>{value&&(displayedRef.value=!0)}),useLockHtmlScroll(computed(()=>props.blockScroll&&displayedRef.value));function styleTransformOrigin(){if(NModal2.transformOriginRef.value==="center")return"";const{value:transformOriginX}=transformOriginXRef,{value:transformOriginY}=transformOriginYRef;if(transformOriginX===null||transformOriginY===null)return"";if(scrollbarRef.value){const scrollTop=scrollbarRef.value.containerScrollTop;return"".concat(transformOriginX,"px ").concat(transformOriginY+scrollTop,"px")}return""}__name(styleTransformOrigin,"styleTransformOrigin");function syncTransformOrigin(el){if(NModal2.transformOriginRef.value==="center"||!mousePosition||!scrollbarRef.value)return;const scrollTop=scrollbarRef.value.containerScrollTop,{offsetLeft,offsetTop}=el,top=mousePosition.y,left=mousePosition.x;transformOriginXRef.value=-(offsetLeft-left),transformOriginYRef.value=-(offsetTop-top-scrollTop),el.style.transformOrigin=styleTransformOrigin()}__name(syncTransformOrigin,"syncTransformOrigin");function handleEnter(el){nextTick(()=>{syncTransformOrigin(el)})}__name(handleEnter,"handleEnter");function handleBeforeLeave(el){el.style.transformOrigin=styleTransformOrigin(),props.onBeforeLeave()}__name(handleBeforeLeave,"handleBeforeLeave");function handleAfterEnter(el){const element=el;draggableRef.value&&startDrag(element),props.onAfterEnter&&props.onAfterEnter(element)}__name(handleAfterEnter,"handleAfterEnter");function handleAfterLeave(){displayedRef.value=!1,transformOriginXRef.value=null,transformOriginYRef.value=null,stopDrag(),props.onAfterLeave()}__name(handleAfterLeave,"handleAfterLeave");function handleCloseClick(){const{onClose}=props;onClose&&onClose()}__name(handleCloseClick,"handleCloseClick");function handleNegativeClick(){props.onNegativeClick()}__name(handleNegativeClick,"handleNegativeClick");function handlePositiveClick(){props.onPositiveClick()}__name(handlePositiveClick,"handlePositiveClick");const childNodeRef=ref(null);return watch(childNodeRef,node=>{node&&nextTick(()=>{const el=node.el;el&&bodyRef.value!==el&&(bodyRef.value=el)})}),provide(modalBodyInjectionKey,bodyRef),provide(drawerBodyInjectionKey,null),provide(popoverBodyInjectionKey,null),{mergedTheme:NModal2.mergedThemeRef,appear:NModal2.appearRef,isMounted:NModal2.isMountedRef,mergedClsPrefix:NModal2.mergedClsPrefixRef,bodyRef,scrollbarRef,draggableClass:draggableClassRef,displayed:displayedRef,childNodeRef,cardHeaderClass:cardHeaderClassRef,dialogTitleClass:dialogTitleClassRef,handlePositiveClick,handleNegativeClick,handleCloseClick,handleAfterEnter,handleAfterLeave,handleBeforeLeave,handleEnter}},render(){const{$slots,$attrs,handleEnter,handleAfterEnter,handleAfterLeave,handleBeforeLeave,preset,mergedClsPrefix}=this;let childNode=null;if(!preset){if(childNode=getFirstSlotVNodeWithTypedProps("default",$slots.default,{draggableClass:this.draggableClass}),!childNode){warn("modal","default slot is empty");return}childNode=cloneVNode(childNode),childNode.props=mergeProps({class:"".concat(mergedClsPrefix,"-modal")},$attrs,childNode.props||{})}return this.displayDirective==="show"||this.displayed||this.show?withDirectives(h("div",{role:"none",class:"".concat(mergedClsPrefix,"-modal-body-wrapper")},h(Scrollbar,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:"".concat(mergedClsPrefix,"-modal-scroll-content")},{default:__name(()=>{var _a4;return[(_a4=this.renderMask)===null||_a4===void 0?void 0:_a4.call(this),h(FocusTrap,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:__name(()=>{var _a5;return h(Transition,{name:"fade-in-scale-up-transition",appear:(_a5=this.appear)!==null&&_a5!==void 0?_a5:this.isMounted,onEnter:handleEnter,onAfterEnter:handleAfterEnter,onAfterLeave:handleAfterLeave,onBeforeLeave:handleBeforeLeave},{default:__name(()=>{const dirs=[[vShow,this.show]],{onClickoutside}=this;return onClickoutside&&dirs.push([clickoutside,this.onClickoutside,void 0,{capture:!0}]),withDirectives(this.preset==="confirm"||this.preset==="dialog"?h(NDialog,Object.assign({},this.$attrs,{class:["".concat(mergedClsPrefix,"-modal"),this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},keep(this.$props,dialogPropKeys),{titleClass:this.dialogTitleClass,"aria-modal":"true"}),$slots):this.preset==="card"?h(NCard,Object.assign({},this.$attrs,{ref:"bodyRef",class:["".concat(mergedClsPrefix,"-modal"),this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},keep(this.$props,cardBasePropKeys),{headerClass:this.cardHeaderClass,"aria-modal":"true",role:"dialog"}),$slots):this.childNodeRef=childNode,dirs)},"default")})},"default")})]},"default")})),[[vShow,this.displayDirective==="if"||this.displayed||this.show]]):null}}),style$4=c$4([cB("modal-container","\n position: fixed;\n left: 0;\n top: 0;\n height: 0;\n width: 0;\n display: flex;\n "),cB("modal-mask","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background-color: rgba(0, 0, 0, .4);\n ",[fadeInTransition({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),cB("modal-body-wrapper","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n overflow: visible;\n ",[cB("modal-scroll-content","\n min-height: 100%;\n display: flex;\n position: relative;\n ")]),cB("modal","\n position: relative;\n align-self: center;\n color: var(--n-text-color);\n margin: auto;\n box-shadow: var(--n-box-shadow);\n ",[fadeInScaleUpTransition({duration:".25s",enterScale:".5"}),c$4(".".concat(DRAGGABLE_CLASS),"\n cursor: move;\n user-select: none;\n ")])]),modalProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),presetProps),{draggable:[Boolean,Object],onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalModal:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),NModal=defineComponent({name:"Modal",inheritAttrs:!1,props:modalProps,slots:Object,setup(props){const containerRef=ref(null),{mergedClsPrefixRef,namespaceRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Modal","-modal",style$4,modalLight,props,mergedClsPrefixRef),clickedRef=useClicked(64),clickedPositionRef=useClickPosition(),isMountedRef=isMounted(),NDialogProvider2=props.internalDialog?inject(dialogProviderInjectionKey,null):null,NModalProvider2=props.internalModal?inject(modalProviderInjectionKey$1,null):null,isComposingRef2=useIsComposing();function doUpdateShow(show){const{onUpdateShow,"onUpdate:show":_onUpdateShow,onHide}=props;onUpdateShow&&call(onUpdateShow,show),_onUpdateShow&&call(_onUpdateShow,show),onHide&&!show&&onHide(show)}__name(doUpdateShow,"doUpdateShow");function handleCloseClick(){const{onClose}=props;onClose?Promise.resolve(onClose()).then(value=>{value!==!1&&doUpdateShow(!1)}):doUpdateShow(!1)}__name(handleCloseClick,"handleCloseClick");function handlePositiveClick(){const{onPositiveClick}=props;onPositiveClick?Promise.resolve(onPositiveClick()).then(value=>{value!==!1&&doUpdateShow(!1)}):doUpdateShow(!1)}__name(handlePositiveClick,"handlePositiveClick");function handleNegativeClick(){const{onNegativeClick}=props;onNegativeClick?Promise.resolve(onNegativeClick()).then(value=>{value!==!1&&doUpdateShow(!1)}):doUpdateShow(!1)}__name(handleNegativeClick,"handleNegativeClick");function handleBeforeLeave(){const{onBeforeLeave,onBeforeHide}=props;onBeforeLeave&&call(onBeforeLeave),onBeforeHide&&onBeforeHide()}__name(handleBeforeLeave,"handleBeforeLeave");function handleAfterLeave(){const{onAfterLeave,onAfterHide}=props;onAfterLeave&&call(onAfterLeave),onAfterHide&&onAfterHide()}__name(handleAfterLeave,"handleAfterLeave");function handleClickoutside(e){var _a4;const{onMaskClick}=props;onMaskClick&&onMaskClick(e),props.maskClosable&&!((_a4=containerRef.value)===null||_a4===void 0)&&_a4.contains(getPreciseEventTarget(e))&&doUpdateShow(!1)}__name(handleClickoutside,"handleClickoutside");function handleEsc(e){var _a4;(_a4=props.onEsc)===null||_a4===void 0||_a4.call(props),props.show&&props.closeOnEsc&&eventEffectNotPerformed(e)&&(isComposingRef2.value||doUpdateShow(!1))}__name(handleEsc,"handleEsc"),provide(modalInjectionKey,{getMousePosition:__name(()=>{const mergedProvider=NDialogProvider2||NModalProvider2;if(mergedProvider){const{clickedRef:clickedRef2,clickedPositionRef:clickedPositionRef2}=mergedProvider;if(clickedRef2.value&&clickedPositionRef2.value)return clickedPositionRef2.value}return clickedRef.value?clickedPositionRef.value:null},"getMousePosition"),mergedClsPrefixRef,mergedThemeRef:themeRef,isMountedRef,appearRef:toRef(props,"internalAppear"),transformOriginRef:toRef(props,"transformOrigin")});const cssVarsRef=computed(()=>{const{common:{cubicBezierEaseOut:cubicBezierEaseOut2},self:{boxShadow,color,textColor}}=themeRef.value;return{"--n-bezier-ease-out":cubicBezierEaseOut2,"--n-box-shadow":boxShadow,"--n-color":color,"--n-text-color":textColor}}),themeClassHandle=inlineThemeDisabled?useThemeClass("theme-class",void 0,cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,namespace:namespaceRef,isMounted:isMountedRef,containerRef,presetProps:computed(()=>keep(props,presetPropsKeys)),handleEsc,handleAfterLeave,handleClickoutside,handleBeforeLeave,doUpdateShow,handleNegativeClick,handlePositiveClick,handleCloseClick,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{mergedClsPrefix}=this;return h(LazyTeleport,{to:this.to,show:this.show},{default:__name(()=>{var _a4;(_a4=this.onRender)===null||_a4===void 0||_a4.call(this);const{unstableShowMask}=this;return withDirectives(h("div",{role:"none",ref:"containerRef",class:["".concat(mergedClsPrefix,"-modal-container"),this.themeClass,this.namespace],style:this.cssVars},h(NModalBodyWrapper,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,draggable:this.draggable,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:unstableShowMask?void 0:this.handleClickoutside,renderMask:unstableShowMask?()=>{var _a22;return h(Transition,{name:"fade-in-transition",key:"mask",appear:(_a22=this.internalAppear)!==null&&_a22!==void 0?_a22:this.isMounted},{default:__name(()=>this.show?h("div",{"aria-hidden":!0,ref:"containerRef",class:"".concat(mergedClsPrefix,"-modal-mask"),onClick:this.handleClickoutside}):null,"default")})}:void 0}),this.$slots)),[[zindexable,{zIndex:this.zIndex,enabled:this.show}]])},"default")})}}),exposedDialogEnvProps=Object.assign(Object.assign({},dialogProps),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function,draggable:[Boolean,Object]}),NDialogEnvironment=defineComponent({name:"DialogEnvironment",props:Object.assign(Object.assign({},exposedDialogEnvProps),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(props){const showRef=ref(!0);function handleAfterLeave(){const{onInternalAfterLeave,internalKey,onAfterLeave}=props;onInternalAfterLeave&&onInternalAfterLeave(internalKey),onAfterLeave&&onAfterLeave()}__name(handleAfterLeave,"handleAfterLeave");function handlePositiveClick(e){const{onPositiveClick}=props;onPositiveClick?Promise.resolve(onPositiveClick(e)).then(result=>{result!==!1&&hide()}):hide()}__name(handlePositiveClick,"handlePositiveClick");function handleNegativeClick(e){const{onNegativeClick}=props;onNegativeClick?Promise.resolve(onNegativeClick(e)).then(result=>{result!==!1&&hide()}):hide()}__name(handleNegativeClick,"handleNegativeClick");function handleCloseClick(){const{onClose}=props;onClose?Promise.resolve(onClose()).then(result=>{result!==!1&&hide()}):hide()}__name(handleCloseClick,"handleCloseClick");function handleMaskClick(e){const{onMaskClick,maskClosable}=props;onMaskClick&&(onMaskClick(e),maskClosable&&hide())}__name(handleMaskClick,"handleMaskClick");function handleEsc(){const{onEsc}=props;onEsc&&onEsc()}__name(handleEsc,"handleEsc");function hide(){showRef.value=!1}__name(hide,"hide");function handleUpdateShow(value){showRef.value=value}return __name(handleUpdateShow,"handleUpdateShow"),{show:showRef,hide,handleUpdateShow,handleAfterLeave,handleCloseClick,handleNegativeClick,handlePositiveClick,handleMaskClick,handleEsc}},render(){const{handlePositiveClick,handleUpdateShow,handleNegativeClick,handleCloseClick,handleAfterLeave,handleMaskClick,handleEsc,to,maskClosable,show}=this;return h(NModal,{show,onUpdateShow:handleUpdateShow,onMaskClick:handleMaskClick,onEsc:handleEsc,to,maskClosable,onAfterEnter:this.onAfterEnter,onAfterLeave:handleAfterLeave,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,draggable:this.draggable,internalAppear:!0,internalDialog:!0},{default:__name(({draggableClass})=>h(NDialog,Object.assign({},keep(this.$props,dialogPropKeys),{titleClass:normalizeClass([this.titleClass,draggableClass]),style:this.internalStyle,onClose:handleCloseClick,onNegativeClick:handleNegativeClick,onPositiveClick:handlePositiveClick})),"default")})}}),dialogProviderProps={injectionKey:String,to:[String,Object]},NDialogProvider=defineComponent({name:"DialogProvider",props:dialogProviderProps,setup(){const dialogListRef=ref([]),dialogInstRefs={};function create2(options={}){const key=createId(),dialogReactive=reactive(Object.assign(Object.assign({},options),{key,destroy:__name(()=>{var _a4;(_a4=dialogInstRefs["n-dialog-".concat(key)])===null||_a4===void 0||_a4.hide()},"destroy")}));return dialogListRef.value.push(dialogReactive),dialogReactive}__name(create2,"create");const typedApi=["info","success","warning","error"].map(type=>options=>create2(Object.assign(Object.assign({},options),{type})));function handleAfterLeave(key){const{value:dialogList}=dialogListRef;dialogList.splice(dialogList.findIndex(dialog=>dialog.key===key),1)}__name(handleAfterLeave,"handleAfterLeave");function destroyAll(){Object.values(dialogInstRefs).forEach(dialogInstRef=>{dialogInstRef==null||dialogInstRef.hide()})}__name(destroyAll,"destroyAll");const api={create:create2,destroyAll,info:typedApi[0],success:typedApi[1],warning:typedApi[2],error:typedApi[3]};return provide(dialogApiInjectionKey,api),provide(dialogProviderInjectionKey,{clickedRef:useClicked(64),clickedPositionRef:useClickPosition()}),provide(dialogReactiveListInjectionKey,dialogListRef),Object.assign(Object.assign({},api),{dialogList:dialogListRef,dialogInstRefs,handleAfterLeave})},render(){var _a4,_b;return h(Fragment,null,[this.dialogList.map(dialog=>h(NDialogEnvironment,omit(dialog,["destroy","style"],{internalStyle:dialog.style,to:this.to,ref:__name(inst=>{inst===null?delete this.dialogInstRefs["n-dialog-".concat(dialog.key)]:this.dialogInstRefs["n-dialog-".concat(dialog.key)]=inst},"ref"),internalKey:dialog.key,onInternalAfterLeave:this.handleAfterLeave}))),(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4)])}}),loadingBarDark={name:"LoadingBar",common:derived$1,self(vars){const{primaryColor}=vars;return{colorError:"red",colorLoading:primaryColor,height:"2px"}}};function self$K(vars){const{primaryColor,errorColor}=vars;return{colorError:errorColor,colorLoading:primaryColor,height:"2px"}}__name(self$K,"self$K");const loadingBarLight={name:"LoadingBar",common:derived,self:self$K},messageApiInjectionKey="n-message-api",messageProviderInjectionKey="n-message-provider",commonVariables$6={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"};function self$J(vars){const{textColor2,closeIconColor,closeIconColorHover,closeIconColorPressed,infoColor,successColor,errorColor,warningColor,popoverColor,boxShadow2,primaryColor,lineHeight:lineHeight2,borderRadius,closeColorHover,closeColorPressed}=vars;return Object.assign(Object.assign({},commonVariables$6),{closeBorderRadius:borderRadius,textColor:textColor2,textColorInfo:textColor2,textColorSuccess:textColor2,textColorError:textColor2,textColorWarning:textColor2,textColorLoading:textColor2,color:popoverColor,colorInfo:popoverColor,colorSuccess:popoverColor,colorError:popoverColor,colorWarning:popoverColor,colorLoading:popoverColor,boxShadow:boxShadow2,boxShadowInfo:boxShadow2,boxShadowSuccess:boxShadow2,boxShadowError:boxShadow2,boxShadowWarning:boxShadow2,boxShadowLoading:boxShadow2,iconColor:textColor2,iconColorInfo:infoColor,iconColorSuccess:successColor,iconColorWarning:warningColor,iconColorError:errorColor,iconColorLoading:primaryColor,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHoverInfo:closeColorHover,closeColorPressedInfo:closeColorPressed,closeIconColorInfo:closeIconColor,closeIconColorHoverInfo:closeIconColorHover,closeIconColorPressedInfo:closeIconColorPressed,closeColorHoverSuccess:closeColorHover,closeColorPressedSuccess:closeColorPressed,closeIconColorSuccess:closeIconColor,closeIconColorHoverSuccess:closeIconColorHover,closeIconColorPressedSuccess:closeIconColorPressed,closeColorHoverError:closeColorHover,closeColorPressedError:closeColorPressed,closeIconColorError:closeIconColor,closeIconColorHoverError:closeIconColorHover,closeIconColorPressedError:closeIconColorPressed,closeColorHoverWarning:closeColorHover,closeColorPressedWarning:closeColorPressed,closeIconColorWarning:closeIconColor,closeIconColorHoverWarning:closeIconColorHover,closeIconColorPressedWarning:closeIconColorPressed,closeColorHoverLoading:closeColorHover,closeColorPressedLoading:closeColorPressed,closeIconColorLoading:closeIconColor,closeIconColorHoverLoading:closeIconColorHover,closeIconColorPressedLoading:closeIconColorPressed,loadingColor:primaryColor,lineHeight:lineHeight2,borderRadius})}__name(self$J,"self$J");const messageLight={name:"Message",common:derived,self:self$J},messageDark={name:"Message",common:derived$1,self:self$J},messageProps={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},style$3=c$4([cB("message-wrapper","\n margin: var(--n-margin);\n z-index: 0;\n transform-origin: top center;\n display: flex;\n ",[fadeInHeightExpandTransition({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),cB("message","\n box-sizing: border-box;\n display: flex;\n align-items: center;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n transform .3s var(--n-bezier),\n margin-bottom .3s var(--n-bezier);\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n flex-wrap: nowrap;\n overflow: hidden;\n max-width: var(--n-max-width);\n color: var(--n-text-color);\n background-color: var(--n-color);\n box-shadow: var(--n-box-shadow);\n ",[cE("content","\n display: inline-block;\n line-height: var(--n-line-height);\n font-size: var(--n-font-size);\n "),cE("icon","\n position: relative;\n margin: var(--n-icon-margin);\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n font-size: var(--n-icon-size);\n flex-shrink: 0;\n ",[["default","info","success","warning","error","loading"].map(type=>cM("".concat(type,"-type"),[c$4("> *","\n color: var(--n-icon-color-".concat(type,");\n transition: color .3s var(--n-bezier);\n "))])),c$4("> *","\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n ",[iconSwitchTransition()])]),cE("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n flex-shrink: 0;\n ",[c$4("&:hover","\n color: var(--n-close-icon-color-hover);\n "),c$4("&:active","\n color: var(--n-close-icon-color-pressed);\n ")])]),cB("message-container","\n z-index: 6000;\n position: fixed;\n height: 0;\n overflow: visible;\n display: flex;\n flex-direction: column;\n align-items: center;\n ",[cM("top","\n top: 12px;\n left: 0;\n right: 0;\n "),cM("top-left","\n top: 12px;\n left: 12px;\n right: 0;\n align-items: flex-start;\n "),cM("top-right","\n top: 12px;\n left: 0;\n right: 12px;\n align-items: flex-end;\n "),cM("bottom","\n bottom: 4px;\n left: 0;\n right: 0;\n justify-content: flex-end;\n "),cM("bottom-left","\n bottom: 4px;\n left: 12px;\n right: 0;\n justify-content: flex-end;\n align-items: flex-start;\n "),cM("bottom-right","\n bottom: 4px;\n left: 0;\n right: 12px;\n justify-content: flex-end;\n align-items: flex-end;\n ")])]),iconRenderMap={info:__name(()=>h(InfoIcon,null),"info"),success:__name(()=>h(SuccessIcon,null),"success"),warning:__name(()=>h(WarningIcon,null),"warning"),error:__name(()=>h(ErrorIcon,null),"error"),default:__name(()=>null,"default")},NMessage=defineComponent({name:"Message",props:Object.assign(Object.assign({},messageProps),{render:Function}),setup(props){const{inlineThemeDisabled,mergedRtlRef}=useConfig(props),{props:messageProviderProps2,mergedClsPrefixRef}=inject(messageProviderInjectionKey),rtlEnabledRef=useRtl("Message",mergedRtlRef,mergedClsPrefixRef),themeRef=useTheme("Message","-message",style$3,messageLight,messageProviderProps2,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{type}=props,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:{padding,margin,maxWidth,iconMargin,closeMargin,closeSize,iconSize,fontSize:fontSize2,lineHeight:lineHeight2,borderRadius,iconColorInfo,iconColorSuccess,iconColorWarning,iconColorError,iconColorLoading,closeIconSize,closeBorderRadius,[createKey("textColor",type)]:textColor,[createKey("boxShadow",type)]:boxShadow,[createKey("color",type)]:color,[createKey("closeColorHover",type)]:closeColorHover,[createKey("closeColorPressed",type)]:closeColorPressed,[createKey("closeIconColor",type)]:closeIconColor,[createKey("closeIconColorPressed",type)]:closeIconColorPressed,[createKey("closeIconColorHover",type)]:closeIconColorHover}}=themeRef.value;return{"--n-bezier":cubicBezierEaseInOut2,"--n-margin":margin,"--n-padding":padding,"--n-max-width":maxWidth,"--n-font-size":fontSize2,"--n-icon-margin":iconMargin,"--n-icon-size":iconSize,"--n-close-icon-size":closeIconSize,"--n-close-border-radius":closeBorderRadius,"--n-close-size":closeSize,"--n-close-margin":closeMargin,"--n-text-color":textColor,"--n-color":color,"--n-box-shadow":boxShadow,"--n-icon-color-info":iconColorInfo,"--n-icon-color-success":iconColorSuccess,"--n-icon-color-warning":iconColorWarning,"--n-icon-color-error":iconColorError,"--n-icon-color-loading":iconColorLoading,"--n-close-color-hover":closeColorHover,"--n-close-color-pressed":closeColorPressed,"--n-close-icon-color":closeIconColor,"--n-close-icon-color-pressed":closeIconColorPressed,"--n-close-icon-color-hover":closeIconColorHover,"--n-line-height":lineHeight2,"--n-border-radius":borderRadius}}),themeClassHandle=inlineThemeDisabled?useThemeClass("message",computed(()=>props.type[0]),cssVarsRef,{}):void 0;return{mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,messageProviderProps:messageProviderProps2,handleClose(){var _a4;(_a4=props.onClose)===null||_a4===void 0||_a4.call(props)},cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender,placement:messageProviderProps2.placement}},render(){const{render:renderMessage,type,closable,content,mergedClsPrefix,cssVars,themeClass,onRender,icon,handleClose,showIcon}=this;onRender==null||onRender();let iconNode;return h("div",{class:["".concat(mergedClsPrefix,"-message-wrapper"),themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},cssVars]},renderMessage?renderMessage(this.$props):h("div",{class:["".concat(mergedClsPrefix,"-message ").concat(mergedClsPrefix,"-message--").concat(type,"-type"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-message--rtl")]},(iconNode=createIconVNode(icon,type,mergedClsPrefix))&&showIcon?h("div",{class:"".concat(mergedClsPrefix,"-message__icon ").concat(mergedClsPrefix,"-message__icon--").concat(type,"-type")},h(NIconSwitchTransition,null,{default:__name(()=>iconNode,"default")})):null,h("div",{class:"".concat(mergedClsPrefix,"-message__content")},render$1(content)),closable?h(NBaseClose,{clsPrefix:mergedClsPrefix,class:"".concat(mergedClsPrefix,"-message__close"),onClick:handleClose,absolute:!0}):null))}});function createIconVNode(icon,type,clsPrefix){if(typeof icon=="function")return icon();{const innerIcon=type==="loading"?h(NBaseLoading,{clsPrefix,strokeWidth:24,scale:.85}):iconRenderMap[type]();return innerIcon?h(NBaseIcon,{clsPrefix,key:type},{default:__name(()=>innerIcon,"default")}):null}}__name(createIconVNode,"createIconVNode");const MessageEnvironment=defineComponent({name:"MessageEnvironment",props:Object.assign(Object.assign({},messageProps),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(props){let timerId=null;const showRef=ref(!0);onMounted(()=>{setHideTimeout()});function setHideTimeout(){const{duration:duration2}=props;duration2&&(timerId=window.setTimeout(hide,duration2))}__name(setHideTimeout,"setHideTimeout");function handleMouseenter(e){e.currentTarget===e.target&&timerId!==null&&(window.clearTimeout(timerId),timerId=null)}__name(handleMouseenter,"handleMouseenter");function handleMouseleave(e){e.currentTarget===e.target&&setHideTimeout()}__name(handleMouseleave,"handleMouseleave");function hide(){const{onHide}=props;showRef.value=!1,timerId&&(window.clearTimeout(timerId),timerId=null),onHide&&onHide()}__name(hide,"hide");function handleClose(){const{onClose}=props;onClose&&onClose(),hide()}__name(handleClose,"handleClose");function handleAfterLeave(){const{onAfterLeave,onInternalAfterLeave,onAfterHide,internalKey}=props;onAfterLeave&&onAfterLeave(),onInternalAfterLeave&&onInternalAfterLeave(internalKey),onAfterHide&&onAfterHide()}__name(handleAfterLeave,"handleAfterLeave");function deactivate(){hide()}return __name(deactivate,"deactivate"),{show:showRef,hide,handleClose,handleAfterLeave,handleMouseleave,handleMouseenter,deactivate}},render(){return h(NFadeInExpandTransition,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:__name(()=>[this.show?h(NMessage,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null],"default")})}}),messageProviderProps=Object.assign(Object.assign({},useTheme.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerClass:String,containerStyle:[String,Object]}),NMessageProvider=defineComponent({name:"MessageProvider",props:messageProviderProps,setup(props){const{mergedClsPrefixRef}=useConfig(props),messageListRef=ref([]),messageRefs=ref({}),api={create(content,options){return create2(content,Object.assign({type:"default"},options))},info(content,options){return create2(content,Object.assign(Object.assign({},options),{type:"info"}))},success(content,options){return create2(content,Object.assign(Object.assign({},options),{type:"success"}))},warning(content,options){return create2(content,Object.assign(Object.assign({},options),{type:"warning"}))},error(content,options){return create2(content,Object.assign(Object.assign({},options),{type:"error"}))},loading(content,options){return create2(content,Object.assign(Object.assign({},options),{type:"loading"}))},destroyAll};provide(messageProviderInjectionKey,{props,mergedClsPrefixRef}),provide(messageApiInjectionKey,api);function create2(content,options){const key=createId(),messageReactive=reactive(Object.assign(Object.assign({},options),{content,key,destroy:__name(()=>{var _a4;(_a4=messageRefs.value[key])===null||_a4===void 0||_a4.hide()},"destroy")})),{max}=props;return max&&messageListRef.value.length>=max&&messageListRef.value.shift(),messageListRef.value.push(messageReactive),messageReactive}__name(create2,"create");function handleAfterLeave(key){messageListRef.value.splice(messageListRef.value.findIndex(message=>message.key===key),1),delete messageRefs.value[key]}__name(handleAfterLeave,"handleAfterLeave");function destroyAll(){Object.values(messageRefs.value).forEach(messageInstRef=>{messageInstRef.hide()})}return __name(destroyAll,"destroyAll"),Object.assign({mergedClsPrefix:mergedClsPrefixRef,messageRefs,messageList:messageListRef,handleAfterLeave},api)},render(){var _a4,_b,_c;return h(Fragment,null,(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4),this.messageList.length?h(Teleport,{to:(_c=this.to)!==null&&_c!==void 0?_c:"body"},h("div",{class:["".concat(this.mergedClsPrefix,"-message-container"),"".concat(this.mergedClsPrefix,"-message-container--").concat(this.placement),this.containerClass],key:"message-container",style:this.containerStyle},this.messageList.map(message=>h(MessageEnvironment,Object.assign({ref:__name(inst=>{inst&&(this.messageRefs[message.key]=inst)},"ref"),internalKey:message.key,onInternalAfterLeave:this.handleAfterLeave},omit(message,["destroy"],void 0),{duration:message.duration===void 0?this.duration:message.duration,keepAliveOnHover:message.keepAliveOnHover===void 0?this.keepAliveOnHover:message.keepAliveOnHover,closable:message.closable===void 0?this.closable:message.closable}))))):null)}}),NModalEnvironment=defineComponent({name:"ModalEnvironment",props:Object.assign(Object.assign({},modalProps),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(props){const showRef=ref(!0);function handleAfterLeave(){const{onInternalAfterLeave,internalKey,onAfterLeave}=props;onInternalAfterLeave&&onInternalAfterLeave(internalKey),onAfterLeave&&onAfterLeave()}__name(handleAfterLeave,"handleAfterLeave");function handlePositiveClick(){const{onPositiveClick}=props;onPositiveClick?Promise.resolve(onPositiveClick()).then(result=>{result!==!1&&hide()}):hide()}__name(handlePositiveClick,"handlePositiveClick");function handleNegativeClick(){const{onNegativeClick}=props;onNegativeClick?Promise.resolve(onNegativeClick()).then(result=>{result!==!1&&hide()}):hide()}__name(handleNegativeClick,"handleNegativeClick");function handleCloseClick(){const{onClose}=props;onClose?Promise.resolve(onClose()).then(result=>{result!==!1&&hide()}):hide()}__name(handleCloseClick,"handleCloseClick");function handleMaskClick(e){const{onMaskClick,maskClosable}=props;onMaskClick&&(onMaskClick(e),maskClosable&&hide())}__name(handleMaskClick,"handleMaskClick");function handleEsc(){const{onEsc}=props;onEsc&&onEsc()}__name(handleEsc,"handleEsc");function hide(){showRef.value=!1}__name(hide,"hide");function handleUpdateShow(value){showRef.value=value}return __name(handleUpdateShow,"handleUpdateShow"),{show:showRef,hide,handleUpdateShow,handleAfterLeave,handleCloseClick,handleNegativeClick,handlePositiveClick,handleMaskClick,handleEsc}},render(){const{handleUpdateShow,handleAfterLeave,handleMaskClick,handleEsc,show}=this;return h(NModal,Object.assign({},this.$props,{show,onUpdateShow:handleUpdateShow,onMaskClick:handleMaskClick,onEsc:handleEsc,onAfterLeave:handleAfterLeave,internalAppear:!0,internalModal:!0}))}}),modalProviderProps={to:[String,Object]},NModalProvider=defineComponent({name:"ModalProvider",props:modalProviderProps,setup(){const modalListRef=ref([]),modalInstRefs={};function create2(options={}){const key=createId(),modalReactive=reactive(Object.assign(Object.assign({},options),{key,destroy:__name(()=>{var _a4;(_a4=modalInstRefs["n-modal-".concat(key)])===null||_a4===void 0||_a4.hide()},"destroy")}));return modalListRef.value.push(modalReactive),modalReactive}__name(create2,"create");function handleAfterLeave(key){const{value:modalList}=modalListRef;modalList.splice(modalList.findIndex(modal=>modal.key===key),1)}__name(handleAfterLeave,"handleAfterLeave");function destroyAll(){Object.values(modalInstRefs).forEach(modalInstRef=>{modalInstRef==null||modalInstRef.hide()})}__name(destroyAll,"destroyAll");const api={create:create2,destroyAll};return provide(modalApiInjectionKey,api),provide(modalProviderInjectionKey,{clickedRef:useClicked(64),clickedPositionRef:useClickPosition()}),provide(modalReactiveListInjectionKey,modalListRef),Object.assign(Object.assign({},api),{modalList:modalListRef,modalInstRefs,handleAfterLeave})},render(){var _a4,_b;return h(Fragment,null,[this.modalList.map(modal=>{var _a5;return h(NModalEnvironment,omit(modal,["destroy"],{to:(_a5=modal.to)!==null&&_a5!==void 0?_a5:this.to,ref:__name(inst=>{inst===null?delete this.modalInstRefs["n-modal-".concat(modal.key)]:this.modalInstRefs["n-modal-".concat(modal.key)]=inst},"ref"),internalKey:modal.key,onInternalAfterLeave:this.handleAfterLeave}))}),(_b=(_a4=this.$slots).default)===null||_b===void 0?void 0:_b.call(_a4)])}}),commonVars$5={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"};function self$I(vars){const{textColor2,successColor,infoColor,warningColor,errorColor,popoverColor,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,textColor1,textColor3,borderRadius,fontWeightStrong,boxShadow2,lineHeight:lineHeight2,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},commonVars$5),{borderRadius,lineHeight:lineHeight2,fontSize:fontSize2,headerFontWeight:fontWeightStrong,iconColor:textColor2,iconColorSuccess:successColor,iconColorInfo:infoColor,iconColorWarning:warningColor,iconColorError:errorColor,color:popoverColor,textColor:textColor2,closeIconColor,closeIconColorHover,closeIconColorPressed,closeBorderRadius:borderRadius,closeColorHover,closeColorPressed,headerTextColor:textColor1,descriptionTextColor:textColor3,actionTextColor:textColor2,boxShadow:boxShadow2})}__name(self$I,"self$I");const notificationLight={name:"Notification",common:derived,peers:{Scrollbar:scrollbarLight},self:self$I},notificationDark={name:"Notification",common:derived$1,peers:{Scrollbar:scrollbarDark},self:self$I};function self$H(vars){const{textColor1,dividerColor,fontWeightStrong}=vars;return{textColor:textColor1,color:dividerColor,fontWeight:fontWeightStrong}}__name(self$H,"self$H");const dividerLight={name:"Divider",common:derived,self:self$H},dividerDark={name:"Divider",common:derived$1,self:self$H};function self$G(vars){const{modalColor,textColor1,textColor2,boxShadow3,lineHeight:lineHeight2,fontWeightStrong,dividerColor,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,borderRadius,primaryColorHover}=vars;return{bodyPadding:"16px 24px",borderRadius,headerPadding:"16px 24px",footerPadding:"16px 24px",color:modalColor,textColor:textColor2,titleTextColor:textColor1,titleFontSize:"18px",titleFontWeight:fontWeightStrong,boxShadow:boxShadow3,lineHeight:lineHeight2,headerBorderBottom:"1px solid ".concat(dividerColor),footerBorderTop:"1px solid ".concat(dividerColor),closeIconColor,closeIconColorHover,closeIconColorPressed,closeSize:"22px",closeIconSize:"18px",closeColorHover,closeColorPressed,closeBorderRadius:borderRadius,resizableTriggerColorHover:primaryColorHover}}__name(self$G,"self$G");const drawerLight={name:"Drawer",common:derived,peers:{Scrollbar:scrollbarLight},self:self$G},drawerDark={name:"Drawer",common:derived$1,peers:{Scrollbar:scrollbarDark},self:self$G},commonVariables$5={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},dynamicInputDark={name:"DynamicInput",common:derived$1,peers:{Input:inputDark,Button:buttonDark},self(){return commonVariables$5}};function self$F(){return commonVariables$5}__name(self$F,"self$F");const dynamicInputLight={name:"DynamicInput",common:derived,peers:{Input:inputLight,Button:buttonLight},self:self$F},commonVars$4={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},spaceDark={name:"Space",self(){return commonVars$4}};function self$E(){return commonVars$4}__name(self$E,"self$E");const spaceLight={name:"Space",self:self$E},dynamicTagsDark={name:"DynamicTags",common:derived$1,peers:{Input:inputDark,Button:buttonDark,Tag:tagDark,Space:spaceDark},self(){return{inputWidth:"64px"}}},dynamicTagsLight={name:"DynamicTags",common:derived,peers:{Input:inputLight,Button:buttonLight,Tag:tagLight,Space:spaceLight},self(){return{inputWidth:"64px"}}},elementDark={name:"Element",common:derived$1},elementLight={name:"Element",common:derived},commonVars$3={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},flexDark={name:"Flex",self(){return commonVars$3}};function self$D(){return commonVars$3}__name(self$D,"self$D");const flexLight={name:"Flex",self:self$D},buttonGroupDark={name:"ButtonGroup",common:derived$1},buttonGroupLight={name:"ButtonGroup",common:derived},commonVariables$4={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"};function self$C(vars){const{heightSmall,heightMedium,heightLarge,textColor1,errorColor,warningColor,lineHeight:lineHeight2,textColor3}=vars;return Object.assign(Object.assign({},commonVariables$4),{blankHeightSmall:heightSmall,blankHeightMedium:heightMedium,blankHeightLarge:heightLarge,lineHeight:lineHeight2,labelTextColor:textColor1,asteriskColor:errorColor,feedbackTextColorError:errorColor,feedbackTextColorWarning:warningColor,feedbackTextColor:textColor3})}__name(self$C,"self$C");const formLight={name:"Form",common:derived,self:self$C},formItemDark={name:"Form",common:derived$1,self:self$C},gradientTextDark={name:"GradientText",common:derived$1,self(vars){const{primaryColor,successColor,warningColor,errorColor,infoColor,primaryColorSuppl,successColorSuppl,warningColorSuppl,errorColorSuppl,infoColorSuppl,fontWeightStrong}=vars;return{fontWeight:fontWeightStrong,rotate:"252deg",colorStartPrimary:primaryColor,colorEndPrimary:primaryColorSuppl,colorStartInfo:infoColor,colorEndInfo:infoColorSuppl,colorStartWarning:warningColor,colorEndWarning:warningColorSuppl,colorStartError:errorColor,colorEndError:errorColorSuppl,colorStartSuccess:successColor,colorEndSuccess:successColorSuppl}}};function self$B(vars){const{primaryColor,successColor,warningColor,errorColor,infoColor,fontWeightStrong}=vars;return{fontWeight:fontWeightStrong,rotate:"252deg",colorStartPrimary:changeColor(primaryColor,{alpha:.6}),colorEndPrimary:primaryColor,colorStartInfo:changeColor(infoColor,{alpha:.6}),colorEndInfo:infoColor,colorStartWarning:changeColor(warningColor,{alpha:.6}),colorEndWarning:warningColor,colorStartError:changeColor(errorColor,{alpha:.6}),colorEndError:errorColor,colorStartSuccess:changeColor(successColor,{alpha:.6}),colorEndSuccess:successColor}}__name(self$B,"self$B");const gradientTextLight={name:"GradientText",common:derived,self:self$B},inputNumberDark={name:"InputNumber",common:derived$1,peers:{Button:buttonDark,Input:inputDark},self(vars){const{textColorDisabled}=vars;return{iconColorDisabled:textColorDisabled}}};function self$A(vars){const{textColorDisabled}=vars;return{iconColorDisabled:textColorDisabled}}__name(self$A,"self$A");const inputNumberLight={name:"InputNumber",common:derived,peers:{Button:buttonLight,Input:inputLight},self:self$A};function self$z(){return{inputWidthSmall:"24px",inputWidthMedium:"30px",inputWidthLarge:"36px",gapSmall:"8px",gapMedium:"8px",gapLarge:"8px"}}__name(self$z,"self$z");const inputOtpLight={name:"InputOtp",common:derived,peers:{Input:inputLight},self:self$z},inputOtpDark={name:"InputOtp",common:derived$1,peers:{Input:inputDark},self:self$z},layoutDark={name:"Layout",common:derived$1,peers:{Scrollbar:scrollbarDark},self(vars){const{textColor2,bodyColor,popoverColor,cardColor,dividerColor,scrollbarColor,scrollbarColorHover}=vars;return{textColor:textColor2,textColorInverted:textColor2,color:bodyColor,colorEmbedded:bodyColor,headerColor:cardColor,headerColorInverted:cardColor,footerColor:cardColor,footerColorInverted:cardColor,headerBorderColor:dividerColor,headerBorderColorInverted:dividerColor,footerBorderColor:dividerColor,footerBorderColorInverted:dividerColor,siderBorderColor:dividerColor,siderBorderColorInverted:dividerColor,siderColor:cardColor,siderColorInverted:cardColor,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:popoverColor,siderToggleButtonIconColor:textColor2,siderToggleButtonIconColorInverted:textColor2,siderToggleBarColor:composite(bodyColor,scrollbarColor),siderToggleBarColorHover:composite(bodyColor,scrollbarColorHover),__invertScrollbar:"false"}}};function self$y(vars){const{baseColor,textColor2,bodyColor,cardColor,dividerColor,actionColor,scrollbarColor,scrollbarColorHover,invertedColor}=vars;return{textColor:textColor2,textColorInverted:"#FFF",color:bodyColor,colorEmbedded:actionColor,headerColor:cardColor,headerColorInverted:invertedColor,footerColor:actionColor,footerColorInverted:invertedColor,headerBorderColor:dividerColor,headerBorderColorInverted:invertedColor,footerBorderColor:dividerColor,footerBorderColorInverted:invertedColor,siderBorderColor:dividerColor,siderBorderColorInverted:invertedColor,siderColor:cardColor,siderColorInverted:invertedColor,siderToggleButtonBorder:"1px solid ".concat(dividerColor),siderToggleButtonColor:baseColor,siderToggleButtonIconColor:textColor2,siderToggleButtonIconColorInverted:textColor2,siderToggleBarColor:composite(bodyColor,scrollbarColor),siderToggleBarColorHover:composite(bodyColor,scrollbarColorHover),__invertScrollbar:"true"}}__name(self$y,"self$y");const layoutLight={name:"Layout",common:derived,peers:{Scrollbar:scrollbarLight},self:self$y},rowDark={name:"Row",common:derived$1},rowLight={name:"Row",common:derived};function self$x(vars){const{textColor2,cardColor,modalColor,popoverColor,dividerColor,borderRadius,fontSize:fontSize2,hoverColor}=vars;return{textColor:textColor2,color:cardColor,colorHover:hoverColor,colorModal:modalColor,colorHoverModal:composite(modalColor,hoverColor),colorPopover:popoverColor,colorHoverPopover:composite(popoverColor,hoverColor),borderColor:dividerColor,borderColorModal:composite(modalColor,dividerColor),borderColorPopover:composite(popoverColor,dividerColor),borderRadius,fontSize:fontSize2}}__name(self$x,"self$x");const listLight={name:"List",common:derived,self:self$x},listDark$1={name:"List",common:derived$1,self:self$x},logDark={name:"Log",common:derived$1,peers:{Scrollbar:scrollbarDark,Code:codeDark},self(vars){const{textColor2,inputColor,fontSize:fontSize2,primaryColor}=vars;return{loaderFontSize:fontSize2,loaderTextColor:textColor2,loaderColor:inputColor,loaderBorder:"1px solid #0000",loadingColor:primaryColor}}};function self$w(vars){const{textColor2,modalColor,borderColor,fontSize:fontSize2,primaryColor}=vars;return{loaderFontSize:fontSize2,loaderTextColor:textColor2,loaderColor:modalColor,loaderBorder:"1px solid ".concat(borderColor),loadingColor:primaryColor}}__name(self$w,"self$w");const logLight={name:"Log",common:derived,peers:{Scrollbar:scrollbarLight,Code:codeLight},self:self$w},listDark={name:"Mention",common:derived$1,peers:{InternalSelectMenu:internalSelectMenuDark,Input:inputDark},self(vars){const{boxShadow2}=vars;return{menuBoxShadow:boxShadow2}}};function self$v(vars){const{boxShadow2}=vars;return{menuBoxShadow:boxShadow2}}__name(self$v,"self$v");const mentionLight={name:"Mention",common:derived,peers:{InternalSelectMenu:internalSelectMenuLight,Input:inputLight},self:self$v};function createPartialInvertedVars(color,activeItemColor,activeTextColor,groupTextColor){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:activeItemColor,itemColorActiveHoverInverted:activeItemColor,itemColorActiveCollapsedInverted:activeItemColor,itemTextColorInverted:color,itemTextColorHoverInverted:activeTextColor,itemTextColorChildActiveInverted:activeTextColor,itemTextColorChildActiveHoverInverted:activeTextColor,itemTextColorActiveInverted:activeTextColor,itemTextColorActiveHoverInverted:activeTextColor,itemTextColorHorizontalInverted:color,itemTextColorHoverHorizontalInverted:activeTextColor,itemTextColorChildActiveHorizontalInverted:activeTextColor,itemTextColorChildActiveHoverHorizontalInverted:activeTextColor,itemTextColorActiveHorizontalInverted:activeTextColor,itemTextColorActiveHoverHorizontalInverted:activeTextColor,itemIconColorInverted:color,itemIconColorHoverInverted:activeTextColor,itemIconColorActiveInverted:activeTextColor,itemIconColorActiveHoverInverted:activeTextColor,itemIconColorChildActiveInverted:activeTextColor,itemIconColorChildActiveHoverInverted:activeTextColor,itemIconColorCollapsedInverted:color,itemIconColorHorizontalInverted:color,itemIconColorHoverHorizontalInverted:activeTextColor,itemIconColorActiveHorizontalInverted:activeTextColor,itemIconColorActiveHoverHorizontalInverted:activeTextColor,itemIconColorChildActiveHorizontalInverted:activeTextColor,itemIconColorChildActiveHoverHorizontalInverted:activeTextColor,arrowColorInverted:color,arrowColorHoverInverted:activeTextColor,arrowColorActiveInverted:activeTextColor,arrowColorActiveHoverInverted:activeTextColor,arrowColorChildActiveInverted:activeTextColor,arrowColorChildActiveHoverInverted:activeTextColor,groupTextColorInverted:groupTextColor}}__name(createPartialInvertedVars,"createPartialInvertedVars");function self$u(vars){const{borderRadius,textColor3,primaryColor,textColor2,textColor1,fontSize:fontSize2,dividerColor,hoverColor,primaryColorHover}=vars;return Object.assign({borderRadius,color:"#0000",groupTextColor:textColor3,itemColorHover:hoverColor,itemColorActive:changeColor(primaryColor,{alpha:.1}),itemColorActiveHover:changeColor(primaryColor,{alpha:.1}),itemColorActiveCollapsed:changeColor(primaryColor,{alpha:.1}),itemTextColor:textColor2,itemTextColorHover:textColor2,itemTextColorActive:primaryColor,itemTextColorActiveHover:primaryColor,itemTextColorChildActive:primaryColor,itemTextColorChildActiveHover:primaryColor,itemTextColorHorizontal:textColor2,itemTextColorHoverHorizontal:primaryColorHover,itemTextColorActiveHorizontal:primaryColor,itemTextColorActiveHoverHorizontal:primaryColor,itemTextColorChildActiveHorizontal:primaryColor,itemTextColorChildActiveHoverHorizontal:primaryColor,itemIconColor:textColor1,itemIconColorHover:textColor1,itemIconColorActive:primaryColor,itemIconColorActiveHover:primaryColor,itemIconColorChildActive:primaryColor,itemIconColorChildActiveHover:primaryColor,itemIconColorCollapsed:textColor1,itemIconColorHorizontal:textColor1,itemIconColorHoverHorizontal:primaryColorHover,itemIconColorActiveHorizontal:primaryColor,itemIconColorActiveHoverHorizontal:primaryColor,itemIconColorChildActiveHorizontal:primaryColor,itemIconColorChildActiveHoverHorizontal:primaryColor,itemHeight:"42px",arrowColor:textColor2,arrowColorHover:textColor2,arrowColorActive:primaryColor,arrowColorActiveHover:primaryColor,arrowColorChildActive:primaryColor,arrowColorChildActiveHover:primaryColor,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:fontSize2,dividerColor},createPartialInvertedVars("#BBB",primaryColor,"#FFF","#AAA"))}__name(self$u,"self$u");const menuLight={name:"Menu",common:derived,peers:{Tooltip:tooltipLight,Dropdown:dropdownLight},self:self$u},menuDark={name:"Menu",common:derived$1,peers:{Tooltip:tooltipDark,Dropdown:dropdownDark},self(vars){const{primaryColor,primaryColorSuppl}=vars,commonSelf=self$u(vars);return commonSelf.itemColorActive=changeColor(primaryColor,{alpha:.15}),commonSelf.itemColorActiveHover=changeColor(primaryColor,{alpha:.15}),commonSelf.itemColorActiveCollapsed=changeColor(primaryColor,{alpha:.15}),commonSelf.itemColorActiveInverted=primaryColorSuppl,commonSelf.itemColorActiveHoverInverted=primaryColorSuppl,commonSelf.itemColorActiveCollapsedInverted=primaryColorSuppl,commonSelf}},common={titleFontSize:"18px",backSize:"22px"};function self$t(vars){const{textColor1,textColor2,textColor3,fontSize:fontSize2,fontWeightStrong,primaryColorHover,primaryColorPressed}=vars;return Object.assign(Object.assign({},common),{titleFontWeight:fontWeightStrong,fontSize:fontSize2,titleTextColor:textColor1,backColor:textColor2,backColorHover:primaryColorHover,backColorPressed:primaryColorPressed,subtitleTextColor:textColor3})}__name(self$t,"self$t");const pageHeaderLight={name:"PageHeader",common:derived,self:self$t},pageHeaderDark={name:"PageHeader",common:derived$1,self:self$t},commonVars$2={iconSize:"22px"};function self$s(vars){const{fontSize:fontSize2,warningColor}=vars;return Object.assign(Object.assign({},commonVars$2),{fontSize:fontSize2,iconColor:warningColor})}__name(self$s,"self$s");const popconfirmLight={name:"Popconfirm",common:derived,peers:{Button:buttonLight,Popover:popoverLight},self:self$s},popconfirmDark={name:"Popconfirm",common:derived$1,peers:{Button:buttonDark,Popover:popoverDark},self:self$s};function self$r(vars){const{infoColor,successColor,warningColor,errorColor,textColor2,progressRailColor,fontSize:fontSize2,fontWeight}=vars;return{fontSize:fontSize2,fontSizeCircle:"28px",fontWeightCircle:fontWeight,railColor:progressRailColor,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:infoColor,iconColorInfo:infoColor,iconColorSuccess:successColor,iconColorWarning:warningColor,iconColorError:errorColor,textColorCircle:textColor2,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:textColor2,fillColor:infoColor,fillColorInfo:infoColor,fillColorSuccess:successColor,fillColorWarning:warningColor,fillColorError:errorColor,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}}__name(self$r,"self$r");const progressLight={name:"Progress",common:derived,self:self$r},progressDark={name:"Progress",common:derived$1,self(vars){const commonSelf=self$r(vars);return commonSelf.textColorLineInner="rgb(0, 0, 0)",commonSelf.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",commonSelf}},rateDark={name:"Rate",common:derived$1,self(vars){const{railColor}=vars;return{itemColor:railColor,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}};function self$q(vars){const{railColor}=vars;return{itemColor:railColor,itemColorActive:"#FFCC33",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}__name(self$q,"self$q");const themeLight$4={name:"Rate",common:derived,self:self$q},commonVariables$3={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0};function self$p(vars){const{textColor2,textColor1,errorColor,successColor,infoColor,warningColor,lineHeight:lineHeight2,fontWeightStrong}=vars;return Object.assign(Object.assign({},commonVariables$3),{lineHeight:lineHeight2,titleFontWeight:fontWeightStrong,titleTextColor:textColor1,textColor:textColor2,iconColorError:errorColor,iconColorSuccess:successColor,iconColorInfo:infoColor,iconColorWarning:warningColor})}__name(self$p,"self$p");const resultLight={name:"Result",common:derived,self:self$p},resultDark={name:"Result",common:derived$1,self:self$p},sizeVariables$3={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},sliderDark={name:"Slider",common:derived$1,self(vars){const boxShadow="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor,modalColor,primaryColorSuppl,popoverColor,textColor2,cardColor,borderRadius,fontSize:fontSize2,opacityDisabled}=vars;return Object.assign(Object.assign({},sizeVariables$3),{fontSize:fontSize2,markFontSize:fontSize2,railColor,railColorHover:railColor,fillColor:primaryColorSuppl,fillColorHover:primaryColorSuppl,opacityDisabled,handleColor:"#FFF",dotColor:cardColor,dotColorModal:modalColor,dotColorPopover:popoverColor,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:popoverColor,indicatorBoxShadow:boxShadow,indicatorTextColor:textColor2,indicatorBorderRadius:borderRadius,dotBorder:"2px solid ".concat(railColor),dotBorderActive:"2px solid ".concat(primaryColorSuppl),dotBoxShadow:""})}};function self$o(vars){const indicatorColor="rgba(0, 0, 0, .85)",boxShadow="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor,primaryColor,baseColor,cardColor,modalColor,popoverColor,borderRadius,fontSize:fontSize2,opacityDisabled}=vars;return Object.assign(Object.assign({},sizeVariables$3),{fontSize:fontSize2,markFontSize:fontSize2,railColor,railColorHover:railColor,fillColor:primaryColor,fillColorHover:primaryColor,opacityDisabled,handleColor:"#FFF",dotColor:cardColor,dotColorModal:modalColor,dotColorPopover:popoverColor,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor,indicatorBoxShadow:boxShadow,indicatorTextColor:baseColor,indicatorBorderRadius:borderRadius,dotBorder:"2px solid ".concat(railColor),dotBorderActive:"2px solid ".concat(primaryColor),dotBoxShadow:""})}__name(self$o,"self$o");const sliderLight={name:"Slider",common:derived,self:self$o};function self$n(vars){const{opacityDisabled,heightTiny,heightSmall,heightMedium,heightLarge,heightHuge,primaryColor,fontSize:fontSize2}=vars;return{fontSize:fontSize2,textColor:primaryColor,sizeTiny:heightTiny,sizeSmall:heightSmall,sizeMedium:heightMedium,sizeLarge:heightLarge,sizeHuge:heightHuge,color:primaryColor,opacitySpinning:opacityDisabled}}__name(self$n,"self$n");const spinLight={name:"Spin",common:derived,self:self$n},spinDark={name:"Spin",common:derived$1,self:self$n};function self$m(vars){const{textColor2,textColor3,fontSize:fontSize2,fontWeight}=vars;return{labelFontSize:fontSize2,labelFontWeight:fontWeight,valueFontWeight:fontWeight,valueFontSize:"24px",labelTextColor:textColor3,valuePrefixTextColor:textColor2,valueSuffixTextColor:textColor2,valueTextColor:textColor2}}__name(self$m,"self$m");const statisticLight={name:"Statistic",common:derived,self:self$m},statisticDark={name:"Statistic",common:derived$1,self:self$m},commonVariables$2={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"};function self$l(vars){const{fontWeightStrong,baseColor,textColorDisabled,primaryColor,errorColor,textColor1,textColor2}=vars;return Object.assign(Object.assign({},commonVariables$2),{stepHeaderFontWeight:fontWeightStrong,indicatorTextColorProcess:baseColor,indicatorTextColorWait:textColorDisabled,indicatorTextColorFinish:primaryColor,indicatorTextColorError:errorColor,indicatorBorderColorProcess:primaryColor,indicatorBorderColorWait:textColorDisabled,indicatorBorderColorFinish:primaryColor,indicatorBorderColorError:errorColor,indicatorColorProcess:primaryColor,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:textColorDisabled,splitorColorWait:textColorDisabled,splitorColorFinish:primaryColor,splitorColorError:textColorDisabled,headerTextColorProcess:textColor1,headerTextColorWait:textColorDisabled,headerTextColorFinish:textColorDisabled,headerTextColorError:errorColor,descriptionTextColorProcess:textColor2,descriptionTextColorWait:textColorDisabled,descriptionTextColorFinish:textColorDisabled,descriptionTextColorError:errorColor})}__name(self$l,"self$l");const stepsLight={name:"Steps",common:derived,self:self$l},stepsDark={name:"Steps",common:derived$1,self:self$l},commonVars$1={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},switchDark={name:"Switch",common:derived$1,self(vars){const{primaryColorSuppl,opacityDisabled,borderRadius,primaryColor,textColor2,baseColor}=vars;return Object.assign(Object.assign({},commonVars$1),{iconColor:baseColor,textColor:textColor2,loadingColor:primaryColorSuppl,opacityDisabled,railColor:"rgba(255, 255, 255, .20)",railColorActive:primaryColorSuppl,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:borderRadius,railBorderRadiusMedium:borderRadius,railBorderRadiusLarge:borderRadius,buttonBorderRadiusSmall:borderRadius,buttonBorderRadiusMedium:borderRadius,buttonBorderRadiusLarge:borderRadius,boxShadowFocus:"0 0 8px 0 ".concat(changeColor(primaryColor,{alpha:.3}))})}};function self$k(vars){const{primaryColor,opacityDisabled,borderRadius,textColor3}=vars;return Object.assign(Object.assign({},commonVars$1),{iconColor:textColor3,textColor:"white",loadingColor:primaryColor,opacityDisabled,railColor:"rgba(0, 0, 0, .14)",railColorActive:primaryColor,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:borderRadius,railBorderRadiusMedium:borderRadius,railBorderRadiusLarge:borderRadius,buttonBorderRadiusSmall:borderRadius,buttonBorderRadiusMedium:borderRadius,buttonBorderRadiusLarge:borderRadius,boxShadowFocus:"0 0 0 2px ".concat(changeColor(primaryColor,{alpha:.2}))})}__name(self$k,"self$k");const switchLight={name:"Switch",common:derived,self:self$k},sizeVariables$2={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"};function self$j(vars){const{dividerColor,cardColor,modalColor,popoverColor,tableHeaderColor,tableColorStriped,textColor1,textColor2,borderRadius,fontWeightStrong,lineHeight:lineHeight2,fontSizeSmall,fontSizeMedium,fontSizeLarge}=vars;return Object.assign(Object.assign({},sizeVariables$2),{fontSizeSmall,fontSizeMedium,fontSizeLarge,lineHeight:lineHeight2,borderRadius,borderColor:composite(cardColor,dividerColor),borderColorModal:composite(modalColor,dividerColor),borderColorPopover:composite(popoverColor,dividerColor),tdColor:cardColor,tdColorModal:modalColor,tdColorPopover:popoverColor,tdColorStriped:composite(cardColor,tableColorStriped),tdColorStripedModal:composite(modalColor,tableColorStriped),tdColorStripedPopover:composite(popoverColor,tableColorStriped),thColor:composite(cardColor,tableHeaderColor),thColorModal:composite(modalColor,tableHeaderColor),thColorPopover:composite(popoverColor,tableHeaderColor),thTextColor:textColor1,tdTextColor:textColor2,thFontWeight:fontWeightStrong})}__name(self$j,"self$j");const tableLight={name:"Table",common:derived,self:self$j},tableDark={name:"Table",common:derived$1,self:self$j},sizeVariables$1={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"};function self$i(vars){const{textColor2,primaryColor,textColorDisabled,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,tabColor,baseColor,dividerColor,fontWeight,textColor1,borderRadius,fontSize:fontSize2,fontWeightStrong}=vars;return Object.assign(Object.assign({},sizeVariables$1),{colorSegment:tabColor,tabFontSizeCard:fontSize2,tabTextColorLine:textColor1,tabTextColorActiveLine:primaryColor,tabTextColorHoverLine:primaryColor,tabTextColorDisabledLine:textColorDisabled,tabTextColorSegment:textColor1,tabTextColorActiveSegment:textColor2,tabTextColorHoverSegment:textColor2,tabTextColorDisabledSegment:textColorDisabled,tabTextColorBar:textColor1,tabTextColorActiveBar:primaryColor,tabTextColorHoverBar:primaryColor,tabTextColorDisabledBar:textColorDisabled,tabTextColorCard:textColor1,tabTextColorHoverCard:textColor1,tabTextColorActiveCard:primaryColor,tabTextColorDisabledCard:textColorDisabled,barColor:primaryColor,closeIconColor,closeIconColorHover,closeIconColorPressed,closeColorHover,closeColorPressed,closeBorderRadius:borderRadius,tabColor,tabColorSegment:baseColor,tabBorderColor:dividerColor,tabFontWeightActive:fontWeight,tabFontWeight:fontWeight,tabBorderRadius:borderRadius,paneTextColor:textColor2,fontWeightStrong})}__name(self$i,"self$i");const tabsLight={name:"Tabs",common:derived,self:self$i},tabsDark={name:"Tabs",common:derived$1,self(vars){const commonSelf=self$i(vars),{inputColor}=vars;return commonSelf.colorSegment=inputColor,commonSelf.tabColorSegment=inputColor,commonSelf}};function self$h(vars){const{textColor1,textColor2,fontWeightStrong,fontSize:fontSize2}=vars;return{fontSize:fontSize2,titleTextColor:textColor1,textColor:textColor2,titleFontWeight:fontWeightStrong}}__name(self$h,"self$h");const thingLight={name:"Thing",common:derived,self:self$h},thingDark={name:"Thing",common:derived$1,self:self$h},sizeVariables={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},timelineDark={name:"Timeline",common:derived$1,self(vars){const{textColor3,infoColorSuppl,errorColorSuppl,successColorSuppl,warningColorSuppl,textColor1,textColor2,railColor,fontWeightStrong,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},sizeVariables),{contentFontSize:fontSize2,titleFontWeight:fontWeightStrong,circleBorder:"2px solid ".concat(textColor3),circleBorderInfo:"2px solid ".concat(infoColorSuppl),circleBorderError:"2px solid ".concat(errorColorSuppl),circleBorderSuccess:"2px solid ".concat(successColorSuppl),circleBorderWarning:"2px solid ".concat(warningColorSuppl),iconColor:textColor3,iconColorInfo:infoColorSuppl,iconColorError:errorColorSuppl,iconColorSuccess:successColorSuppl,iconColorWarning:warningColorSuppl,titleTextColor:textColor1,contentTextColor:textColor2,metaTextColor:textColor3,lineColor:railColor})}};function self$g(vars){const{textColor3,infoColor,errorColor,successColor,warningColor,textColor1,textColor2,railColor,fontWeightStrong,fontSize:fontSize2}=vars;return Object.assign(Object.assign({},sizeVariables),{contentFontSize:fontSize2,titleFontWeight:fontWeightStrong,circleBorder:"2px solid ".concat(textColor3),circleBorderInfo:"2px solid ".concat(infoColor),circleBorderError:"2px solid ".concat(errorColor),circleBorderSuccess:"2px solid ".concat(successColor),circleBorderWarning:"2px solid ".concat(warningColor),iconColor:textColor3,iconColorInfo:infoColor,iconColorError:errorColor,iconColorSuccess:successColor,iconColorWarning:warningColor,titleTextColor:textColor1,contentTextColor:textColor2,metaTextColor:textColor3,lineColor:railColor})}__name(self$g,"self$g");const timelineLight={name:"Timeline",common:derived,self:self$g},commonVariables$1={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},transferDark$1={name:"Transfer",common:derived$1,peers:{Checkbox:checkboxDark,Scrollbar:scrollbarDark,Input:inputDark,Empty:emptyDark,Button:buttonDark},self(vars){const{fontWeight,fontSizeLarge,fontSizeMedium,fontSizeSmall,heightLarge,heightMedium,borderRadius,inputColor,tableHeaderColor,textColor1,textColorDisabled,textColor2,textColor3,hoverColor,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed,dividerColor}=vars;return Object.assign(Object.assign({},commonVariables$1),{itemHeightSmall:heightMedium,itemHeightMedium:heightMedium,itemHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadius,dividerColor,borderColor:"#0000",listColor:inputColor,headerColor:tableHeaderColor,titleTextColor:textColor1,titleTextColorDisabled:textColorDisabled,extraTextColor:textColor3,extraTextColorDisabled:textColorDisabled,itemTextColor:textColor2,itemTextColorDisabled:textColorDisabled,itemColorPending:hoverColor,titleFontWeight:fontWeight,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed})}};function self$f(vars){const{fontWeight,fontSizeLarge,fontSizeMedium,fontSizeSmall,heightLarge,heightMedium,borderRadius,cardColor,tableHeaderColor,textColor1,textColorDisabled,textColor2,textColor3,borderColor,hoverColor,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed}=vars;return Object.assign(Object.assign({},commonVariables$1),{itemHeightSmall:heightMedium,itemHeightMedium:heightMedium,itemHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadius,dividerColor:borderColor,borderColor,listColor:cardColor,headerColor:composite(cardColor,tableHeaderColor),titleTextColor:textColor1,titleTextColorDisabled:textColorDisabled,extraTextColor:textColor3,extraTextColorDisabled:textColorDisabled,itemTextColor:textColor2,itemTextColorDisabled:textColorDisabled,itemColorPending:hoverColor,titleFontWeight:fontWeight,closeColorHover,closeColorPressed,closeIconColor,closeIconColorHover,closeIconColorPressed})}__name(self$f,"self$f");const transferLight$1={name:"Transfer",common:derived,peers:{Checkbox:checkboxLight,Scrollbar:scrollbarLight,Input:inputLight,Empty:emptyLight,Button:buttonLight},self:self$f};function self$e(vars){const{borderRadiusSmall,dividerColor,hoverColor,pressedColor,primaryColor,textColor3,textColor2,textColorDisabled,fontSize:fontSize2}=vars;return{fontSize:fontSize2,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:borderRadiusSmall,nodeColorHover:hoverColor,nodeColorPressed:pressedColor,nodeColorActive:changeColor(primaryColor,{alpha:.1}),arrowColor:textColor3,nodeTextColor:textColor2,nodeTextColorDisabled:textColorDisabled,loadingColor:primaryColor,dropMarkColor:primaryColor,lineColor:dividerColor}}__name(self$e,"self$e");const treeLight={name:"Tree",common:derived,peers:{Checkbox:checkboxLight,Scrollbar:scrollbarLight,Empty:emptyLight},self:self$e},treeDark={name:"Tree",common:derived$1,peers:{Checkbox:checkboxDark,Scrollbar:scrollbarDark,Empty:emptyDark},self(vars){const{primaryColor}=vars,commonSelf=self$e(vars);return commonSelf.nodeColorActive=changeColor(primaryColor,{alpha:.15}),commonSelf}},treeSelectDark={name:"TreeSelect",common:derived$1,peers:{Tree:treeDark,Empty:emptyDark,InternalSelection:internalSelectionDark}};function self$d(vars){const{popoverColor,boxShadow2,borderRadius,heightMedium,dividerColor,textColor2}=vars;return{menuPadding:"4px",menuColor:popoverColor,menuBoxShadow:boxShadow2,menuBorderRadius:borderRadius,menuHeight:"calc(".concat(heightMedium," * 7.6)"),actionDividerColor:dividerColor,actionTextColor:textColor2,actionPadding:"8px 12px",headerDividerColor:dividerColor,headerTextColor:textColor2,headerPadding:"8px 12px"}}__name(self$d,"self$d");const treeSelectLight={name:"TreeSelect",common:derived,peers:{Tree:treeLight,Empty:emptyLight,InternalSelection:internalSelectionLight},self:self$d},commonVars={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"};function self$c(vars){const{primaryColor,textColor2,borderColor,lineHeight:lineHeight2,fontSize:fontSize2,borderRadiusSmall,dividerColor,fontWeightStrong,textColor1,textColor3,infoColor,warningColor,errorColor,successColor,codeColor}=vars;return Object.assign(Object.assign({},commonVars),{aTextColor:primaryColor,blockquoteTextColor:textColor2,blockquotePrefixColor:borderColor,blockquoteLineHeight:lineHeight2,blockquoteFontSize:fontSize2,codeBorderRadius:borderRadiusSmall,liTextColor:textColor2,liLineHeight:lineHeight2,liFontSize:fontSize2,hrColor:dividerColor,headerFontWeight:fontWeightStrong,headerTextColor:textColor1,pTextColor:textColor2,pTextColor1Depth:textColor1,pTextColor2Depth:textColor2,pTextColor3Depth:textColor3,pLineHeight:lineHeight2,pFontSize:fontSize2,headerBarColor:primaryColor,headerBarColorPrimary:primaryColor,headerBarColorInfo:infoColor,headerBarColorError:errorColor,headerBarColorWarning:warningColor,headerBarColorSuccess:successColor,textColor:textColor2,textColor1Depth:textColor1,textColor2Depth:textColor2,textColor3Depth:textColor3,textColorPrimary:primaryColor,textColorInfo:infoColor,textColorSuccess:successColor,textColorWarning:warningColor,textColorError:errorColor,codeTextColor:textColor2,codeColor,codeBorder:"1px solid #0000"})}__name(self$c,"self$c");const typographyLight={name:"Typography",common:derived,self:self$c},typographyDark={name:"Typography",common:derived$1,self:self$c};function self$b(vars){const{iconColor,primaryColor,errorColor,textColor2,successColor,opacityDisabled,actionColor,borderColor,hoverColor,lineHeight:lineHeight2,borderRadius,fontSize:fontSize2}=vars;return{fontSize:fontSize2,lineHeight:lineHeight2,borderRadius,draggerColor:actionColor,draggerBorder:"1px dashed ".concat(borderColor),draggerBorderHover:"1px dashed ".concat(primaryColor),itemColorHover:hoverColor,itemColorHoverError:changeColor(errorColor,{alpha:.06}),itemTextColor:textColor2,itemTextColorError:errorColor,itemTextColorSuccess:successColor,itemIconColor:iconColor,itemDisabledOpacity:opacityDisabled,itemBorderImageCardError:"1px solid ".concat(errorColor),itemBorderImageCard:"1px solid ".concat(borderColor)}}__name(self$b,"self$b");const uploadLight={name:"Upload",common:derived,peers:{Button:buttonLight,Progress:progressLight},self:self$b},uploadDark={name:"Upload",common:derived$1,peers:{Button:buttonDark,Progress:progressDark},self(vars){const{errorColor}=vars,commonSelf=self$b(vars);return commonSelf.itemColorHoverError=changeColor(errorColor,{alpha:.09}),commonSelf}},watermarkDark={name:"Watermark",common:derived$1,self(vars){const{fontFamily:fontFamily2}=vars;return{fontFamily:fontFamily2}}},watermarkLight={name:"Watermark",common:derived,self(vars){const{fontFamily:fontFamily2}=vars;return{fontFamily:fontFamily2}}};function self$a(vars){const{popoverColor,dividerColor,borderRadius}=vars;return{color:popoverColor,buttonBorderColor:dividerColor,borderRadiusSquare:borderRadius,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}__name(self$a,"self$a");const themeLight$3={name:"FloatButtonGroup",common:derived,self:self$a},floatButtonDark={name:"FloatButton",common:derived$1,self(vars){const{popoverColor,textColor2,buttonColor2Hover,buttonColor2Pressed,primaryColor,primaryColorHover,primaryColorPressed,baseColor,borderRadius}=vars;return{color:popoverColor,textColor:textColor2,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)",colorHover:buttonColor2Hover,colorPressed:buttonColor2Pressed,colorPrimary:primaryColor,colorPrimaryHover:primaryColorHover,colorPrimaryPressed:primaryColorPressed,textColorPrimary:baseColor,borderRadiusSquare:borderRadius}}};function self$9(vars){const{popoverColor,textColor2,buttonColor2Hover,buttonColor2Pressed,primaryColor,primaryColorHover,primaryColorPressed,borderRadius}=vars;return{color:popoverColor,colorHover:buttonColor2Hover,colorPressed:buttonColor2Pressed,colorPrimary:primaryColor,colorPrimaryHover:primaryColorHover,colorPrimaryPressed:primaryColorPressed,textColor:textColor2,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .16)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .24)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .24)",textColorPrimary:"#fff",borderRadiusSquare:borderRadius}}__name(self$9,"self$9");const themeLight$2={name:"FloatButton",common:derived,self:self$9},NGlobalStyle=defineComponent({name:"GlobalStyle",setup(){if(typeof document>"u")return;const NConfigProvider2=inject(configProviderInjectionKey,null),{body}=document,{style:style2}=body;let styleApplied=!1,firstApply=!0;onBeforeMount(()=>{watchEffect(()=>{var _a4,_b;const{textColor2,fontSize:fontSize2,fontFamily:fontFamily2,bodyColor,cubicBezierEaseInOut:cubicBezierEaseInOut2,lineHeight:lineHeight2}=NConfigProvider2?merge$1({},((_a4=NConfigProvider2.mergedThemeRef.value)===null||_a4===void 0?void 0:_a4.common)||derived,(_b=NConfigProvider2.mergedThemeOverridesRef.value)===null||_b===void 0?void 0:_b.common):derived;if(styleApplied||!body.hasAttribute("n-styled")){style2.setProperty("-webkit-text-size-adjust","100%"),style2.setProperty("-webkit-tap-highlight-color","transparent"),style2.padding="0",style2.margin="0",style2.backgroundColor=bodyColor,style2.color=textColor2,style2.fontSize=fontSize2,style2.fontFamily=fontFamily2,style2.lineHeight=lineHeight2;const transition="color .3s ".concat(cubicBezierEaseInOut2,", background-color .3s ").concat(cubicBezierEaseInOut2);firstApply?setTimeout(()=>{style2.transition=transition},0):style2.transition=transition,body.setAttribute("n-styled",""),styleApplied=!0,firstApply=!1}})}),onUnmounted(()=>{styleApplied&&body.removeAttribute("n-styled")})},render(){return null}});function self$8(vars){const{primaryColor,baseColor}=vars;return{color:primaryColor,iconColor:baseColor}}__name(self$8,"self$8");const iconWrapperLight={name:"IconWrapper",common:derived,self:self$8},iconDark={name:"IconWrapper",common:derived$1,self:self$8},imageDark={name:"Image",common:derived$1,peers:{Tooltip:tooltipDark},self:__name(vars=>{const{textColor2}=vars;return{toolbarIconColor:textColor2,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}},"self")};function self$7(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}__name(self$7,"self$7");const imageLight={name:"Image",common:derived,peers:{Tooltip:tooltipLight},self:self$7},layoutSiderInjectionKey="n-layout-sider",commonVariables={extraFontSize:"12px",width:"440px"},transferDark={name:"Transfer",common:derived$1,peers:{Checkbox:checkboxDark,Scrollbar:scrollbarDark,Input:inputDark,Empty:emptyDark,Button:buttonDark},self(vars){const{iconColorDisabled,iconColor,fontWeight,fontSizeLarge,fontSizeMedium,fontSizeSmall,heightLarge,heightMedium,heightSmall,borderRadius,inputColor,tableHeaderColor,textColor1,textColorDisabled,textColor2,hoverColor}=vars;return Object.assign(Object.assign({},commonVariables),{itemHeightSmall:heightSmall,itemHeightMedium:heightMedium,itemHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadius,borderColor:"#0000",listColor:inputColor,headerColor:tableHeaderColor,titleTextColor:textColor1,titleTextColorDisabled:textColorDisabled,extraTextColor:textColor2,filterDividerColor:"#0000",itemTextColor:textColor2,itemTextColorDisabled:textColorDisabled,itemColorPending:hoverColor,titleFontWeight:fontWeight,iconColor,iconColorDisabled})}};function self$6(vars){const{fontWeight,iconColorDisabled,iconColor,fontSizeLarge,fontSizeMedium,fontSizeSmall,heightLarge,heightMedium,heightSmall,borderRadius,cardColor,tableHeaderColor,textColor1,textColorDisabled,textColor2,borderColor,hoverColor}=vars;return Object.assign(Object.assign({},commonVariables),{itemHeightSmall:heightSmall,itemHeightMedium:heightMedium,itemHeightLarge:heightLarge,fontSizeSmall,fontSizeMedium,fontSizeLarge,borderRadius,borderColor,listColor:cardColor,headerColor:composite(cardColor,tableHeaderColor),titleTextColor:textColor1,titleTextColorDisabled:textColorDisabled,extraTextColor:textColor2,filterDividerColor:borderColor,itemTextColor:textColor2,itemTextColorDisabled:textColorDisabled,itemColorPending:hoverColor,titleFontWeight:fontWeight,iconColor,iconColorDisabled})}__name(self$6,"self$6");const transferLight={name:"Transfer",common:derived,peers:{Checkbox:checkboxLight,Scrollbar:scrollbarLight,Input:inputLight,Empty:emptyLight,Button:buttonLight},self:self$6};function self$5(){return{}}__name(self$5,"self$5");const marqueeLight={name:"Marquee",common:derived,self:self$5},marqueeDark={name:"Marquee",common:derived$1,self:self$5},menuInjectionKey="n-menu",submenuInjectionKey="n-submenu",menuItemGroupInjectionKey="n-menu-item-group",hoverStyleChildren=[c$4("&::before","background-color: var(--n-item-color-hover);"),cE("arrow","\n color: var(--n-arrow-color-hover);\n "),cE("icon","\n color: var(--n-item-icon-color-hover);\n "),cB("menu-item-content-header","\n color: var(--n-item-text-color-hover);\n ",[c$4("a","\n color: var(--n-item-text-color-hover);\n "),cE("extra","\n color: var(--n-item-text-color-hover);\n ")])],horizontalHoverStyleChildren=[cE("icon","\n color: var(--n-item-icon-color-hover-horizontal);\n "),cB("menu-item-content-header","\n color: var(--n-item-text-color-hover-horizontal);\n ",[c$4("a","\n color: var(--n-item-text-color-hover-horizontal);\n "),cE("extra","\n color: var(--n-item-text-color-hover-horizontal);\n ")])],style$2=c$4([cB("menu","\n background-color: var(--n-color);\n color: var(--n-item-text-color);\n overflow: hidden;\n transition: background-color .3s var(--n-bezier);\n box-sizing: border-box;\n font-size: var(--n-font-size);\n padding-bottom: 6px;\n ",[cM("horizontal","\n max-width: 100%;\n width: 100%;\n display: flex;\n overflow: hidden;\n padding-bottom: 0;\n ",[cB("submenu","margin: 0;"),cB("menu-item","margin: 0;"),cB("menu-item-content","\n padding: 0 20px;\n border-bottom: 2px solid #0000;\n ",[c$4("&::before","display: none;"),cM("selected","border-bottom: 2px solid var(--n-border-color-horizontal)")]),cB("menu-item-content",[cM("selected",[cE("icon","color: var(--n-item-icon-color-active-horizontal);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-active-horizontal);\n ",[c$4("a","color: var(--n-item-text-color-active-horizontal);"),cE("extra","color: var(--n-item-text-color-active-horizontal);")])]),cM("child-active","\n border-bottom: 2px solid var(--n-border-color-horizontal);\n ",[cB("menu-item-content-header","\n color: var(--n-item-text-color-child-active-horizontal);\n ",[c$4("a","\n color: var(--n-item-text-color-child-active-horizontal);\n "),cE("extra","\n color: var(--n-item-text-color-child-active-horizontal);\n ")]),cE("icon","\n color: var(--n-item-icon-color-child-active-horizontal);\n ")]),cNotM("disabled",[cNotM("selected, child-active",[c$4("&:focus-within",horizontalHoverStyleChildren)]),cM("selected",[hoverStyle(null,[cE("icon","color: var(--n-item-icon-color-active-hover-horizontal);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-active-hover-horizontal);\n ",[c$4("a","color: var(--n-item-text-color-active-hover-horizontal);"),cE("extra","color: var(--n-item-text-color-active-hover-horizontal);")])])]),cM("child-active",[hoverStyle(null,[cE("icon","color: var(--n-item-icon-color-child-active-hover-horizontal);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover-horizontal);\n ",[c$4("a","color: var(--n-item-text-color-child-active-hover-horizontal);"),cE("extra","color: var(--n-item-text-color-child-active-hover-horizontal);")])])]),hoverStyle("border-bottom: 2px solid var(--n-border-color-horizontal);",horizontalHoverStyleChildren)]),cB("menu-item-content-header",[c$4("a","color: var(--n-item-text-color-horizontal);")])])]),cNotM("responsive",[cB("menu-item-content-header","\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),cM("collapsed",[cB("menu-item-content",[cM("selected",[c$4("&::before","\n background-color: var(--n-item-color-active-collapsed) !important;\n ")]),cB("menu-item-content-header","opacity: 0;"),cE("arrow","opacity: 0;"),cE("icon","color: var(--n-item-icon-color-collapsed);")])]),cB("menu-item","\n height: var(--n-item-height);\n margin-top: 6px;\n position: relative;\n "),cB("menu-item-content",'\n box-sizing: border-box;\n line-height: 1.75;\n height: 100%;\n display: grid;\n grid-template-areas: "icon content arrow";\n grid-template-columns: auto 1fr auto;\n align-items: center;\n cursor: pointer;\n position: relative;\n padding-right: 18px;\n transition:\n background-color .3s var(--n-bezier),\n padding-left .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ',[c$4("> *","z-index: 1;"),c$4("&::before",'\n z-index: auto;\n content: "";\n background-color: #0000;\n position: absolute;\n left: 8px;\n right: 8px;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),cM("disabled","\n opacity: .45;\n cursor: not-allowed;\n "),cM("collapsed",[cE("arrow","transform: rotate(0);")]),cM("selected",[c$4("&::before","background-color: var(--n-item-color-active);"),cE("arrow","color: var(--n-arrow-color-active);"),cE("icon","color: var(--n-item-icon-color-active);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-active);\n ",[c$4("a","color: var(--n-item-text-color-active);"),cE("extra","color: var(--n-item-text-color-active);")])]),cM("child-active",[cB("menu-item-content-header","\n color: var(--n-item-text-color-child-active);\n ",[c$4("a","\n color: var(--n-item-text-color-child-active);\n "),cE("extra","\n color: var(--n-item-text-color-child-active);\n ")]),cE("arrow","\n color: var(--n-arrow-color-child-active);\n "),cE("icon","\n color: var(--n-item-icon-color-child-active);\n ")]),cNotM("disabled",[cNotM("selected, child-active",[c$4("&:focus-within",hoverStyleChildren)]),cM("selected",[hoverStyle(null,[cE("arrow","color: var(--n-arrow-color-active-hover);"),cE("icon","color: var(--n-item-icon-color-active-hover);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-active-hover);\n ",[c$4("a","color: var(--n-item-text-color-active-hover);"),cE("extra","color: var(--n-item-text-color-active-hover);")])])]),cM("child-active",[hoverStyle(null,[cE("arrow","color: var(--n-arrow-color-child-active-hover);"),cE("icon","color: var(--n-item-icon-color-child-active-hover);"),cB("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover);\n ",[c$4("a","color: var(--n-item-text-color-child-active-hover);"),cE("extra","color: var(--n-item-text-color-child-active-hover);")])])]),cM("selected",[hoverStyle(null,[c$4("&::before","background-color: var(--n-item-color-active-hover);")])]),hoverStyle(null,hoverStyleChildren)]),cE("icon","\n grid-area: icon;\n color: var(--n-item-icon-color);\n transition:\n color .3s var(--n-bezier),\n font-size .3s var(--n-bezier),\n margin-right .3s var(--n-bezier);\n box-sizing: content-box;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n "),cE("arrow","\n grid-area: arrow;\n font-size: 16px;\n color: var(--n-arrow-color);\n transform: rotate(180deg);\n opacity: 1;\n transition:\n color .3s var(--n-bezier),\n transform 0.2s var(--n-bezier),\n opacity 0.2s var(--n-bezier);\n "),cB("menu-item-content-header","\n grid-area: content;\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n opacity: 1;\n white-space: nowrap;\n color: var(--n-item-text-color);\n ",[c$4("a","\n outline: none;\n text-decoration: none;\n transition: color .3s var(--n-bezier);\n color: var(--n-item-text-color);\n ",[c$4("&::before",'\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),cE("extra","\n font-size: .93em;\n color: var(--n-group-text-color);\n transition: color .3s var(--n-bezier);\n ")])]),cB("submenu","\n cursor: pointer;\n position: relative;\n margin-top: 6px;\n ",[cB("menu-item-content","\n height: var(--n-item-height);\n "),cB("submenu-children","\n overflow: hidden;\n padding: 0;\n ",[fadeInHeightExpandTransition({duration:".2s"})])]),cB("menu-item-group",[cB("menu-item-group-title","\n margin-top: 6px;\n color: var(--n-group-text-color);\n cursor: default;\n font-size: .93em;\n height: 36px;\n display: flex;\n align-items: center;\n transition:\n padding-left .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")])]),cB("menu-tooltip",[c$4("a","\n color: inherit;\n text-decoration: none;\n ")]),cB("menu-divider","\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-divider-color);\n height: 1px;\n margin: 6px 18px;\n ")]);function hoverStyle(props,children){return[cM("hover",props,children),c$4("&:hover",props,children)]}__name(hoverStyle,"hoverStyle");const NMenuOptionContent=defineComponent({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,selected:Boolean,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0},isEllipsisPlaceholder:Boolean},setup(props){const{props:menuProps2}=inject(menuInjectionKey);return{menuProps:menuProps2,style:computed(()=>{const{paddingLeft}=props;return{paddingLeft:paddingLeft&&"".concat(paddingLeft,"px")}}),iconStyle:computed(()=>{const{maxIconSize,activeIconSize,iconMarginRight}=props;return{width:"".concat(maxIconSize,"px"),height:"".concat(maxIconSize,"px"),fontSize:"".concat(activeIconSize,"px"),marginRight:"".concat(iconMarginRight,"px")}})}},render(){const{clsPrefix,tmNode,menuProps:{renderIcon,renderLabel,renderExtra,expandIcon}}=this,icon=renderIcon?renderIcon(tmNode.rawNode):render$1(this.icon);return h("div",{onClick:__name(e=>{var _a4;(_a4=this.onClick)===null||_a4===void 0||_a4.call(this,e)},"onClick"),role:"none",class:["".concat(clsPrefix,"-menu-item-content"),{["".concat(clsPrefix,"-menu-item-content--selected")]:this.selected,["".concat(clsPrefix,"-menu-item-content--collapsed")]:this.collapsed,["".concat(clsPrefix,"-menu-item-content--child-active")]:this.childActive,["".concat(clsPrefix,"-menu-item-content--disabled")]:this.disabled,["".concat(clsPrefix,"-menu-item-content--hover")]:this.hover}],style:this.style},icon&&h("div",{class:"".concat(clsPrefix,"-menu-item-content__icon"),style:this.iconStyle,role:"none"},[icon]),h("div",{class:"".concat(clsPrefix,"-menu-item-content-header"),role:"none"},this.isEllipsisPlaceholder?this.title:renderLabel?renderLabel(tmNode.rawNode):render$1(this.title),this.extra||renderExtra?h("span",{class:"".concat(clsPrefix,"-menu-item-content-header__extra")}," ",renderExtra?renderExtra(tmNode.rawNode):render$1(this.extra)):null),this.showArrow?h(NBaseIcon,{ariaHidden:!0,class:"".concat(clsPrefix,"-menu-item-content__arrow"),clsPrefix},{default:__name(()=>expandIcon?expandIcon(tmNode.rawNode):h(ChevronDownFilledIcon,null),"default")}):null)}}),ICON_MARGIN_RIGHT=8;function useMenuChild(props){const NMenu2=inject(menuInjectionKey),{props:menuProps2,mergedCollapsedRef}=NMenu2,NSubmenu2=inject(submenuInjectionKey,null),NMenuOptionGroup2=inject(menuItemGroupInjectionKey,null),horizontalRef=computed(()=>menuProps2.mode==="horizontal"),dropdownPlacementRef=computed(()=>horizontalRef.value?menuProps2.dropdownPlacement:"tmNodes"in props?"right-start":"right"),maxIconSizeRef=computed(()=>{var _a4;return Math.max((_a4=menuProps2.collapsedIconSize)!==null&&_a4!==void 0?_a4:menuProps2.iconSize,menuProps2.iconSize)}),activeIconSizeRef=computed(()=>{var _a4;return!horizontalRef.value&&props.root&&mergedCollapsedRef.value&&(_a4=menuProps2.collapsedIconSize)!==null&&_a4!==void 0?_a4:menuProps2.iconSize}),paddingLeftRef=computed(()=>{if(horizontalRef.value)return;const{collapsedWidth,indent,rootIndent}=menuProps2,{root:root2,isGroup:isGroup2}=props,mergedRootIndent=rootIndent===void 0?indent:rootIndent;return root2?mergedCollapsedRef.value?collapsedWidth/2-maxIconSizeRef.value/2:mergedRootIndent:NMenuOptionGroup2&&typeof NMenuOptionGroup2.paddingLeftRef.value=="number"?indent/2+NMenuOptionGroup2.paddingLeftRef.value:NSubmenu2&&typeof NSubmenu2.paddingLeftRef.value=="number"?(isGroup2?indent/2:indent)+NSubmenu2.paddingLeftRef.value:0}),iconMarginRightRef=computed(()=>{const{collapsedWidth,indent,rootIndent}=menuProps2,{value:maxIconSize}=maxIconSizeRef,{root:root2}=props;return horizontalRef.value||!root2||!mergedCollapsedRef.value?ICON_MARGIN_RIGHT:(rootIndent===void 0?indent:rootIndent)+maxIconSize+ICON_MARGIN_RIGHT-(collapsedWidth+maxIconSize)/2});return{dropdownPlacement:dropdownPlacementRef,activeIconSize:activeIconSizeRef,maxIconSize:maxIconSizeRef,paddingLeft:paddingLeftRef,iconMarginRight:iconMarginRightRef,NMenu:NMenu2,NSubmenu:NSubmenu2}}__name(useMenuChild,"useMenuChild");const useMenuChildProps={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},NMenuDivider=defineComponent({name:"MenuDivider",setup(){const NMenu2=inject(menuInjectionKey),{mergedClsPrefixRef,isHorizontalRef}=NMenu2;return()=>isHorizontalRef.value?null:h("div",{class:"".concat(mergedClsPrefixRef.value,"-menu-divider")})}}),menuItemProps=Object.assign(Object.assign({},useMenuChildProps),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),menuItemPropKeys=keysOf(menuItemProps),NMenuOption=defineComponent({name:"MenuOption",props:menuItemProps,setup(props){const MenuChild=useMenuChild(props),{NSubmenu:NSubmenu2,NMenu:NMenu2}=MenuChild,{props:menuProps2,mergedClsPrefixRef,mergedCollapsedRef}=NMenu2,submenuDisabledRef=NSubmenu2?NSubmenu2.mergedDisabledRef:{value:!1},mergedDisabledRef=computed(()=>submenuDisabledRef.value||props.disabled);function doClick(e){const{onClick}=props;onClick&&onClick(e)}__name(doClick,"doClick");function handleClick2(e){mergedDisabledRef.value||(NMenu2.doSelect(props.internalKey,props.tmNode.rawNode),doClick(e))}return __name(handleClick2,"handleClick"),{mergedClsPrefix:mergedClsPrefixRef,dropdownPlacement:MenuChild.dropdownPlacement,paddingLeft:MenuChild.paddingLeft,iconMarginRight:MenuChild.iconMarginRight,maxIconSize:MenuChild.maxIconSize,activeIconSize:MenuChild.activeIconSize,mergedTheme:NMenu2.mergedThemeRef,menuProps:menuProps2,dropdownEnabled:useMemo(()=>props.root&&mergedCollapsedRef.value&&menuProps2.mode!=="horizontal"&&!mergedDisabledRef.value),selected:useMemo(()=>NMenu2.mergedValueRef.value===props.internalKey),mergedDisabled:mergedDisabledRef,handleClick:handleClick2}},render(){const{mergedClsPrefix,mergedTheme,tmNode,menuProps:{renderLabel,nodeProps}}=this,attrs=nodeProps==null?void 0:nodeProps(tmNode.rawNode);return h("div",Object.assign({},attrs,{role:"menuitem",class:["".concat(mergedClsPrefix,"-menu-item"),attrs==null?void 0:attrs.class]}),h(NTooltip,{theme:mergedTheme.peers.Tooltip,themeOverrides:mergedTheme.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||this.title===void 0,internalExtraClass:["menu-tooltip"]},{default:__name(()=>renderLabel?renderLabel(tmNode.rawNode):render$1(this.title),"default"),trigger:__name(()=>h(NMenuOptionContent,{tmNode,clsPrefix:mergedClsPrefix,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,selected:this.selected,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick}),"trigger")}))}}),menuItemGroupProps=Object.assign(Object.assign({},useMenuChildProps),{tmNode:{type:Object,required:!0},tmNodes:{type:Array,required:!0}}),menuItemGroupPropKeys=keysOf(menuItemGroupProps),NMenuOptionGroup=defineComponent({name:"MenuOptionGroup",props:menuItemGroupProps,setup(props){provide(submenuInjectionKey,null);const MenuChild=useMenuChild(props);provide(menuItemGroupInjectionKey,{paddingLeftRef:MenuChild.paddingLeft});const{mergedClsPrefixRef,props:menuProps2}=inject(menuInjectionKey);return function(){const{value:mergedClsPrefix}=mergedClsPrefixRef,paddingLeft=MenuChild.paddingLeft.value,{nodeProps}=menuProps2,attrs=nodeProps==null?void 0:nodeProps(props.tmNode.rawNode);return h("div",{class:"".concat(mergedClsPrefix,"-menu-item-group"),role:"group"},h("div",Object.assign({},attrs,{class:["".concat(mergedClsPrefix,"-menu-item-group-title"),attrs==null?void 0:attrs.class],style:[(attrs==null?void 0:attrs.style)||"",paddingLeft!==void 0?"padding-left: ".concat(paddingLeft,"px;"):""]}),render$1(props.title),props.extra?h(Fragment,null," ",render$1(props.extra)):null),h("div",null,props.tmNodes.map(tmNode=>itemRenderer(tmNode,menuProps2))))}}});function isIgnoredNode(rawNode){return rawNode.type==="divider"||rawNode.type==="render"}__name(isIgnoredNode,"isIgnoredNode");function isDividerNode(rawNode){return rawNode.type==="divider"}__name(isDividerNode,"isDividerNode");function itemRenderer(tmNode,menuProps2){const{rawNode}=tmNode,{show}=rawNode;if(show===!1)return null;if(isIgnoredNode(rawNode))return isDividerNode(rawNode)?h(NMenuDivider,Object.assign({key:tmNode.key},rawNode.props)):null;const{labelField}=menuProps2,{key,level,isGroup:isGroup2}=tmNode,props=Object.assign(Object.assign({},rawNode),{title:rawNode.title||rawNode[labelField],extra:rawNode.titleExtra||rawNode.extra,key,internalKey:key,level,root:level===0,isGroup:isGroup2});return tmNode.children?tmNode.isGroup?h(NMenuOptionGroup,keep(props,menuItemGroupPropKeys,{tmNode,tmNodes:tmNode.children,key})):h(NSubmenu,keep(props,submenuPropKeys,{key,rawNodes:rawNode[menuProps2.childrenField],tmNodes:tmNode.children,tmNode})):h(NMenuOption,keep(props,menuItemPropKeys,{key,tmNode}))}__name(itemRenderer,"itemRenderer");const submenuProps=Object.assign(Object.assign({},useMenuChildProps),{rawNodes:{type:Array,default:__name(()=>[],"default")},tmNodes:{type:Array,default:__name(()=>[],"default")},tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function,domId:String,virtualChildActive:{type:Boolean,default:void 0},isEllipsisPlaceholder:Boolean}),submenuPropKeys=keysOf(submenuProps),NSubmenu=defineComponent({name:"Submenu",props:submenuProps,setup(props){const MenuChild=useMenuChild(props),{NMenu:NMenu2,NSubmenu:NSubmenu2}=MenuChild,{props:menuProps2,mergedCollapsedRef,mergedThemeRef}=NMenu2,mergedDisabledRef=computed(()=>{const{disabled}=props;return NSubmenu2!=null&&NSubmenu2.mergedDisabledRef.value||menuProps2.disabled?!0:disabled}),dropdownShowRef=ref(!1);provide(submenuInjectionKey,{paddingLeftRef:MenuChild.paddingLeft,mergedDisabledRef}),provide(menuItemGroupInjectionKey,null);function doClick(){const{onClick}=props;onClick&&onClick()}__name(doClick,"doClick");function handleClick2(){mergedDisabledRef.value||(mergedCollapsedRef.value||NMenu2.toggleExpand(props.internalKey),doClick())}__name(handleClick2,"handleClick");function handlePopoverShowChange(value){dropdownShowRef.value=value}return __name(handlePopoverShowChange,"handlePopoverShowChange"),{menuProps:menuProps2,mergedTheme:mergedThemeRef,doSelect:NMenu2.doSelect,inverted:NMenu2.invertedRef,isHorizontal:NMenu2.isHorizontalRef,mergedClsPrefix:NMenu2.mergedClsPrefixRef,maxIconSize:MenuChild.maxIconSize,activeIconSize:MenuChild.activeIconSize,iconMarginRight:MenuChild.iconMarginRight,dropdownPlacement:MenuChild.dropdownPlacement,dropdownShow:dropdownShowRef,paddingLeft:MenuChild.paddingLeft,mergedDisabled:mergedDisabledRef,mergedValue:NMenu2.mergedValueRef,childActive:useMemo(()=>{var _a4;return(_a4=props.virtualChildActive)!==null&&_a4!==void 0?_a4:NMenu2.activePathRef.value.includes(props.internalKey)}),collapsed:computed(()=>menuProps2.mode==="horizontal"?!1:mergedCollapsedRef.value?!0:!NMenu2.mergedExpandedKeysRef.value.includes(props.internalKey)),dropdownEnabled:computed(()=>!mergedDisabledRef.value&&(menuProps2.mode==="horizontal"||mergedCollapsedRef.value)),handlePopoverShowChange,handleClick:handleClick2}},render(){var _a4;const{mergedClsPrefix,menuProps:{renderIcon,renderLabel}}=this,createSubmenuItem=__name(()=>{const{isHorizontal,paddingLeft,collapsed,mergedDisabled,maxIconSize,activeIconSize,title,childActive,icon,handleClick:handleClick2,menuProps:{nodeProps},dropdownShow,iconMarginRight,tmNode,mergedClsPrefix:mergedClsPrefix2,isEllipsisPlaceholder,extra}=this,attrs=nodeProps==null?void 0:nodeProps(tmNode.rawNode);return h("div",Object.assign({},attrs,{class:["".concat(mergedClsPrefix2,"-menu-item"),attrs==null?void 0:attrs.class],role:"menuitem"}),h(NMenuOptionContent,{tmNode,paddingLeft,collapsed,disabled:mergedDisabled,iconMarginRight,maxIconSize,activeIconSize,title,extra,showArrow:!isHorizontal,childActive,clsPrefix:mergedClsPrefix2,icon,hover:dropdownShow,onClick:handleClick2,isEllipsisPlaceholder}))},"createSubmenuItem"),createSubmenuChildren=__name(()=>h(NFadeInExpandTransition,null,{default:__name(()=>{const{tmNodes,collapsed}=this;return collapsed?null:h("div",{class:"".concat(mergedClsPrefix,"-submenu-children"),role:"menu"},tmNodes.map(item=>itemRenderer(item,this.menuProps)))},"default")}),"createSubmenuChildren");return this.root?h(NDropdown,Object.assign({size:"large",trigger:"hover"},(_a4=this.menuProps)===null||_a4===void 0?void 0:_a4.dropdownProps,{themeOverrides:this.mergedTheme.peerOverrides.Dropdown,theme:this.mergedTheme.peers.Dropdown,builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon,renderLabel}),{default:__name(()=>h("div",{class:"".concat(mergedClsPrefix,"-submenu"),role:"menu","aria-expanded":!this.collapsed,id:this.domId},createSubmenuItem(),this.isHorizontal?null:createSubmenuChildren()),"default")}):h("div",{class:"".concat(mergedClsPrefix,"-submenu"),role:"menu","aria-expanded":!this.collapsed,id:this.domId},createSubmenuItem(),createSubmenuChildren())}}),menuProps=Object.assign(Object.assign({},useTheme.props),{options:{type:Array,default:__name(()=>[],"default")},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,show:{type:Boolean,default:!0},inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownProps:Object,accordion:Boolean,nodeProps:Function,dropdownPlacement:{type:String,default:"bottom"},responsive:Boolean,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array}),NMenu=defineComponent({name:"Menu",inheritAttrs:!1,props:menuProps,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Menu","-menu",style$2,menuLight,props,mergedClsPrefixRef),layoutSider=inject(layoutSiderInjectionKey,null),mergedCollapsedRef=computed(()=>{var _a4;const{collapsed}=props;if(collapsed!==void 0)return collapsed;if(layoutSider){const{collapseModeRef,collapsedRef}=layoutSider;if(collapseModeRef.value==="width")return(_a4=collapsedRef.value)!==null&&_a4!==void 0?_a4:!1}return!1}),treeMateRef=computed(()=>{const{keyField,childrenField,disabledField}=props;return createTreeMate(props.items||props.options,{getIgnored(node){return isIgnoredNode(node)},getChildren(node){return node[childrenField]},getDisabled(node){return node[disabledField]},getKey(node){var _a4;return(_a4=node[keyField])!==null&&_a4!==void 0?_a4:node.name}})}),treeKeysLevelOneRef=computed(()=>new Set(treeMateRef.value.treeNodes.map(e=>e.key))),{watchProps}=props,uncontrolledValueRef=ref(null);watchProps!=null&&watchProps.includes("defaultValue")?watchEffect(()=>{uncontrolledValueRef.value=props.defaultValue}):uncontrolledValueRef.value=props.defaultValue;const controlledValueRef=toRef(props,"value"),mergedValueRef=useMergedState(controlledValueRef,uncontrolledValueRef),uncontrolledExpandedKeysRef=ref([]),initUncontrolledExpandedKeys=__name(()=>{uncontrolledExpandedKeysRef.value=props.defaultExpandAll?treeMateRef.value.getNonLeafKeys():props.defaultExpandedNames||props.defaultExpandedKeys||treeMateRef.value.getPath(mergedValueRef.value,{includeSelf:!1}).keyPath},"initUncontrolledExpandedKeys");watchProps!=null&&watchProps.includes("defaultExpandedKeys")?watchEffect(initUncontrolledExpandedKeys):initUncontrolledExpandedKeys();const controlledExpandedKeysRef=useCompitable(props,["expandedNames","expandedKeys"]),mergedExpandedKeysRef=useMergedState(controlledExpandedKeysRef,uncontrolledExpandedKeysRef),tmNodesRef=computed(()=>treeMateRef.value.treeNodes),activePathRef=computed(()=>treeMateRef.value.getPath(mergedValueRef.value).keyPath);provide(menuInjectionKey,{props,mergedCollapsedRef,mergedThemeRef:themeRef,mergedValueRef,mergedExpandedKeysRef,activePathRef,mergedClsPrefixRef,isHorizontalRef:computed(()=>props.mode==="horizontal"),invertedRef:toRef(props,"inverted"),doSelect,toggleExpand});function doSelect(value,item){const{"onUpdate:value":_onUpdateValue,onUpdateValue,onSelect}=props;onUpdateValue&&call(onUpdateValue,value,item),_onUpdateValue&&call(_onUpdateValue,value,item),onSelect&&call(onSelect,value,item),uncontrolledValueRef.value=value}__name(doSelect,"doSelect");function doUpdateExpandedKeys(value){const{"onUpdate:expandedKeys":_onUpdateExpandedKeys,onUpdateExpandedKeys,onExpandedNamesChange,onOpenNamesChange}=props;_onUpdateExpandedKeys&&call(_onUpdateExpandedKeys,value),onUpdateExpandedKeys&&call(onUpdateExpandedKeys,value),onExpandedNamesChange&&call(onExpandedNamesChange,value),onOpenNamesChange&&call(onOpenNamesChange,value),uncontrolledExpandedKeysRef.value=value}__name(doUpdateExpandedKeys,"doUpdateExpandedKeys");function toggleExpand(key){const currentExpandedKeys=Array.from(mergedExpandedKeysRef.value),index=currentExpandedKeys.findIndex(expanededKey=>expanededKey===key);if(~index)currentExpandedKeys.splice(index,1);else{if(props.accordion&&treeKeysLevelOneRef.value.has(key)){const closeKeyIndex=currentExpandedKeys.findIndex(e=>treeKeysLevelOneRef.value.has(e));closeKeyIndex>-1&&currentExpandedKeys.splice(closeKeyIndex,1)}currentExpandedKeys.push(key)}doUpdateExpandedKeys(currentExpandedKeys)}__name(toggleExpand,"toggleExpand");const showOption=__name(key=>{const selectedKeyPath=treeMateRef.value.getPath(key!=null?key:mergedValueRef.value,{includeSelf:!1}).keyPath;if(!selectedKeyPath.length)return;const currentExpandedKeys=Array.from(mergedExpandedKeysRef.value),nextExpandedKeys=new Set([...currentExpandedKeys,...selectedKeyPath]);props.accordion&&treeKeysLevelOneRef.value.forEach(firstLevelKey=>{nextExpandedKeys.has(firstLevelKey)&&!selectedKeyPath.includes(firstLevelKey)&&nextExpandedKeys.delete(firstLevelKey)}),doUpdateExpandedKeys(Array.from(nextExpandedKeys))},"showOption"),cssVarsRef=computed(()=>{const{inverted}=props,{common:{cubicBezierEaseInOut:cubicBezierEaseInOut2},self:self2}=themeRef.value,{borderRadius,borderColorHorizontal,fontSize:fontSize2,itemHeight,dividerColor}=self2,vars={"--n-divider-color":dividerColor,"--n-bezier":cubicBezierEaseInOut2,"--n-font-size":fontSize2,"--n-border-color-horizontal":borderColorHorizontal,"--n-border-radius":borderRadius,"--n-item-height":itemHeight};return inverted?(vars["--n-group-text-color"]=self2.groupTextColorInverted,vars["--n-color"]=self2.colorInverted,vars["--n-item-text-color"]=self2.itemTextColorInverted,vars["--n-item-text-color-hover"]=self2.itemTextColorHoverInverted,vars["--n-item-text-color-active"]=self2.itemTextColorActiveInverted,vars["--n-item-text-color-child-active"]=self2.itemTextColorChildActiveInverted,vars["--n-item-text-color-child-active-hover"]=self2.itemTextColorChildActiveInverted,vars["--n-item-text-color-active-hover"]=self2.itemTextColorActiveHoverInverted,vars["--n-item-icon-color"]=self2.itemIconColorInverted,vars["--n-item-icon-color-hover"]=self2.itemIconColorHoverInverted,vars["--n-item-icon-color-active"]=self2.itemIconColorActiveInverted,vars["--n-item-icon-color-active-hover"]=self2.itemIconColorActiveHoverInverted,vars["--n-item-icon-color-child-active"]=self2.itemIconColorChildActiveInverted,vars["--n-item-icon-color-child-active-hover"]=self2.itemIconColorChildActiveHoverInverted,vars["--n-item-icon-color-collapsed"]=self2.itemIconColorCollapsedInverted,vars["--n-item-text-color-horizontal"]=self2.itemTextColorHorizontalInverted,vars["--n-item-text-color-hover-horizontal"]=self2.itemTextColorHoverHorizontalInverted,vars["--n-item-text-color-active-horizontal"]=self2.itemTextColorActiveHorizontalInverted,vars["--n-item-text-color-child-active-horizontal"]=self2.itemTextColorChildActiveHorizontalInverted,vars["--n-item-text-color-child-active-hover-horizontal"]=self2.itemTextColorChildActiveHoverHorizontalInverted,vars["--n-item-text-color-active-hover-horizontal"]=self2.itemTextColorActiveHoverHorizontalInverted,vars["--n-item-icon-color-horizontal"]=self2.itemIconColorHorizontalInverted,vars["--n-item-icon-color-hover-horizontal"]=self2.itemIconColorHoverHorizontalInverted,vars["--n-item-icon-color-active-horizontal"]=self2.itemIconColorActiveHorizontalInverted,vars["--n-item-icon-color-active-hover-horizontal"]=self2.itemIconColorActiveHoverHorizontalInverted,vars["--n-item-icon-color-child-active-horizontal"]=self2.itemIconColorChildActiveHorizontalInverted,vars["--n-item-icon-color-child-active-hover-horizontal"]=self2.itemIconColorChildActiveHoverHorizontalInverted,vars["--n-arrow-color"]=self2.arrowColorInverted,vars["--n-arrow-color-hover"]=self2.arrowColorHoverInverted,vars["--n-arrow-color-active"]=self2.arrowColorActiveInverted,vars["--n-arrow-color-active-hover"]=self2.arrowColorActiveHoverInverted,vars["--n-arrow-color-child-active"]=self2.arrowColorChildActiveInverted,vars["--n-arrow-color-child-active-hover"]=self2.arrowColorChildActiveHoverInverted,vars["--n-item-color-hover"]=self2.itemColorHoverInverted,vars["--n-item-color-active"]=self2.itemColorActiveInverted,vars["--n-item-color-active-hover"]=self2.itemColorActiveHoverInverted,vars["--n-item-color-active-collapsed"]=self2.itemColorActiveCollapsedInverted):(vars["--n-group-text-color"]=self2.groupTextColor,vars["--n-color"]=self2.color,vars["--n-item-text-color"]=self2.itemTextColor,vars["--n-item-text-color-hover"]=self2.itemTextColorHover,vars["--n-item-text-color-active"]=self2.itemTextColorActive,vars["--n-item-text-color-child-active"]=self2.itemTextColorChildActive,vars["--n-item-text-color-child-active-hover"]=self2.itemTextColorChildActiveHover,vars["--n-item-text-color-active-hover"]=self2.itemTextColorActiveHover,vars["--n-item-icon-color"]=self2.itemIconColor,vars["--n-item-icon-color-hover"]=self2.itemIconColorHover,vars["--n-item-icon-color-active"]=self2.itemIconColorActive,vars["--n-item-icon-color-active-hover"]=self2.itemIconColorActiveHover,vars["--n-item-icon-color-child-active"]=self2.itemIconColorChildActive,vars["--n-item-icon-color-child-active-hover"]=self2.itemIconColorChildActiveHover,vars["--n-item-icon-color-collapsed"]=self2.itemIconColorCollapsed,vars["--n-item-text-color-horizontal"]=self2.itemTextColorHorizontal,vars["--n-item-text-color-hover-horizontal"]=self2.itemTextColorHoverHorizontal,vars["--n-item-text-color-active-horizontal"]=self2.itemTextColorActiveHorizontal,vars["--n-item-text-color-child-active-horizontal"]=self2.itemTextColorChildActiveHorizontal,vars["--n-item-text-color-child-active-hover-horizontal"]=self2.itemTextColorChildActiveHoverHorizontal,vars["--n-item-text-color-active-hover-horizontal"]=self2.itemTextColorActiveHoverHorizontal,vars["--n-item-icon-color-horizontal"]=self2.itemIconColorHorizontal,vars["--n-item-icon-color-hover-horizontal"]=self2.itemIconColorHoverHorizontal,vars["--n-item-icon-color-active-horizontal"]=self2.itemIconColorActiveHorizontal,vars["--n-item-icon-color-active-hover-horizontal"]=self2.itemIconColorActiveHoverHorizontal,vars["--n-item-icon-color-child-active-horizontal"]=self2.itemIconColorChildActiveHorizontal,vars["--n-item-icon-color-child-active-hover-horizontal"]=self2.itemIconColorChildActiveHoverHorizontal,vars["--n-arrow-color"]=self2.arrowColor,vars["--n-arrow-color-hover"]=self2.arrowColorHover,vars["--n-arrow-color-active"]=self2.arrowColorActive,vars["--n-arrow-color-active-hover"]=self2.arrowColorActiveHover,vars["--n-arrow-color-child-active"]=self2.arrowColorChildActive,vars["--n-arrow-color-child-active-hover"]=self2.arrowColorChildActiveHover,vars["--n-item-color-hover"]=self2.itemColorHover,vars["--n-item-color-active"]=self2.itemColorActive,vars["--n-item-color-active-hover"]=self2.itemColorActiveHover,vars["--n-item-color-active-collapsed"]=self2.itemColorActiveCollapsed),vars}),themeClassHandle=inlineThemeDisabled?useThemeClass("menu",computed(()=>props.inverted?"a":"b"),cssVarsRef,props):void 0,ellipsisNodeId=createId(),overflowRef=ref(null),counterRef=ref(null);let isFirstResize=!0;const onResize=__name(()=>{var _a4;isFirstResize?isFirstResize=!1:(_a4=overflowRef.value)===null||_a4===void 0||_a4.sync({showAllItemsBeforeCalculate:!0})},"onResize");function getCounter(){return document.getElementById(ellipsisNodeId)}__name(getCounter,"getCounter");const ellipsisFromIndexRef=ref(-1);function onUpdateCount(count){ellipsisFromIndexRef.value=props.options.length-count}__name(onUpdateCount,"onUpdateCount");function onUpdateOverflow(overflow){overflow||(ellipsisFromIndexRef.value=-1)}__name(onUpdateOverflow,"onUpdateOverflow");const ellipsisOptionRef=computed(()=>{const ellipsisFromIndex=ellipsisFromIndexRef.value;return{children:ellipsisFromIndex===-1?[]:props.options.slice(ellipsisFromIndex)}}),ellipsisTreeMateRef=computed(()=>{const{childrenField,disabledField,keyField}=props;return createTreeMate([ellipsisOptionRef.value],{getIgnored(node){return isIgnoredNode(node)},getChildren(node){return node[childrenField]},getDisabled(node){return node[disabledField]},getKey(node){var _a4;return(_a4=node[keyField])!==null&&_a4!==void 0?_a4:node.name}})}),emptyTmNodeRef=computed(()=>createTreeMate([{}]).treeNodes[0]);function renderCounter(){var _a4;if(ellipsisFromIndexRef.value===-1)return h(NSubmenu,{root:!0,level:0,key:"__ellpisisGroupPlaceholder__",internalKey:"__ellpisisGroupPlaceholder__",title:"",tmNode:emptyTmNodeRef.value,domId:ellipsisNodeId,isEllipsisPlaceholder:!0});const tmNode=ellipsisTreeMateRef.value.treeNodes[0],activePath=activePathRef.value,childActive=!!(!((_a4=tmNode.children)===null||_a4===void 0)&&_a4.some(tmNode2=>activePath.includes(tmNode2.key)));return h(NSubmenu,{level:0,root:!0,key:"__ellpisisGroup__",internalKey:"__ellpisisGroup__",title:"",virtualChildActive:childActive,tmNode,domId:ellipsisNodeId,rawNodes:tmNode.rawNode.children||[],tmNodes:tmNode.children||[],isEllipsisPlaceholder:!0})}return __name(renderCounter,"renderCounter"),{mergedClsPrefix:mergedClsPrefixRef,controlledExpandedKeys:controlledExpandedKeysRef,uncontrolledExpanededKeys:uncontrolledExpandedKeysRef,mergedExpandedKeys:mergedExpandedKeysRef,uncontrolledValue:uncontrolledValueRef,mergedValue:mergedValueRef,activePath:activePathRef,tmNodes:tmNodesRef,mergedTheme:themeRef,mergedCollapsed:mergedCollapsedRef,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,overflowRef,counterRef,updateCounter:__name(()=>{},"updateCounter"),onResize,onUpdateOverflow,onUpdateCount,renderCounter,getCounter,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender,showOption,deriveResponsiveState:onResize}},render(){const{mergedClsPrefix,mode,themeClass,onRender}=this;onRender==null||onRender();const renderMenuItemNodes=__name(()=>this.tmNodes.map(tmNode=>itemRenderer(tmNode,this.$props)),"renderMenuItemNodes"),finalResponsive=mode==="horizontal"&&this.responsive,renderMainNode=__name(()=>h("div",mergeProps(this.$attrs,{role:mode==="horizontal"?"menubar":"menu",class:["".concat(mergedClsPrefix,"-menu"),themeClass,"".concat(mergedClsPrefix,"-menu--").concat(mode),finalResponsive&&"".concat(mergedClsPrefix,"-menu--responsive"),this.mergedCollapsed&&"".concat(mergedClsPrefix,"-menu--collapsed")],style:this.cssVars}),finalResponsive?h(VOverflow,{ref:"overflowRef",onUpdateOverflow:this.onUpdateOverflow,getCounter:this.getCounter,onUpdateCount:this.onUpdateCount,updateCounter:this.updateCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:renderMenuItemNodes,counter:this.renderCounter}):renderMenuItemNodes()),"renderMainNode");return finalResponsive?h(VResizeObserver,{onResize:this.onResize},{default:renderMainNode}):renderMainNode()}}),qrcodeDark={name:"QrCode",common:derived$1,self:__name(vars=>({borderRadius:vars.borderRadius}),"self")};function self$4(vars){return{borderRadius:vars.borderRadius}}__name(self$4,"self$4");const themeLight$1={name:"QrCode",common:derived,self:self$4},skeletonDark={name:"Skeleton",common:derived$1,self(vars){const{heightSmall,heightMedium,heightLarge,borderRadius}=vars;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius,heightSmall,heightMedium,heightLarge}}};function self$3(vars){const{heightSmall,heightMedium,heightLarge,borderRadius}=vars;return{color:"#eee",colorEnd:"#ddd",borderRadius,heightSmall,heightMedium,heightLarge}}__name(self$3,"self$3");const skeletonLight={name:"Skeleton",common:derived,self:self$3},splitDark={name:"Split",common:derived$1};function self$2(vars){const{primaryColorHover,borderColor}=vars;return{resizableTriggerColorHover:primaryColorHover,resizableTriggerColor:borderColor}}__name(self$2,"self$2");const themeLight={name:"Split",common:derived,self:self$2},style$1=cB("text","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n",[cM("strong","\n font-weight: var(--n-font-weight-strong);\n "),cM("italic",{fontStyle:"italic"}),cM("underline",{textDecoration:"underline"}),cM("code","\n line-height: 1.4;\n display: inline-block;\n font-family: var(--n-font-famliy-mono);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n box-sizing: border-box;\n padding: .05em .35em 0 .35em;\n border-radius: var(--n-code-border-radius);\n font-size: .9em;\n color: var(--n-code-text-color);\n background-color: var(--n-code-color);\n border: var(--n-code-border);\n ")]),textProps=Object.assign(Object.assign({},useTheme.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:__name(()=>!0,"validator"),default:void 0}}),NText=defineComponent({name:"Text",props:textProps,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Typography","-text",style$1,typographyLight,props,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{depth,type}=props,textColorKey=type==="default"?depth===void 0?"textColor":"textColor".concat(depth,"Depth"):createKey("textColor",type),{common:{fontWeightStrong,fontFamilyMono,cubicBezierEaseInOut:cubicBezierEaseInOut2},self:{codeTextColor,codeBorderRadius,codeColor,codeBorder,[textColorKey]:textColor}}=themeRef.value;return{"--n-bezier":cubicBezierEaseInOut2,"--n-text-color":textColor,"--n-font-weight-strong":fontWeightStrong,"--n-font-famliy-mono":fontFamilyMono,"--n-code-border-radius":codeBorderRadius,"--n-code-text-color":codeTextColor,"--n-code-color":codeColor,"--n-code-border":codeBorder}}),themeClassHandle=inlineThemeDisabled?useThemeClass("text",computed(()=>"".concat(props.type[0]).concat(props.depth||"")),cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,compitableTag:useCompitable(props,["as","tag"]),cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){var _a4,_b,_c;const{mergedClsPrefix}=this;(_a4=this.onRender)===null||_a4===void 0||_a4.call(this);const textClass=["".concat(mergedClsPrefix,"-text"),this.themeClass,{["".concat(mergedClsPrefix,"-text--code")]:this.code,["".concat(mergedClsPrefix,"-text--delete")]:this.delete,["".concat(mergedClsPrefix,"-text--strong")]:this.strong,["".concat(mergedClsPrefix,"-text--italic")]:this.italic,["".concat(mergedClsPrefix,"-text--underline")]:this.underline}],children=(_c=(_b=this.$slots).default)===null||_c===void 0?void 0:_c.call(_b);return this.code?h("code",{class:textClass,style:this.cssVars},this.delete?h("del",null,children):children):this.delete?h("del",{class:textClass,style:this.cssVars},children):h(this.compitableTag||"span",{class:textClass,style:this.cssVars},children)}}),self$1=__name(()=>({}),"self$1"),equationLight={name:"Equation",common:derived,self:self$1},equationDark={name:"Equation",common:derived$1,self:self$1},floatButtonGroupDark={name:"FloatButtonGroup",common:derived$1,self(vars){const{popoverColor,dividerColor,borderRadius}=vars;return{color:popoverColor,buttonBorderColor:dividerColor,borderRadiusSquare:borderRadius,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}},lightTheme={name:"light",common:derived,Alert:alertLight,Anchor:anchorLight,AutoComplete:autoCompleteLight,Avatar:avatarLight,AvatarGroup:avatarGroupLight,BackTop:backTopLight,Badge:badgeLight,Breadcrumb:breadcrumbLight,Button:buttonLight,ButtonGroup:buttonGroupLight,Calendar:calendarLight,Card:cardLight,Carousel:carouselLight,Cascader:cascaderLight,Checkbox:checkboxLight,Code:codeLight,Collapse:collapseLight,CollapseTransition:collapseTransitionLight,ColorPicker:colorPickerLight,DataTable:dataTableLight,DatePicker:datePickerLight,Descriptions:descriptionsLight,Dialog:dialogLight,Divider:dividerLight,Drawer:drawerLight,Dropdown:dropdownLight,DynamicInput:dynamicInputLight,DynamicTags:dynamicTagsLight,Element:elementLight,Empty:emptyLight,Equation:equationLight,Ellipsis:ellipsisLight,Flex:flexLight,Form:formLight,GradientText:gradientTextLight,Icon:iconLight,IconWrapper:iconWrapperLight,Image:imageLight,Input:inputLight,InputNumber:inputNumberLight,InputOtp:inputOtpLight,Layout:layoutLight,LegacyTransfer:transferLight,List:listLight,LoadingBar:loadingBarLight,Log:logLight,Menu:menuLight,Mention:mentionLight,Message:messageLight,Modal:modalLight,Notification:notificationLight,PageHeader:pageHeaderLight,Pagination:paginationLight,Popconfirm:popconfirmLight,Popover:popoverLight,Popselect:popselectLight,Progress:progressLight,QrCode:themeLight$1,Radio:radioLight,Rate:themeLight$4,Row:rowLight,Result:resultLight,Scrollbar:scrollbarLight,Skeleton:skeletonLight,Select:selectLight,Slider:sliderLight,Space:spaceLight,Spin:spinLight,Statistic:statisticLight,Steps:stepsLight,Switch:switchLight,Table:tableLight,Tabs:tabsLight,Tag:tagLight,Thing:thingLight,TimePicker:timePickerLight,Timeline:timelineLight,Tooltip:tooltipLight,Transfer:transferLight$1,Tree:treeLight,TreeSelect:treeSelectLight,Typography:typographyLight,Upload:uploadLight,Watermark:watermarkLight,Split:themeLight,FloatButton:themeLight$2,FloatButtonGroup:themeLight$3,Marquee:marqueeLight},darkTheme={name:"dark",common:derived$1,Alert:alertDark,Anchor:anchorDark,AutoComplete:autoCompleteDark,Avatar:avatarDark,AvatarGroup:avatarGroupDark,BackTop:backTopDark,Badge:badgeDark,Breadcrumb:breadcrumbDark,Button:buttonDark,ButtonGroup:buttonGroupDark,Calendar:calendarDark,Card:cardDark,Carousel:carouselDark,Cascader:cascaderDark,Checkbox:checkboxDark,Code:codeDark,Collapse:collapseDark,CollapseTransition:collapseTransitionDark,ColorPicker:colorPickerDark,DataTable:dataTableDark,DatePicker:datePickerDark,Descriptions:descriptionsDark,Dialog:dialogDark,Divider:dividerDark,Drawer:drawerDark,Dropdown:dropdownDark,DynamicInput:dynamicInputDark,DynamicTags:dynamicTagsDark,Element:elementDark,Empty:emptyDark,Ellipsis:ellipsisDark,Equation:equationDark,Flex:flexDark,Form:formItemDark,GradientText:gradientTextDark,Icon:iconDark$1,IconWrapper:iconDark,Image:imageDark,Input:inputDark,InputNumber:inputNumberDark,InputOtp:inputOtpDark,LegacyTransfer:transferDark,Layout:layoutDark,List:listDark$1,LoadingBar:loadingBarDark,Log:logDark,Menu:menuDark,Mention:listDark,Message:messageDark,Modal:modalDark,Notification:notificationDark,PageHeader:pageHeaderDark,Pagination:paginationDark,Popconfirm:popconfirmDark,Popover:popoverDark,Popselect:popselect,Progress:progressDark,QrCode:qrcodeDark,Radio:radioDark,Rate:rateDark,Result:resultDark,Row:rowDark,Scrollbar:scrollbarDark,Select:selectDark,Skeleton:skeletonDark,Slider:sliderDark,Space:spaceDark,Spin:spinDark,Statistic:statisticDark,Steps:stepsDark,Switch:switchDark,Table:tableDark,Tabs:tabsDark,Tag:tagDark,Thing:thingDark,TimePicker:timePickerDark,Timeline:timelineDark,Tooltip:tooltipDark,Transfer:transferDark$1,Tree:treeDark,TreeSelect:treeSelectDark,Typography:typographyDark,Upload:uploadDark,Watermark:watermarkDark,Split:splitDark,FloatButton:floatButtonDark,FloatButtonGroup:floatButtonGroupDark,Marquee:marqueeDark};var LocationResponseErrorEnum=(LocationResponseErrorEnum2=>(LocationResponseErrorEnum2[LocationResponseErrorEnum2.PERMISSION_DENIED=1]="PERMISSION_DENIED",LocationResponseErrorEnum2[LocationResponseErrorEnum2.POSITION_UNAVAILABLE=2]="POSITION_UNAVAILABLE",LocationResponseErrorEnum2[LocationResponseErrorEnum2.TIMEOUT=3]="TIMEOUT",LocationResponseErrorEnum2[LocationResponseErrorEnum2.UNKNOWN=4]="UNKNOWN",LocationResponseErrorEnum2[LocationResponseErrorEnum2.IOS_HTTPS_REQUIRED=5]="IOS_HTTPS_REQUIRED",LocationResponseErrorEnum2[LocationResponseErrorEnum2.FIREFOX_PERMISSION_ISSUE=6]="FIREFOX_PERMISSION_ISSUE",LocationResponseErrorEnum2))(LocationResponseErrorEnum||{}),LIBVERSION="2.0.4",UA_MAX_LENGTH=500,USER_AGENT="user-agent",EMPTY="",UNKNOWN="?",FUNC_TYPE="function",UNDEF_TYPE="undefined",OBJ_TYPE="object",STR_TYPE="string",UA_BROWSER="browser",UA_CPU="cpu",UA_DEVICE="device",UA_ENGINE="engine",UA_OS="os",UA_RESULT="result",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",MAJOR="major",MODEL="model",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",XR="xr",EMBEDDED="embedded",INAPP="inapp",BRANDS="brands",FORMFACTORS="formFactors",FULLVERLIST="fullVersionList",PLATFORM="platform",PLATFORMVER="platformVersion",BITNESS="bitness",CH_HEADER="sec-ch-ua",CH_HEADER_FULL_VER_LIST=CH_HEADER+"-full-version-list",CH_HEADER_ARCH=CH_HEADER+"-arch",CH_HEADER_BITNESS=CH_HEADER+"-"+BITNESS,CH_HEADER_FORM_FACTORS=CH_HEADER+"-form-factors",CH_HEADER_MOBILE=CH_HEADER+"-"+MOBILE,CH_HEADER_MODEL=CH_HEADER+"-"+MODEL,CH_HEADER_PLATFORM=CH_HEADER+"-"+PLATFORM,CH_HEADER_PLATFORM_VER=CH_HEADER_PLATFORM+"-version",CH_ALL_VALUES=[BRANDS,FULLVERLIST,MOBILE,MODEL,PLATFORM,PLATFORMVER,ARCHITECTURE,FORMFACTORS,BITNESS],AMAZON="Amazon",APPLE="Apple",ASUS="ASUS",BLACKBERRY="BlackBerry",GOOGLE="Google",HUAWEI="Huawei",LENOVO="Lenovo",HONOR="Honor",LG="LG",MICROSOFT="Microsoft",MOTOROLA="Motorola",NVIDIA="Nvidia",ONEPLUS="OnePlus",OPPO="OPPO",SAMSUNG="Samsung",SHARP="Sharp",SONY="Sony",XIAOMI="Xiaomi",ZEBRA="Zebra",CHROME="Chrome",CHROMIUM="Chromium",CHROMECAST="Chromecast",EDGE="Edge",FIREFOX="Firefox",OPERA="Opera",FACEBOOK="Facebook",SOGOU="Sogou",PREFIX_MOBILE="Mobile ",SUFFIX_BROWSER=" Browser",WINDOWS="Windows",isWindow=typeof window!==UNDEF_TYPE,NAVIGATOR=isWindow&&window.navigator?window.navigator:void 0,NAVIGATOR_UADATA=NAVIGATOR&&NAVIGATOR.userAgentData?NAVIGATOR.userAgentData:void 0,extend=__name(function(defaultRgx,extensions){var mergedRgx={},extraRgx=extensions;if(!isExtensions(extensions)){extraRgx={};for(var i in extensions)for(var j in extensions[i])extraRgx[j]=extensions[i][j].concat(extraRgx[j]?extraRgx[j]:[])}for(var k in defaultRgx)mergedRgx[k]=extraRgx[k]&&extraRgx[k].length%2===0?extraRgx[k].concat(defaultRgx[k]):defaultRgx[k];return mergedRgx},"extend"),enumerize=__name(function(arr){for(var enums={},i=0;i<arr.length;i++)enums[arr[i].toUpperCase()]=arr[i];return enums},"enumerize"),has=__name(function(str1,str2){if(typeof str1===OBJ_TYPE&&str1.length>0){for(var i in str1)if(lowerize(str2)==lowerize(str1[i]))return!0;return!1}return isString(str1)?lowerize(str2)==lowerize(str1):!1},"has"),isExtensions=__name(function(obj,deep){for(var prop in obj)return/^(browser|cpu|device|engine|os)$/.test(prop)||(deep?isExtensions(obj[prop]):!1)},"isExtensions"),isString=__name(function(val){return typeof val===STR_TYPE},"isString"),itemListToArray=__name(function(header){if(header){for(var arr=[],tokens=strip(/\\?\"/g,header).split(","),i=0;i<tokens.length;i++)if(tokens[i].indexOf(";")>-1){var token=trim(tokens[i]).split(";v=");arr[i]={brand:token[0],version:token[1]}}else arr[i]=trim(tokens[i]);return arr}},"itemListToArray"),lowerize=__name(function(str){return isString(str)?str.toLowerCase():str},"lowerize"),majorize=__name(function(version2){return isString(version2)?strip(/[^\d\.]/g,version2).split(".")[0]:void 0},"majorize"),setProps=__name(function(arr){for(var i in arr){var propName=arr[i];typeof propName==OBJ_TYPE&&propName.length==2?this[propName[0]]=propName[1]:this[propName]=void 0}return this},"setProps"),strip=__name(function(pattern,str){return isString(str)?str.replace(pattern,EMPTY):str},"strip"),stripQuotes=__name(function(str){return strip(/\\?\"/g,str)},"stripQuotes"),trim=__name(function(str,len){if(isString(str))return str=strip(/^\s\s*/,str),typeof len===UNDEF_TYPE?str:str.substring(0,UA_MAX_LENGTH)},"trim"),rgxMapper=__name(function(ua,arrays){if(!(!ua||!arrays))for(var i=0,j,k,p2,q2,matches2,match;i<arrays.length&&!matches2;){var regex=arrays[i],props=arrays[i+1];for(j=k=0;j<regex.length&&!matches2&&regex[j];)if(matches2=regex[j++].exec(ua),matches2)for(p2=0;p2<props.length;p2++)match=matches2[++k],q2=props[p2],typeof q2===OBJ_TYPE&&q2.length>0?q2.length===2?typeof q2[1]==FUNC_TYPE?this[q2[0]]=q2[1].call(this,match):this[q2[0]]=q2[1]:q2.length>=3&&(typeof q2[1]===FUNC_TYPE&&!(q2[1].exec&&q2[1].test)?q2.length>3?this[q2[0]]=match?q2[1].apply(this,q2.slice(2)):void 0:this[q2[0]]=match?q2[1].call(this,match,q2[2]):void 0:q2.length==3?this[q2[0]]=match?match.replace(q2[1],q2[2]):void 0:q2.length==4?this[q2[0]]=match?q2[3].call(this,match.replace(q2[1],q2[2])):void 0:q2.length>4&&(this[q2[0]]=match?q2[3].apply(this,[match.replace(q2[1],q2[2])].concat(q2.slice(4))):void 0)):this[q2]=match||void 0;i+=2}},"rgxMapper"),strMapper=__name(function(str,map2){for(var i in map2)if(typeof map2[i]===OBJ_TYPE&&map2[i].length>0){for(var j=0;j<map2[i].length;j++)if(has(map2[i][j],str))return i===UNKNOWN?void 0:i}else if(has(map2[i],str))return i===UNKNOWN?void 0:i;return map2.hasOwnProperty("*")?map2["*"]:str},"strMapper"),windowsVersionMap={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},formFactorsMap={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},browserHintsMap={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},defaultRegexes={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[VERSION,[NAME,PREFIX_MOBILE+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[VERSION,[NAME,EDGE+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[VERSION,[NAME,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[NAME,VERSION],[/opios[\/ ]+([\w\.]+)/i],[VERSION,[NAME,OPERA+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[VERSION,[NAME,OPERA+" GX"]],[/\bopr\/([\w\.]+)/i],[VERSION,[NAME,OPERA]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[VERSION,[NAME,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[VERSION,[NAME,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[NAME,VERSION],[/quark(?:pc)?\/([-\w\.]+)/i],[VERSION,[NAME,"Quark"]],[/\bddg\/([\w\.]+)/i],[VERSION,[NAME,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[VERSION,[NAME,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[VERSION,[NAME,"WeChat"]],[/konqueror\/([\w\.]+)/i],[VERSION,[NAME,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[VERSION,[NAME,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[VERSION,[NAME,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[VERSION,[NAME,"Smart "+LENOVO+SUFFIX_BROWSER]],[/(avast|avg)\/([\w\.]+)/i],[[NAME,/(.+)/,"$1 Secure"+SUFFIX_BROWSER],VERSION],[/\bfocus\/([\w\.]+)/i],[VERSION,[NAME,FIREFOX+" Focus"]],[/\bopt\/([\w\.]+)/i],[VERSION,[NAME,OPERA+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[VERSION,[NAME,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[VERSION,[NAME,"Dolphin"]],[/coast\/([\w\.]+)/i],[VERSION,[NAME,OPERA+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI"+SUFFIX_BROWSER]],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,PREFIX_MOBILE+FIREFOX]],[/\bqihoobrowser\/?([\w\.]*)/i],[VERSION,[NAME,"360"]],[/\b(qq)\/([\w\.]+)/i],[[NAME,/(.+)/,"$1Browser"],VERSION],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[NAME,/(.+)/,"$1"+SUFFIX_BROWSER],VERSION],[/samsungbrowser\/([\w\.]+)/i],[VERSION,[NAME,SAMSUNG+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[VERSION,[NAME,SOGOU+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[NAME,SOGOU+" Mobile"],VERSION],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[NAME,VERSION],[/(lbbrowser|rekonq)/i],[NAME],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[VERSION,NAME],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[NAME,FACEBOOK],VERSION,[TYPE,INAPP]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[NAME,VERSION,[TYPE,INAPP]],[/\bgsa\/([\w\.]+) .*safari\//i],[VERSION,[NAME,"GSA"],[TYPE,INAPP]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[VERSION,[NAME,"TikTok"],[TYPE,INAPP]],[/\[(linkedin)app\]/i],[NAME,[TYPE,INAPP]],[/(chromium)[\/ ]([-\w\.]+)/i],[NAME,VERSION],[/headlesschrome(?:\/([\w\.]+)| )/i],[VERSION,[NAME,CHROME+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[VERSION,[NAME,EDGE+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[NAME,CHROME+" WebView"],VERSION],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[VERSION,[NAME,"Android"+SUFFIX_BROWSER]],[/chrome\/([\w\.]+) mobile/i],[VERSION,[NAME,PREFIX_MOBILE+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[NAME,VERSION],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[VERSION,[NAME,PREFIX_MOBILE+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[NAME,PREFIX_MOBILE+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[VERSION,NAME],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[NAME,PREFIX_MOBILE+FIREFOX],VERSION],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[NAME,"Netscape"],VERSION],[/(wolvic|librewolf)\/([\w\.]+)/i],[NAME,VERSION],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[VERSION,[NAME,FIREFOX+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[NAME,[VERSION,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[NAME,[VERSION,/[^\d\.]+./,EMPTY]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[ARCHITECTURE,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[ARCHITECTURE,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[ARCHITECTURE,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[ARCHITECTURE,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[ARCHITECTURE,/ower/,EMPTY,lowerize]],[/ sun4\w[;\)]/i],[[ARCHITECTURE,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[ARCHITECTURE,lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[MODEL,[VENDOR,SAMSUNG],[TYPE,TABLET]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[MODEL,[VENDOR,SAMSUNG],[TYPE,MOBILE]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[MODEL,[VENDOR,APPLE],[TYPE,MOBILE]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[MODEL,[VENDOR,APPLE],[TYPE,TABLET]],[/(macintosh);/i],[MODEL,[VENDOR,APPLE]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[MODEL,[VENDOR,SHARP],[TYPE,MOBILE]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[MODEL,[VENDOR,HONOR],[TYPE,TABLET]],[/honor([-\w ]+)[;\)]/i],[MODEL,[VENDOR,HONOR],[TYPE,MOBILE]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[MODEL,[VENDOR,HUAWEI],[TYPE,TABLET]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[MODEL,[VENDOR,HUAWEI],[TYPE,MOBILE]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[MODEL,/_/g," "],[VENDOR,XIAOMI],[TYPE,TABLET]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[MODEL,/_/g," "],[VENDOR,XIAOMI],[TYPE,MOBILE]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[MODEL,[VENDOR,ONEPLUS],[TYPE,MOBILE]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[MODEL,[VENDOR,OPPO],[TYPE,MOBILE]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[MODEL,[VENDOR,strMapper,{OnePlus:["203","304","403","404","413","415"],"*":OPPO}],[TYPE,TABLET]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[MODEL,[VENDOR,"BLU"],[TYPE,MOBILE]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[MODEL,[VENDOR,"Vivo"],[TYPE,MOBILE]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[MODEL,[VENDOR,"Realme"],[TYPE,MOBILE]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[MODEL,[VENDOR,LENOVO],[TYPE,TABLET]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[MODEL,[VENDOR,LENOVO],[TYPE,MOBILE]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[MODEL,[VENDOR,MOTOROLA],[TYPE,MOBILE]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[MODEL,[VENDOR,MOTOROLA],[TYPE,TABLET]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[MODEL,[VENDOR,LG],[TYPE,TABLET]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[MODEL,[VENDOR,LG],[TYPE,MOBILE]],[/(nokia) (t[12][01])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[MODEL,/_/g," "],[TYPE,MOBILE],[VENDOR,"Nokia"]],[/(pixel (c|tablet))\b/i],[MODEL,[VENDOR,GOOGLE],[TYPE,TABLET]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[MODEL,[VENDOR,GOOGLE],[TYPE,MOBILE]],[/(google) (pixelbook( go)?)/i],[VENDOR,MODEL],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[MODEL,[VENDOR,SONY],[TYPE,MOBILE]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[MODEL,"Xperia Tablet"],[VENDOR,SONY],[TYPE,TABLET]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[MODEL,[VENDOR,AMAZON],[TYPE,TABLET]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[MODEL,/(.+)/g,"Fire Phone $1"],[VENDOR,AMAZON],[TYPE,MOBILE]],[/(playbook);[-\w\),; ]+(rim)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[MODEL,[VENDOR,BLACKBERRY],[TYPE,MOBILE]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[MODEL,[VENDOR,ASUS],[TYPE,TABLET]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[MODEL,[VENDOR,ASUS],[TYPE,MOBILE]],[/(nexus 9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[MODEL,[VENDOR,"TCL"],[TYPE,TABLET]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[MODEL,[VENDOR,"TCL"],[TYPE,MOBILE]],[/(itel) ((\w+))/i],[[VENDOR,lowerize],MODEL,[TYPE,strMapper,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[MODEL,[VENDOR,"Meizu"],[TYPE,MOBILE]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[MODEL,[VENDOR,"Ulefone"],[TYPE,MOBILE]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[MODEL,[VENDOR,"Energizer"],[TYPE,MOBILE]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[MODEL,[VENDOR,"Cat"],[TYPE,MOBILE]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[MODEL,[VENDOR,"Smartfren"],[TYPE,MOBILE]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[MODEL,[VENDOR,"Nothing"],[TYPE,MOBILE]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[MODEL,[VENDOR,"Archos"],[TYPE,TABLET]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[MODEL,[VENDOR,"Archos"],[TYPE,MOBILE]],[/; (n159v)/i],[MODEL,[VENDOR,"HMD"],[TYPE,MOBILE]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(surface duo)/i],[MODEL,[VENDOR,MICROSOFT],[TYPE,TABLET]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[MODEL,[VENDOR,"Fairphone"],[TYPE,MOBILE]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[MODEL,[VENDOR,NVIDIA],[TYPE,TABLET]],[/(sprint) (\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,MICROSOFT],[TYPE,MOBILE]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[MODEL,[VENDOR,ZEBRA],[TYPE,TABLET]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[MODEL,[VENDOR,ZEBRA],[TYPE,MOBILE]],[/smart-tv.+(samsung)/i],[VENDOR,[TYPE,SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[MODEL,/^/,"SmartTV"],[VENDOR,SAMSUNG],[TYPE,SMARTTV]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[VENDOR,LG],[TYPE,SMARTTV]],[/(apple) ?tv/i],[VENDOR,[MODEL,APPLE+" TV"],[TYPE,SMARTTV]],[/crkey.*devicetype\/chromecast/i],[[MODEL,CHROMECAST+" Third Generation"],[VENDOR,GOOGLE],[TYPE,SMARTTV]],[/crkey.*devicetype\/([^/]*)/i],[[MODEL,/^/,"Chromecast "],[VENDOR,GOOGLE],[TYPE,SMARTTV]],[/fuchsia.*crkey/i],[[MODEL,CHROMECAST+" Nest Hub"],[VENDOR,GOOGLE],[TYPE,SMARTTV]],[/crkey/i],[[MODEL,CHROMECAST],[VENDOR,GOOGLE],[TYPE,SMARTTV]],[/(portaltv)/i],[MODEL,[VENDOR,FACEBOOK],[TYPE,SMARTTV]],[/droid.+aft(\w+)( bui|\))/i],[MODEL,[VENDOR,AMAZON],[TYPE,SMARTTV]],[/(shield \w+ tv)/i],[MODEL,[VENDOR,NVIDIA],[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[MODEL,[VENDOR,SHARP],[TYPE,SMARTTV]],[/(bravia[\w ]+)( bui|\))/i],[MODEL,[VENDOR,SONY],[TYPE,SMARTTV]],[/(mi(tv|box)-?\w+) bui/i],[MODEL,[VENDOR,XIAOMI],[TYPE,SMARTTV]],[/Hbbtv.*(technisat) (.*);/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[VENDOR,/.+\/(\w+)/,"$1",strMapper,{LG:"lge"}],[MODEL,trim],[TYPE,SMARTTV]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[MODEL,[TYPE,SMARTTV]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:|large screen[\w ]+safari)\b/i],[[TYPE,SMARTTV]],[/(playstation \w+)/i],[MODEL,[VENDOR,SONY],[TYPE,CONSOLE]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[MODEL,[VENDOR,MICROSOFT],[TYPE,CONSOLE]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/droid.+; (shield)( bui|\))/i],[MODEL,[VENDOR,NVIDIA],[TYPE,CONSOLE]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[MODEL,[VENDOR,SAMSUNG],[TYPE,WEARABLE]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[MODEL,[VENDOR,OPPO],[TYPE,WEARABLE]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[MODEL,[VENDOR,APPLE],[TYPE,WEARABLE]],[/(opwwe\d{3})/i],[MODEL,[VENDOR,ONEPLUS],[TYPE,WEARABLE]],[/(moto 360)/i],[MODEL,[VENDOR,MOTOROLA],[TYPE,WEARABLE]],[/(smartwatch 3)/i],[MODEL,[VENDOR,SONY],[TYPE,WEARABLE]],[/(g watch r)/i],[MODEL,[VENDOR,LG],[TYPE,WEARABLE]],[/droid.+; (wt63?0{2,3})\)/i],[MODEL,[VENDOR,ZEBRA],[TYPE,WEARABLE]],[/droid.+; (glass) \d/i],[MODEL,[VENDOR,GOOGLE],[TYPE,XR]],[/(pico) (4|neo3(?: link|pro)?)/i],[VENDOR,MODEL,[TYPE,XR]],[/(quest( \d| pro)?s?).+vr/i],[MODEL,[VENDOR,FACEBOOK],[TYPE,XR]],[/mobile vr; rv.+firefox/i],[[TYPE,XR]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[VENDOR,[TYPE,EMBEDDED]],[/(aeobc)\b/i],[MODEL,[VENDOR,AMAZON],[TYPE,EMBEDDED]],[/(homepod).+mac os/i],[MODEL,[VENDOR,APPLE],[TYPE,EMBEDDED]],[/windows iot/i],[[TYPE,EMBEDDED]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[MODEL,[TYPE,strMapper,{mobile:"Mobile",xr:"VR","*":TABLET}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[TYPE,TABLET]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[TYPE,MOBILE]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[MODEL,[VENDOR,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[VERSION,[NAME,EDGE+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[NAME,VERSION],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[VERSION,[NAME,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[NAME,VERSION],[/ladybird\//i],[[NAME,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[VERSION,NAME]],os:[[/(windows nt) (6\.[23]); arm/i],[[NAME,/N/,"R"],[VERSION,strMapper,windowsVersionMap]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[NAME,VERSION],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[VERSION,/(;|\))/g,"",strMapper,windowsVersionMap],[NAME,WINDOWS]],[/(windows ce)\/?([\d\.]*)/i],[NAME,VERSION],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[VERSION,/_/g,"."],[NAME,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[NAME,"macOS"],[VERSION,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[VERSION,[NAME,CHROMECAST+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[VERSION,[NAME,CHROMECAST+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[VERSION,[NAME,CHROMECAST+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[VERSION,[NAME,CHROMECAST+" Linux"]],[/crkey\/([\d\.]+)/i],[VERSION,[NAME,CHROMECAST]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[VERSION,NAME],[/(ubuntu) ([\w\.]+) like android/i],[[NAME,/(.+)/,"$1 Touch"],VERSION],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[NAME,VERSION],[/\(bb(10);/i],[VERSION,[NAME,BLACKBERRY]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[VERSION,[NAME,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[VERSION,[NAME,FIREFOX+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[VERSION,[NAME,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[VERSION,strMapper,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[NAME,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[VERSION,[NAME,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[NAME,"Chrome OS"],VERSION],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[NAME,VERSION],[/(sunos) ?([\d\.]*)/i],[[NAME,"Solaris"],VERSION],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[NAME,VERSION]]},defaultProps=function(){var props={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return setProps.call(props.init,[[UA_BROWSER,[NAME,VERSION,MAJOR,TYPE]],[UA_CPU,[ARCHITECTURE]],[UA_DEVICE,[TYPE,MODEL,VENDOR]],[UA_ENGINE,[NAME,VERSION]],[UA_OS,[NAME,VERSION]]]),setProps.call(props.isIgnore,[[UA_BROWSER,[VERSION,MAJOR]],[UA_ENGINE,[VERSION]],[UA_OS,[VERSION]]]),setProps.call(props.isIgnoreRgx,[[UA_BROWSER,/ ?browser$/i],[UA_OS,/ ?os$/i]]),setProps.call(props.toString,[[UA_BROWSER,[NAME,VERSION]],[UA_CPU,[ARCHITECTURE]],[UA_DEVICE,[VENDOR,MODEL]],[UA_ENGINE,[NAME,VERSION]],[UA_OS,[NAME,VERSION]]]),props}(),createIData=__name(function(item,itemType){var init_props=defaultProps.init[itemType],is_ignoreProps=defaultProps.isIgnore[itemType]||0,is_ignoreRgx=defaultProps.isIgnoreRgx[itemType]||0,toString_props=defaultProps.toString[itemType]||0;function IData(){setProps.call(this,init_props)}return __name(IData,"IData"),IData.prototype.getItem=function(){return item},IData.prototype.withClientHints=function(){return NAVIGATOR_UADATA?NAVIGATOR_UADATA.getHighEntropyValues(CH_ALL_VALUES).then(function(res){return item.setCH(new UACHData(res,!1)).parseCH().get()}):item.parseCH().get()},IData.prototype.withFeatureCheck=function(){return item.detectFeature().get()},itemType!=UA_RESULT&&(IData.prototype.is=function(strToCheck){var is=!1;for(var i in this)if(this.hasOwnProperty(i)&&!has(is_ignoreProps,i)&&lowerize(is_ignoreRgx?strip(is_ignoreRgx,this[i]):this[i])==lowerize(is_ignoreRgx?strip(is_ignoreRgx,strToCheck):strToCheck)){if(is=!0,strToCheck!=UNDEF_TYPE)break}else if(strToCheck==UNDEF_TYPE&&is){is=!is;break}return is},IData.prototype.toString=function(){var str=EMPTY;for(var i in toString_props)typeof this[toString_props[i]]!==UNDEF_TYPE&&(str+=(str?" ":EMPTY)+this[toString_props[i]]);return str||UNDEF_TYPE}),NAVIGATOR_UADATA||(IData.prototype.then=function(cb){var that=this,IDataResolve=__name(function(){for(var prop in that)that.hasOwnProperty(prop)&&(this[prop]=that[prop])},"IDataResolve");IDataResolve.prototype={is:IData.prototype.is,toString:IData.prototype.toString};var resolveData=new IDataResolve;return cb(resolveData),resolveData}),new IData},"createIData");function UACHData(uach,isHttpUACH){if(uach=uach||{},setProps.call(this,CH_ALL_VALUES),isHttpUACH)setProps.call(this,[[BRANDS,itemListToArray(uach[CH_HEADER])],[FULLVERLIST,itemListToArray(uach[CH_HEADER_FULL_VER_LIST])],[MOBILE,/\?1/.test(uach[CH_HEADER_MOBILE])],[MODEL,stripQuotes(uach[CH_HEADER_MODEL])],[PLATFORM,stripQuotes(uach[CH_HEADER_PLATFORM])],[PLATFORMVER,stripQuotes(uach[CH_HEADER_PLATFORM_VER])],[ARCHITECTURE,stripQuotes(uach[CH_HEADER_ARCH])],[FORMFACTORS,itemListToArray(uach[CH_HEADER_FORM_FACTORS])],[BITNESS,stripQuotes(uach[CH_HEADER_BITNESS])]]);else for(var prop in uach)this.hasOwnProperty(prop)&&typeof uach[prop]!==UNDEF_TYPE&&(this[prop]=uach[prop])}__name(UACHData,"UACHData");function UAItem(itemType,ua,rgxMap,uaCH){return this.get=function(prop){return prop?this.data.hasOwnProperty(prop)?this.data[prop]:void 0:this.data},this.set=function(prop,val){return this.data[prop]=val,this},this.setCH=function(ch){return this.uaCH=ch,this},this.detectFeature=function(){if(NAVIGATOR&&NAVIGATOR.userAgent==this.ua)switch(this.itemType){case UA_BROWSER:NAVIGATOR.brave&&typeof NAVIGATOR.brave.isBrave==FUNC_TYPE&&this.set(NAME,"Brave");break;case UA_DEVICE:!this.get(TYPE)&&NAVIGATOR_UADATA&&NAVIGATOR_UADATA[MOBILE]&&this.set(TYPE,MOBILE),this.get(MODEL)=="Macintosh"&&NAVIGATOR&&typeof NAVIGATOR.standalone!==UNDEF_TYPE&&NAVIGATOR.maxTouchPoints&&NAVIGATOR.maxTouchPoints>2&&this.set(MODEL,"iPad").set(TYPE,TABLET);break;case UA_OS:!this.get(NAME)&&NAVIGATOR_UADATA&&NAVIGATOR_UADATA[PLATFORM]&&this.set(NAME,NAVIGATOR_UADATA[PLATFORM]);break;case UA_RESULT:var data=this.data,detect=__name(function(itemType2){return data[itemType2].getItem().detectFeature().get()},"detect");this.set(UA_BROWSER,detect(UA_BROWSER)).set(UA_CPU,detect(UA_CPU)).set(UA_DEVICE,detect(UA_DEVICE)).set(UA_ENGINE,detect(UA_ENGINE)).set(UA_OS,detect(UA_OS))}return this},this.parseUA=function(){return this.itemType!=UA_RESULT&&rgxMapper.call(this.data,this.ua,this.rgxMap),this.itemType==UA_BROWSER&&this.set(MAJOR,majorize(this.get(VERSION))),this},this.parseCH=function(){var uaCH2=this.uaCH,rgxMap2=this.rgxMap;switch(this.itemType){case UA_BROWSER:case UA_ENGINE:var brands=uaCH2[FULLVERLIST]||uaCH2[BRANDS],prevName;if(brands)for(var i in brands){var brandName=brands[i].brand||brands[i],brandVersion=brands[i].version;this.itemType==UA_BROWSER&&!/not.a.brand/i.test(brandName)&&(!prevName||/Chrom/.test(prevName)&&brandName!=CHROMIUM||prevName==EDGE&&/WebView2/.test(brandName))&&(brandName=strMapper(brandName,browserHintsMap),prevName=this.get(NAME),prevName&&!/Chrom/.test(prevName)&&/Chrom/.test(brandName)||this.set(NAME,brandName).set(VERSION,brandVersion).set(MAJOR,majorize(brandVersion)),prevName=brandName),this.itemType==UA_ENGINE&&brandName==CHROMIUM&&this.set(VERSION,brandVersion)}break;case UA_CPU:var archName=uaCH2[ARCHITECTURE];archName&&(archName&&uaCH2[BITNESS]=="64"&&(archName+="64"),rgxMapper.call(this.data,archName+";",rgxMap2));break;case UA_DEVICE:if(uaCH2[MOBILE]&&this.set(TYPE,MOBILE),uaCH2[MODEL]&&(this.set(MODEL,uaCH2[MODEL]),!this.get(TYPE)||!this.get(VENDOR))){var reParse={};rgxMapper.call(reParse,"droid 9; "+uaCH2[MODEL]+")",rgxMap2),!this.get(TYPE)&&reParse.type&&this.set(TYPE,reParse.type),!this.get(VENDOR)&&reParse.vendor&&this.set(VENDOR,reParse.vendor)}if(uaCH2[FORMFACTORS]){var ff;if(typeof uaCH2[FORMFACTORS]!="string")for(var idx=0;!ff&&idx<uaCH2[FORMFACTORS].length;)ff=strMapper(uaCH2[FORMFACTORS][idx++],formFactorsMap);else ff=strMapper(uaCH2[FORMFACTORS],formFactorsMap);this.set(TYPE,ff)}break;case UA_OS:var osName=uaCH2[PLATFORM];if(osName){var osVersion=uaCH2[PLATFORMVER];osName==WINDOWS&&(osVersion=parseInt(majorize(osVersion),10)>=13?"11":"10"),this.set(NAME,osName).set(VERSION,osVersion)}this.get(NAME)==WINDOWS&&uaCH2[MODEL]=="Xbox"&&this.set(NAME,"Xbox").set(VERSION,void 0);break;case UA_RESULT:var data=this.data,parse2=__name(function(itemType2){return data[itemType2].getItem().setCH(uaCH2).parseCH().get()},"parse");this.set(UA_BROWSER,parse2(UA_BROWSER)).set(UA_CPU,parse2(UA_CPU)).set(UA_DEVICE,parse2(UA_DEVICE)).set(UA_ENGINE,parse2(UA_ENGINE)).set(UA_OS,parse2(UA_OS))}return this},setProps.call(this,[["itemType",itemType],["ua",ua],["uaCH",uaCH],["rgxMap",rgxMap],["data",createIData(this,itemType)]]),this}__name(UAItem,"UAItem");function UAParser(ua,extensions,headers){if(typeof ua===OBJ_TYPE?(isExtensions(ua,!0)?(typeof extensions===OBJ_TYPE&&(headers=extensions),extensions=ua):(headers=ua,extensions=void 0),ua=void 0):typeof ua===STR_TYPE&&!isExtensions(extensions,!0)&&(headers=extensions,extensions=void 0),headers&&typeof headers.append===FUNC_TYPE){var kv={};headers.forEach(function(v,k){kv[k]=v}),headers=kv}if(!(this instanceof UAParser))return new UAParser(ua,extensions,headers).getResult();var userAgent=typeof ua===STR_TYPE?ua:headers&&headers[USER_AGENT]?headers[USER_AGENT]:NAVIGATOR&&NAVIGATOR.userAgent?NAVIGATOR.userAgent:EMPTY,httpUACH=new UACHData(headers,!0),regexMap=extensions?extend(defaultRegexes,extensions):defaultRegexes,createItemFunc=__name(function(itemType){return itemType==UA_RESULT?function(){return new UAItem(itemType,userAgent,regexMap,httpUACH).set("ua",userAgent).set(UA_BROWSER,this.getBrowser()).set(UA_CPU,this.getCPU()).set(UA_DEVICE,this.getDevice()).set(UA_ENGINE,this.getEngine()).set(UA_OS,this.getOS()).get()}:function(){return new UAItem(itemType,userAgent,regexMap[itemType],httpUACH).parseUA().get()}},"createItemFunc");return setProps.call(this,[["getBrowser",createItemFunc(UA_BROWSER)],["getCPU",createItemFunc(UA_CPU)],["getDevice",createItemFunc(UA_DEVICE)],["getEngine",createItemFunc(UA_ENGINE)],["getOS",createItemFunc(UA_OS)],["getResult",createItemFunc(UA_RESULT)],["getUA",function(){return userAgent}],["setUA",function(ua2){return isString(ua2)&&(userAgent=ua2.length>UA_MAX_LENGTH?trim(ua2,UA_MAX_LENGTH):ua2),this}]]).setUA(userAgent),this}__name(UAParser,"UAParser");UAParser.VERSION=LIBVERSION;UAParser.BROWSER=enumerize([NAME,VERSION,MAJOR,TYPE]);UAParser.CPU=enumerize([ARCHITECTURE]);UAParser.DEVICE=enumerize([MODEL,VENDOR,TYPE,CONSOLE,MOBILE,SMARTTV,TABLET,WEARABLE,EMBEDDED]);UAParser.ENGINE=UAParser.OS=enumerize([NAME,VERSION]);const _PlatformInfo=class _PlatformInfo{constructor(){__publicField(this,"parser");this.parser=new UAParser(navigator.userAgent)}get isMobile(){return this.parser.getDevice().type==="mobile"}get isTablet(){return this.parser.getDevice().type==="tablet"}get isUnknown(){return typeof this.parser.getDevice().type>"u"}get browser(){return this.parser.getBrowser().name||""}get engine(){return this.parser.getEngine().name||""}get os(){return this.parser.getOS().name||""}};__name(_PlatformInfo,"PlatformInfo");let PlatformInfo=_PlatformInfo;var TauriEvent;(function(TauriEvent2){TauriEvent2.WINDOW_RESIZED="tauri://resize",TauriEvent2.WINDOW_MOVED="tauri://move",TauriEvent2.WINDOW_CLOSE_REQUESTED="tauri://close-requested",TauriEvent2.WINDOW_DESTROYED="tauri://destroyed",TauriEvent2.WINDOW_FOCUS="tauri://focus",TauriEvent2.WINDOW_BLUR="tauri://blur",TauriEvent2.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",TauriEvent2.WINDOW_THEME_CHANGED="tauri://theme-changed",TauriEvent2.WINDOW_CREATED="tauri://window-created",TauriEvent2.WEBVIEW_CREATED="tauri://webview-created",TauriEvent2.DRAG_ENTER="tauri://drag-enter",TauriEvent2.DRAG_OVER="tauri://drag-over",TauriEvent2.DRAG_DROP="tauri://drag-drop",TauriEvent2.DRAG_LEAVE="tauri://drag-leave"})(TauriEvent||(TauriEvent={}));const _IndexedDBStore=class _IndexedDBStore{constructor(dbName,storeName){__publicField(this,"db",null);__publicField(this,"initialised",!1);this.dbName=dbName,this.storeName=storeName,this.init()}init(){return this.initialised?Promise.resolve():new Promise((resolve2,reject)=>{const request=indexedDB.open(this.dbName,1);request.onupgradeneeded=event=>{const db=event.target.result;db.objectStoreNames.contains(this.storeName)||db.createObjectStore(this.storeName)},request.onsuccess=event=>{this.db=event.target.result,resolve2()},request.onerror=event=>{reject(event.target.error)}})}async set(key,value){return this.db?new Promise((resolve2,reject)=>{if(!this.db)return Promise.reject("Database has not been initialised");const request=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(value,key);request.onsuccess=()=>resolve2(),request.onerror=()=>reject("Failed to set value")}):Promise.reject("Database not initialized")}async get(key){return this.db?new Promise((resolve2,reject)=>{if(!this.db){reject("Database has not been initialised");return}const request=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).get(key);request.onsuccess=()=>resolve2(request.result),request.onerror=()=>reject("Failed to get value")}):Promise.reject("Database not initialized")}async save(){}async exportToJson(){return this.db?new Promise((resolve2,reject)=>{if(!this.db)return Promise.reject("Database has not been initialised");const request=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();request.onsuccess=()=>{const data=request.result.reduce((acc,item,index)=>(acc[index]=item,acc),{});resolve2(JSON.stringify(data,null,2))},request.onerror=()=>{reject("Failed to export data to JSON")}}):Promise.reject("Database not initialized")}};__name(_IndexedDBStore,"IndexedDBStore");let IndexedDBStore=_IndexedDBStore;const instance=new IndexedDBStore("user-data-db","user-data"),storeSet=instance.set.bind(instance),storeGet=instance.get.bind(instance),storeSave=instance.save.bind(instance),storeInit=instance.init.bind(instance);instance.exportToJson.bind(instance);const useSettingsStore=defineStore("settings",()=>{const settings2=ref({theme:"system",interfaceLanguage:"en",mapLanguage:"interface",watchCompatibilityMode:!0});async function init2(){const saved=await storeGet("settings");settings2.value=saved}__name(init2,"init");async function save(){await storeSet("settings",JSON.parse(JSON.stringify(settings2.value))),await storeSave()}return __name(save,"save"),watch(settings2,save,{deep:!0}),{settings:settings2,init:init2}}),_BrowserGeolocationBackend=class _BrowserGeolocationBackend{constructor(){__publicField(this,"platform",new PlatformInfo)}get isIOS(){return this.platform.os.toLowerCase().includes("ios")}validateEnvironment(){if(this.isIOS&&window.location.protocol!=="https:")throw{code:LocationResponseErrorEnum.IOS_HTTPS_REQUIRED,message:"Geolocation requires HTTPS on iOS"}}getOptions(){return{enableHighAccuracy:!this.isIOS,timeout:this.isIOS?6e4:2e4,maximumAge:this.isIOS?0:5e3}}async getPermissionStatus(){if(!navigator.permissions)return console.warn("navigator.permissions is not supported in this browser"),new Promise(resolve2=>{navigator.geolocation.getCurrentPosition(()=>resolve2("granted"),error2=>{error2.code===error2.PERMISSION_DENIED?resolve2("denied"):resolve2("prompt")},{timeout:5e3,maximumAge:1/0,enableHighAccuracy:!1})});const status=(await navigator.permissions.query({name:"geolocation"})).state;return console.log("GPS permission status: ",status),status}getCurrentPosition(){try{this.validateEnvironment()}catch(error2){return Promise.reject(error2)}const options=this.getOptions();return new Promise((resolve2,reject2)=>{navigator.geolocation.getCurrentPosition(position=>resolve2({latitude:position.coords.latitude,longitude:position.coords.longitude}),error2=>reject2({code:error2.code,message:error2.message}),options)})}watchPosition(callback){try{this.validateEnvironment()}catch(error2){return Promise.reject(error2)}const options=this.getOptions();return useSettingsStore().settings.watchCompatibilityMode?new Promise((resolve2,reject2)=>{this.getCurrentPosition().then(()=>{let previousLocation=null;const interval=setInterval(async()=>{this.getCurrentPosition().then(newLocation=>{previousLocation&&isEqual(previousLocation,newLocation)||(previousLocation=newLocation,callback(Object.freeze(newLocation)))}).catch(()=>{})},5e3);resolve2(interval)}).catch(reject2)}):new Promise((resolve2,reject2)=>{if(!navigator.geolocation){reject2(new Error("Geolocation is not supported by this browser."));return}resolve2(navigator.geolocation.watchPosition(position=>callback({latitude:position.coords.latitude,longitude:position.coords.longitude}),error2=>{throw new Error("Error while watching the geolocation [GPS]. Code: ".concat(error2.code,", Msg: ").concat(error2.message))},options))})}clearWatch(channelId){navigator.geolocation.clearWatch(channelId)}};__name(_BrowserGeolocationBackend,"BrowserGeolocationBackend");let BrowserGeolocationBackend=_BrowserGeolocationBackend;const handlers$1=[];function addHandler(callback){const handler={id:(handlers$1.length>0?handlers$1[handlers$1.length-1].id:0)+1,callback};return handlers$1.push(handler),handler.id}__name(addHandler,"addHandler");function removeHandler$1(id){handlers$1.splice(handlers$1.findIndex(handler=>handler.id===id),1)}__name(removeHandler$1,"removeHandler$1");let watchHandler=-1,lastLocation={latitude:0,longitude:0};const ipApiURL="https://ipapi.co/json/",_IPGeolocationBackend=class _IPGeolocationBackend{async getPermissionStatus(){try{return await fetch(ipApiURL),"granted"}catch(e){return"denied"}}async fetchRaw(timeout=1e4){const fetchingPromise=new Promise(async(resolve2,reject)=>{try{const response=await fetch(ipApiURL);if(!response.ok)throw new Error("HTTP error! Status: ".concat(response.status));resolve2(response.json())}catch(e){reject(new Error("Failed to fetch IP geolocation data"))}}),timeoutPromise=new Promise((_,reject)=>{setTimeout(()=>reject(new Error("Request IP geolocation data timed out")),timeout)});return Promise.race([fetchingPromise,timeoutPromise])}async getInfo(){const response=await this.fetchRaw();return{city:response.cityName,latitude:response.latitude,longitude:response.longitude}}async getCurrentPosition(){const info=await this.getInfo();return{latitude:info.latitude,longitude:info.longitude}}watchPosition(callback){const id=addHandler(callback);return new Promise(resolve2=>{if(watchHandler===-1){const update=__name(()=>{this.getCurrentPosition().then(location2=>{isEqual(location2,lastLocation)||(handlers$1.forEach(handler=>handler.callback(location2)),lastLocation=cloneDeep(location2))}).catch(err=>{throw new Error("Error while watching the geolocation [IP]. Code: ".concat(LocationResponseErrorEnum.UNKNOWN,", Msg: ").concat(err))})},"update");watchHandler=setInterval(()=>update(),2e4),update()}resolve2(id)})}clearWatch(channelId){removeHandler$1(channelId),handlers$1.length===0&&(clearInterval(watchHandler),watchHandler=-1)}};__name(_IPGeolocationBackend,"IPGeolocationBackend");let IPGeolocationBackend=_IPGeolocationBackend;const handlers=[];function addLocationHandler(type,callback,once=!1){const handler={id:(handlers.length>0?handlers[handlers.length-1].id:0)+1,type,callback,triggered:!1,once};return handlers.push(handler),handler.id}__name(addLocationHandler,"addLocationHandler");function triggerHandler(type,presentLocation,...args){handlers.filter(handler=>handler.type===type&&!(handler.once&&handler.triggered)).forEach(handler=>{handler.triggered=!0,handler.callback(Object.freeze(presentLocation),...args)})}__name(triggerHandler,"triggerHandler");function removeHandler(id){handlers.splice(handlers.findIndex(handler=>handler.id===id),1)}__name(removeHandler,"removeHandler");const _UpdateService=class _UpdateService{constructor(){__publicField(this,"presentLocation",{latitude:0,longitude:0});__publicField(this,"serviceRunning",!1);__publicField(this,"built",!1);__publicField(this,"backend");__publicField(this,"usingGPS",!1);__publicField(this,"isStarted",__name(()=>this.serviceRunning,"isStarted"));__publicField(this,"addListener",__name(callback=>addLocationHandler("change",callback),"addListener"));__publicField(this,"addHandler",__name((type,callback,once)=>addLocationHandler(type,callback,once),"addHandler"));__publicField(this,"removeListener",__name(id=>removeHandler(id),"removeListener"))}async build(promptCallback=async()=>{}){const gps=new BrowserGeolocationBackend;let granted=await gps.getPermissionStatus();granted!=="granted"&&(await promptCallback()?granted="granted":granted=await gps.getPermissionStatus(),console.log("Permission changed to",granted));const useIpGeolocationBackend=__name(()=>{this.backend=new IPGeolocationBackend,console.log("Using IP Geolocation backend")},"useIpGeolocationBackend");if(granted==="granted"){await gps.getCurrentPosition().then(()=>{this.backend=gps,console.log("Using GPS Geolocation backend"),this.usingGPS=!0}).catch(error2=>{alert("GPS permission granted but current position retrieval failed. Falling back to IP geolocation.\nError Message: "+error2.message),console.error("GPS backend initialization failed:",error2.message),error2.code===LocationResponseErrorEnum.IOS_HTTPS_REQUIRED&&console.error("iOS requires HTTPS for geolocation. Falling back to IP geolocation."),useIpGeolocationBackend()}).finally(()=>{this.built=!0});return}else useIpGeolocationBackend(),this.built=!0}getPresent(){return Object.freeze(this.presentLocation)}async refresh(){if(!this.built)throw new Error("Geolocation service not built");if(!this.backend)throw new Error("Backend not initialised");if(!this.serviceRunning)throw new Error("Updater service not running");try{const newLocation=await this.backend.getCurrentPosition();return isEqual(newLocation,this.presentLocation)||(this.presentLocation=newLocation,triggerHandler("change",newLocation)),Object.freeze(newLocation)}catch(error2){if(console.error("GPS refresh failed:",error2.message),error2.code===LocationResponseErrorEnum.TIMEOUT||error2.code===LocationResponseErrorEnum.IOS_HTTPS_REQUIRED)return console.warn("Falling back to IP geolocation"),this.backend=new IPGeolocationBackend,this.refresh();throw error2}}async start(){let handler=-1;if(!this.backend)throw new Error("Backend not initialised");try{this.presentLocation=await this.backend.getCurrentPosition()}catch(e){console.warn("Fail to get initial location, using default location")}return this.serviceRunning||(this.serviceRunning=!0,handler=await this.backend.watchPosition(location2=>{this.presentLocation=location2,triggerHandler("change",this.presentLocation)})),triggerHandler("start",this.presentLocation),handler}stop(handler){if(!this.backend)throw new Error("Backend not initialised");this.serviceRunning=!1,this.backend.clearWatch(handler)}};__name(_UpdateService,"UpdateService");let UpdateService=_UpdateService;function tryOnScopeDispose(fn){return getCurrentScope()?(onScopeDispose(fn),!0):!1}__name(tryOnScopeDispose,"tryOnScopeDispose");const localProvidedStateMap=new WeakMap,injectLocal=__name((...args)=>{var _a4;const key=args[0],instance2=(_a4=getCurrentInstance())==null?void 0:_a4.proxy;if(instance2==null&&!hasInjectionContext())throw new Error("injectLocal must be called in setup");return instance2&&localProvidedStateMap.has(instance2)&&key in localProvidedStateMap.get(instance2)?localProvidedStateMap.get(instance2)[key]:inject(...args)},"injectLocal"),isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString=Object.prototype.toString,isObject=__name(val=>toString.call(val)==="[object Object]","isObject");function pxValue(px){return px.endsWith("rem")?Number.parseFloat(px)*16:Number.parseFloat(px)}__name(pxValue,"pxValue");function toArray(value){return Array.isArray(value)?value:[value]}__name(toArray,"toArray");function getLifeCycleTarget(target){return getCurrentInstance()}__name(getLifeCycleTarget,"getLifeCycleTarget");function tryOnMounted(fn,sync=!0,target){getLifeCycleTarget()?onMounted(fn,target):sync?fn():nextTick(fn)}__name(tryOnMounted,"tryOnMounted");function watchImmediate(source,cb,options){return watch(source,cb,{...options,immediate:!0})}__name(watchImmediate,"watchImmediate");const defaultWindow=isClient?window:void 0;function unrefElement(elRef){var _a4;const plain=toValue(elRef);return(_a4=plain==null?void 0:plain.$el)!=null?_a4:plain}__name(unrefElement,"unrefElement");function useEventListener(...args){const cleanups=[],cleanup=__name(()=>{cleanups.forEach(fn=>fn()),cleanups.length=0},"cleanup"),register=__name((el,event,listener,options)=>(el.addEventListener(event,listener,options),()=>el.removeEventListener(event,listener,options)),"register"),firstParamTargets=computed(()=>{const test=toArray(toValue(args[0])).filter(e=>e!=null);return test.every(e=>typeof e!="string")?test:void 0}),stopWatch=watchImmediate(()=>{var _a4,_b;return[(_b=(_a4=firstParamTargets.value)==null?void 0:_a4.map(e=>unrefElement(e)))!=null?_b:[defaultWindow].filter(e=>e!=null),toArray(toValue(firstParamTargets.value?args[1]:args[0])),toArray(unref(firstParamTargets.value?args[2]:args[1])),toValue(firstParamTargets.value?args[3]:args[2])]},([raw_targets,raw_events,raw_listeners,raw_options])=>{if(cleanup(),!(raw_targets!=null&&raw_targets.length)||!(raw_events!=null&&raw_events.length)||!(raw_listeners!=null&&raw_listeners.length))return;const optionsClone=isObject(raw_options)?{...raw_options}:raw_options;cleanups.push(...raw_targets.flatMap(el=>raw_events.flatMap(event=>raw_listeners.map(listener=>register(el,event,listener,optionsClone)))))},{flush:"post"}),stop=__name(()=>{stopWatch(),cleanup()},"stop");return tryOnScopeDispose(cleanup),stop}__name(useEventListener,"useEventListener");function useMounted(){const isMounted2=shallowRef(!1),instance2=getCurrentInstance();return instance2&&onMounted(()=>{isMounted2.value=!0},instance2),isMounted2}__name(useMounted,"useMounted");function useSupported(callback){const isMounted2=useMounted();return computed(()=>(isMounted2.value,!!callback()))}__name(useSupported,"useSupported");const ssrWidthSymbol=Symbol("vueuse-ssr-width");function useSSRWidth(){const ssrWidth=hasInjectionContext()?injectLocal(ssrWidthSymbol,null):null;return typeof ssrWidth=="number"?ssrWidth:void 0}__name(useSSRWidth,"useSSRWidth");function useMediaQuery(query,options={}){const{window:window2=defaultWindow,ssrWidth=useSSRWidth()}=options,isSupported=useSupported(()=>window2&&"matchMedia"in window2&&typeof window2.matchMedia=="function"),ssrSupport=shallowRef(typeof ssrWidth=="number"),mediaQuery=shallowRef(),matches2=shallowRef(!1),handler=__name(event=>{matches2.value=event.matches},"handler");return watchEffect(()=>{if(ssrSupport.value){ssrSupport.value=!isSupported.value;const queryStrings=toValue(query).split(",");matches2.value=queryStrings.some(queryString=>{const not=queryString.includes("not all"),minWidth=queryString.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),maxWidth=queryString.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let res=!!(minWidth||maxWidth);return minWidth&&res&&(res=ssrWidth>=pxValue(minWidth[1])),maxWidth&&res&&(res=ssrWidth<=pxValue(maxWidth[1])),not?!res:res});return}isSupported.value&&(mediaQuery.value=window2.matchMedia(toValue(query)),matches2.value=mediaQuery.value.matches)}),useEventListener(mediaQuery,"change",handler,{passive:!0}),computed(()=>matches2.value)}__name(useMediaQuery,"useMediaQuery");function useWindowSize(options={}){const{window:window2=defaultWindow,initialWidth=Number.POSITIVE_INFINITY,initialHeight=Number.POSITIVE_INFINITY,listenOrientation=!0,includeScrollbar=!0,type="inner"}=options,width=shallowRef(initialWidth),height=shallowRef(initialHeight),update=__name(()=>{if(window2)if(type==="outer")width.value=window2.outerWidth,height.value=window2.outerHeight;else if(type==="visual"&&window2.visualViewport){const{width:visualViewportWidth,height:visualViewportHeight,scale}=window2.visualViewport;width.value=Math.round(visualViewportWidth*scale),height.value=Math.round(visualViewportHeight*scale)}else includeScrollbar?(width.value=window2.innerWidth,height.value=window2.innerHeight):(width.value=window2.document.documentElement.clientWidth,height.value=window2.document.documentElement.clientHeight)},"update");update(),tryOnMounted(update);const listenerOptions={passive:!0};if(useEventListener("resize",update,listenerOptions),window2&&type==="visual"&&window2.visualViewport&&useEventListener(window2.visualViewport,"resize",update,listenerOptions),listenOrientation){const matches2=useMediaQuery("(orientation: portrait)");watch(matches2,()=>update())}return{width,height}}__name(useWindowSize,"useWindowSize");const _hoisted_1={key:0,class:"nav-bar"},_hoisted_2={class:"software-info-menu"},_hoisted_3={style:{width:"fit-content"}},_hoisted_4={key:0,style:{width:"100%","text-align":"center",padding:"4px"}},_hoisted_5={key:1,class:"nav-bar"},_hoisted_6={key:0,style:{width:"100%","text-align":"center",padding:"4px"}},_hoisted_7={class:"main-layout"},_sfc_main$1=defineComponent({__name:"Layout",setup(__props){var _a4;useCssVars(_ctx=>({"238cff8f":horizontalScreen.value?"column":"row"}));const router2=useRoute(),settings2=useSettingsStore(),{t,locale}=useI18n();function renderIcon(icon){return()=>h(NIcon,null,{default:__name(()=>h(icon),"default")})}__name(renderIcon,"renderIcon"),settings2.settings.interfaceLanguage=(_a4=settings2.settings.interfaceLanguage)!=null?_a4:locale.value,watch(()=>settings2.settings.interfaceLanguage,v=>{v&&(locale.value=v)});const locator=window.UpdateService;provide("geolocation",locator);const menuOptions=[{label:__name(()=>h(RouterLink,{to:"/tracker"},{default:__name(()=>t("router.tracker"),"default")}),"label"),key:"tracker",icon:renderIcon(Map$2)}],softwareOption=[{label:__name(()=>h(RouterLink,{to:"/settings"},{default:__name(()=>t("router.settings"),"default")}),"label"),key:"settings",icon:renderIcon(Settings)},{label:__name(()=>h(RouterLink,{to:"/about"},{default:__name(()=>t("router.about"),"default")}),"label"),key:"about",icon:renderIcon(InfoCircle)}],currentRoute=computed(()=>router2.path.slice(1)),commitId="85b26b5\n",devMode=!1,{width,height}=useWindowSize(),horizontalScreen=computed(()=>width.value>height.value);return(_ctx,_cache)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["app-layout",horizontalScreen.value?"app-layout-horizontal":"app-layout-vertical"])},[horizontalScreen.value?(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(unref(NMenu),{options:menuOptions,"default-value":"tracker",value:currentRoute.value,mode:horizontalScreen.value?"vertical":"horizontal"},null,8,["value","mode"]),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(unref(NMenu),{options:softwareOption,mode:horizontalScreen.value?"vertical":"horizontal",value:currentRoute.value},null,8,["mode","value"])]),unref(commitId)?(openBlock(),createElementBlock("div",_hoisted_4,[createVNode(unref(NText),{depth:"3"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(devMode?"DEV MODE":"Commit:"+unref(commitId).toLocaleUpperCase()),1)]),_:1})])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("div",null,[createVNode(unref(NMenu),{options:menuOptions.concat(softwareOption),"default-value":"tracker",value:currentRoute.value,mode:horizontalScreen.value?"vertical":"horizontal"},null,8,["options","value","mode"])]),unref(commitId)?(openBlock(),createElementBlock("div",_hoisted_6,[createVNode(unref(NText),{depth:"3"},{default:withCtx(()=>[createTextVNode(toDisplayString$1(devMode?"DEV MODE":"Commit:"+unref(commitId).toLocaleUpperCase()),1)]),_:1})])):createCommentVNode("",!0)])),createBaseVNode("div",_hoisted_7,[createVNode(unref(RouterView),null,{default:withCtx(({Component})=>[createVNode(Transition,{name:"slide-fade",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createBlock(KeepAlive,null,[(openBlock(),createBlock(resolveDynamicComponent(Component),{key:currentRoute.value}))],1024))]),_:2},1024)]),_:1})])],2))}}),_export_sfc=__name((sfc,props)=>{const target=sfc.__vccOpts||sfc;for(const[key,val]of props)target[key]=val;return target},"_export_sfc"),Layout=_export_sfc(_sfc_main$1,[["__scopeId","data-v-a8761cfb"]]),_sfc_main=defineComponent({__name:"App",setup(__props){provide("platformInfo",new PlatformInfo);const settings2=useSettingsStore();onMounted(()=>settings2.init()),provide("settings",settings2);const osThemeValueRef=useOsTheme();let theme=computed(()=>(settings2.settings.theme==="system"?osThemeValueRef.value:settings2.settings.theme)==="dark"?darkTheme:lightTheme),themeOverride={common:{fontFamily:'Barlow, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}};return(_ctx,_cache)=>(openBlock(),createBlock(unref(NConfigProvider),{theme:unref(theme),abstract:!0,"inline-theme-disabled":!0,"theme-overrides":unref(themeOverride)},{default:withCtx(()=>[createVNode(unref(NDialogProvider),null,{default:withCtx(()=>[createVNode(unref(NModalProvider),null,{default:withCtx(()=>[createVNode(unref(NMessageProvider),{placement:"bottom-right"},{default:withCtx(()=>[createVNode(Layout),createVNode(unref(NGlobalStyle))]),_:1})]),_:1})]),_:1})]),_:1},8,["theme","theme-overrides"]))}}),scriptRel="modulepreload",assetsURL=__name(function(dep,importerUrl){return new URL(dep,importerUrl).href},"assetsURL"),seen={},__vitePreload=__name(function(baseModule,deps,importerUrl){let promise=Promise.resolve();if(deps&&deps.length>0){let allSettled2=__name(function(promises){return Promise.all(promises.map(p2=>Promise.resolve(p2).then(value=>({status:"fulfilled",value}),reason=>({status:"rejected",reason}))))},"allSettled2");const links=document.getElementsByTagName("link"),cspNonceMeta=document.querySelector("meta[property=csp-nonce]"),cspNonce=(cspNonceMeta==null?void 0:cspNonceMeta.nonce)||(cspNonceMeta==null?void 0:cspNonceMeta.getAttribute("nonce"));promise=allSettled2(deps.map(dep=>{if(dep=assetsURL(dep,importerUrl),dep in seen)return;seen[dep]=!0;const isCss=dep.endsWith(".css"),cssSelector=isCss?'[rel="stylesheet"]':"";if(!!importerUrl)for(let i=links.length-1;i>=0;i--){const link2=links[i];if(link2.href===dep&&(!isCss||link2.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(dep,'"]').concat(cssSelector)))return;const link=document.createElement("link");if(link.rel=isCss?"stylesheet":scriptRel,isCss||(link.as="script"),link.crossOrigin="",link.href=dep,cspNonce&&link.setAttribute("nonce",cspNonce),document.head.appendChild(link),isCss)return new Promise((res,rej)=>{link.addEventListener("load",res),link.addEventListener("error",()=>rej(new Error("Unable to preload CSS for ".concat(dep))))})}))}function handlePreloadError(err){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=err,window.dispatchEvent(e),!e.defaultPrevented)throw err}return __name(handlePreloadError,"handlePreloadError"),promise.then(res=>{for(const item of res||[])item.status==="rejected"&&handlePreloadError(item.reason);return baseModule().catch(handlePreloadError)})},"preload");var E=new Uint8Array(256);function d(e,t){let r=0,s=[],m=0,n=e.length,a=t.charCodeAt(0);for(let i=0;i<n;i++){let o=e.charCodeAt(i);if(r===0&&o===a){s.push(e.slice(m,i)),m=i+1;continue}switch(o){case 92:i+=1;break;case 39:case 34:for(;++i<n;){let p2=e.charCodeAt(i);if(p2===92){i+=1;continue}if(p2===o)break}break;case 40:E[r]=41,r++;break;case 91:E[r]=93,r++;break;case 123:E[r]=125,r++;break;case 93:case 125:case 41:r>0&&o===E[r-1]&&r--;break}}return s.push(e.slice(m)),s}__name(d,"d");var _a2,B=(_a2=class extends Map{constructor(i){super(),this.factory=i}get(i){let e=super.get(i);return e===void 0&&(e=this.factory(i,this),this.set(i,e)),e}},__name(_a2,"B"),_a2);function pt(r){return{kind:"word",value:r}}__name(pt,"pt");function ai(r,t){return{kind:"function",value:r,nodes:t}}__name(ai,"ai");function si(r){return{kind:"separator",value:r}}__name(si,"si");function ee(r,t,i=null){var _a4;for(let e=0;e<r.length;e++){let n=r[e],s=!1,a=0,c2=(_a4=t(n,{parent:i,replaceWith(u){s||(s=!0,Array.isArray(u)?u.length===0?(r.splice(e,1),a=0):u.length===1?(r[e]=u[0],a=1):(r.splice(e,1,...u),a=u.length):r[e]=u)}}))!=null?_a4:0;if(s){c2===0?e--:e+=a-1;continue}if(c2===2||c2!==1&&n.kind==="function"&&ee(n.nodes,t,n)===2)return 2}}__name(ee,"ee");function Y(r){let t="";for(let i of r)switch(i.kind){case"word":case"separator":{t+=i.value;break}case"function":t+=i.value+"("+Y(i.nodes)+")"}return t}__name(Y,"Y");var Lt=92,ui=41,zt=58,Mt=44,fi=34,Wt=61,Bt=62,qt=60,Gt=10,ci=40,pi=39,Jt=47,Ht=32,Yt=9;function q(r){r=r.replaceAll("\r\n","\n");let t=[],i=[],e=null,n="",s;for(let a=0;a<r.length;a++){let c2=r.charCodeAt(a);switch(c2){case Lt:{n+=r[a]+r[a+1],a++;break}case zt:case Mt:case Wt:case Bt:case qt:case Gt:case Jt:case Ht:case Yt:{if(n.length>0){let d2=pt(n);e?e.nodes.push(d2):t.push(d2),n=""}let u=a,f=a+1;for(;f<r.length&&(s=r.charCodeAt(f),!(s!==zt&&s!==Mt&&s!==Wt&&s!==Bt&&s!==qt&&s!==Gt&&s!==Jt&&s!==Ht&&s!==Yt));f++);a=f-1;let g=si(r.slice(u,f));e?e.nodes.push(g):t.push(g);break}case pi:case fi:{let u=a;for(let f=a+1;f<r.length;f++)if(s=r.charCodeAt(f),s===Lt)f+=1;else if(s===c2){a=f;break}n+=r.slice(u,a+1);break}case ci:{let u=ai(n,[]);n="",e?e.nodes.push(u):t.push(u),i.push(u),e=u;break}case ui:{let u=i.pop();if(n.length>0){let f=pt(n);u==null||u.nodes.push(f),n=""}i.length>0?e=i[i.length-1]:e=null;break}default:n+=String.fromCharCode(c2)}}return n.length>0&&t.push(pt(n)),t}__name(q,"q");new B(r=>{let t=q(r),i=new Set;return ee(t,(e,{parent:n})=>{var _a4,_b;let s=n===null?t:(_a4=n.nodes)!=null?_a4:[];if(e.kind==="word"&&(e.value==="+"||e.value==="-"||e.value==="*"||e.value==="/")){let a=(_b=s.indexOf(e))!=null?_b:-1;if(a===-1)return;let c2=s[a-1];if((c2==null?void 0:c2.kind)!=="separator"||c2.value!==" ")return;let u=s[a+1];if((u==null?void 0:u.kind)!=="separator"||u.value!==" ")return;i.add(c2),i.add(u)}else e.kind==="separator"&&e.value.trim()==="/"?e.value="/":e.kind==="separator"&&e.value.length>0&&e.value.trim()===""?(s[0]===e||s[s.length-1]===e)&&i.add(e):e.kind==="separator"&&e.value.trim()===","&&(e.value=",")}),i.size>0&&ee(t,(e,{replaceWith:n})=>{i.has(e)&&(i.delete(e),n([]))}),vt(t),Y(t)});new B(r=>{let t=q(r);return t.length===3&&t[0].kind==="word"&&t[0].value==="&"&&t[1].kind==="separator"&&t[1].value===":"&&t[2].kind==="function"&&t[2].value==="is"?Y(t[2].nodes):r});function vt(r){for(let t of r)switch(t.kind){case"function":{if(t.value==="url"||t.value.endsWith("_url")){t.value=Te(t.value);break}if(t.value==="var"||t.value.endsWith("_var")||t.value==="theme"||t.value.endsWith("_theme")){t.value=Te(t.value);for(let i=0;i<t.nodes.length;i++)vt([t.nodes[i]]);break}t.value=Te(t.value),vt(t.nodes);break}case"separator":t.value=Te(t.value);break;case"word":{(t.value[0]!=="-"||t.value[1]!=="-")&&(t.value=Te(t.value));break}default:xi(t)}}__name(vt,"vt");new B(r=>{let t=q(r);return t.length===1&&t[0].kind==="function"&&t[0].value==="var"});function xi(r){throw new Error("Unexpected value: ".concat(r))}__name(xi,"xi");var _a3;function Te(r){return r.replaceAll("_",String.raw(_a3||(_a3=__template(["_"],["\\_"])))).replaceAll(" ","_")}__name(Te,"Te");function Q(r,t){if(t===null)return r;let i=Number(t);return Number.isNaN(i)||(t="".concat(i*100,"%")),t==="100%"?r:"color-mix(in oklab, ".concat(r," ").concat(t,", transparent)")}__name(Q,"Q");var kt={"--alpha":Vi,"--spacing":Ni,"--theme":Si,theme:Ti};function Vi(r,t,i,...e){let[n,s]=d(i,"/").map(a=>a.trim());if(!n||!s)throw new Error("The --alpha() function requires a color and an alpha value, e.g.: `--alpha(".concat(n||"var(--my-color)"," / ").concat(s||"50%",")`"));if(e.length>0)throw new Error("The --alpha() function only accepts one argument, e.g.: `--alpha(".concat(n||"var(--my-color)"," / ").concat(s||"50%",")`"));return Q(n,s)}__name(Vi,"Vi");function Ni(r,t,i,...e){if(!i)throw new Error("The --spacing() function requires an argument, but received none.");if(e.length>0)throw new Error("The --spacing() function only accepts a single argument, but received ".concat(e.length+1,"."));let n=r.theme.resolve(null,["--spacing"]);if(!n)throw new Error("The --spacing() function requires that the `--spacing` theme variable exists, but it was not found.");return"calc(".concat(n," * ").concat(i,")")}__name(Ni,"Ni");function Si(r,t,i,...e){if(!i.startsWith("--"))throw new Error("The --theme() function can only be used with CSS variables from your theme.");let n=!1;i.endsWith(" inline")&&(n=!0,i=i.slice(0,-7)),t.kind==="at-rule"&&(n=!0);let s=r.resolveThemeValue(i,n);if(!s){if(e.length>0)return e.join(", ");throw new Error("Could not resolve value for theme function: `theme(".concat(i,")`. Consider checking if the variable name is correct or provide a fallback value to silence this error."))}if(e.length===0)return s;let a=e.join(", ");if(a==="initial")return s;if(s==="initial")return a;if(s.startsWith("var(")||s.startsWith("theme(")||s.startsWith("--theme(")){let c2=q(s);return Pi(c2,a),Y(c2)}return s}__name(Si,"Si");function Ti(r,t,i,...e){i=Ei(i);let n=r.resolveThemeValue(i);if(!n&&e.length>0)return e.join(", ");if(!n)throw new Error("Could not resolve value for theme function: `theme(".concat(i,")`. Consider checking if the path is correct or provide a fallback value to silence this error."));return n}__name(Ti,"Ti");new RegExp(Object.keys(kt).map(r=>"".concat(r,"\\(")).join("|"));function Ei(r){if(r[0]!=="'"&&r[0]!=='"')return r;let t="",i=r[0];for(let e=1;e<r.length-1;e++){let n=r[e],s=r[e+1];n==="\\"&&(s===i||s==="\\")?(t+=s,e++):t+=n}return t}__name(Ei,"Ei");function Pi(r,t){ee(r,i=>{if(i.kind==="function"&&!(i.value!=="var"&&i.value!=="theme"&&i.value!=="--theme"))if(i.nodes.length===1)i.nodes.push({kind:"word",value:", ".concat(t)});else{let e=i.nodes[i.nodes.length-1];e.kind==="word"&&e.value==="initial"&&(e.value=t)}})}__name(Pi,"Pi");var dt=(n=>(n[n.None=0]="None",n[n.AtProperty=1]="AtProperty",n[n.ColorMix=2]="ColorMix",n[n.All=3]="All",n))(dt||{}),Pe=(c2=>(c2[c2.None=0]="None",c2[c2.AtApply=1]="AtApply",c2[c2.AtImport=2]="AtImport",c2[c2.JsPluginCompat=4]="JsPluginCompat",c2[c2.ThemeFunction=8]="ThemeFunction",c2[c2.Utilities=16]="Utilities",c2[c2.Variants=32]="Variants",c2))(Pe||{}),maplibreGl$1={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.6.1/LICENSE.txt
 */var maplibreGl=maplibreGl$1.exports,hasRequiredMaplibreGl;function requireMaplibreGl(){return hasRequiredMaplibreGl||(hasRequiredMaplibreGl=1,function(module2,exports2){(function(global2,factory){module2.exports=factory()})(maplibreGl,function(){var maplibregl={},modules2={};function define(moduleName,_dependencies,moduleFactory){if(modules2[moduleName]=moduleFactory,moduleName==="index"){var workerBundleString="var sharedModule = {}; ("+modules2.shared+")(sharedModule); ("+modules2.worker+")(sharedModule);",sharedModule={};return modules2.shared(sharedModule),modules2.index(maplibregl,sharedModule),typeof window<"u"&&maplibregl.setWorkerUrl(window.URL.createObjectURL(new Blob([workerBundleString],{type:"text/javascript"}))),maplibregl}}__name(define,"define"),define("shared",["exports"],function(t){var _a5;function e(t2,e2,r2,n2){return new(r2||(r2=Promise))(function(i2,s2){function a2(t3){try{l2(n2.next(t3))}catch(t4){s2(t4)}}__name(a2,"a");function o2(t3){try{l2(n2.throw(t3))}catch(t4){s2(t4)}}__name(o2,"o");function l2(t3){var e3;t3.done?i2(t3.value):(e3=t3.value,e3 instanceof r2?e3:new r2(function(t4){t4(e3)})).then(a2,o2)}__name(l2,"l"),l2((n2=n2.apply(t2,e2||[])).next())})}__name(e,"e");function r(t2){return t2&&t2.__esModule&&Object.prototype.hasOwnProperty.call(t2,"default")?t2.default:t2}__name(r,"r");var n,i;function s(){if(i)return n;function t2(t3,e2){this.x=t3,this.y=e2}return __name(t2,"t"),i=1,n=t2,t2.prototype={clone:__name(function(){return new t2(this.x,this.y)},"clone"),add:__name(function(t3){return this.clone()._add(t3)},"add"),sub:__name(function(t3){return this.clone()._sub(t3)},"sub"),multByPoint:__name(function(t3){return this.clone()._multByPoint(t3)},"multByPoint"),divByPoint:__name(function(t3){return this.clone()._divByPoint(t3)},"divByPoint"),mult:__name(function(t3){return this.clone()._mult(t3)},"mult"),div:__name(function(t3){return this.clone()._div(t3)},"div"),rotate:__name(function(t3){return this.clone()._rotate(t3)},"rotate"),rotateAround:__name(function(t3,e2){return this.clone()._rotateAround(t3,e2)},"rotateAround"),matMult:__name(function(t3){return this.clone()._matMult(t3)},"matMult"),unit:__name(function(){return this.clone()._unit()},"unit"),perp:__name(function(){return this.clone()._perp()},"perp"),round:__name(function(){return this.clone()._round()},"round"),mag:__name(function(){return Math.sqrt(this.x*this.x+this.y*this.y)},"mag"),equals:__name(function(t3){return this.x===t3.x&&this.y===t3.y},"equals"),dist:__name(function(t3){return Math.sqrt(this.distSqr(t3))},"dist"),distSqr:__name(function(t3){var e2=t3.x-this.x,r2=t3.y-this.y;return e2*e2+r2*r2},"distSqr"),angle:__name(function(){return Math.atan2(this.y,this.x)},"angle"),angleTo:__name(function(t3){return Math.atan2(this.y-t3.y,this.x-t3.x)},"angleTo"),angleWith:__name(function(t3){return this.angleWithSep(t3.x,t3.y)},"angleWith"),angleWithSep:__name(function(t3,e2){return Math.atan2(this.x*e2-this.y*t3,this.x*t3+this.y*e2)},"angleWithSep"),_matMult:__name(function(t3){var e2=t3[2]*this.x+t3[3]*this.y;return this.x=t3[0]*this.x+t3[1]*this.y,this.y=e2,this},"_matMult"),_add:__name(function(t3){return this.x+=t3.x,this.y+=t3.y,this},"_add"),_sub:__name(function(t3){return this.x-=t3.x,this.y-=t3.y,this},"_sub"),_mult:__name(function(t3){return this.x*=t3,this.y*=t3,this},"_mult"),_div:__name(function(t3){return this.x/=t3,this.y/=t3,this},"_div"),_multByPoint:__name(function(t3){return this.x*=t3.x,this.y*=t3.y,this},"_multByPoint"),_divByPoint:__name(function(t3){return this.x/=t3.x,this.y/=t3.y,this},"_divByPoint"),_unit:__name(function(){return this._div(this.mag()),this},"_unit"),_perp:__name(function(){var t3=this.y;return this.y=this.x,this.x=-t3,this},"_perp"),_rotate:__name(function(t3){var e2=Math.cos(t3),r2=Math.sin(t3),n2=r2*this.x+e2*this.y;return this.x=e2*this.x-r2*this.y,this.y=n2,this},"_rotate"),_rotateAround:__name(function(t3,e2){var r2=Math.cos(t3),n2=Math.sin(t3),i2=e2.y+n2*(this.x-e2.x)+r2*(this.y-e2.y);return this.x=e2.x+r2*(this.x-e2.x)-n2*(this.y-e2.y),this.y=i2,this},"_rotateAround"),_round:__name(function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},"_round")},t2.convert=function(e2){return e2 instanceof t2?e2:Array.isArray(e2)?new t2(e2[0],e2[1]):e2},n}__name(s,"s"),typeof SuppressedError=="function"&&SuppressedError;var a,o,l=r(s()),u=function(){if(o)return a;function t2(t3,e2,r2,n2){this.cx=3*t3,this.bx=3*(r2-t3)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e2,this.by=3*(n2-e2)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t3,this.p1y=e2,this.p2x=r2,this.p2y=n2}return __name(t2,"t"),o=1,a=t2,t2.prototype={sampleCurveX:__name(function(t3){return((this.ax*t3+this.bx)*t3+this.cx)*t3},"sampleCurveX"),sampleCurveY:__name(function(t3){return((this.ay*t3+this.by)*t3+this.cy)*t3},"sampleCurveY"),sampleCurveDerivativeX:__name(function(t3){return(3*this.ax*t3+2*this.bx)*t3+this.cx},"sampleCurveDerivativeX"),solveCurveX:__name(function(t3,e2){if(e2===void 0&&(e2=1e-6),t3<0)return 0;if(t3>1)return 1;for(var r2=t3,n2=0;n2<8;n2++){var i2=this.sampleCurveX(r2)-t3;if(Math.abs(i2)<e2)return r2;var s2=this.sampleCurveDerivativeX(r2);if(Math.abs(s2)<1e-6)break;r2-=i2/s2}var a2=0,o2=1;for(r2=t3,n2=0;n2<20&&(i2=this.sampleCurveX(r2),!(Math.abs(i2-t3)<e2));n2++)t3>i2?a2=r2:o2=r2,r2=.5*(o2-a2)+a2;return r2},"solveCurveX"),solve:__name(function(t3,e2){return this.sampleCurveY(this.solveCurveX(t3,e2))},"solve")},a}(),c2=r(u);let h2,p2;function f(){return h2==null&&(h2=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),h2}__name(f,"f");function d2(){if(p2==null&&(p2=!1,f())){const e2=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(e2){for(let r3=0;r3<5*5;r3++){const n2=4*r3;e2.fillStyle="rgb(".concat(n2,",").concat(n2+1,",").concat(n2+2,")"),e2.fillRect(r3%5,Math.floor(r3/5),1,1)}const r2=e2.getImageData(0,0,5,5).data;for(let e3=0;e3<5*5*4;e3++)if(e3%4!=3&&r2[e3]!==e3){p2=!0;break}}}return p2||!1}__name(d2,"d");var y=1e-6,m=typeof Float32Array<"u"?Float32Array:Array;function g(){var t2=new m(9);return m!=Float32Array&&(t2[1]=0,t2[2]=0,t2[3]=0,t2[5]=0,t2[6]=0,t2[7]=0),t2[0]=1,t2[4]=1,t2[8]=1,t2}__name(g,"g");function x(t2){return t2[0]=1,t2[1]=0,t2[2]=0,t2[3]=0,t2[4]=0,t2[5]=1,t2[6]=0,t2[7]=0,t2[8]=0,t2[9]=0,t2[10]=1,t2[11]=0,t2[12]=0,t2[13]=0,t2[14]=0,t2[15]=1,t2}__name(x,"x");function v(){var t2=new m(3);return m!=Float32Array&&(t2[0]=0,t2[1]=0,t2[2]=0),t2}__name(v,"v");function b(t2){return Math.hypot(t2[0],t2[1],t2[2])}__name(b,"b");function w(t2,e2,r2){var n2=new m(3);return n2[0]=t2,n2[1]=e2,n2[2]=r2,n2}__name(w,"w");function _(t2,e2,r2){return t2[0]=e2[0]+r2[0],t2[1]=e2[1]+r2[1],t2[2]=e2[2]+r2[2],t2}__name(_,"_");function S(t2,e2,r2){return t2[0]=e2[0]*r2,t2[1]=e2[1]*r2,t2[2]=e2[2]*r2,t2}__name(S,"S");function A(t2,e2,r2){var n2=e2[0],i2=e2[1],s2=e2[2],a2=r2[0],o2=r2[1],l2=r2[2];return t2[0]=i2*l2-s2*o2,t2[1]=s2*a2-n2*l2,t2[2]=n2*o2-i2*a2,t2}__name(A,"A"),Math.hypot||(Math.hypot=function(){for(var t2=0,e2=arguments.length;e2--;)t2+=arguments[e2]*arguments[e2];return Math.sqrt(t2)});var k,M=b;function I(t2,e2,r2){var n2=e2[0],i2=e2[1],s2=e2[2],a2=e2[3];return t2[0]=r2[0]*n2+r2[4]*i2+r2[8]*s2+r2[12]*a2,t2[1]=r2[1]*n2+r2[5]*i2+r2[9]*s2+r2[13]*a2,t2[2]=r2[2]*n2+r2[6]*i2+r2[10]*s2+r2[14]*a2,t2[3]=r2[3]*n2+r2[7]*i2+r2[11]*s2+r2[15]*a2,t2}__name(I,"I");function z(){var t2=new m(4);return m!=Float32Array&&(t2[0]=0,t2[1]=0,t2[2]=0),t2[3]=1,t2}__name(z,"z");function P(t2,e2,r2,n2){var i2=.5*Math.PI/180;e2*=i2,r2*=i2,n2*=i2;var s2=Math.sin(e2),a2=Math.cos(e2),o2=Math.sin(r2),l2=Math.cos(r2),u2=Math.sin(n2),c3=Math.cos(n2);return t2[0]=s2*l2*c3-a2*o2*u2,t2[1]=a2*o2*c3+s2*l2*u2,t2[2]=a2*l2*u2-s2*o2*c3,t2[3]=a2*l2*c3+s2*o2*u2,t2}__name(P,"P");function C(){var t2=new m(2);return m!=Float32Array&&(t2[0]=0,t2[1]=0),t2}__name(C,"C");function B2(t2,e2){var r2=new m(2);return r2[0]=t2,r2[1]=e2,r2}__name(B2,"B"),v(),k=new m(4),m!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0),v(),w(1,0,0),w(0,1,0),z(),z(),g(),C();const E2=8192;function T(t2,e2,r2){return e2*(E2/(t2.tileSize*Math.pow(2,r2-t2.tileID.overscaledZ)))}__name(T,"T");function V(t2,e2){return(t2%e2+e2)%e2}__name(V,"V");function F(t2,e2,r2){return t2*(1-r2)+e2*r2}__name(F,"F");function L(t2){if(t2<=0)return 0;if(t2>=1)return 1;const e2=t2*t2,r2=e2*t2;return 4*(t2<.5?r2:3*(t2-e2)+r2-.75)}__name(L,"L");function $(t2,e2,r2,n2){const i2=new c2(t2,e2,r2,n2);return t3=>i2.solve(t3)}__name($,"$");const D=$(.25,.1,.25,1);function O(t2,e2,r2){return Math.min(r2,Math.max(e2,t2))}__name(O,"O");function R(t2,e2,r2){const n2=r2-e2,i2=((t2-e2)%n2+n2)%n2+e2;return i2===e2?r2:i2}__name(R,"R");function j(t2,...e2){for(const r2 of e2)for(const e3 in r2)t2[e3]=r2[e3];return t2}__name(j,"j");let N=1;function U(t2,e2,r2){const n2={};for(const r3 in t2)n2[r3]=e2.call(this,t2[r3],r3,t2);return n2}__name(U,"U");function q2(t2,e2,r2){const n2={};for(const r3 in t2)e2.call(this,t2[r3],r3,t2)&&(n2[r3]=t2[r3]);return n2}__name(q2,"q");function G(t2){return Array.isArray(t2)?t2.map(G):typeof t2=="object"&&t2?U(t2,G):t2}__name(G,"G");const X={};function Z(t2){X[t2]||(typeof console<"u"&&console.warn(t2),X[t2]=!0)}__name(Z,"Z");function Y2(t2,e2,r2){return(r2.y-t2.y)*(e2.x-t2.x)>(e2.y-t2.y)*(r2.x-t2.x)}__name(Y2,"Y");function H(t2){return typeof WorkerGlobalScope<"u"&&t2!==void 0&&t2 instanceof WorkerGlobalScope}__name(H,"H");let K=null;function J(t2){return typeof ImageBitmap<"u"&&t2 instanceof ImageBitmap}__name(J,"J");const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Q2(t2,r2,n2,i2,s2){return e(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const e2=new VideoFrame(t2,{timestamp:0});try{const a2=e2==null?void 0:e2.format;if(!a2||!a2.startsWith("BGR")&&!a2.startsWith("RGB"))throw new Error("Unrecognized format ".concat(a2));const o2=a2.startsWith("BGR"),l2=new Uint8ClampedArray(i2*s2*4);if(yield e2.copyTo(l2,function(t3,e3,r3,n3,i3){const s3=4*Math.max(-e3,0),a3=(Math.max(0,r3)-r3)*n3*4+s3,o3=4*n3,l3=Math.max(0,e3),u2=Math.max(0,r3);return{rect:{x:l3,y:u2,width:Math.min(t3.width,e3+n3)-l3,height:Math.min(t3.height,r3+i3)-u2},layout:[{offset:a3,stride:o3}]}}(t2,r2,n2,i2,s2)),o2)for(let t3=0;t3<l2.length;t3+=4){const e3=l2[t3];l2[t3]=l2[t3+2],l2[t3+2]=e3}return l2}finally{e2.close()}})}__name(Q2,"Q");let tt2,et;function rt(t2,e2,r2,n2){return t2.addEventListener(e2,r2,n2),{unsubscribe:__name(()=>{t2.removeEventListener(e2,r2,n2)},"unsubscribe")}}__name(rt,"rt");function nt(t2){return t2*Math.PI/180}__name(nt,"nt");function it(t2){return t2/Math.PI*180}__name(it,"it");const st={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},at={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ot="AbortError";function lt(){return new Error(ot)}__name(lt,"lt");const ut={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ct(t2){return ut.REGISTERED_PROTOCOLS[t2.substring(0,t2.indexOf("://"))]}__name(ct,"ct");const ht="global-dispatcher",_pt=class _pt extends Error{constructor(t2,e2,r2,n2){super("AJAXError: ".concat(e2," (").concat(t2,"): ").concat(r2)),this.status=t2,this.statusText=e2,this.url=r2,this.body=n2}};__name(_pt,"pt");let pt2=_pt;const ft=__name(()=>H(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,"ft"),dt2=__name(function(t2,r2){if(/:\/\//.test(t2.url)&&!/^https?:|^file:/.test(t2.url)){const e2=ct(t2.url);if(e2)return e2(t2,r2);if(H(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t2,targetMapId:ht},r2)}if(!(/^file:/.test(n2=t2.url)||/^file:/.test(ft())&&!/^\w+:/.test(n2))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(t3,r3){return e(this,void 0,void 0,function*(){const e2=new Request(t3.url,{method:t3.method||"GET",body:t3.body,credentials:t3.credentials,headers:t3.headers,cache:t3.cache,referrer:ft(),signal:r3.signal});let n3,i2;t3.type!=="json"||e2.headers.has("Accept")||e2.headers.set("Accept","application/json");try{n3=yield fetch(e2)}catch(e3){throw new pt2(0,e3.message,t3.url,new Blob)}if(!n3.ok){const e3=yield n3.blob();throw new pt2(n3.status,n3.statusText,t3.url,e3)}i2=t3.type==="arrayBuffer"||t3.type==="image"?n3.arrayBuffer():t3.type==="json"?n3.json():n3.text();const s2=yield i2;if(r3.signal.aborted)throw lt();return{data:s2,cacheControl:n3.headers.get("Cache-Control"),expires:n3.headers.get("Expires")}})}(t2,r2);if(H(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t2,mustQueue:!0,targetMapId:ht},r2)}var n2;return function(t3,e2){return new Promise((r3,n3)=>{var i2;const s2=new XMLHttpRequest;s2.open(t3.method||"GET",t3.url,!0),t3.type!=="arrayBuffer"&&t3.type!=="image"||(s2.responseType="arraybuffer");for(const e3 in t3.headers)s2.setRequestHeader(e3,t3.headers[e3]);t3.type==="json"&&(s2.responseType="text",!((i2=t3.headers)===null||i2===void 0)&&i2.Accept||s2.setRequestHeader("Accept","application/json")),s2.withCredentials=t3.credentials==="include",s2.onerror=()=>{n3(new Error(s2.statusText))},s2.onload=()=>{if(!e2.signal.aborted)if((s2.status>=200&&s2.status<300||s2.status===0)&&s2.response!==null){let e3=s2.response;if(t3.type==="json")try{e3=JSON.parse(s2.response)}catch(t4){return void n3(t4)}r3({data:e3,cacheControl:s2.getResponseHeader("Cache-Control"),expires:s2.getResponseHeader("Expires")})}else{const e3=new Blob([s2.response],{type:s2.getResponseHeader("Content-Type")});n3(new pt2(s2.status,s2.statusText,t3.url,e3))}},e2.signal.addEventListener("abort",()=>{s2.abort(),n3(lt())}),s2.send(t3.body)})}(t2,r2)},"dt");function yt(t2){if(!t2||t2.indexOf("://")<=0||t2.indexOf("data:image/")===0||t2.indexOf("blob:")===0)return!0;const e2=new URL(t2),r2=window.location;return e2.protocol===r2.protocol&&e2.host===r2.host}__name(yt,"yt");function mt(t2,e2,r2){r2[t2]&&r2[t2].indexOf(e2)!==-1||(r2[t2]=r2[t2]||[],r2[t2].push(e2))}__name(mt,"mt");function gt(t2,e2,r2){if(r2&&r2[t2]){const n2=r2[t2].indexOf(e2);n2!==-1&&r2[t2].splice(n2,1)}}__name(gt,"gt");const _xt=class _xt{constructor(t2,e2={}){j(this,e2),this.type=t2}};__name(_xt,"xt");let xt=_xt;const _vt=class _vt extends xt{constructor(t2,e2={}){super("error",j({error:t2},e2))}};__name(_vt,"vt");let vt2=_vt;const _bt=class _bt{on(t2,e2){return this._listeners=this._listeners||{},mt(t2,e2,this._listeners),{unsubscribe:__name(()=>{this.off(t2,e2)},"unsubscribe")}}off(t2,e2){return gt(t2,e2,this._listeners),gt(t2,e2,this._oneTimeListeners),this}once(t2,e2){return e2?(this._oneTimeListeners=this._oneTimeListeners||{},mt(t2,e2,this._oneTimeListeners),this):new Promise(e3=>this.once(t2,e3))}fire(t2,e2){typeof t2=="string"&&(t2=new xt(t2,e2||{}));const r2=t2.type;if(this.listens(r2)){t2.target=this;const e3=this._listeners&&this._listeners[r2]?this._listeners[r2].slice():[];for(const r3 of e3)r3.call(this,t2);const n2=this._oneTimeListeners&&this._oneTimeListeners[r2]?this._oneTimeListeners[r2].slice():[];for(const e4 of n2)gt(r2,e4,this._oneTimeListeners),e4.call(this,t2);const i2=this._eventedParent;i2&&(j(t2,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),i2.fire(t2))}else t2 instanceof vt2&&console.error(t2.error);return this}listens(t2){return this._listeners&&this._listeners[t2]&&this._listeners[t2].length>0||this._oneTimeListeners&&this._oneTimeListeners[t2]&&this._oneTimeListeners[t2].length>0||this._eventedParent&&this._eventedParent.listens(t2)}setEventedParent(t2,e2){return this._eventedParent=t2,this._eventedParentData=e2,this}};__name(_bt,"bt");let bt=_bt;var wt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const _t=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function St(t2,e2){const r2={};for(const e3 in t2)e3!=="ref"&&(r2[e3]=t2[e3]);return _t.forEach(t3=>{t3 in e2&&(r2[t3]=e2[t3])}),r2}__name(St,"St");function At(t2,e2){if(Array.isArray(t2)){if(!Array.isArray(e2)||t2.length!==e2.length)return!1;for(let r2=0;r2<t2.length;r2++)if(!At(t2[r2],e2[r2]))return!1;return!0}if(typeof t2=="object"&&t2!==null&&e2!==null){if(typeof e2!="object"||Object.keys(t2).length!==Object.keys(e2).length)return!1;for(const r2 in t2)if(!At(t2[r2],e2[r2]))return!1;return!0}return t2===e2}__name(At,"At");function kt2(t2,e2){t2.push(e2)}__name(kt2,"kt");function Mt2(t2,e2,r2){kt2(r2,{command:"addSource",args:[t2,e2[t2]]})}__name(Mt2,"Mt");function It(t2,e2,r2){kt2(e2,{command:"removeSource",args:[t2]}),r2[t2]=!0}__name(It,"It");function zt2(t2,e2,r2,n2){It(t2,r2,n2),Mt2(t2,e2,r2)}__name(zt2,"zt");function Pt(t2,e2,r2){let n2;for(n2 in t2[r2])if(Object.prototype.hasOwnProperty.call(t2[r2],n2)&&n2!=="data"&&!At(t2[r2][n2],e2[r2][n2]))return!1;for(n2 in e2[r2])if(Object.prototype.hasOwnProperty.call(e2[r2],n2)&&n2!=="data"&&!At(t2[r2][n2],e2[r2][n2]))return!1;return!0}__name(Pt,"Pt");function Ct(t2,e2,r2,n2,i2,s2){t2=t2||{},e2=e2||{};for(const a2 in t2)Object.prototype.hasOwnProperty.call(t2,a2)&&(At(t2[a2],e2[a2])||r2.push({command:s2,args:[n2,a2,e2[a2],i2]}));for(const a2 in e2)Object.prototype.hasOwnProperty.call(e2,a2)&&!Object.prototype.hasOwnProperty.call(t2,a2)&&(At(t2[a2],e2[a2])||r2.push({command:s2,args:[n2,a2,e2[a2],i2]}))}__name(Ct,"Ct");function Bt2(t2){return t2.id}__name(Bt2,"Bt");function Et(t2,e2){return t2[e2.id]=e2,t2}__name(Et,"Et");const _Tt=class _Tt{constructor(t2,e2,r2,n2){this.message=(t2?"".concat(t2,": "):"")+r2,n2&&(this.identifier=n2),e2!=null&&e2.__line__&&(this.line=e2.__line__)}};__name(_Tt,"Tt");let Tt=_Tt;function Vt(t2,...e2){for(const r2 of e2)for(const e3 in r2)t2[e3]=r2[e3];return t2}__name(Vt,"Vt");const _Ft=class _Ft extends Error{constructor(t2,e2){super(e2),this.message=e2,this.key=t2}};__name(_Ft,"Ft");let Ft=_Ft;const _Lt=class _Lt{constructor(t2,e2=[]){this.parent=t2,this.bindings={};for(const[t3,r2]of e2)this.bindings[t3]=r2}concat(t2){return new _Lt(this,t2)}get(t2){if(this.bindings[t2])return this.bindings[t2];if(this.parent)return this.parent.get(t2);throw new Error("".concat(t2," not found in scope."))}has(t2){return!!this.bindings[t2]||!!this.parent&&this.parent.has(t2)}};__name(_Lt,"Lt");let Lt2=_Lt;const $t={kind:"null"},Dt={kind:"number"},Ot={kind:"string"},Rt={kind:"boolean"},jt={kind:"color"},Nt={kind:"projectionDefinition"},Ut={kind:"object"},qt2={kind:"value"},Gt2={kind:"collator"},Xt={kind:"formatted"},Zt={kind:"padding"},Yt2={kind:"colorArray"},Ht2={kind:"numberArray"},Kt={kind:"resolvedImage"},Jt2={kind:"variableAnchorOffsetCollection"};function Wt2(t2,e2){return{kind:"array",itemType:t2,N:e2}}__name(Wt2,"Wt");function Qt(t2){if(t2.kind==="array"){const e2=Qt(t2.itemType);return typeof t2.N=="number"?"array<".concat(e2,", ").concat(t2.N,">"):t2.itemType.kind==="value"?"array":"array<".concat(e2,">")}return t2.kind}__name(Qt,"Qt");const te=[$t,Dt,Ot,Rt,jt,Nt,Xt,Ut,Wt2(qt2),Zt,Ht2,Yt2,Kt,Jt2];function ee2(t2,e2){if(e2.kind==="error")return null;if(t2.kind==="array"){if(e2.kind==="array"&&(e2.N===0&&e2.itemType.kind==="value"||!ee2(t2.itemType,e2.itemType))&&(typeof t2.N!="number"||t2.N===e2.N))return null}else{if(t2.kind===e2.kind)return null;if(t2.kind==="value"){for(const t3 of te)if(!ee2(t3,e2))return null}}return"Expected ".concat(Qt(t2)," but found ").concat(Qt(e2)," instead.")}__name(ee2,"ee");function re(t2,e2){return e2.some(e3=>e3.kind===t2.kind)}__name(re,"re");function ne(t2,e2){return e2.some(e3=>e3==="null"?t2===null:e3==="array"?Array.isArray(t2):e3==="object"?t2&&!Array.isArray(t2)&&typeof t2=="object":e3===typeof t2)}__name(ne,"ne");function ie(t2,e2){return t2.kind==="array"&&e2.kind==="array"?t2.itemType.kind===e2.itemType.kind&&typeof t2.N=="number":t2.kind===e2.kind}__name(ie,"ie");const se=.96422,ae=.82521,oe=4/29,le=6/29,ue=3*le*le,ce=le*le*le,he=Math.PI/180,pe=180/Math.PI;function fe(t2){return(t2%=360)<0&&(t2+=360),t2}__name(fe,"fe");function de([t2,e2,r2,n2]){let i2,s2;const a2=me((.2225045*(t2=ye(t2))+.7168786*(e2=ye(e2))+.0606169*(r2=ye(r2)))/1);t2===e2&&e2===r2?i2=s2=a2:(i2=me((.4360747*t2+.3850649*e2+.1430804*r2)/se),s2=me((.0139322*t2+.0971045*e2+.7141733*r2)/ae));const o2=116*a2-16;return[o2<0?0:o2,500*(i2-a2),200*(a2-s2),n2]}__name(de,"de");function ye(t2){return t2<=.04045?t2/12.92:Math.pow((t2+.055)/1.055,2.4)}__name(ye,"ye");function me(t2){return t2>ce?Math.pow(t2,1/3):t2/ue+oe}__name(me,"me");function ge([t2,e2,r2,n2]){let i2=(t2+16)/116,s2=isNaN(e2)?i2:i2+e2/500,a2=isNaN(r2)?i2:i2-r2/200;return i2=1*ve(i2),s2=se*ve(s2),a2=ae*ve(a2),[xe(3.1338561*s2-1.6168667*i2-.4906146*a2),xe(-.9787684*s2+1.9161415*i2+.033454*a2),xe(.0719453*s2-.2289914*i2+1.4052427*a2),n2]}__name(ge,"ge");function xe(t2){return(t2=t2<=.00304?12.92*t2:1.055*Math.pow(t2,1/2.4)-.055)<0?0:t2>1?1:t2}__name(xe,"xe");function ve(t2){return t2>le?t2*t2*t2:ue*(t2-oe)}__name(ve,"ve");const be=Object.hasOwn||function(t2,e2){return Object.prototype.hasOwnProperty.call(t2,e2)};function we(t2,e2){return be(t2,e2)?t2[e2]:void 0}__name(we,"we");function _e(t2){return parseInt(t2.padEnd(2,t2),16)/255}__name(_e,"_e");function Se(t2,e2){return Ae(e2?t2/100:t2,0,1)}__name(Se,"Se");function Ae(t2,e2,r2){return Math.min(Math.max(e2,t2),r2)}__name(Ae,"Ae");function ke(t2){return!t2.some(Number.isNaN)}__name(ke,"ke");const Me={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Ie(t2,e2,r2){return t2+r2*(e2-t2)}__name(Ie,"Ie");function ze(t2,e2,r2){return t2.map((t3,n2)=>Ie(t3,e2[n2],r2))}__name(ze,"ze");const _Pe=class _Pe{constructor(t2,e2,r2,n2=1,i2=!0){this.r=t2,this.g=e2,this.b=r2,this.a=n2,i2||(this.r*=n2,this.g*=n2,this.b*=n2,n2||this.overwriteGetter("rgb",[t2,e2,r2,n2]))}static parse(t2){if(t2 instanceof _Pe)return t2;if(typeof t2!="string")return;const e2=function(t3){if((t3=t3.toLowerCase().trim())==="transparent")return[0,0,0,0];const e3=we(Me,t3);if(e3){const[t4,r3,n2]=e3;return[t4/255,r3/255,n2/255,1]}if(t3.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(t3)){const e4=t3.length<6?1:2;let r3=1;return[_e(t3.slice(r3,r3+=e4)),_e(t3.slice(r3,r3+=e4)),_e(t3.slice(r3,r3+=e4)),_e(t3.slice(r3,r3+e4)||"ff")]}if(t3.startsWith("rgb")){const e4=t3.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(e4){const[t4,r3,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3]=e4,f2=[i2||" ",o2||" ",c3].join("");if(f2==="  "||f2==="  /"||f2===",,"||f2===",,,"){const t5=[n2,a2,u2].join(""),e5=t5==="%%%"?100:t5===""?255:0;if(e5){const t6=[Ae(+r3/e5,0,1),Ae(+s2/e5,0,1),Ae(+l2/e5,0,1),h3?Se(+h3,p3):1];if(ke(t6))return t6}}return}}const r2=t3.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(r2){const[t4,e4,n2,i2,s2,a2,o2,l2,u2]=r2,c3=[n2||" ",s2||" ",o2].join("");if(c3==="  "||c3==="  /"||c3===",,"||c3===",,,"){const t5=[+e4,Ae(+i2,0,100),Ae(+a2,0,100),l2?Se(+l2,u2):1];if(ke(t5))return function([t6,e5,r3,n3]){function i3(n4){const i4=(n4+t6/30)%12,s3=e5*Math.min(r3,1-r3);return r3-s3*Math.max(-1,Math.min(i4-3,9-i4,1))}return __name(i3,"i"),t6=fe(t6),e5/=100,r3/=100,[i3(0),i3(8),i3(4),n3]}(t5)}}}(t2);return e2?new _Pe(...e2,!1):void 0}get rgb(){const{r:t2,g:e2,b:r2,a:n2}=this,i2=n2||1/0;return this.overwriteGetter("rgb",[t2/i2,e2/i2,r2/i2,n2])}get hcl(){return this.overwriteGetter("hcl",function(t2){const[e2,r2,n2,i2]=de(t2),s2=Math.sqrt(r2*r2+n2*n2);return[Math.round(1e4*s2)?fe(Math.atan2(n2,r2)*pe):NaN,s2,e2,i2]}(this.rgb))}get lab(){return this.overwriteGetter("lab",de(this.rgb))}overwriteGetter(t2,e2){return Object.defineProperty(this,t2,{value:e2}),e2}toString(){const[t2,e2,r2,n2]=this.rgb;return"rgba(".concat([t2,e2,r2].map(t3=>Math.round(255*t3)).join(","),",").concat(n2,")")}static interpolate(t2,e2,r2,n2="rgb"){switch(n2){case"rgb":{const[n3,i2,s2,a2]=ze(t2.rgb,e2.rgb,r2);return new _Pe(n3,i2,s2,a2,!1)}case"hcl":{const[n3,i2,s2,a2]=t2.hcl,[o2,l2,u2,c3]=e2.hcl;let h3,p3;if(isNaN(n3)||isNaN(o2))isNaN(n3)?isNaN(o2)?h3=NaN:(h3=o2,s2!==1&&s2!==0||(p3=l2)):(h3=n3,u2!==1&&u2!==0||(p3=i2));else{let t3=o2-n3;o2>n3&&t3>180?t3-=360:o2<n3&&n3-o2>180&&(t3+=360),h3=n3+r2*t3}const[f2,d3,y2,m2]=function([t3,e3,r3,n4]){return t3=isNaN(t3)?0:t3*he,ge([r3,Math.cos(t3)*e3,Math.sin(t3)*e3,n4])}([h3,p3!=null?p3:Ie(i2,l2,r2),Ie(s2,u2,r2),Ie(a2,c3,r2)]);return new _Pe(f2,d3,y2,m2,!1)}case"lab":{const[n3,i2,s2,a2]=ge(ze(t2.lab,e2.lab,r2));return new _Pe(n3,i2,s2,a2,!1)}}}};__name(_Pe,"Pe");let Pe2=_Pe;Pe2.black=new Pe2(0,0,0,1),Pe2.white=new Pe2(1,1,1,1),Pe2.transparent=new Pe2(0,0,0,0),Pe2.red=new Pe2(1,0,0,1);const _Ce=class _Ce{constructor(t2,e2,r2){this.sensitivity=t2?e2?"variant":"case":e2?"accent":"base",this.locale=r2,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t2,e2){return this.collator.compare(t2,e2)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}};__name(_Ce,"Ce");let Ce=_Ce;const Be=["bottom","center","top"],_Ee=class _Ee{constructor(t2,e2,r2,n2,i2,s2){this.text=t2,this.image=e2,this.scale=r2,this.fontStack=n2,this.textColor=i2,this.verticalAlign=s2}};__name(_Ee,"Ee");let Ee=_Ee;const _Te=class _Te{constructor(t2){this.sections=t2}static fromString(t2){return new _Te([new Ee(t2,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t2=>t2.text.length!==0||t2.image&&t2.image.name.length!==0)}static factory(t2){return t2 instanceof _Te?t2:_Te.fromString(t2)}toString(){return this.sections.length===0?"":this.sections.map(t2=>t2.text).join("")}};__name(_Te,"Te");let Te2=_Te;const _Ve=class _Ve{constructor(t2){this.values=t2.slice()}static parse(t2){if(t2 instanceof _Ve)return t2;if(typeof t2=="number")return new _Ve([t2,t2,t2,t2]);if(Array.isArray(t2)&&!(t2.length<1||t2.length>4)){for(const e2 of t2)if(typeof e2!="number")return;switch(t2.length){case 1:t2=[t2[0],t2[0],t2[0],t2[0]];break;case 2:t2=[t2[0],t2[1],t2[0],t2[1]];break;case 3:t2=[t2[0],t2[1],t2[2],t2[1]]}return new _Ve(t2)}}toString(){return JSON.stringify(this.values)}static interpolate(t2,e2,r2){return new _Ve(ze(t2.values,e2.values,r2))}};__name(_Ve,"Ve");let Ve=_Ve;const _Fe=class _Fe{constructor(t2){this.values=t2.slice()}static parse(t2){if(t2 instanceof _Fe)return t2;if(typeof t2=="number")return new _Fe([t2]);if(Array.isArray(t2)){for(const e2 of t2)if(typeof e2!="number")return;return new _Fe(t2)}}toString(){return JSON.stringify(this.values)}static interpolate(t2,e2,r2){return new _Fe(ze(t2.values,e2.values,r2))}};__name(_Fe,"Fe");let Fe=_Fe;const _Le=class _Le{constructor(t2){this.values=t2.slice()}static parse(t2){if(t2 instanceof _Le)return t2;if(typeof t2=="string"){const e3=Pe2.parse(t2);return e3?new _Le([e3]):void 0}if(!Array.isArray(t2))return;const e2=[];for(const r2 of t2){if(typeof r2!="string")return;const t3=Pe2.parse(r2);if(!t3)return;e2.push(t3)}return new _Le(e2)}toString(){return JSON.stringify(this.values)}static interpolate(t2,e2,r2,n2="rgb"){const i2=[];if(t2.values.length!=e2.values.length)throw new Error("colorArray: Arrays have mismatched length (".concat(t2.values.length," vs. ").concat(e2.values.length,"), cannot interpolate."));for(let s2=0;s2<t2.values.length;s2++)i2.push(Pe2.interpolate(t2.values[s2],e2.values[s2],r2,n2));return new _Le(i2)}};__name(_Le,"Le");let Le=_Le;const _$e=class _$e extends Error{constructor(t2){super(t2),this.name="RuntimeError"}toJSON(){return this.message}};__name(_$e,"$e");let $e=_$e;const De=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]),_Oe=class _Oe{constructor(t2){this.values=t2.slice()}static parse(t2){if(t2 instanceof _Oe)return t2;if(Array.isArray(t2)&&!(t2.length<1)&&t2.length%2==0){for(let e2=0;e2<t2.length;e2+=2){const r2=t2[e2],n2=t2[e2+1];if(typeof r2!="string"||!De.has(r2)||!Array.isArray(n2)||n2.length!==2||typeof n2[0]!="number"||typeof n2[1]!="number")return}return new _Oe(t2)}}toString(){return JSON.stringify(this.values)}static interpolate(t2,e2,r2){const n2=t2.values,i2=e2.values;if(n2.length!==i2.length)throw new $e("Cannot interpolate values of different length. from: ".concat(t2.toString(),", to: ").concat(e2.toString()));const s2=[];for(let t3=0;t3<n2.length;t3+=2){if(n2[t3]!==i2[t3])throw new $e("Cannot interpolate values containing mismatched anchors. from[".concat(t3,"]: ").concat(n2[t3],", to[").concat(t3,"]: ").concat(i2[t3]));s2.push(n2[t3]);const[e3,a2]=n2[t3+1],[o2,l2]=i2[t3+1];s2.push([Ie(e3,o2,r2),Ie(a2,l2,r2)])}return new _Oe(s2)}};__name(_Oe,"Oe");let Oe=_Oe;const _Re=class _Re{constructor(t2){this.name=t2.name,this.available=t2.available}toString(){return this.name}static fromString(t2){return t2?new _Re({name:t2,available:!1}):null}};__name(_Re,"Re");let Re=_Re;const _je=class _je{constructor(t2,e2,r2){this.from=t2,this.to=e2,this.transition=r2}static interpolate(t2,e2,r2){return new _je(t2,e2,r2)}static parse(t2){return t2 instanceof _je?t2:Array.isArray(t2)&&t2.length===3&&typeof t2[0]=="string"&&typeof t2[1]=="string"&&typeof t2[2]=="number"?new _je(t2[0],t2[1],t2[2]):typeof t2=="object"&&typeof t2.from=="string"&&typeof t2.to=="string"&&typeof t2.transition=="number"?new _je(t2.from,t2.to,t2.transition):typeof t2=="string"?new _je(t2,t2,1):void 0}};__name(_je,"je");let je=_je;function Ne(t2,e2,r2,n2){return typeof t2=="number"&&t2>=0&&t2<=255&&typeof e2=="number"&&e2>=0&&e2<=255&&typeof r2=="number"&&r2>=0&&r2<=255?n2===void 0||typeof n2=="number"&&n2>=0&&n2<=1?null:"Invalid rgba value [".concat([t2,e2,r2,n2].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat((typeof n2=="number"?[t2,e2,r2,n2]:[t2,e2,r2]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}__name(Ne,"Ne");function Ue(t2){if(t2===null||typeof t2=="string"||typeof t2=="boolean"||typeof t2=="number"||t2 instanceof je||t2 instanceof Pe2||t2 instanceof Ce||t2 instanceof Te2||t2 instanceof Ve||t2 instanceof Fe||t2 instanceof Le||t2 instanceof Oe||t2 instanceof Re)return!0;if(Array.isArray(t2)){for(const e2 of t2)if(!Ue(e2))return!1;return!0}if(typeof t2=="object"){for(const e2 in t2)if(!Ue(t2[e2]))return!1;return!0}return!1}__name(Ue,"Ue");function qe(t2){if(t2===null)return $t;if(typeof t2=="string")return Ot;if(typeof t2=="boolean")return Rt;if(typeof t2=="number")return Dt;if(t2 instanceof Pe2)return jt;if(t2 instanceof je)return Nt;if(t2 instanceof Ce)return Gt2;if(t2 instanceof Te2)return Xt;if(t2 instanceof Ve)return Zt;if(t2 instanceof Fe)return Ht2;if(t2 instanceof Le)return Yt2;if(t2 instanceof Oe)return Jt2;if(t2 instanceof Re)return Kt;if(Array.isArray(t2)){const e2=t2.length;let r2;for(const e3 of t2){const t3=qe(e3);if(r2){if(r2===t3)continue;r2=qt2;break}r2=t3}return Wt2(r2||qt2,e2)}return Ut}__name(qe,"qe");function Ge(t2){const e2=typeof t2;return t2===null?"":e2==="string"||e2==="number"||e2==="boolean"?String(t2):t2 instanceof Pe2||t2 instanceof je||t2 instanceof Te2||t2 instanceof Ve||t2 instanceof Fe||t2 instanceof Le||t2 instanceof Oe||t2 instanceof Re?t2.toString():JSON.stringify(t2)}__name(Ge,"Ge");const _Xe=class _Xe{constructor(t2,e2){this.type=t2,this.value=e2}static parse(t2,e2){if(t2.length!==2)return e2.error("'literal' expression requires exactly one argument, but found ".concat(t2.length-1," instead."));if(!Ue(t2[1]))return e2.error("invalid value");const r2=t2[1];let n2=qe(r2);const i2=e2.expectedType;return n2.kind!=="array"||n2.N!==0||!i2||i2.kind!=="array"||typeof i2.N=="number"&&i2.N!==0||(n2=i2),new _Xe(n2,r2)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}};__name(_Xe,"Xe");let Xe=_Xe;const Ze={string:Ot,number:Dt,boolean:Rt,object:Ut},_Ye=class _Ye{constructor(t2,e2){this.type=t2,this.args=e2}static parse(t2,e2){if(t2.length<2)return e2.error("Expected at least one argument.");let r2,n2=1;const i2=t2[0];if(i2==="array"){let i3,s3;if(t2.length>2){const r3=t2[1];if(typeof r3!="string"||!(r3 in Ze)||r3==="object")return e2.error('The item type argument of "array" must be one of string, number, boolean',1);i3=Ze[r3],n2++}else i3=qt2;if(t2.length>3){if(t2[2]!==null&&(typeof t2[2]!="number"||t2[2]<0||t2[2]!==Math.floor(t2[2])))return e2.error('The length argument to "array" must be a positive integer literal',2);s3=t2[2],n2++}r2=Wt2(i3,s3)}else{if(!Ze[i2])throw new Error("Types doesn't contain name = ".concat(i2));r2=Ze[i2]}const s2=[];for(;n2<t2.length;n2++){const r3=e2.parse(t2[n2],n2,qt2);if(!r3)return null;s2.push(r3)}return new _Ye(r2,s2)}evaluate(t2){for(let e2=0;e2<this.args.length;e2++){const r2=this.args[e2].evaluate(t2);if(!ee2(this.type,qe(r2)))return r2;if(e2===this.args.length-1)throw new $e("Expected value to be of type ".concat(Qt(this.type),", but found ").concat(Qt(qe(r2))," instead."))}throw new Error}eachChild(t2){this.args.forEach(t2)}outputDefined(){return this.args.every(t2=>t2.outputDefined())}};__name(_Ye,"Ye");let Ye=_Ye;const He={"to-boolean":Rt,"to-color":jt,"to-number":Dt,"to-string":Ot},_Ke=class _Ke{constructor(t2,e2){this.type=t2,this.args=e2}static parse(t2,e2){if(t2.length<2)return e2.error("Expected at least one argument.");const r2=t2[0];if(!He[r2])throw new Error("Can't parse ".concat(r2," as it is not part of the known types"));if((r2==="to-boolean"||r2==="to-string")&&t2.length!==2)return e2.error("Expected one argument.");const n2=He[r2],i2=[];for(let r3=1;r3<t2.length;r3++){const n3=e2.parse(t2[r3],r3,qt2);if(!n3)return null;i2.push(n3)}return new _Ke(n2,i2)}evaluate(t2){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t2);case"color":{let e2,r2;for(const n2 of this.args){if(e2=n2.evaluate(t2),r2=null,e2 instanceof Pe2)return e2;if(typeof e2=="string"){const r3=t2.parseColor(e2);if(r3)return r3}else if(Array.isArray(e2)&&(r2=e2.length<3||e2.length>4?"Invalid rgba value ".concat(JSON.stringify(e2),": expected an array containing either three or four numeric values."):Ne(e2[0],e2[1],e2[2],e2[3]),!r2))return new Pe2(e2[0]/255,e2[1]/255,e2[2]/255,e2[3])}throw new $e(r2||"Could not parse color from value '".concat(typeof e2=="string"?e2:JSON.stringify(e2),"'"))}case"padding":{let e2;for(const r2 of this.args){e2=r2.evaluate(t2);const n2=Ve.parse(e2);if(n2)return n2}throw new $e("Could not parse padding from value '".concat(typeof e2=="string"?e2:JSON.stringify(e2),"'"))}case"numberArray":{let e2;for(const r2 of this.args){e2=r2.evaluate(t2);const n2=Fe.parse(e2);if(n2)return n2}throw new $e("Could not parse numberArray from value '".concat(typeof e2=="string"?e2:JSON.stringify(e2),"'"))}case"colorArray":{let e2;for(const r2 of this.args){e2=r2.evaluate(t2);const n2=Le.parse(e2);if(n2)return n2}throw new $e("Could not parse colorArray from value '".concat(typeof e2=="string"?e2:JSON.stringify(e2),"'"))}case"variableAnchorOffsetCollection":{let e2;for(const r2 of this.args){e2=r2.evaluate(t2);const n2=Oe.parse(e2);if(n2)return n2}throw new $e("Could not parse variableAnchorOffsetCollection from value '".concat(typeof e2=="string"?e2:JSON.stringify(e2),"'"))}case"number":{let e2=null;for(const r2 of this.args){if(e2=r2.evaluate(t2),e2===null)return 0;const n2=Number(e2);if(!isNaN(n2))return n2}throw new $e("Could not convert ".concat(JSON.stringify(e2)," to number."))}case"formatted":return Te2.fromString(Ge(this.args[0].evaluate(t2)));case"resolvedImage":return Re.fromString(Ge(this.args[0].evaluate(t2)));case"projectionDefinition":return this.args[0].evaluate(t2);default:return Ge(this.args[0].evaluate(t2))}}eachChild(t2){this.args.forEach(t2)}outputDefined(){return this.args.every(t2=>t2.outputDefined())}};__name(_Ke,"Ke");let Ke=_Ke;const Je=["Unknown","Point","LineString","Polygon"],_We=class _We{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Je[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t2){let e2=this._parseColorCache.get(t2);return e2||(e2=Pe2.parse(t2),this._parseColorCache.set(t2,e2)),e2}};__name(_We,"We");let We=_We;const _Qe=class _Qe{constructor(t2,e2,r2=[],n2,i2=new Lt2,s2=[]){this.registry=t2,this.path=r2,this.key=r2.map(t3=>"[".concat(t3,"]")).join(""),this.scope=i2,this.errors=s2,this.expectedType=n2,this._isConstant=e2}parse(t2,e2,r2,n2,i2={}){return e2?this.concat(e2,r2,n2)._parse(t2,i2):this._parse(t2,i2)}_parse(t2,e2){function r2(t3,e3,r3){return r3==="assert"?new Ye(e3,[t3]):r3==="coerce"?new Ke(e3,[t3]):t3}if(__name(r2,"r"),t2!==null&&typeof t2!="string"&&typeof t2!="boolean"&&typeof t2!="number"||(t2=["literal",t2]),Array.isArray(t2)){if(t2.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n2=t2[0];if(typeof n2!="string")return this.error("Expression name must be a string, but found ".concat(typeof n2,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;const i2=this.registry[n2];if(i2){let n3=i2.parse(t2,this);if(!n3)return null;if(this.expectedType){const t3=this.expectedType,i3=n3.type;if(t3.kind!=="string"&&t3.kind!=="number"&&t3.kind!=="boolean"&&t3.kind!=="object"&&t3.kind!=="array"||i3.kind!=="value"){if(t3.kind==="projectionDefinition"&&["string","array"].includes(i3.kind)||["color","formatted","resolvedImage"].includes(t3.kind)&&["value","string"].includes(i3.kind)||["padding","numberArray"].includes(t3.kind)&&["value","number","array"].includes(i3.kind)||t3.kind==="colorArray"&&["value","string","array"].includes(i3.kind)||t3.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(i3.kind))n3=r2(n3,t3,e2.typeAnnotation||"coerce");else if(this.checkSubtype(t3,i3))return null}else n3=r2(n3,t3,e2.typeAnnotation||"assert")}if(!(n3 instanceof Xe)&&n3.type.kind!=="resolvedImage"&&this._isConstant(n3)){const t3=new We;try{n3=new Xe(n3.type,n3.evaluate(t3))}catch(t4){return this.error(t4.message),null}}return n3}return this.error('Unknown expression "'.concat(n2,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(t2===void 0?"'undefined' value invalid. Use null instead.":typeof t2=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof t2," instead."))}concat(t2,e2,r2){const n2=typeof t2=="number"?this.path.concat(t2):this.path,i2=r2?this.scope.concat(r2):this.scope;return new _Qe(this.registry,this._isConstant,n2,e2||null,i2,this.errors)}error(t2,...e2){const r2="".concat(this.key).concat(e2.map(t3=>"[".concat(t3,"]")).join(""));this.errors.push(new Ft(r2,t2))}checkSubtype(t2,e2){const r2=ee2(t2,e2);return r2&&this.error(r2),r2}};__name(_Qe,"Qe");let Qe=_Qe;const _tr=class _tr{constructor(t2,e2){this.type=e2.type,this.bindings=[].concat(t2),this.result=e2}evaluate(t2){return this.result.evaluate(t2)}eachChild(t2){for(const e2 of this.bindings)t2(e2[1]);t2(this.result)}static parse(t2,e2){if(t2.length<4)return e2.error("Expected at least 3 arguments, but found ".concat(t2.length-1," instead."));const r2=[];for(let n3=1;n3<t2.length-1;n3+=2){const i2=t2[n3];if(typeof i2!="string")return e2.error("Expected string, but found ".concat(typeof i2," instead."),n3);if(/[^a-zA-Z0-9_]/.test(i2))return e2.error("Variable names must contain only alphanumeric characters or '_'.",n3);const s2=e2.parse(t2[n3+1],n3+1);if(!s2)return null;r2.push([i2,s2])}const n2=e2.parse(t2[t2.length-1],t2.length-1,e2.expectedType,r2);return n2?new _tr(r2,n2):null}outputDefined(){return this.result.outputDefined()}};__name(_tr,"tr");let tr=_tr;const _er=class _er{constructor(t2,e2){this.type=e2.type,this.name=t2,this.boundExpression=e2}static parse(t2,e2){if(t2.length!==2||typeof t2[1]!="string")return e2.error("'var' expression requires exactly one string literal argument.");const r2=t2[1];return e2.scope.has(r2)?new _er(r2,e2.scope.get(r2)):e2.error('Unknown variable "'.concat(r2,'". Make sure "').concat(r2,'" has been bound in an enclosing "let" expression before using it.'),1)}evaluate(t2){return this.boundExpression.evaluate(t2)}eachChild(){}outputDefined(){return!1}};__name(_er,"er");let er=_er;const _rr=class _rr{constructor(t2,e2,r2){this.type=t2,this.index=e2,this.input=r2}static parse(t2,e2){if(t2.length!==3)return e2.error("Expected 2 arguments, but found ".concat(t2.length-1," instead."));const r2=e2.parse(t2[1],1,Dt),n2=e2.parse(t2[2],2,Wt2(e2.expectedType||qt2));return r2&&n2?new _rr(n2.type.itemType,r2,n2):null}evaluate(t2){const e2=this.index.evaluate(t2),r2=this.input.evaluate(t2);if(e2<0)throw new $e("Array index out of bounds: ".concat(e2," < 0."));if(e2>=r2.length)throw new $e("Array index out of bounds: ".concat(e2," > ").concat(r2.length-1,"."));if(e2!==Math.floor(e2))throw new $e("Array index must be an integer, but found ".concat(e2," instead."));return r2[e2]}eachChild(t2){t2(this.index),t2(this.input)}outputDefined(){return!1}};__name(_rr,"rr");let rr=_rr;const _nr=class _nr{constructor(t2,e2){this.type=Rt,this.needle=t2,this.haystack=e2}static parse(t2,e2){if(t2.length!==3)return e2.error("Expected 2 arguments, but found ".concat(t2.length-1," instead."));const r2=e2.parse(t2[1],1,qt2),n2=e2.parse(t2[2],2,qt2);return r2&&n2?re(r2.type,[Rt,Ot,Dt,$t,qt2])?new _nr(r2,n2):e2.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Qt(r2.type)," instead")):null}evaluate(t2){const e2=this.needle.evaluate(t2),r2=this.haystack.evaluate(t2);if(!r2)return!1;if(!ne(e2,["boolean","string","number","null"]))throw new $e("Expected first argument to be of type boolean, string, number or null, but found ".concat(Qt(qe(e2))," instead."));if(!ne(r2,["string","array"]))throw new $e("Expected second argument to be of type array or string, but found ".concat(Qt(qe(r2))," instead."));return r2.indexOf(e2)>=0}eachChild(t2){t2(this.needle),t2(this.haystack)}outputDefined(){return!0}};__name(_nr,"nr");let nr=_nr;const _ir=class _ir{constructor(t2,e2,r2){this.type=Dt,this.needle=t2,this.haystack=e2,this.fromIndex=r2}static parse(t2,e2){if(t2.length<=2||t2.length>=5)return e2.error("Expected 3 or 4 arguments, but found ".concat(t2.length-1," instead."));const r2=e2.parse(t2[1],1,qt2),n2=e2.parse(t2[2],2,qt2);if(!r2||!n2)return null;if(!re(r2.type,[Rt,Ot,Dt,$t,qt2]))return e2.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Qt(r2.type)," instead"));if(t2.length===4){const i2=e2.parse(t2[3],3,Dt);return i2?new _ir(r2,n2,i2):null}return new _ir(r2,n2)}evaluate(t2){const e2=this.needle.evaluate(t2),r2=this.haystack.evaluate(t2);if(!ne(e2,["boolean","string","number","null"]))throw new $e("Expected first argument to be of type boolean, string, number or null, but found ".concat(Qt(qe(e2))," instead."));let n2;if(this.fromIndex&&(n2=this.fromIndex.evaluate(t2)),ne(r2,["string"])){const t3=r2.indexOf(e2,n2);return t3===-1?-1:[...r2.slice(0,t3)].length}if(ne(r2,["array"]))return r2.indexOf(e2,n2);throw new $e("Expected second argument to be of type array or string, but found ".concat(Qt(qe(r2))," instead."))}eachChild(t2){t2(this.needle),t2(this.haystack),this.fromIndex&&t2(this.fromIndex)}outputDefined(){return!1}};__name(_ir,"ir");let ir=_ir;const _sr=class _sr{constructor(t2,e2,r2,n2,i2,s2){this.inputType=t2,this.type=e2,this.input=r2,this.cases=n2,this.outputs=i2,this.otherwise=s2}static parse(t2,e2){if(t2.length<5)return e2.error("Expected at least 4 arguments, but found only ".concat(t2.length-1,"."));if(t2.length%2!=1)return e2.error("Expected an even number of arguments.");let r2,n2;e2.expectedType&&e2.expectedType.kind!=="value"&&(n2=e2.expectedType);const i2={},s2=[];for(let a3=2;a3<t2.length-1;a3+=2){let o3=t2[a3];const l2=t2[a3+1];Array.isArray(o3)||(o3=[o3]);const u2=e2.concat(a3);if(o3.length===0)return u2.error("Expected at least one branch label.");for(const t3 of o3){if(typeof t3!="number"&&typeof t3!="string")return u2.error("Branch labels must be numbers or strings.");if(typeof t3=="number"&&Math.abs(t3)>Number.MAX_SAFE_INTEGER)return u2.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if(typeof t3=="number"&&Math.floor(t3)!==t3)return u2.error("Numeric branch labels must be integer values.");if(r2){if(u2.checkSubtype(r2,qe(t3)))return null}else r2=qe(t3);if(i2[String(t3)]!==void 0)return u2.error("Branch labels must be unique.");i2[String(t3)]=s2.length}const c3=e2.parse(l2,a3,n2);if(!c3)return null;n2=n2||c3.type,s2.push(c3)}const a2=e2.parse(t2[1],1,qt2);if(!a2)return null;const o2=e2.parse(t2[t2.length-1],t2.length-1,n2);return o2?a2.type.kind!=="value"&&e2.concat(1).checkSubtype(r2,a2.type)?null:new _sr(r2,n2,a2,i2,s2,o2):null}evaluate(t2){const e2=this.input.evaluate(t2);return(qe(e2)===this.inputType&&this.outputs[this.cases[e2]]||this.otherwise).evaluate(t2)}eachChild(t2){t2(this.input),this.outputs.forEach(t2),t2(this.otherwise)}outputDefined(){return this.outputs.every(t2=>t2.outputDefined())&&this.otherwise.outputDefined()}};__name(_sr,"sr");let sr=_sr;const _ar=class _ar{constructor(t2,e2,r2){this.type=t2,this.branches=e2,this.otherwise=r2}static parse(t2,e2){if(t2.length<4)return e2.error("Expected at least 3 arguments, but found only ".concat(t2.length-1,"."));if(t2.length%2!=0)return e2.error("Expected an odd number of arguments.");let r2;e2.expectedType&&e2.expectedType.kind!=="value"&&(r2=e2.expectedType);const n2=[];for(let i3=1;i3<t2.length-1;i3+=2){const s2=e2.parse(t2[i3],i3,Rt);if(!s2)return null;const a2=e2.parse(t2[i3+1],i3+1,r2);if(!a2)return null;n2.push([s2,a2]),r2=r2||a2.type}const i2=e2.parse(t2[t2.length-1],t2.length-1,r2);if(!i2)return null;if(!r2)throw new Error("Can't infer output type");return new _ar(r2,n2,i2)}evaluate(t2){for(const[e2,r2]of this.branches)if(e2.evaluate(t2))return r2.evaluate(t2);return this.otherwise.evaluate(t2)}eachChild(t2){for(const[e2,r2]of this.branches)t2(e2),t2(r2);t2(this.otherwise)}outputDefined(){return this.branches.every(([t2,e2])=>e2.outputDefined())&&this.otherwise.outputDefined()}};__name(_ar,"ar");let ar=_ar;const _or=class _or{constructor(t2,e2,r2,n2){this.type=t2,this.input=e2,this.beginIndex=r2,this.endIndex=n2}static parse(t2,e2){if(t2.length<=2||t2.length>=5)return e2.error("Expected 3 or 4 arguments, but found ".concat(t2.length-1," instead."));const r2=e2.parse(t2[1],1,qt2),n2=e2.parse(t2[2],2,Dt);if(!r2||!n2)return null;if(!re(r2.type,[Wt2(qt2),Ot,qt2]))return e2.error("Expected first argument to be of type array or string, but found ".concat(Qt(r2.type)," instead"));if(t2.length===4){const i2=e2.parse(t2[3],3,Dt);return i2?new _or(r2.type,r2,n2,i2):null}return new _or(r2.type,r2,n2)}evaluate(t2){const e2=this.input.evaluate(t2),r2=this.beginIndex.evaluate(t2);let n2;if(this.endIndex&&(n2=this.endIndex.evaluate(t2)),ne(e2,["string"]))return[...e2].slice(r2,n2).join("");if(ne(e2,["array"]))return e2.slice(r2,n2);throw new $e("Expected first argument to be of type array or string, but found ".concat(Qt(qe(e2))," instead."))}eachChild(t2){t2(this.input),t2(this.beginIndex),this.endIndex&&t2(this.endIndex)}outputDefined(){return!1}};__name(_or,"or");let or=_or;function lr(t2,e2){const r2=t2.length-1;let n2,i2,s2=0,a2=r2,o2=0;for(;s2<=a2;)if(o2=Math.floor((s2+a2)/2),n2=t2[o2],i2=t2[o2+1],n2<=e2){if(o2===r2||e2<i2)return o2;s2=o2+1}else{if(!(n2>e2))throw new $e("Input is not a number.");a2=o2-1}return 0}__name(lr,"lr");const _ur=class _ur{constructor(t2,e2,r2){this.type=t2,this.input=e2,this.labels=[],this.outputs=[];for(const[t3,e3]of r2)this.labels.push(t3),this.outputs.push(e3)}static parse(t2,e2){if(t2.length-1<4)return e2.error("Expected at least 4 arguments, but found only ".concat(t2.length-1,"."));if((t2.length-1)%2!=0)return e2.error("Expected an even number of arguments.");const r2=e2.parse(t2[1],1,Dt);if(!r2)return null;const n2=[];let i2=null;e2.expectedType&&e2.expectedType.kind!=="value"&&(i2=e2.expectedType);for(let r3=1;r3<t2.length;r3+=2){const s2=r3===1?-1/0:t2[r3],a2=t2[r3+1],o2=r3,l2=r3+1;if(typeof s2!="number")return e2.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o2);if(n2.length&&n2[n2.length-1][0]>=s2)return e2.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',o2);const u2=e2.parse(a2,l2,i2);if(!u2)return null;i2=i2||u2.type,n2.push([s2,u2])}return new _ur(i2,r2,n2)}evaluate(t2){const e2=this.labels,r2=this.outputs;if(e2.length===1)return r2[0].evaluate(t2);const n2=this.input.evaluate(t2);if(n2<=e2[0])return r2[0].evaluate(t2);const i2=e2.length;return n2>=e2[i2-1]?r2[i2-1].evaluate(t2):r2[lr(e2,n2)].evaluate(t2)}eachChild(t2){t2(this.input);for(const e2 of this.outputs)t2(e2)}outputDefined(){return this.outputs.every(t2=>t2.outputDefined())}};__name(_ur,"ur");let ur=_ur;function cr(t2){return t2&&t2.__esModule&&Object.prototype.hasOwnProperty.call(t2,"default")?t2.default:t2}__name(cr,"cr");var hr,pr,fr=function(){if(pr)return hr;function t2(t3,e2,r2,n2){this.cx=3*t3,this.bx=3*(r2-t3)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e2,this.by=3*(n2-e2)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t3,this.p1y=e2,this.p2x=r2,this.p2y=n2}return __name(t2,"t"),pr=1,hr=t2,t2.prototype={sampleCurveX:__name(function(t3){return((this.ax*t3+this.bx)*t3+this.cx)*t3},"sampleCurveX"),sampleCurveY:__name(function(t3){return((this.ay*t3+this.by)*t3+this.cy)*t3},"sampleCurveY"),sampleCurveDerivativeX:__name(function(t3){return(3*this.ax*t3+2*this.bx)*t3+this.cx},"sampleCurveDerivativeX"),solveCurveX:__name(function(t3,e2){if(e2===void 0&&(e2=1e-6),t3<0)return 0;if(t3>1)return 1;for(var r2=t3,n2=0;n2<8;n2++){var i2=this.sampleCurveX(r2)-t3;if(Math.abs(i2)<e2)return r2;var s2=this.sampleCurveDerivativeX(r2);if(Math.abs(s2)<1e-6)break;r2-=i2/s2}var a2=0,o2=1;for(r2=t3,n2=0;n2<20&&(i2=this.sampleCurveX(r2),!(Math.abs(i2-t3)<e2));n2++)t3>i2?a2=r2:o2=r2,r2=.5*(o2-a2)+a2;return r2},"solveCurveX"),solve:__name(function(t3,e2){return this.sampleCurveY(this.solveCurveX(t3,e2))},"solve")},hr}(),dr=cr(fr);const _yr=class _yr{constructor(t2,e2,r2,n2,i2){this.type=t2,this.operator=e2,this.interpolation=r2,this.input=n2,this.labels=[],this.outputs=[];for(const[t3,e3]of i2)this.labels.push(t3),this.outputs.push(e3)}static interpolationFactor(t2,e2,r2,n2){let i2=0;if(t2.name==="exponential")i2=mr(e2,t2.base,r2,n2);else if(t2.name==="linear")i2=mr(e2,1,r2,n2);else if(t2.name==="cubic-bezier"){const s2=t2.controlPoints;i2=new dr(s2[0],s2[1],s2[2],s2[3]).solve(mr(e2,1,r2,n2))}return i2}static parse(t2,e2){let[r2,n2,i2,...s2]=t2;if(!Array.isArray(n2)||n2.length===0)return e2.error("Expected an interpolation type expression.",1);if(n2[0]==="linear")n2={name:"linear"};else if(n2[0]==="exponential"){const t3=n2[1];if(typeof t3!="number")return e2.error("Exponential interpolation requires a numeric base.",1,1);n2={name:"exponential",base:t3}}else{if(n2[0]!=="cubic-bezier")return e2.error("Unknown interpolation type ".concat(String(n2[0])),1,0);{const t3=n2.slice(1);if(t3.length!==4||t3.some(t4=>typeof t4!="number"||t4<0||t4>1))return e2.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n2={name:"cubic-bezier",controlPoints:t3}}}if(t2.length-1<4)return e2.error("Expected at least 4 arguments, but found only ".concat(t2.length-1,"."));if((t2.length-1)%2!=0)return e2.error("Expected an even number of arguments.");if(i2=e2.parse(i2,2,Dt),!i2)return null;const a2=[];let o2=null;r2!=="interpolate-hcl"&&r2!=="interpolate-lab"||e2.expectedType==Yt2?e2.expectedType&&e2.expectedType.kind!=="value"&&(o2=e2.expectedType):o2=jt;for(let t3=0;t3<s2.length;t3+=2){const r3=s2[t3],n3=s2[t3+1],i3=t3+3,l2=t3+4;if(typeof r3!="number")return e2.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i3);if(a2.length&&a2[a2.length-1][0]>=r3)return e2.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i3);const u2=e2.parse(n3,l2,o2);if(!u2)return null;o2=o2||u2.type,a2.push([r3,u2])}return ie(o2,Dt)||ie(o2,Nt)||ie(o2,jt)||ie(o2,Zt)||ie(o2,Ht2)||ie(o2,Yt2)||ie(o2,Jt2)||ie(o2,Wt2(Dt))?new _yr(o2,r2,n2,i2,a2):e2.error("Type ".concat(Qt(o2)," is not interpolatable."))}evaluate(t2){const e2=this.labels,r2=this.outputs;if(e2.length===1)return r2[0].evaluate(t2);const n2=this.input.evaluate(t2);if(n2<=e2[0])return r2[0].evaluate(t2);const i2=e2.length;if(n2>=e2[i2-1])return r2[i2-1].evaluate(t2);const s2=lr(e2,n2),a2=_yr.interpolationFactor(this.interpolation,n2,e2[s2],e2[s2+1]),o2=r2[s2].evaluate(t2),l2=r2[s2+1].evaluate(t2);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Ie(o2,l2,a2);case"color":return Pe2.interpolate(o2,l2,a2);case"padding":return Ve.interpolate(o2,l2,a2);case"colorArray":return Le.interpolate(o2,l2,a2);case"numberArray":return Fe.interpolate(o2,l2,a2);case"variableAnchorOffsetCollection":return Oe.interpolate(o2,l2,a2);case"array":return ze(o2,l2,a2);case"projectionDefinition":return je.interpolate(o2,l2,a2)}case"interpolate-hcl":switch(this.type.kind){case"color":return Pe2.interpolate(o2,l2,a2,"hcl");case"colorArray":return Le.interpolate(o2,l2,a2,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Pe2.interpolate(o2,l2,a2,"lab");case"colorArray":return Le.interpolate(o2,l2,a2,"lab")}}}eachChild(t2){t2(this.input);for(const e2 of this.outputs)t2(e2)}outputDefined(){return this.outputs.every(t2=>t2.outputDefined())}};__name(_yr,"yr");let yr=_yr;function mr(t2,e2,r2,n2){const i2=n2-r2,s2=t2-r2;return i2===0?0:e2===1?s2/i2:(Math.pow(e2,s2)-1)/(Math.pow(e2,i2)-1)}__name(mr,"mr");const gr={color:Pe2.interpolate,number:Ie,padding:Ve.interpolate,numberArray:Fe.interpolate,colorArray:Le.interpolate,variableAnchorOffsetCollection:Oe.interpolate,array:ze},_xr=class _xr{constructor(t2,e2){this.type=t2,this.args=e2}static parse(t2,e2){if(t2.length<2)return e2.error("Expected at least one argument.");let r2=null;const n2=e2.expectedType;n2&&n2.kind!=="value"&&(r2=n2);const i2=[];for(const n3 of t2.slice(1)){const t3=e2.parse(n3,1+i2.length,r2,void 0,{typeAnnotation:"omit"});if(!t3)return null;r2=r2||t3.type,i2.push(t3)}if(!r2)throw new Error("No output type");const s2=n2&&i2.some(t3=>ee2(n2,t3.type));return new _xr(s2?qt2:r2,i2)}evaluate(t2){let e2,r2=null,n2=0;for(const i2 of this.args)if(n2++,r2=i2.evaluate(t2),r2&&r2 instanceof Re&&!r2.available&&(e2||(e2=r2.name),r2=null,n2===this.args.length&&(r2=e2)),r2!==null)break;return r2}eachChild(t2){this.args.forEach(t2)}outputDefined(){return this.args.every(t2=>t2.outputDefined())}};__name(_xr,"xr");let xr=_xr;function vr(t2,e2){return t2==="=="||t2==="!="?e2.kind==="boolean"||e2.kind==="string"||e2.kind==="number"||e2.kind==="null"||e2.kind==="value":e2.kind==="string"||e2.kind==="number"||e2.kind==="value"}__name(vr,"vr");function br(t2,e2,r2,n2){return n2.compare(e2,r2)===0}__name(br,"br");function wr(t2,e2,r2){var _a6;const n2=t2!=="=="&&t2!=="!=";return _a6=class{constructor(t3,e3,r3){this.type=Rt,this.lhs=t3,this.rhs=e3,this.collator=r3,this.hasUntypedArgument=t3.type.kind==="value"||e3.type.kind==="value"}static parse(t3,e3){if(t3.length!==3&&t3.length!==4)return e3.error("Expected two or three arguments.");const r3=t3[0];let s2=e3.parse(t3[1],1,qt2);if(!s2)return null;if(!vr(r3,s2.type))return e3.concat(1).error('"'.concat(r3,"\" comparisons are not supported for type '").concat(Qt(s2.type),"'."));let a2=e3.parse(t3[2],2,qt2);if(!a2)return null;if(!vr(r3,a2.type))return e3.concat(2).error('"'.concat(r3,"\" comparisons are not supported for type '").concat(Qt(a2.type),"'."));if(s2.type.kind!==a2.type.kind&&s2.type.kind!=="value"&&a2.type.kind!=="value")return e3.error("Cannot compare types '".concat(Qt(s2.type),"' and '").concat(Qt(a2.type),"'."));n2&&(s2.type.kind==="value"&&a2.type.kind!=="value"?s2=new Ye(a2.type,[s2]):s2.type.kind!=="value"&&a2.type.kind==="value"&&(a2=new Ye(s2.type,[a2])));let o2=null;if(t3.length===4){if(s2.type.kind!=="string"&&a2.type.kind!=="string"&&s2.type.kind!=="value"&&a2.type.kind!=="value")return e3.error("Cannot use collator to compare non-string types.");if(o2=e3.parse(t3[3],3,Gt2),!o2)return null}return new _a6(s2,a2,o2)}evaluate(i2){const s2=this.lhs.evaluate(i2),a2=this.rhs.evaluate(i2);if(n2&&this.hasUntypedArgument){const e3=qe(s2),r3=qe(a2);if(e3.kind!==r3.kind||e3.kind!=="string"&&e3.kind!=="number")throw new $e('Expected arguments for "'.concat(t2,'" to be (string, string) or (number, number), but found (').concat(e3.kind,", ").concat(r3.kind,") instead."))}if(this.collator&&!n2&&this.hasUntypedArgument){const t3=qe(s2),r3=qe(a2);if(t3.kind!=="string"||r3.kind!=="string")return e2(i2,s2,a2)}return this.collator?r2(i2,s2,a2,this.collator.evaluate(i2)):e2(i2,s2,a2)}eachChild(t3){t3(this.lhs),t3(this.rhs),this.collator&&t3(this.collator)}outputDefined(){return!0}},__name(_a6,"i"),_a6}__name(wr,"wr");const _r=wr("==",function(t2,e2,r2){return e2===r2},br),Sr=wr("!=",function(t2,e2,r2){return e2!==r2},function(t2,e2,r2,n2){return!br(0,e2,r2,n2)}),Ar=wr("<",function(t2,e2,r2){return e2<r2},function(t2,e2,r2,n2){return n2.compare(e2,r2)<0}),kr=wr(">",function(t2,e2,r2){return e2>r2},function(t2,e2,r2,n2){return n2.compare(e2,r2)>0}),Mr=wr("<=",function(t2,e2,r2){return e2<=r2},function(t2,e2,r2,n2){return n2.compare(e2,r2)<=0}),Ir=wr(">=",function(t2,e2,r2){return e2>=r2},function(t2,e2,r2,n2){return n2.compare(e2,r2)>=0}),_zr=class _zr{constructor(t2,e2,r2){this.type=Gt2,this.locale=r2,this.caseSensitive=t2,this.diacriticSensitive=e2}static parse(t2,e2){if(t2.length!==2)return e2.error("Expected one argument.");const r2=t2[1];if(typeof r2!="object"||Array.isArray(r2))return e2.error("Collator options argument must be an object.");const n2=e2.parse(r2["case-sensitive"]!==void 0&&r2["case-sensitive"],1,Rt);if(!n2)return null;const i2=e2.parse(r2["diacritic-sensitive"]!==void 0&&r2["diacritic-sensitive"],1,Rt);if(!i2)return null;let s2=null;return r2.locale&&(s2=e2.parse(r2.locale,1,Ot),!s2)?null:new _zr(n2,i2,s2)}evaluate(t2){return new Ce(this.caseSensitive.evaluate(t2),this.diacriticSensitive.evaluate(t2),this.locale?this.locale.evaluate(t2):null)}eachChild(t2){t2(this.caseSensitive),t2(this.diacriticSensitive),this.locale&&t2(this.locale)}outputDefined(){return!1}};__name(_zr,"zr");let zr=_zr;const _Pr=class _Pr{constructor(t2,e2,r2,n2,i2){this.type=Ot,this.number=t2,this.locale=e2,this.currency=r2,this.minFractionDigits=n2,this.maxFractionDigits=i2}static parse(t2,e2){if(t2.length!==3)return e2.error("Expected two arguments.");const r2=e2.parse(t2[1],1,Dt);if(!r2)return null;const n2=t2[2];if(typeof n2!="object"||Array.isArray(n2))return e2.error("NumberFormat options argument must be an object.");let i2=null;if(n2.locale&&(i2=e2.parse(n2.locale,1,Ot),!i2))return null;let s2=null;if(n2.currency&&(s2=e2.parse(n2.currency,1,Ot),!s2))return null;let a2=null;if(n2["min-fraction-digits"]&&(a2=e2.parse(n2["min-fraction-digits"],1,Dt),!a2))return null;let o2=null;return n2["max-fraction-digits"]&&(o2=e2.parse(n2["max-fraction-digits"],1,Dt),!o2)?null:new _Pr(r2,i2,s2,a2,o2)}evaluate(t2){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t2):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t2):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t2):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t2):void 0}).format(this.number.evaluate(t2))}eachChild(t2){t2(this.number),this.locale&&t2(this.locale),this.currency&&t2(this.currency),this.minFractionDigits&&t2(this.minFractionDigits),this.maxFractionDigits&&t2(this.maxFractionDigits)}outputDefined(){return!1}};__name(_Pr,"Pr");let Pr=_Pr;const _Cr=class _Cr{constructor(t2){this.type=Xt,this.sections=t2}static parse(t2,e2){if(t2.length<2)return e2.error("Expected at least one argument.");const r2=t2[1];if(!Array.isArray(r2)&&typeof r2=="object")return e2.error("First argument must be an image or text section.");const n2=[];let i2=!1;for(let r3=1;r3<=t2.length-1;++r3){const s2=t2[r3];if(i2&&typeof s2=="object"&&!Array.isArray(s2)){i2=!1;let t3=null;if(s2["font-scale"]&&(t3=e2.parse(s2["font-scale"],1,Dt),!t3))return null;let r4=null;if(s2["text-font"]&&(r4=e2.parse(s2["text-font"],1,Wt2(Ot)),!r4))return null;let a2=null;if(s2["text-color"]&&(a2=e2.parse(s2["text-color"],1,jt),!a2))return null;let o2=null;if(s2["vertical-align"]){if(typeof s2["vertical-align"]=="string"&&!Be.includes(s2["vertical-align"]))return e2.error("'vertical-align' must be one of: 'bottom', 'center', 'top' but found '".concat(s2["vertical-align"],"' instead."));if(o2=e2.parse(s2["vertical-align"],1,Ot),!o2)return null}const l2=n2[n2.length-1];l2.scale=t3,l2.font=r4,l2.textColor=a2,l2.verticalAlign=o2}else{const s3=e2.parse(t2[r3],1,qt2);if(!s3)return null;const a2=s3.type.kind;if(a2!=="string"&&a2!=="value"&&a2!=="null"&&a2!=="resolvedImage")return e2.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i2=!0,n2.push({content:s3,scale:null,font:null,textColor:null,verticalAlign:null})}}return new _Cr(n2)}evaluate(t2){return new Te2(this.sections.map(e2=>{const r2=e2.content.evaluate(t2);return qe(r2)===Kt?new Ee("",r2,null,null,null,e2.verticalAlign?e2.verticalAlign.evaluate(t2):null):new Ee(Ge(r2),null,e2.scale?e2.scale.evaluate(t2):null,e2.font?e2.font.evaluate(t2).join(","):null,e2.textColor?e2.textColor.evaluate(t2):null,e2.verticalAlign?e2.verticalAlign.evaluate(t2):null)}))}eachChild(t2){for(const e2 of this.sections)t2(e2.content),e2.scale&&t2(e2.scale),e2.font&&t2(e2.font),e2.textColor&&t2(e2.textColor),e2.verticalAlign&&t2(e2.verticalAlign)}outputDefined(){return!1}};__name(_Cr,"Cr");let Cr=_Cr;const _Br=class _Br{constructor(t2){this.type=Kt,this.input=t2}static parse(t2,e2){if(t2.length!==2)return e2.error("Expected two arguments.");const r2=e2.parse(t2[1],1,Ot);return r2?new _Br(r2):e2.error("No image name provided.")}evaluate(t2){const e2=this.input.evaluate(t2),r2=Re.fromString(e2);return r2&&t2.availableImages&&(r2.available=t2.availableImages.indexOf(e2)>-1),r2}eachChild(t2){t2(this.input)}outputDefined(){return!1}};__name(_Br,"Br");let Br=_Br;const _Er=class _Er{constructor(t2){this.type=Dt,this.input=t2}static parse(t2,e2){if(t2.length!==2)return e2.error("Expected 1 argument, but found ".concat(t2.length-1," instead."));const r2=e2.parse(t2[1],1);return r2?r2.type.kind!=="array"&&r2.type.kind!=="string"&&r2.type.kind!=="value"?e2.error("Expected argument of type string or array, but found ".concat(Qt(r2.type)," instead.")):new _Er(r2):null}evaluate(t2){const e2=this.input.evaluate(t2);if(typeof e2=="string")return[...e2].length;if(Array.isArray(e2))return e2.length;throw new $e("Expected value to be of type string or array, but found ".concat(Qt(qe(e2))," instead."))}eachChild(t2){t2(this.input)}outputDefined(){return!1}};__name(_Er,"Er");let Er=_Er;const Tr=8192;function Vr(t2,e2){const r2=(180+t2[0])/360,n2=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t2[1]*Math.PI/360)))/360,i2=Math.pow(2,e2.z);return[Math.round(r2*i2*Tr),Math.round(n2*i2*Tr)]}__name(Vr,"Vr");function Fr(t2,e2){const r2=Math.pow(2,e2.z);return[(i2=(t2[0]/Tr+e2.x)/r2,360*i2-180),(n2=(t2[1]/Tr+e2.y)/r2,360/Math.PI*Math.atan(Math.exp((180-360*n2)*Math.PI/180))-90)];var n2,i2}__name(Fr,"Fr");function Lr(t2,e2){t2[0]=Math.min(t2[0],e2[0]),t2[1]=Math.min(t2[1],e2[1]),t2[2]=Math.max(t2[2],e2[0]),t2[3]=Math.max(t2[3],e2[1])}__name(Lr,"Lr");function $r(t2,e2){return!(t2[0]<=e2[0]||t2[2]>=e2[2]||t2[1]<=e2[1]||t2[3]>=e2[3])}__name($r,"$r");function Dr(t2,e2,r2){const n2=t2[0]-e2[0],i2=t2[1]-e2[1],s2=t2[0]-r2[0],a2=t2[1]-r2[1];return n2*a2-s2*i2==0&&n2*s2<=0&&i2*a2<=0}__name(Dr,"Dr");function Or(t2,e2,r2,n2){return(i2=[n2[0]-r2[0],n2[1]-r2[1]])[0]*(s2=[e2[0]-t2[0],e2[1]-t2[1]])[1]-i2[1]*s2[0]!=0&&!(!Gr(t2,e2,r2,n2)||!Gr(r2,n2,t2,e2));var i2,s2}__name(Or,"Or");function Rr(t2,e2,r2){for(const n2 of r2)for(let r3=0;r3<n2.length-1;++r3)if(Or(t2,e2,n2[r3],n2[r3+1]))return!0;return!1}__name(Rr,"Rr");function jr(t2,e2,r2=!1){let n2=!1;for(const o2 of e2)for(let e3=0;e3<o2.length-1;e3++){if(Dr(t2,o2[e3],o2[e3+1]))return r2;(s2=o2[e3])[1]>(i2=t2)[1]!=(a2=o2[e3+1])[1]>i2[1]&&i2[0]<(a2[0]-s2[0])*(i2[1]-s2[1])/(a2[1]-s2[1])+s2[0]&&(n2=!n2)}var i2,s2,a2;return n2}__name(jr,"jr");function Nr(t2,e2){for(const r2 of e2)if(jr(t2,r2))return!0;return!1}__name(Nr,"Nr");function Ur(t2,e2){for(const r2 of t2)if(!jr(r2,e2))return!1;for(let r2=0;r2<t2.length-1;++r2)if(Rr(t2[r2],t2[r2+1],e2))return!1;return!0}__name(Ur,"Ur");function qr(t2,e2){for(const r2 of e2)if(Ur(t2,r2))return!0;return!1}__name(qr,"qr");function Gr(t2,e2,r2,n2){const i2=n2[0]-r2[0],s2=n2[1]-r2[1],a2=(t2[0]-r2[0])*s2-i2*(t2[1]-r2[1]),o2=(e2[0]-r2[0])*s2-i2*(e2[1]-r2[1]);return a2>0&&o2<0||a2<0&&o2>0}__name(Gr,"Gr");function Xr(t2,e2,r2){const n2=[];for(let i2=0;i2<t2.length;i2++){const s2=[];for(let n3=0;n3<t2[i2].length;n3++){const a2=Vr(t2[i2][n3],r2);Lr(e2,a2),s2.push(a2)}n2.push(s2)}return n2}__name(Xr,"Xr");function Zr(t2,e2,r2){const n2=[];for(let i2=0;i2<t2.length;i2++){const s2=Xr(t2[i2],e2,r2);n2.push(s2)}return n2}__name(Zr,"Zr");function Yr(t2,e2,r2,n2){if(t2[0]<r2[0]||t2[0]>r2[2]){const e3=.5*n2;let i2=t2[0]-r2[0]>e3?-n2:r2[0]-t2[0]>e3?n2:0;i2===0&&(i2=t2[0]-r2[2]>e3?-n2:r2[2]-t2[0]>e3?n2:0),t2[0]+=i2}Lr(e2,t2)}__name(Yr,"Yr");function Hr(t2,e2,r2,n2){const i2=Math.pow(2,n2.z)*Tr,s2=[n2.x*Tr,n2.y*Tr],a2=[];for(const n3 of t2)for(const t3 of n3){const n4=[t3.x+s2[0],t3.y+s2[1]];Yr(n4,e2,r2,i2),a2.push(n4)}return a2}__name(Hr,"Hr");function Kr(t2,e2,r2,n2){const i2=Math.pow(2,n2.z)*Tr,s2=[n2.x*Tr,n2.y*Tr],a2=[];for(const r3 of t2){const t3=[];for(const n3 of r3){const r4=[n3.x+s2[0],n3.y+s2[1]];Lr(e2,r4),t3.push(r4)}a2.push(t3)}if(e2[2]-e2[0]<=i2/2){(o2=e2)[0]=o2[1]=1/0,o2[2]=o2[3]=-1/0;for(const t3 of a2)for(const n3 of t3)Yr(n3,e2,r2,i2)}var o2;return a2}__name(Kr,"Kr");const _Jr=class _Jr{constructor(t2,e2){this.type=Rt,this.geojson=t2,this.geometries=e2}static parse(t2,e2){if(t2.length!==2)return e2.error("'within' expression requires exactly one argument, but found ".concat(t2.length-1," instead."));if(Ue(t2[1])){const e3=t2[1];if(e3.type==="FeatureCollection"){const t3=[];for(const r2 of e3.features){const{type:e4,coordinates:n2}=r2.geometry;e4==="Polygon"&&t3.push(n2),e4==="MultiPolygon"&&t3.push(...n2)}if(t3.length)return new _Jr(e3,{type:"MultiPolygon",coordinates:t3})}else if(e3.type==="Feature"){const t3=e3.geometry.type;if(t3==="Polygon"||t3==="MultiPolygon")return new _Jr(e3,e3.geometry)}else if(e3.type==="Polygon"||e3.type==="MultiPolygon")return new _Jr(e3,e3)}return e2.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t2){if(t2.geometry()!=null&&t2.canonicalID()!=null){if(t2.geometryType()==="Point")return function(t3,e2){const r2=[1/0,1/0,-1/0,-1/0],n2=[1/0,1/0,-1/0,-1/0],i2=t3.canonicalID();if(e2.type==="Polygon"){const s2=Xr(e2.coordinates,n2,i2),a2=Hr(t3.geometry(),r2,n2,i2);if(!$r(r2,n2))return!1;for(const t4 of a2)if(!jr(t4,s2))return!1}if(e2.type==="MultiPolygon"){const s2=Zr(e2.coordinates,n2,i2),a2=Hr(t3.geometry(),r2,n2,i2);if(!$r(r2,n2))return!1;for(const t4 of a2)if(!Nr(t4,s2))return!1}return!0}(t2,this.geometries);if(t2.geometryType()==="LineString")return function(t3,e2){const r2=[1/0,1/0,-1/0,-1/0],n2=[1/0,1/0,-1/0,-1/0],i2=t3.canonicalID();if(e2.type==="Polygon"){const s2=Xr(e2.coordinates,n2,i2),a2=Kr(t3.geometry(),r2,n2,i2);if(!$r(r2,n2))return!1;for(const t4 of a2)if(!Ur(t4,s2))return!1}if(e2.type==="MultiPolygon"){const s2=Zr(e2.coordinates,n2,i2),a2=Kr(t3.geometry(),r2,n2,i2);if(!$r(r2,n2))return!1;for(const t4 of a2)if(!qr(t4,s2))return!1}return!0}(t2,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}};__name(_Jr,"Jr");let Jr=_Jr,Wr=(_a5=class{constructor(t2=[],e2=(t3,e3)=>t3<e3?-1:t3>e3?1:0){if(this.data=t2,this.length=this.data.length,this.compare=e2,this.length>0)for(let t3=(this.length>>1)-1;t3>=0;t3--)this._down(t3)}push(t2){this.data.push(t2),this._up(this.length++)}pop(){if(this.length===0)return;const t2=this.data[0],e2=this.data.pop();return--this.length>0&&(this.data[0]=e2,this._down(0)),t2}peek(){return this.data[0]}_up(t2){const{data:e2,compare:r2}=this,n2=e2[t2];for(;t2>0;){const i2=t2-1>>1,s2=e2[i2];if(r2(n2,s2)>=0)break;e2[t2]=s2,t2=i2}e2[t2]=n2}_down(t2){const{data:e2,compare:r2}=this,n2=this.length>>1,i2=e2[t2];for(;t2<n2;){let n3=1+(t2<<1);const s2=n3+1;if(s2<this.length&&r2(e2[s2],e2[n3])<0&&(n3=s2),r2(e2[n3],i2)>=0)break;e2[t2]=e2[n3],t2=n3}e2[t2]=i2}},__name(_a5,"Wr"),_a5);function Qr(t2,e2,r2=0,n2=t2.length-1,i2=en2){for(;n2>r2;){if(n2-r2>600){const s3=n2-r2+1,a3=e2-r2+1,o3=Math.log(s3),l2=.5*Math.exp(2*o3/3),u2=.5*Math.sqrt(o3*l2*(s3-l2)/s3)*(a3-s3/2<0?-1:1);Qr(t2,e2,Math.max(r2,Math.floor(e2-a3*l2/s3+u2)),Math.min(n2,Math.floor(e2+(s3-a3)*l2/s3+u2)),i2)}const s2=t2[e2];let a2=r2,o2=n2;for(tn(t2,r2,e2),i2(t2[n2],s2)>0&&tn(t2,r2,n2);a2<o2;){for(tn(t2,a2,o2),a2++,o2--;i2(t2[a2],s2)<0;)a2++;for(;i2(t2[o2],s2)>0;)o2--}i2(t2[r2],s2)===0?tn(t2,r2,o2):(o2++,tn(t2,o2,n2)),o2<=e2&&(r2=o2+1),e2<=o2&&(n2=o2-1)}}__name(Qr,"Qr");function tn(t2,e2,r2){const n2=t2[e2];t2[e2]=t2[r2],t2[r2]=n2}__name(tn,"tn");function en2(t2,e2){return t2<e2?-1:t2>e2?1:0}__name(en2,"en");function rn(t2,e2){if(t2.length<=1)return[t2];const r2=[];let n2,i2;for(const e3 of t2){const t3=sn(e3);t3!==0&&(e3.area=Math.abs(t3),i2===void 0&&(i2=t3<0),i2===t3<0?(n2&&r2.push(n2),n2=[e3]):n2.push(e3))}if(n2&&r2.push(n2),e2>1)for(let t3=0;t3<r2.length;t3++)r2[t3].length<=e2||(Qr(r2[t3],e2,1,r2[t3].length-1,nn),r2[t3]=r2[t3].slice(0,e2));return r2}__name(rn,"rn");function nn(t2,e2){return e2.area-t2.area}__name(nn,"nn");function sn(t2){let e2=0;for(let r2,n2,i2=0,s2=t2.length,a2=s2-1;i2<s2;a2=i2++)r2=t2[i2],n2=t2[a2],e2+=(n2.x-r2.x)*(r2.y+n2.y);return e2}__name(sn,"sn");const an=1/298.257223563,on2=an*(2-an),ln=Math.PI/180,_un=class _un{constructor(t2){const e2=6378.137*ln*1e3,r2=Math.cos(t2*ln),n2=1/(1-on2*(1-r2*r2)),i2=Math.sqrt(n2);this.kx=e2*i2*r2,this.ky=e2*i2*n2*(1-on2)}distance(t2,e2){const r2=this.wrap(t2[0]-e2[0])*this.kx,n2=(t2[1]-e2[1])*this.ky;return Math.sqrt(r2*r2+n2*n2)}pointOnLine(t2,e2){let r2,n2,i2,s2,a2=1/0;for(let o2=0;o2<t2.length-1;o2++){let l2=t2[o2][0],u2=t2[o2][1],c3=this.wrap(t2[o2+1][0]-l2)*this.kx,h3=(t2[o2+1][1]-u2)*this.ky,p3=0;c3===0&&h3===0||(p3=(this.wrap(e2[0]-l2)*this.kx*c3+(e2[1]-u2)*this.ky*h3)/(c3*c3+h3*h3),p3>1?(l2=t2[o2+1][0],u2=t2[o2+1][1]):p3>0&&(l2+=c3/this.kx*p3,u2+=h3/this.ky*p3)),c3=this.wrap(e2[0]-l2)*this.kx,h3=(e2[1]-u2)*this.ky;const f2=c3*c3+h3*h3;f2<a2&&(a2=f2,r2=l2,n2=u2,i2=o2,s2=p3)}return{point:[r2,n2],index:i2,t:Math.max(0,Math.min(1,s2))}}wrap(t2){for(;t2<-180;)t2+=360;for(;t2>180;)t2-=360;return t2}};__name(_un,"un");let un=_un;function cn(t2,e2){return e2[0]-t2[0]}__name(cn,"cn");function hn(t2){return t2[1]-t2[0]+1}__name(hn,"hn");function pn(t2,e2){return t2[1]>=t2[0]&&t2[1]<e2}__name(pn,"pn");function fn(t2,e2){if(t2[0]>t2[1])return[null,null];const r2=hn(t2);if(e2){if(r2===2)return[t2,null];const e3=Math.floor(r2/2);return[[t2[0],t2[0]+e3],[t2[0]+e3,t2[1]]]}if(r2===1)return[t2,null];const n2=Math.floor(r2/2)-1;return[[t2[0],t2[0]+n2],[t2[0]+n2+1,t2[1]]]}__name(fn,"fn");function dn(t2,e2){if(!pn(e2,t2.length))return[1/0,1/0,-1/0,-1/0];const r2=[1/0,1/0,-1/0,-1/0];for(let n2=e2[0];n2<=e2[1];++n2)Lr(r2,t2[n2]);return r2}__name(dn,"dn");function yn(t2){const e2=[1/0,1/0,-1/0,-1/0];for(const r2 of t2)for(const t3 of r2)Lr(e2,t3);return e2}__name(yn,"yn");function mn(t2){return t2[0]!==-1/0&&t2[1]!==-1/0&&t2[2]!==1/0&&t2[3]!==1/0}__name(mn,"mn");function gn(t2,e2,r2){if(!mn(t2)||!mn(e2))return NaN;let n2=0,i2=0;return t2[2]<e2[0]&&(n2=e2[0]-t2[2]),t2[0]>e2[2]&&(n2=t2[0]-e2[2]),t2[1]>e2[3]&&(i2=t2[1]-e2[3]),t2[3]<e2[1]&&(i2=e2[1]-t2[3]),r2.distance([0,0],[n2,i2])}__name(gn,"gn");function xn(t2,e2,r2){const n2=r2.pointOnLine(e2,t2);return r2.distance(t2,n2.point)}__name(xn,"xn");function vn(t2,e2,r2,n2,i2){const s2=Math.min(xn(t2,[r2,n2],i2),xn(e2,[r2,n2],i2)),a2=Math.min(xn(r2,[t2,e2],i2),xn(n2,[t2,e2],i2));return Math.min(s2,a2)}__name(vn,"vn");function bn(t2,e2,r2,n2,i2){if(!pn(e2,t2.length)||!pn(n2,r2.length))return 1/0;let s2=1/0;for(let a2=e2[0];a2<e2[1];++a2){const e3=t2[a2],o2=t2[a2+1];for(let t3=n2[0];t3<n2[1];++t3){const n3=r2[t3],a3=r2[t3+1];if(Or(e3,o2,n3,a3))return 0;s2=Math.min(s2,vn(e3,o2,n3,a3,i2))}}return s2}__name(bn,"bn");function wn(t2,e2,r2,n2,i2){if(!pn(e2,t2.length)||!pn(n2,r2.length))return NaN;let s2=1/0;for(let a2=e2[0];a2<=e2[1];++a2)for(let e3=n2[0];e3<=n2[1];++e3)if(s2=Math.min(s2,i2.distance(t2[a2],r2[e3])),s2===0)return s2;return s2}__name(wn,"wn");function _n(t2,e2,r2){if(jr(t2,e2,!0))return 0;let n2=1/0;for(const i2 of e2){const e3=i2[0],s2=i2[i2.length-1];if(e3!==s2&&(n2=Math.min(n2,xn(t2,[s2,e3],r2)),n2===0))return n2;const a2=r2.pointOnLine(i2,t2);if(n2=Math.min(n2,r2.distance(t2,a2.point)),n2===0)return n2}return n2}__name(_n,"_n");function Sn(t2,e2,r2,n2){if(!pn(e2,t2.length))return NaN;for(let n3=e2[0];n3<=e2[1];++n3)if(jr(t2[n3],r2,!0))return 0;let i2=1/0;for(let s2=e2[0];s2<e2[1];++s2){const e3=t2[s2],a2=t2[s2+1];for(const t3 of r2)for(let r3=0,s3=t3.length,o2=s3-1;r3<s3;o2=r3++){const s4=t3[o2],l2=t3[r3];if(Or(e3,a2,s4,l2))return 0;i2=Math.min(i2,vn(e3,a2,s4,l2,n2))}}return i2}__name(Sn,"Sn");function An(t2,e2){for(const r2 of t2)for(const t3 of r2)if(jr(t3,e2,!0))return!0;return!1}__name(An,"An");function kn(t2,e2,r2,n2=1/0){const i2=yn(t2),s2=yn(e2);if(n2!==1/0&&gn(i2,s2,r2)>=n2)return n2;if($r(i2,s2)){if(An(t2,e2))return 0}else if(An(e2,t2))return 0;let a2=1/0;for(const n3 of t2)for(let t3=0,i3=n3.length,s3=i3-1;t3<i3;s3=t3++){const i4=n3[s3],o2=n3[t3];for(const t4 of e2)for(let e3=0,n4=t4.length,s4=n4-1;e3<n4;s4=e3++){const n5=t4[s4],l2=t4[e3];if(Or(i4,o2,n5,l2))return 0;a2=Math.min(a2,vn(i4,o2,n5,l2,r2))}}return a2}__name(kn,"kn");function Mn(t2,e2,r2,n2,i2,s2){if(!s2)return;const a2=gn(dn(n2,s2),i2,r2);a2<e2&&t2.push([a2,s2,[0,0]])}__name(Mn,"Mn");function In(t2,e2,r2,n2,i2,s2,a2){if(!s2||!a2)return;const o2=gn(dn(n2,s2),dn(i2,a2),r2);o2<e2&&t2.push([o2,s2,a2])}__name(In,"In");function zn(t2,e2,r2,n2,i2=1/0){let s2=Math.min(n2.distance(t2[0],r2[0][0]),i2);if(s2===0)return s2;const a2=new Wr([[0,[0,t2.length-1],[0,0]]],cn),o2=yn(r2);for(;a2.length>0;){const i3=a2.pop();if(i3[0]>=s2)continue;const l2=i3[1],u2=e2?50:100;if(hn(l2)<=u2){if(!pn(l2,t2.length))return NaN;if(e2){const e3=Sn(t2,l2,r2,n2);if(isNaN(e3)||e3===0)return e3;s2=Math.min(s2,e3)}else for(let e3=l2[0];e3<=l2[1];++e3){const i4=_n(t2[e3],r2,n2);if(s2=Math.min(s2,i4),s2===0)return 0}}else{const r3=fn(l2,e2);Mn(a2,s2,n2,t2,o2,r3[0]),Mn(a2,s2,n2,t2,o2,r3[1])}}return s2}__name(zn,"zn");function Pn(t2,e2,r2,n2,i2,s2=1/0){let a2=Math.min(s2,i2.distance(t2[0],r2[0]));if(a2===0)return a2;const o2=new Wr([[0,[0,t2.length-1],[0,r2.length-1]]],cn);for(;o2.length>0;){const s3=o2.pop();if(s3[0]>=a2)continue;const l2=s3[1],u2=s3[2],c3=e2?50:100,h3=n2?50:100;if(hn(l2)<=c3&&hn(u2)<=h3){if(!pn(l2,t2.length)&&pn(u2,r2.length))return NaN;let s4;if(e2&&n2)s4=bn(t2,l2,r2,u2,i2),a2=Math.min(a2,s4);else if(e2&&!n2){const e3=t2.slice(l2[0],l2[1]+1);for(let t3=u2[0];t3<=u2[1];++t3)if(s4=xn(r2[t3],e3,i2),a2=Math.min(a2,s4),a2===0)return a2}else if(!e2&&n2){const e3=r2.slice(u2[0],u2[1]+1);for(let r3=l2[0];r3<=l2[1];++r3)if(s4=xn(t2[r3],e3,i2),a2=Math.min(a2,s4),a2===0)return a2}else s4=wn(t2,l2,r2,u2,i2),a2=Math.min(a2,s4)}else{const s4=fn(l2,e2),c4=fn(u2,n2);In(o2,a2,i2,t2,r2,s4[0],c4[0]),In(o2,a2,i2,t2,r2,s4[0],c4[1]),In(o2,a2,i2,t2,r2,s4[1],c4[0]),In(o2,a2,i2,t2,r2,s4[1],c4[1])}}return a2}__name(Pn,"Pn");function Cn(t2){return t2.type==="MultiPolygon"?t2.coordinates.map(t3=>({type:"Polygon",coordinates:t3})):t2.type==="MultiLineString"?t2.coordinates.map(t3=>({type:"LineString",coordinates:t3})):t2.type==="MultiPoint"?t2.coordinates.map(t3=>({type:"Point",coordinates:t3})):[t2]}__name(Cn,"Cn");const _Bn=class _Bn{constructor(t2,e2){this.type=Dt,this.geojson=t2,this.geometries=e2}static parse(t2,e2){if(t2.length!==2)return e2.error("'distance' expression requires exactly one argument, but found ".concat(t2.length-1," instead."));if(Ue(t2[1])){const e3=t2[1];if(e3.type==="FeatureCollection")return new _Bn(e3,e3.features.map(t3=>Cn(t3.geometry)).flat());if(e3.type==="Feature")return new _Bn(e3,Cn(e3.geometry));if("type"in e3&&"coordinates"in e3)return new _Bn(e3,Cn(e3))}return e2.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t2){if(t2.geometry()!=null&&t2.canonicalID()!=null){if(t2.geometryType()==="Point")return function(t3,e2){const r2=t3.geometry(),n2=r2.flat().map(e3=>Fr([e3.x,e3.y],t3.canonical));if(r2.length===0)return NaN;const i2=new un(n2[0][1]);let s2=1/0;for(const t4 of e2){switch(t4.type){case"Point":s2=Math.min(s2,Pn(n2,!1,[t4.coordinates],!1,i2,s2));break;case"LineString":s2=Math.min(s2,Pn(n2,!1,t4.coordinates,!0,i2,s2));break;case"Polygon":s2=Math.min(s2,zn(n2,!1,t4.coordinates,i2,s2))}if(s2===0)return s2}return s2}(t2,this.geometries);if(t2.geometryType()==="LineString")return function(t3,e2){const r2=t3.geometry(),n2=r2.flat().map(e3=>Fr([e3.x,e3.y],t3.canonical));if(r2.length===0)return NaN;const i2=new un(n2[0][1]);let s2=1/0;for(const t4 of e2){switch(t4.type){case"Point":s2=Math.min(s2,Pn(n2,!0,[t4.coordinates],!1,i2,s2));break;case"LineString":s2=Math.min(s2,Pn(n2,!0,t4.coordinates,!0,i2,s2));break;case"Polygon":s2=Math.min(s2,zn(n2,!0,t4.coordinates,i2,s2))}if(s2===0)return s2}return s2}(t2,this.geometries);if(t2.geometryType()==="Polygon")return function(t3,e2){const r2=t3.geometry();if(r2.length===0||r2[0].length===0)return NaN;const n2=rn(r2,0).map(e3=>e3.map(e4=>e4.map(e5=>Fr([e5.x,e5.y],t3.canonical)))),i2=new un(n2[0][0][0][1]);let s2=1/0;for(const t4 of e2)for(const e3 of n2){switch(t4.type){case"Point":s2=Math.min(s2,zn([t4.coordinates],!1,e3,i2,s2));break;case"LineString":s2=Math.min(s2,zn(t4.coordinates,!0,e3,i2,s2));break;case"Polygon":s2=Math.min(s2,kn(e3,t4.coordinates,i2,s2))}if(s2===0)return s2}return s2}(t2,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}};__name(_Bn,"Bn");let Bn=_Bn;const _En=class _En{constructor(t2){this.type=qt2,this.key=t2}static parse(t2,e2){if(t2.length!==2)return e2.error("Expected 1 argument, but found ".concat(t2.length-1," instead."));const r2=t2[1];return r2==null?e2.error("Global state property must be defined."):typeof r2!="string"?e2.error("Global state property must be string, but found ".concat(typeof t2[1]," instead.")):new _En(r2)}evaluate(t2){var e2;const r2=(e2=t2.globals)===null||e2===void 0?void 0:e2.globalState;return r2&&Object.keys(r2).length!==0?we(r2,this.key):null}eachChild(){}outputDefined(){return!1}};__name(_En,"En");let En=_En;const Tn={"==":_r,"!=":Sr,">":kr,"<":Ar,">=":Ir,"<=":Mr,array:Ye,at:rr,boolean:Ye,case:ar,coalesce:xr,collator:zr,format:Cr,image:Br,in:nr,"index-of":ir,interpolate:yr,"interpolate-hcl":yr,"interpolate-lab":yr,length:Er,let:tr,literal:Xe,match:sr,number:Ye,"number-format":Pr,object:Ye,slice:or,step:ur,string:Ye,"to-boolean":Ke,"to-color":Ke,"to-number":Ke,"to-string":Ke,var:er,within:Jr,distance:Bn,"global-state":En},_Vn=class _Vn{constructor(t2,e2,r2,n2){this.name=t2,this.type=e2,this._evaluate=r2,this.args=n2}evaluate(t2){return this._evaluate(t2,this.args)}eachChild(t2){this.args.forEach(t2)}outputDefined(){return!1}static parse(t2,e2){const r2=t2[0],n2=_Vn.definitions[r2];if(!n2)return e2.error('Unknown expression "'.concat(r2,'". If you wanted a literal array, use ["literal", [...]].'),0);const i2=Array.isArray(n2)?n2[0]:n2.type,s2=Array.isArray(n2)?[[n2[1],n2[2]]]:n2.overloads,a2=s2.filter(([e3])=>!Array.isArray(e3)||e3.length===t2.length-1);let o2=null;for(const[n3,s3]of a2){o2=new Qe(e2.registry,On,e2.path,null,e2.scope);const a3=[];let l2=!1;for(let e3=1;e3<t2.length;e3++){const r3=t2[e3],i3=Array.isArray(n3)?n3[e3-1]:n3.type,s4=o2.parse(r3,1+a3.length,i3);if(!s4){l2=!0;break}a3.push(s4)}if(!l2)if(Array.isArray(n3)&&n3.length!==a3.length)o2.error("Expected ".concat(n3.length," arguments, but found ").concat(a3.length," instead."));else{for(let t3=0;t3<a3.length;t3++){const e3=Array.isArray(n3)?n3[t3]:n3.type,r3=a3[t3];o2.concat(t3+1).checkSubtype(e3,r3.type)}if(o2.errors.length===0)return new _Vn(r2,i2,s3,a3)}}if(a2.length===1)e2.errors.push(...o2.errors);else{const r3=(a2.length?a2:s2).map(([t3])=>{return e3=t3,Array.isArray(e3)?"(".concat(e3.map(Qt).join(", "),")"):"(".concat(Qt(e3.type),"...)");var e3}).join(" | "),n3=[];for(let r4=1;r4<t2.length;r4++){const i3=e2.parse(t2[r4],1+n3.length);if(!i3)return null;n3.push(Qt(i3.type))}e2.error("Expected arguments of type ".concat(r3,", but found (").concat(n3.join(", "),") instead."))}return null}static register(t2,e2){_Vn.definitions=e2;for(const r2 in e2)t2[r2]=_Vn}};__name(_Vn,"Vn");let Vn=_Vn;function Fn(t2,[e2,r2,n2,i2]){e2=e2.evaluate(t2),r2=r2.evaluate(t2),n2=n2.evaluate(t2);const s2=i2?i2.evaluate(t2):1,a2=Ne(e2,r2,n2,s2);if(a2)throw new $e(a2);return new Pe2(e2/255,r2/255,n2/255,s2,!1)}__name(Fn,"Fn");function Ln(t2,e2){return t2 in e2}__name(Ln,"Ln");function $n(t2,e2){const r2=e2[t2];return r2===void 0?null:r2}__name($n,"$n");function Dn(t2){return{type:t2}}__name(Dn,"Dn");function On(t2){if(t2 instanceof er)return On(t2.boundExpression);if(t2 instanceof Vn&&t2.name==="error"||t2 instanceof zr||t2 instanceof Jr||t2 instanceof Bn||t2 instanceof En)return!1;const e2=t2 instanceof Ke||t2 instanceof Ye;let r2=!0;return t2.eachChild(t3=>{r2=e2?r2&&On(t3):r2&&t3 instanceof Xe}),!!r2&&Rn(t2)&&Nn(t2,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}__name(On,"On");function Rn(t2){if(t2 instanceof Vn&&(t2.name==="get"&&t2.args.length===1||t2.name==="feature-state"||t2.name==="has"&&t2.args.length===1||t2.name==="properties"||t2.name==="geometry-type"||t2.name==="id"||/^filter-/.test(t2.name))||t2 instanceof Jr||t2 instanceof Bn)return!1;let e2=!0;return t2.eachChild(t3=>{e2&&!Rn(t3)&&(e2=!1)}),e2}__name(Rn,"Rn");function jn(t2){if(t2 instanceof Vn&&t2.name==="feature-state")return!1;let e2=!0;return t2.eachChild(t3=>{e2&&!jn(t3)&&(e2=!1)}),e2}__name(jn,"jn");function Nn(t2,e2){if(t2 instanceof Vn&&e2.indexOf(t2.name)>=0)return!1;let r2=!0;return t2.eachChild(t3=>{r2&&!Nn(t3,e2)&&(r2=!1)}),r2}__name(Nn,"Nn");function Un(t2){return{result:"success",value:t2}}__name(Un,"Un");function qn(t2){return{result:"error",value:t2}}__name(qn,"qn");function Gn(t2){return t2["property-type"]==="data-driven"||t2["property-type"]==="cross-faded-data-driven"}__name(Gn,"Gn");function Xn(t2){return!!t2.expression&&t2.expression.parameters.indexOf("zoom")>-1}__name(Xn,"Xn");function Zn(t2){return!!t2.expression&&t2.expression.interpolated}__name(Zn,"Zn");function Yn(t2){return t2 instanceof Number?"number":t2 instanceof String?"string":t2 instanceof Boolean?"boolean":Array.isArray(t2)?"array":t2===null?"null":typeof t2}__name(Yn,"Yn");function Hn(t2){return typeof t2=="object"&&t2!==null&&!Array.isArray(t2)&&qe(t2)===Ut}__name(Hn,"Hn");function Kn(t2){return t2}__name(Kn,"Kn");function Jn(t2,e2){const r2=t2.stops&&typeof t2.stops[0][0]=="object",n2=r2||!(r2||t2.property!==void 0),i2=t2.type||(Zn(e2)?"exponential":"interval"),s2=function(t3){switch(t3.type){case"color":return Pe2.parse;case"padding":return Ve.parse;case"numberArray":return Fe.parse;case"colorArray":return Le.parse;default:return null}}(e2);if(s2&&((t2=Vt({},t2)).stops&&(t2.stops=t2.stops.map(t3=>[t3[0],s2(t3[1])])),t2.default=s2(t2.default?t2.default:e2.default)),t2.colorSpace&&(a2=t2.colorSpace)!=="rgb"&&a2!=="hcl"&&a2!=="lab")throw new Error('Unknown color space: "'.concat(t2.colorSpace,'"'));var a2;const o2=function(t3){switch(t3){case"exponential":return ei;case"interval":return ti;case"categorical":return Qn;case"identity":return ri;default:throw new Error('Unknown function type "'.concat(t3,'"'))}}(i2);let l2,u2;if(i2==="categorical"){l2=Object.create(null);for(const e3 of t2.stops)l2[e3[0]]=e3[1];u2=typeof t2.stops[0][0]}if(r2){const r3={},n3=[];for(let e3=0;e3<t2.stops.length;e3++){const i4=t2.stops[e3],s4=i4[0].zoom;r3[s4]===void 0&&(r3[s4]={zoom:s4,type:t2.type,property:t2.property,default:t2.default,stops:[]},n3.push(s4)),r3[s4].stops.push([i4[0].value,i4[1]])}const i3=[];for(const t3 of n3)i3.push([r3[t3].zoom,Jn(r3[t3],e2)]);const s3={name:"linear"};return{kind:"composite",interpolationType:s3,interpolationFactor:yr.interpolationFactor.bind(void 0,s3),zoomStops:i3.map(t3=>t3[0]),evaluate:__name(({zoom:r4},n4)=>ei({stops:i3,base:t2.base},e2,r4).evaluate(r4,n4),"evaluate")}}if(n2){const r3=i2==="exponential"?{name:"exponential",base:t2.base!==void 0?t2.base:1}:null;return{kind:"camera",interpolationType:r3,interpolationFactor:yr.interpolationFactor.bind(void 0,r3),zoomStops:t2.stops.map(t3=>t3[0]),evaluate:__name(({zoom:r4})=>o2(t2,e2,r4,l2,u2),"evaluate")}}return{kind:"source",evaluate(r3,n3){const i3=n3&&n3.properties?n3.properties[t2.property]:void 0;return i3===void 0?Wn(t2.default,e2.default):o2(t2,e2,i3,l2,u2)}}}__name(Jn,"Jn");function Wn(t2,e2,r2){return t2!==void 0?t2:e2!==void 0?e2:r2!==void 0?r2:void 0}__name(Wn,"Wn");function Qn(t2,e2,r2,n2,i2){return Wn(typeof r2===i2?n2[r2]:void 0,t2.default,e2.default)}__name(Qn,"Qn");function ti(t2,e2,r2){if(Yn(r2)!=="number")return Wn(t2.default,e2.default);const n2=t2.stops.length;if(n2===1||r2<=t2.stops[0][0])return t2.stops[0][1];if(r2>=t2.stops[n2-1][0])return t2.stops[n2-1][1];const i2=lr(t2.stops.map(t3=>t3[0]),r2);return t2.stops[i2][1]}__name(ti,"ti");function ei(t2,e2,r2){const n2=t2.base!==void 0?t2.base:1;if(Yn(r2)!=="number")return Wn(t2.default,e2.default);const i2=t2.stops.length;if(i2===1||r2<=t2.stops[0][0])return t2.stops[0][1];if(r2>=t2.stops[i2-1][0])return t2.stops[i2-1][1];const s2=lr(t2.stops.map(t3=>t3[0]),r2),a2=function(t3,e3,r3,n3){const i3=n3-r3,s3=t3-r3;return i3===0?0:e3===1?s3/i3:(Math.pow(e3,s3)-1)/(Math.pow(e3,i3)-1)}(r2,n2,t2.stops[s2][0],t2.stops[s2+1][0]),o2=t2.stops[s2][1],l2=t2.stops[s2+1][1],u2=gr[e2.type]||Kn;return typeof o2.evaluate=="function"?{evaluate(...e3){const r3=o2.evaluate.apply(void 0,e3),n3=l2.evaluate.apply(void 0,e3);if(r3!==void 0&&n3!==void 0)return u2(r3,n3,a2,t2.colorSpace)}}:u2(o2,l2,a2,t2.colorSpace)}__name(ei,"ei");function ri(t2,e2,r2){switch(e2.type){case"color":r2=Pe2.parse(r2);break;case"formatted":r2=Te2.fromString(r2.toString());break;case"resolvedImage":r2=Re.fromString(r2.toString());break;case"padding":r2=Ve.parse(r2);break;case"colorArray":r2=Le.parse(r2);break;case"numberArray":r2=Fe.parse(r2);break;default:Yn(r2)===e2.type||e2.type==="enum"&&e2.values[r2]||(r2=void 0)}return Wn(r2,t2.default,e2.default)}__name(ri,"ri"),Vn.register(Tn,{error:[{kind:"error"},[Ot],(t2,[e2])=>{throw new $e(e2.evaluate(t2))}],typeof:[Ot,[qt2],(t2,[e2])=>Qt(qe(e2.evaluate(t2)))],"to-rgba":[Wt2(Dt,4),[jt],(t2,[e2])=>{const[r2,n2,i2,s2]=e2.evaluate(t2).rgb;return[255*r2,255*n2,255*i2,s2]}],rgb:[jt,[Dt,Dt,Dt],Fn],rgba:[jt,[Dt,Dt,Dt,Dt],Fn],has:{type:Rt,overloads:[[[Ot],(t2,[e2])=>Ln(e2.evaluate(t2),t2.properties())],[[Ot,Ut],(t2,[e2,r2])=>Ln(e2.evaluate(t2),r2.evaluate(t2))]]},get:{type:qt2,overloads:[[[Ot],(t2,[e2])=>$n(e2.evaluate(t2),t2.properties())],[[Ot,Ut],(t2,[e2,r2])=>$n(e2.evaluate(t2),r2.evaluate(t2))]]},"feature-state":[qt2,[Ot],(t2,[e2])=>$n(e2.evaluate(t2),t2.featureState||{})],properties:[Ut,[],t2=>t2.properties()],"geometry-type":[Ot,[],t2=>t2.geometryType()],id:[qt2,[],t2=>t2.id()],zoom:[Dt,[],t2=>t2.globals.zoom],"heatmap-density":[Dt,[],t2=>t2.globals.heatmapDensity||0],elevation:[Dt,[],t2=>t2.globals.elevation||0],"line-progress":[Dt,[],t2=>t2.globals.lineProgress||0],accumulated:[qt2,[],t2=>t2.globals.accumulated===void 0?null:t2.globals.accumulated],"+":[Dt,Dn(Dt),(t2,e2)=>{let r2=0;for(const n2 of e2)r2+=n2.evaluate(t2);return r2}],"*":[Dt,Dn(Dt),(t2,e2)=>{let r2=1;for(const n2 of e2)r2*=n2.evaluate(t2);return r2}],"-":{type:Dt,overloads:[[[Dt,Dt],(t2,[e2,r2])=>e2.evaluate(t2)-r2.evaluate(t2)],[[Dt],(t2,[e2])=>-e2.evaluate(t2)]]},"/":[Dt,[Dt,Dt],(t2,[e2,r2])=>e2.evaluate(t2)/r2.evaluate(t2)],"%":[Dt,[Dt,Dt],(t2,[e2,r2])=>e2.evaluate(t2)%r2.evaluate(t2)],ln2:[Dt,[],()=>Math.LN2],pi:[Dt,[],()=>Math.PI],e:[Dt,[],()=>Math.E],"^":[Dt,[Dt,Dt],(t2,[e2,r2])=>Math.pow(e2.evaluate(t2),r2.evaluate(t2))],sqrt:[Dt,[Dt],(t2,[e2])=>Math.sqrt(e2.evaluate(t2))],log10:[Dt,[Dt],(t2,[e2])=>Math.log(e2.evaluate(t2))/Math.LN10],ln:[Dt,[Dt],(t2,[e2])=>Math.log(e2.evaluate(t2))],log2:[Dt,[Dt],(t2,[e2])=>Math.log(e2.evaluate(t2))/Math.LN2],sin:[Dt,[Dt],(t2,[e2])=>Math.sin(e2.evaluate(t2))],cos:[Dt,[Dt],(t2,[e2])=>Math.cos(e2.evaluate(t2))],tan:[Dt,[Dt],(t2,[e2])=>Math.tan(e2.evaluate(t2))],asin:[Dt,[Dt],(t2,[e2])=>Math.asin(e2.evaluate(t2))],acos:[Dt,[Dt],(t2,[e2])=>Math.acos(e2.evaluate(t2))],atan:[Dt,[Dt],(t2,[e2])=>Math.atan(e2.evaluate(t2))],min:[Dt,Dn(Dt),(t2,e2)=>Math.min(...e2.map(e3=>e3.evaluate(t2)))],max:[Dt,Dn(Dt),(t2,e2)=>Math.max(...e2.map(e3=>e3.evaluate(t2)))],abs:[Dt,[Dt],(t2,[e2])=>Math.abs(e2.evaluate(t2))],round:[Dt,[Dt],(t2,[e2])=>{const r2=e2.evaluate(t2);return r2<0?-Math.round(-r2):Math.round(r2)}],floor:[Dt,[Dt],(t2,[e2])=>Math.floor(e2.evaluate(t2))],ceil:[Dt,[Dt],(t2,[e2])=>Math.ceil(e2.evaluate(t2))],"filter-==":[Rt,[Ot,qt2],(t2,[e2,r2])=>t2.properties()[e2.value]===r2.value],"filter-id-==":[Rt,[qt2],(t2,[e2])=>t2.id()===e2.value],"filter-type-==":[Rt,[Ot],(t2,[e2])=>t2.geometryType()===e2.value],"filter-<":[Rt,[Ot,qt2],(t2,[e2,r2])=>{const n2=t2.properties()[e2.value],i2=r2.value;return typeof n2==typeof i2&&n2<i2}],"filter-id-<":[Rt,[qt2],(t2,[e2])=>{const r2=t2.id(),n2=e2.value;return typeof r2==typeof n2&&r2<n2}],"filter->":[Rt,[Ot,qt2],(t2,[e2,r2])=>{const n2=t2.properties()[e2.value],i2=r2.value;return typeof n2==typeof i2&&n2>i2}],"filter-id->":[Rt,[qt2],(t2,[e2])=>{const r2=t2.id(),n2=e2.value;return typeof r2==typeof n2&&r2>n2}],"filter-<=":[Rt,[Ot,qt2],(t2,[e2,r2])=>{const n2=t2.properties()[e2.value],i2=r2.value;return typeof n2==typeof i2&&n2<=i2}],"filter-id-<=":[Rt,[qt2],(t2,[e2])=>{const r2=t2.id(),n2=e2.value;return typeof r2==typeof n2&&r2<=n2}],"filter->=":[Rt,[Ot,qt2],(t2,[e2,r2])=>{const n2=t2.properties()[e2.value],i2=r2.value;return typeof n2==typeof i2&&n2>=i2}],"filter-id->=":[Rt,[qt2],(t2,[e2])=>{const r2=t2.id(),n2=e2.value;return typeof r2==typeof n2&&r2>=n2}],"filter-has":[Rt,[qt2],(t2,[e2])=>e2.value in t2.properties()],"filter-has-id":[Rt,[],t2=>t2.id()!==null&&t2.id()!==void 0],"filter-type-in":[Rt,[Wt2(Ot)],(t2,[e2])=>e2.value.indexOf(t2.geometryType())>=0],"filter-id-in":[Rt,[Wt2(qt2)],(t2,[e2])=>e2.value.indexOf(t2.id())>=0],"filter-in-small":[Rt,[Ot,Wt2(qt2)],(t2,[e2,r2])=>r2.value.indexOf(t2.properties()[e2.value])>=0],"filter-in-large":[Rt,[Ot,Wt2(qt2)],(t2,[e2,r2])=>function(t3,e3,r3,n2){for(;r3<=n2;){const i2=r3+n2>>1;if(e3[i2]===t3)return!0;e3[i2]>t3?n2=i2-1:r3=i2+1}return!1}(t2.properties()[e2.value],r2.value,0,r2.value.length-1)],all:{type:Rt,overloads:[[[Rt,Rt],(t2,[e2,r2])=>e2.evaluate(t2)&&r2.evaluate(t2)],[Dn(Rt),(t2,e2)=>{for(const r2 of e2)if(!r2.evaluate(t2))return!1;return!0}]]},any:{type:Rt,overloads:[[[Rt,Rt],(t2,[e2,r2])=>e2.evaluate(t2)||r2.evaluate(t2)],[Dn(Rt),(t2,e2)=>{for(const r2 of e2)if(r2.evaluate(t2))return!0;return!1}]]},"!":[Rt,[Rt],(t2,[e2])=>!e2.evaluate(t2)],"is-supported-script":[Rt,[Ot],(t2,[e2])=>{const r2=t2.globals&&t2.globals.isSupportedScript;return!r2||r2(e2.evaluate(t2))}],upcase:[Ot,[Ot],(t2,[e2])=>e2.evaluate(t2).toUpperCase()],downcase:[Ot,[Ot],(t2,[e2])=>e2.evaluate(t2).toLowerCase()],concat:[Ot,Dn(qt2),(t2,e2)=>e2.map(e3=>Ge(e3.evaluate(t2))).join("")],"resolved-locale":[Ot,[Gt2],(t2,[e2])=>e2.evaluate(t2).resolvedLocale()]});const _ni=class _ni{constructor(t2,e2){this.expression=t2,this._warningHistory={},this._evaluator=new We,this._defaultValue=e2?function(t3){if(t3.type==="color"&&Hn(t3.default))return new Pe2(0,0,0,0);switch(t3.type){case"color":return Pe2.parse(t3.default)||null;case"padding":return Ve.parse(t3.default)||null;case"numberArray":return Fe.parse(t3.default)||null;case"colorArray":return Le.parse(t3.default)||null;case"variableAnchorOffsetCollection":return Oe.parse(t3.default)||null;case"projectionDefinition":return je.parse(t3.default)||null;default:return t3.default===void 0?null:t3.default}}(e2):null,this._enumValues=e2&&e2.type==="enum"?e2.values:null}evaluateWithoutErrorHandling(t2,e2,r2,n2,i2,s2){return this._evaluator.globals=t2,this._evaluator.feature=e2,this._evaluator.featureState=r2,this._evaluator.canonical=n2,this._evaluator.availableImages=i2||null,this._evaluator.formattedSection=s2,this.expression.evaluate(this._evaluator)}evaluate(t2,e2,r2,n2,i2,s2){this._evaluator.globals=t2,this._evaluator.feature=e2||null,this._evaluator.featureState=r2||null,this._evaluator.canonical=n2,this._evaluator.availableImages=i2||null,this._evaluator.formattedSection=s2||null;try{const t3=this.expression.evaluate(this._evaluator);if(t3==null||typeof t3=="number"&&t3!=t3)return this._defaultValue;if(this._enumValues&&!(t3 in this._enumValues))throw new $e("Expected value to be one of ".concat(Object.keys(this._enumValues).map(t4=>JSON.stringify(t4)).join(", "),", but found ").concat(JSON.stringify(t3)," instead."));return t3}catch(t3){return this._warningHistory[t3.message]||(this._warningHistory[t3.message]=!0,typeof console<"u"&&console.warn(t3.message)),this._defaultValue}}};__name(_ni,"ni");let ni=_ni;function ii(t2){return Array.isArray(t2)&&t2.length>0&&typeof t2[0]=="string"&&t2[0]in Tn}__name(ii,"ii");function si2(t2,e2){const r2=new Qe(Tn,On,[],e2?function(t3){const e3={color:jt,string:Ot,number:Dt,enum:Ot,boolean:Rt,formatted:Xt,padding:Zt,numberArray:Ht2,colorArray:Yt2,projectionDefinition:Nt,resolvedImage:Kt,variableAnchorOffsetCollection:Jt2};return t3.type==="array"?Wt2(e3[t3.value]||qt2,t3.length):e3[t3.type]}(e2):void 0),n2=r2.parse(t2,void 0,void 0,void 0,e2&&e2.type==="string"?{typeAnnotation:"coerce"}:void 0);return n2?Un(new ni(n2,e2)):qn(r2.errors)}__name(si2,"si");const _ai=class _ai{constructor(t2,e2){this.kind=t2,this._styleExpression=e2,this.isStateDependent=t2!=="constant"&&!jn(e2.expression),this.globalStateRefs=hi(e2.expression)}evaluateWithoutErrorHandling(t2,e2,r2,n2,i2,s2){return this._styleExpression.evaluateWithoutErrorHandling(t2,e2,r2,n2,i2,s2)}evaluate(t2,e2,r2,n2,i2,s2){return this._styleExpression.evaluate(t2,e2,r2,n2,i2,s2)}};__name(_ai,"ai");let ai2=_ai;const _oi=class _oi{constructor(t2,e2,r2,n2){this.kind=t2,this.zoomStops=r2,this._styleExpression=e2,this.isStateDependent=t2!=="camera"&&!jn(e2.expression),this.globalStateRefs=hi(e2.expression),this.interpolationType=n2}evaluateWithoutErrorHandling(t2,e2,r2,n2,i2,s2){return this._styleExpression.evaluateWithoutErrorHandling(t2,e2,r2,n2,i2,s2)}evaluate(t2,e2,r2,n2,i2,s2){return this._styleExpression.evaluate(t2,e2,r2,n2,i2,s2)}interpolationFactor(t2,e2,r2){return this.interpolationType?yr.interpolationFactor(this.interpolationType,t2,e2,r2):0}};__name(_oi,"oi");let oi=_oi;function li(t2,e2){const r2=si2(t2,e2);if(r2.result==="error")return r2;const n2=r2.value.expression,i2=Rn(n2);if(!i2&&!Gn(e2))return qn([new Ft("","data expressions not supported")]);const s2=Nn(n2,["zoom"]);if(!s2&&!Xn(e2))return qn([new Ft("","zoom expressions not supported")]);const a2=ci2(n2);return a2||s2?a2 instanceof Ft?qn([a2]):a2 instanceof yr&&!Zn(e2)?qn([new Ft("",'"interpolate" expressions cannot be used with this property')]):Un(a2?new oi(i2?"camera":"composite",r2.value,a2.labels,a2 instanceof yr?a2.interpolation:void 0):new ai2(i2?"constant":"source",r2.value)):qn([new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}__name(li,"li");const _ui=class _ui{constructor(t2,e2){this._parameters=t2,this._specification=e2,Vt(this,Jn(this._parameters,this._specification))}static deserialize(t2){return new _ui(t2._parameters,t2._specification)}static serialize(t2){return{_parameters:t2._parameters,_specification:t2._specification}}};__name(_ui,"ui");let ui2=_ui;function ci2(t2){let e2=null;if(t2 instanceof tr)e2=ci2(t2.result);else if(t2 instanceof xr){for(const r2 of t2.args)if(e2=ci2(r2),e2)break}else(t2 instanceof ur||t2 instanceof yr)&&t2.input instanceof Vn&&t2.input.name==="zoom"&&(e2=t2);return e2 instanceof Ft||t2.eachChild(t3=>{const r2=ci2(t3);r2 instanceof Ft?e2=r2:!e2&&r2?e2=new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e2&&r2&&e2!==r2&&(e2=new Ft("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e2}__name(ci2,"ci");function hi(t2,e2=new Set){return t2 instanceof En&&e2.add(t2.key),t2.eachChild(t3=>{hi(t3,e2)}),e2}__name(hi,"hi");function pi2(t2){if(t2===!0||t2===!1)return!0;if(!Array.isArray(t2)||t2.length===0)return!1;switch(t2[0]){case"has":return t2.length>=2&&t2[1]!=="$id"&&t2[1]!=="$type";case"in":return t2.length>=3&&(typeof t2[1]!="string"||Array.isArray(t2[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t2.length!==3||Array.isArray(t2[1])||Array.isArray(t2[2]);case"any":case"all":for(const e2 of t2.slice(1))if(!pi2(e2)&&typeof e2!="boolean")return!1;return!0;default:return!0}}__name(pi2,"pi");const fi2={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function di(t2){if(t2==null)return{filter:__name(()=>!0,"filter"),needGeometry:!1,getGlobalStateRefs:__name(()=>new Set,"getGlobalStateRefs")};pi2(t2)||(t2=gi(t2));const e2=si2(t2,fi2);if(e2.result==="error")throw new Error(e2.value.map(t3=>"".concat(t3.key,": ").concat(t3.message)).join(", "));return{filter:__name((t3,r2,n2)=>e2.value.evaluate(t3,r2,{},n2),"filter"),needGeometry:mi(t2),getGlobalStateRefs:__name(()=>hi(e2.value.expression),"getGlobalStateRefs")}}__name(di,"di");function yi(t2,e2){return t2<e2?-1:t2>e2?1:0}__name(yi,"yi");function mi(t2){if(!Array.isArray(t2))return!1;if(t2[0]==="within"||t2[0]==="distance")return!0;for(let e2=1;e2<t2.length;e2++)if(mi(t2[e2]))return!0;return!1}__name(mi,"mi");function gi(t2){if(!t2)return!0;const e2=t2[0];return t2.length<=1?e2!=="any":e2==="=="?xi2(t2[1],t2[2],"=="):e2==="!="?wi(xi2(t2[1],t2[2],"==")):e2==="<"||e2===">"||e2==="<="||e2===">="?xi2(t2[1],t2[2],e2):e2==="any"?(r2=t2.slice(1),["any"].concat(r2.map(gi))):e2==="all"?["all"].concat(t2.slice(1).map(gi)):e2==="none"?["all"].concat(t2.slice(1).map(gi).map(wi)):e2==="in"?vi(t2[1],t2.slice(2)):e2==="!in"?wi(vi(t2[1],t2.slice(2))):e2==="has"?bi(t2[1]):e2!=="!has"||wi(bi(t2[1]));var r2}__name(gi,"gi");function xi2(t2,e2,r2){switch(t2){case"$type":return["filter-type-".concat(r2),e2];case"$id":return["filter-id-".concat(r2),e2];default:return["filter-".concat(r2),t2,e2]}}__name(xi2,"xi");function vi(t2,e2){if(e2.length===0)return!1;switch(t2){case"$type":return["filter-type-in",["literal",e2]];case"$id":return["filter-id-in",["literal",e2]];default:return e2.length>200&&!e2.some(t3=>typeof t3!=typeof e2[0])?["filter-in-large",t2,["literal",e2.sort(yi)]]:["filter-in-small",t2,["literal",e2]]}}__name(vi,"vi");function bi(t2){switch(t2){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t2]}}__name(bi,"bi");function wi(t2){return["!",t2]}__name(wi,"wi");function _i(t2){const e2=typeof t2;if(e2==="number"||e2==="boolean"||e2==="string"||t2==null)return JSON.stringify(t2);if(Array.isArray(t2)){let e3="[";for(const r3 of t2)e3+="".concat(_i(r3),",");return"".concat(e3,"]")}const r2=Object.keys(t2).sort();let n2="{";for(let e3=0;e3<r2.length;e3++)n2+="".concat(JSON.stringify(r2[e3]),":").concat(_i(t2[r2[e3]]),",");return"".concat(n2,"}")}__name(_i,"_i");function Si2(t2){let e2="";for(const r2 of _t)e2+="/".concat(_i(t2[r2]));return e2}__name(Si2,"Si");function Ai(t2){const e2=t2.value;return e2?[new Tt(t2.key,e2,"constants have been deprecated as of v8")]:[]}__name(Ai,"Ai");function ki(t2){return t2 instanceof Number||t2 instanceof String||t2 instanceof Boolean?t2.valueOf():t2}__name(ki,"ki");function Mi(t2){if(Array.isArray(t2))return t2.map(Mi);if(t2 instanceof Object&&!(t2 instanceof Number||t2 instanceof String||t2 instanceof Boolean)){const e2={};for(const r2 in t2)e2[r2]=Mi(t2[r2]);return e2}return ki(t2)}__name(Mi,"Mi");function Ii(t2){const e2=t2.key,r2=t2.value,n2=t2.valueSpec||{},i2=t2.objectElementValidators||{},s2=t2.style,a2=t2.styleSpec,o2=t2.validateSpec;let l2=[];const u2=Yn(r2);if(u2!=="object")return[new Tt(e2,r2,"object expected, ".concat(u2," found"))];for(const t3 in r2){const u3=t3.split(".")[0],c3=we(n2,u3)||n2["*"];let h3;if(we(i2,u3))h3=i2[u3];else if(we(n2,u3))h3=o2;else if(i2["*"])h3=i2["*"];else{if(!n2["*"]){l2.push(new Tt(e2,r2[t3],'unknown property "'.concat(t3,'"')));continue}h3=o2}l2=l2.concat(h3({key:(e2&&"".concat(e2,"."))+t3,value:r2[t3],valueSpec:c3,style:s2,styleSpec:a2,object:r2,objectKey:t3,validateSpec:o2},r2))}for(const t3 in n2)i2[t3]||n2[t3].required&&n2[t3].default===void 0&&r2[t3]===void 0&&l2.push(new Tt(e2,r2,'missing required property "'.concat(t3,'"')));return l2}__name(Ii,"Ii");function zi(t2){const e2=t2.value,r2=t2.valueSpec,n2=t2.style,i2=t2.styleSpec,s2=t2.key,a2=t2.arrayElementValidator||t2.validateSpec;if(Yn(e2)!=="array")return[new Tt(s2,e2,"array expected, ".concat(Yn(e2)," found"))];if(r2.length&&e2.length!==r2.length)return[new Tt(s2,e2,"array length ".concat(r2.length," expected, length ").concat(e2.length," found"))];if(r2["min-length"]&&e2.length<r2["min-length"])return[new Tt(s2,e2,"array length at least ".concat(r2["min-length"]," expected, length ").concat(e2.length," found"))];let o2={type:r2.value,values:r2.values};i2.$version<7&&(o2.function=r2.function),Yn(r2.value)==="object"&&(o2=r2.value);let l2=[];for(let r3=0;r3<e2.length;r3++)l2=l2.concat(a2({array:e2,arrayIndex:r3,value:e2[r3],valueSpec:o2,validateSpec:t2.validateSpec,style:n2,styleSpec:i2,key:"".concat(s2,"[").concat(r3,"]")}));return l2}__name(zi,"zi");function Pi2(t2){const e2=t2.key,r2=t2.value,n2=t2.valueSpec;let i2=Yn(r2);return i2==="number"&&r2!=r2&&(i2="NaN"),i2!=="number"?[new Tt(e2,r2,"number expected, ".concat(i2," found"))]:"minimum"in n2&&r2<n2.minimum?[new Tt(e2,r2,"".concat(r2," is less than the minimum value ").concat(n2.minimum))]:"maximum"in n2&&r2>n2.maximum?[new Tt(e2,r2,"".concat(r2," is greater than the maximum value ").concat(n2.maximum))]:[]}__name(Pi2,"Pi");function Ci(t2){const e2=t2.valueSpec,r2=ki(t2.value.type);let n2,i2,s2,a2={};const o2=r2!=="categorical"&&t2.value.property===void 0,l2=!o2,u2=Yn(t2.value.stops)==="array"&&Yn(t2.value.stops[0])==="array"&&Yn(t2.value.stops[0][0])==="object",c3=Ii({key:t2.key,value:t2.value,valueSpec:t2.styleSpec.function,validateSpec:t2.validateSpec,style:t2.style,styleSpec:t2.styleSpec,objectElementValidators:{stops:__name(function(t3){if(r2==="identity")return[new Tt(t3.key,t3.value,'identity function may not have a "stops" property')];let e3=[];const n3=t3.value;return e3=e3.concat(zi({key:t3.key,value:n3,valueSpec:t3.valueSpec,validateSpec:t3.validateSpec,style:t3.style,styleSpec:t3.styleSpec,arrayElementValidator:h3})),Yn(n3)==="array"&&n3.length===0&&e3.push(new Tt(t3.key,n3,"array must have at least one stop")),e3},"stops"),default:__name(function(t3){return t3.validateSpec({key:t3.key,value:t3.value,valueSpec:e2,validateSpec:t3.validateSpec,style:t3.style,styleSpec:t3.styleSpec})},"default")}});return r2==="identity"&&o2&&c3.push(new Tt(t2.key,t2.value,'missing required property "property"')),r2==="identity"||t2.value.stops||c3.push(new Tt(t2.key,t2.value,'missing required property "stops"')),r2==="exponential"&&t2.valueSpec.expression&&!Zn(t2.valueSpec)&&c3.push(new Tt(t2.key,t2.value,"exponential functions not supported")),t2.styleSpec.$version>=8&&(l2&&!Gn(t2.valueSpec)?c3.push(new Tt(t2.key,t2.value,"property functions not supported")):o2&&!Xn(t2.valueSpec)&&c3.push(new Tt(t2.key,t2.value,"zoom functions not supported"))),r2!=="categorical"&&!u2||t2.value.property!==void 0||c3.push(new Tt(t2.key,t2.value,'"property" property is required')),c3;function h3(t3){let r3=[];const n3=t3.value,o3=t3.key;if(Yn(n3)!=="array")return[new Tt(o3,n3,"array expected, ".concat(Yn(n3)," found"))];if(n3.length!==2)return[new Tt(o3,n3,"array length 2 expected, length ".concat(n3.length," found"))];if(u2){if(Yn(n3[0])!=="object")return[new Tt(o3,n3,"object expected, ".concat(Yn(n3[0])," found"))];if(n3[0].zoom===void 0)return[new Tt(o3,n3,"object stop key must have zoom")];if(n3[0].value===void 0)return[new Tt(o3,n3,"object stop key must have value")];if(s2&&s2>ki(n3[0].zoom))return[new Tt(o3,n3[0].zoom,"stop zoom values must appear in ascending order")];ki(n3[0].zoom)!==s2&&(s2=ki(n3[0].zoom),i2=void 0,a2={}),r3=r3.concat(Ii({key:"".concat(o3,"[0]"),value:n3[0],valueSpec:{zoom:{}},validateSpec:t3.validateSpec,style:t3.style,styleSpec:t3.styleSpec,objectElementValidators:{zoom:Pi2,value:p3}}))}else r3=r3.concat(p3({key:"".concat(o3,"[0]"),value:n3[0],validateSpec:t3.validateSpec,style:t3.style,styleSpec:t3.styleSpec},n3));return ii(Mi(n3[1]))?r3.concat([new Tt("".concat(o3,"[1]"),n3[1],"expressions are not allowed in function stops.")]):r3.concat(t3.validateSpec({key:"".concat(o3,"[1]"),value:n3[1],valueSpec:e2,validateSpec:t3.validateSpec,style:t3.style,styleSpec:t3.styleSpec}))}function p3(t3,s3){const o3=Yn(t3.value),l3=ki(t3.value),u3=t3.value!==null?t3.value:s3;if(n2){if(o3!==n2)return[new Tt(t3.key,u3,"".concat(o3," stop domain type must match previous stop domain type ").concat(n2))]}else n2=o3;if(o3!=="number"&&o3!=="string"&&o3!=="boolean")return[new Tt(t3.key,u3,"stop domain value must be a number, string, or boolean")];if(o3!=="number"&&r2!=="categorical"){let n3="number expected, ".concat(o3," found");return Gn(e2)&&r2===void 0&&(n3+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tt(t3.key,u3,n3)]}return r2!=="categorical"||o3!=="number"||isFinite(l3)&&Math.floor(l3)===l3?r2!=="categorical"&&o3==="number"&&i2!==void 0&&l3<i2?[new Tt(t3.key,u3,"stop domain values must appear in ascending order")]:(i2=l3,r2==="categorical"&&l3 in a2?[new Tt(t3.key,u3,"stop domain values must be unique")]:(a2[l3]=!0,[])):[new Tt(t3.key,u3,"integer expected, found ".concat(l3))]}}__name(Ci,"Ci");function Bi(t2){const e2=(t2.expressionContext==="property"?li:si2)(Mi(t2.value),t2.valueSpec);if(e2.result==="error")return e2.value.map(e3=>new Tt("".concat(t2.key).concat(e3.key),t2.value,e3.message));const r2=e2.value.expression||e2.value._styleExpression.expression;if(t2.expressionContext==="property"&&t2.propertyKey==="text-font"&&!r2.outputDefined())return[new Tt(t2.key,t2.value,'Invalid data expression for "'.concat(t2.propertyKey,'". Output values must be contained as literals within the expression.'))];if(t2.expressionContext==="property"&&t2.propertyType==="layout"&&!jn(r2))return[new Tt(t2.key,t2.value,'"feature-state" data expressions are not supported with layout properties.')];if(t2.expressionContext==="filter"&&!jn(r2))return[new Tt(t2.key,t2.value,'"feature-state" data expressions are not supported with filters.')];if(t2.expressionContext&&t2.expressionContext.indexOf("cluster")===0){if(!Nn(r2,["zoom","feature-state"]))return[new Tt(t2.key,t2.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t2.expressionContext==="cluster-initial"&&!Rn(r2))return[new Tt(t2.key,t2.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}__name(Bi,"Bi");function Ei2(t2){const e2=t2.key,r2=t2.value,n2=Yn(r2);return n2!=="string"?[new Tt(e2,r2,"color expected, ".concat(n2," found"))]:Pe2.parse(String(r2))?[]:[new Tt(e2,r2,'color expected, "'.concat(r2,'" found'))]}__name(Ei2,"Ei");function Ti2(t2){const e2=t2.key,r2=t2.value,n2=t2.valueSpec,i2=[];return Array.isArray(n2.values)?n2.values.indexOf(ki(r2))===-1&&i2.push(new Tt(e2,r2,"expected one of [".concat(n2.values.join(", "),"], ").concat(JSON.stringify(r2)," found"))):Object.keys(n2.values).indexOf(ki(r2))===-1&&i2.push(new Tt(e2,r2,"expected one of [".concat(Object.keys(n2.values).join(", "),"], ").concat(JSON.stringify(r2)," found"))),i2}__name(Ti2,"Ti");function Vi2(t2){return pi2(Mi(t2.value))?Bi(Vt({},t2,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Fi(t2)}__name(Vi2,"Vi");function Fi(t2){const e2=t2.value,r2=t2.key;if(Yn(e2)!=="array")return[new Tt(r2,e2,"array expected, ".concat(Yn(e2)," found"))];const n2=t2.styleSpec;let i2,s2=[];if(e2.length<1)return[new Tt(r2,e2,"filter array must have at least 1 element")];switch(s2=s2.concat(Ti2({key:"".concat(r2,"[0]"),value:e2[0],valueSpec:n2.filter_operator,style:t2.style,styleSpec:t2.styleSpec})),ki(e2[0])){case"<":case"<=":case">":case">=":e2.length>=2&&ki(e2[1])==="$type"&&s2.push(new Tt(r2,e2,'"$type" cannot be use with operator "'.concat(e2[0],'"')));case"==":case"!=":e2.length!==3&&s2.push(new Tt(r2,e2,'filter array for operator "'.concat(e2[0],'" must have 3 elements')));case"in":case"!in":e2.length>=2&&(i2=Yn(e2[1]),i2!=="string"&&s2.push(new Tt("".concat(r2,"[1]"),e2[1],"string expected, ".concat(i2," found"))));for(let a2=2;a2<e2.length;a2++)i2=Yn(e2[a2]),ki(e2[1])==="$type"?s2=s2.concat(Ti2({key:"".concat(r2,"[").concat(a2,"]"),value:e2[a2],valueSpec:n2.geometry_type,style:t2.style,styleSpec:t2.styleSpec})):i2!=="string"&&i2!=="number"&&i2!=="boolean"&&s2.push(new Tt("".concat(r2,"[").concat(a2,"]"),e2[a2],"string, number, or boolean expected, ".concat(i2," found")));break;case"any":case"all":case"none":for(let n3=1;n3<e2.length;n3++)s2=s2.concat(Fi({key:"".concat(r2,"[").concat(n3,"]"),value:e2[n3],style:t2.style,styleSpec:t2.styleSpec}));break;case"has":case"!has":i2=Yn(e2[1]),e2.length!==2?s2.push(new Tt(r2,e2,'filter array for "'.concat(e2[0],'" operator must have 2 elements'))):i2!=="string"&&s2.push(new Tt("".concat(r2,"[1]"),e2[1],"string expected, ".concat(i2," found")))}return s2}__name(Fi,"Fi");function Li(t2,e2){const r2=t2.key,n2=t2.validateSpec,i2=t2.style,s2=t2.styleSpec,a2=t2.value,o2=t2.objectKey,l2=s2["".concat(e2,"_").concat(t2.layerType)];if(!l2)return[];const u2=o2.match(/^(.*)-transition$/);if(e2==="paint"&&u2&&l2[u2[1]]&&l2[u2[1]].transition)return n2({key:r2,value:a2,valueSpec:s2.transition,style:i2,styleSpec:s2});const c3=t2.valueSpec||l2[o2];if(!c3)return[new Tt(r2,a2,'unknown property "'.concat(o2,'"'))];let h3;if(Yn(a2)==="string"&&Gn(c3)&&!c3.tokens&&(h3=/^{([^}]+)}$/.exec(a2)))return[new Tt(r2,a2,'"'.concat(o2,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(h3[1])," }`."))];const p3=[];return t2.layerType==="symbol"&&(o2==="text-field"&&i2&&!i2.glyphs&&p3.push(new Tt(r2,a2,'use of "text-field" requires a style "glyphs" property')),o2==="text-font"&&Hn(Mi(a2))&&ki(a2.type)==="identity"&&p3.push(new Tt(r2,a2,'"text-font" does not support identity functions'))),p3.concat(n2({key:t2.key,value:a2,valueSpec:c3,style:i2,styleSpec:s2,expressionContext:"property",propertyType:e2,propertyKey:o2}))}__name(Li,"Li");function $i(t2){return Li(t2,"paint")}__name($i,"$i");function Di(t2){return Li(t2,"layout")}__name(Di,"Di");function Oi(t2){let e2=[];const r2=t2.value,n2=t2.key,i2=t2.style,s2=t2.styleSpec;if(Yn(r2)!=="object")return[new Tt(n2,r2,"object expected, ".concat(Yn(r2)," found"))];r2.type||r2.ref||e2.push(new Tt(n2,r2,'either "type" or "ref" is required'));let a2=ki(r2.type);const o2=ki(r2.ref);if(r2.id){const s3=ki(r2.id);for(let a3=0;a3<t2.arrayIndex;a3++){const t3=i2.layers[a3];ki(t3.id)===s3&&e2.push(new Tt(n2,r2.id,'duplicate layer id "'.concat(r2.id,'", previously used at line ').concat(t3.id.__line__)))}}if("ref"in r2){let t3;["type","source","source-layer","filter","layout"].forEach(t4=>{t4 in r2&&e2.push(new Tt(n2,r2[t4],'"'.concat(t4,'" is prohibited for ref layers')))}),i2.layers.forEach(e3=>{ki(e3.id)===o2&&(t3=e3)}),t3?t3.ref?e2.push(new Tt(n2,r2.ref,"ref cannot reference another ref layer")):a2=ki(t3.type):e2.push(new Tt(n2,r2.ref,'ref layer "'.concat(o2,'" not found')))}else if(a2!=="background")if(r2.source){const t3=i2.sources&&i2.sources[r2.source],s3=t3&&ki(t3.type);t3?s3==="vector"&&a2==="raster"?e2.push(new Tt(n2,r2.source,'layer "'.concat(r2.id,'" requires a raster source'))):s3!=="raster-dem"&&a2==="hillshade"||s3!=="raster-dem"&&a2==="color-relief"?e2.push(new Tt(n2,r2.source,'layer "'.concat(r2.id,'" requires a raster-dem source'))):s3==="raster"&&a2!=="raster"?e2.push(new Tt(n2,r2.source,'layer "'.concat(r2.id,'" requires a vector source'))):s3!=="vector"||r2["source-layer"]?s3==="raster-dem"&&a2!=="hillshade"&&a2!=="color-relief"?e2.push(new Tt(n2,r2.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):a2!=="line"||!r2.paint||!r2.paint["line-gradient"]||s3==="geojson"&&t3.lineMetrics||e2.push(new Tt(n2,r2,'layer "'.concat(r2.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):e2.push(new Tt(n2,r2,'layer "'.concat(r2.id,'" must specify a "source-layer"'))):e2.push(new Tt(n2,r2.source,'source "'.concat(r2.source,'" not found')))}else e2.push(new Tt(n2,r2,'missing required property "source"'));return e2=e2.concat(Ii({key:n2,value:r2,valueSpec:s2.layer,style:t2.style,styleSpec:t2.styleSpec,validateSpec:t2.validateSpec,objectElementValidators:{"*":__name(()=>[],"*"),type:__name(()=>t2.validateSpec({key:"".concat(n2,".type"),value:r2.type,valueSpec:s2.layer.type,style:t2.style,styleSpec:t2.styleSpec,validateSpec:t2.validateSpec,object:r2,objectKey:"type"}),"type"),filter:Vi2,layout:__name(t3=>Ii({layer:r2,key:t3.key,value:t3.value,style:t3.style,styleSpec:t3.styleSpec,validateSpec:t3.validateSpec,objectElementValidators:{"*":__name(t4=>Di(Vt({layerType:a2},t4)),"*")}}),"layout"),paint:__name(t3=>Ii({layer:r2,key:t3.key,value:t3.value,style:t3.style,styleSpec:t3.styleSpec,validateSpec:t3.validateSpec,objectElementValidators:{"*":__name(t4=>$i(Vt({layerType:a2},t4)),"*")}}),"paint")}})),e2}__name(Oi,"Oi");function Ri(t2){const e2=t2.value,r2=t2.key,n2=Yn(e2);return n2!=="string"?[new Tt(r2,e2,"string expected, ".concat(n2," found"))]:[]}__name(Ri,"Ri");const ji={promoteId:__name(function({key:t2,value:e2}){if(Yn(e2)==="string")return Ri({key:t2,value:e2});{const r2=[];for(const n2 in e2)r2.push(...Ri({key:"".concat(t2,".").concat(n2),value:e2[n2]}));return r2}},"promoteId")};function Ni2(t2){const e2=t2.value,r2=t2.key,n2=t2.styleSpec,i2=t2.style,s2=t2.validateSpec;if(!e2.type)return[new Tt(r2,e2,'"type" is required')];const a2=ki(e2.type);let o2;switch(a2){case"vector":case"raster":return o2=Ii({key:r2,value:e2,valueSpec:n2["source_".concat(a2.replace("-","_"))],style:t2.style,styleSpec:n2,objectElementValidators:ji,validateSpec:s2}),o2;case"raster-dem":return o2=function(t3){var e3;const r3=(e3=t3.sourceName)!==null&&e3!==void 0?e3:"",n3=t3.value,i3=t3.styleSpec,s3=i3.source_raster_dem,a3=t3.style;let o3=[];const l2=Yn(n3);if(n3===void 0)return o3;if(l2!=="object")return o3.push(new Tt("source_raster_dem",n3,"object expected, ".concat(l2," found"))),o3;const u2=ki(n3.encoding)==="custom",c3=["redFactor","greenFactor","blueFactor","baseShift"],h3=t3.value.encoding?'"'.concat(t3.value.encoding,'"'):"Default";for(const e4 in n3)!u2&&c3.includes(e4)?o3.push(new Tt(e4,n3[e4],'In "'.concat(r3,'": "').concat(e4,'" is only valid when "encoding" is set to "custom". ').concat(h3," encoding found"))):s3[e4]?o3=o3.concat(t3.validateSpec({key:e4,value:n3[e4],valueSpec:s3[e4],validateSpec:t3.validateSpec,style:a3,styleSpec:i3})):o3.push(new Tt(e4,n3[e4],'unknown property "'.concat(e4,'"')));return o3}({sourceName:r2,value:e2,style:t2.style,styleSpec:n2,validateSpec:s2}),o2;case"geojson":if(o2=Ii({key:r2,value:e2,valueSpec:n2.source_geojson,style:i2,styleSpec:n2,validateSpec:s2,objectElementValidators:ji}),e2.cluster)for(const t3 in e2.clusterProperties){const[n3,i3]=e2.clusterProperties[t3],s3=typeof n3=="string"?[n3,["accumulated"],["get",t3]]:n3;o2.push(...Bi({key:"".concat(r2,".").concat(t3,".map"),value:i3,expressionContext:"cluster-map"})),o2.push(...Bi({key:"".concat(r2,".").concat(t3,".reduce"),value:s3,expressionContext:"cluster-reduce"}))}return o2;case"video":return Ii({key:r2,value:e2,valueSpec:n2.source_video,style:i2,validateSpec:s2,styleSpec:n2});case"image":return Ii({key:r2,value:e2,valueSpec:n2.source_image,style:i2,validateSpec:s2,styleSpec:n2});case"canvas":return[new Tt(r2,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ti2({key:"".concat(r2,".type"),value:e2.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}__name(Ni2,"Ni");function Ui(t2){const e2=t2.value,r2=t2.styleSpec,n2=r2.light,i2=t2.style;let s2=[];const a2=Yn(e2);if(e2===void 0)return s2;if(a2!=="object")return s2=s2.concat([new Tt("light",e2,"object expected, ".concat(a2," found"))]),s2;for(const a3 in e2){const o2=a3.match(/^(.*)-transition$/);s2=s2.concat(o2&&n2[o2[1]]&&n2[o2[1]].transition?t2.validateSpec({key:a3,value:e2[a3],valueSpec:r2.transition,validateSpec:t2.validateSpec,style:i2,styleSpec:r2}):n2[a3]?t2.validateSpec({key:a3,value:e2[a3],valueSpec:n2[a3],validateSpec:t2.validateSpec,style:i2,styleSpec:r2}):[new Tt(a3,e2[a3],'unknown property "'.concat(a3,'"'))])}return s2}__name(Ui,"Ui");function qi(t2){const e2=t2.value,r2=t2.styleSpec,n2=r2.sky,i2=t2.style,s2=Yn(e2);if(e2===void 0)return[];if(s2!=="object")return[new Tt("sky",e2,"object expected, ".concat(s2," found"))];let a2=[];for(const s3 in e2)a2=a2.concat(n2[s3]?t2.validateSpec({key:s3,value:e2[s3],valueSpec:n2[s3],style:i2,styleSpec:r2}):[new Tt(s3,e2[s3],'unknown property "'.concat(s3,'"'))]);return a2}__name(qi,"qi");function Gi(t2){const e2=t2.value,r2=t2.styleSpec,n2=r2.terrain,i2=t2.style;let s2=[];const a2=Yn(e2);if(e2===void 0)return s2;if(a2!=="object")return s2=s2.concat([new Tt("terrain",e2,"object expected, ".concat(a2," found"))]),s2;for(const a3 in e2)s2=s2.concat(n2[a3]?t2.validateSpec({key:a3,value:e2[a3],valueSpec:n2[a3],validateSpec:t2.validateSpec,style:i2,styleSpec:r2}):[new Tt(a3,e2[a3],'unknown property "'.concat(a3,'"'))]);return s2}__name(Gi,"Gi");function Xi(t2){let e2=[];const r2=t2.value,n2=t2.key;if(Array.isArray(r2)){const i2=[],s2=[];for(const a2 in r2)r2[a2].id&&i2.includes(r2[a2].id)&&e2.push(new Tt(n2,r2,"all the sprites' ids must be unique, but ".concat(r2[a2].id," is duplicated"))),i2.push(r2[a2].id),r2[a2].url&&s2.includes(r2[a2].url)&&e2.push(new Tt(n2,r2,"all the sprites' URLs must be unique, but ".concat(r2[a2].url," is duplicated"))),s2.push(r2[a2].url),e2=e2.concat(Ii({key:"".concat(n2,"[").concat(a2,"]"),value:r2[a2],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:t2.validateSpec}));return e2}return Ri({key:n2,value:r2})}__name(Xi,"Xi");function Zi(t2){return e2=t2.value,e2&&e2.constructor===Object?[]:[new Tt(t2.key,t2.value,"object expected, ".concat(Yn(t2.value)," found"))];var e2}__name(Zi,"Zi");const Yi={"*":__name(()=>[],"*"),array:zi,boolean:__name(function(t2){const e2=t2.value,r2=t2.key,n2=Yn(e2);return n2!=="boolean"?[new Tt(r2,e2,"boolean expected, ".concat(n2," found"))]:[]},"boolean"),number:Pi2,color:Ei2,constants:Ai,enum:Ti2,filter:Vi2,function:Ci,layer:Oi,object:Ii,source:Ni2,light:Ui,sky:qi,terrain:Gi,projection:__name(function(t2){const e2=t2.value,r2=t2.styleSpec,n2=r2.projection,i2=t2.style,s2=Yn(e2);if(e2===void 0)return[];if(s2!=="object")return[new Tt("projection",e2,"object expected, ".concat(s2," found"))];let a2=[];for(const s3 in e2)a2=a2.concat(n2[s3]?t2.validateSpec({key:s3,value:e2[s3],valueSpec:n2[s3],style:i2,styleSpec:r2}):[new Tt(s3,e2[s3],'unknown property "'.concat(s3,'"'))]);return a2},"projection"),projectionDefinition:__name(function(t2){const e2=t2.key;let r2=t2.value;r2=r2 instanceof String?r2.valueOf():r2;const n2=Yn(r2);return n2!=="array"||function(t3){return Array.isArray(t3)&&t3.length===3&&typeof t3[0]=="string"&&typeof t3[1]=="string"&&typeof t3[2]=="number"}(r2)||function(t3){return!!["interpolate","step","literal"].includes(t3[0])}(r2)?["array","string"].includes(n2)?[]:[new Tt(e2,r2,'projection expected, invalid type "'.concat(n2,'" found'))]:[new Tt(e2,r2,"projection expected, invalid array ".concat(JSON.stringify(r2)," found"))]},"projectionDefinition"),string:Ri,formatted:__name(function(t2){return Ri(t2).length===0?[]:Bi(t2)},"formatted"),resolvedImage:__name(function(t2){return Ri(t2).length===0?[]:Bi(t2)},"resolvedImage"),padding:__name(function(t2){const e2=t2.key,r2=t2.value;if(Yn(r2)==="array"){if(r2.length<1||r2.length>4)return[new Tt(e2,r2,"padding requires 1 to 4 values; ".concat(r2.length," values found"))];const n2={type:"number"};let i2=[];for(let s2=0;s2<r2.length;s2++)i2=i2.concat(t2.validateSpec({key:"".concat(e2,"[").concat(s2,"]"),value:r2[s2],validateSpec:t2.validateSpec,valueSpec:n2}));return i2}return Pi2({key:e2,value:r2,valueSpec:{}})},"padding"),numberArray:__name(function(t2){const e2=t2.key,r2=t2.value;if(Yn(r2)==="array"){const n2={type:"number"};if(r2.length<1)return[new Tt(e2,r2,"array length at least 1 expected, length 0 found")];let i2=[];for(let s2=0;s2<r2.length;s2++)i2=i2.concat(t2.validateSpec({key:"".concat(e2,"[").concat(s2,"]"),value:r2[s2],validateSpec:t2.validateSpec,valueSpec:n2}));return i2}return Pi2({key:e2,value:r2,valueSpec:{}})},"numberArray"),colorArray:__name(function(t2){const e2=t2.key,r2=t2.value;if(Yn(r2)==="array"){if(r2.length<1)return[new Tt(e2,r2,"array length at least 1 expected, length 0 found")];let t3=[];for(let n2=0;n2<r2.length;n2++)t3=t3.concat(Ei2({key:"".concat(e2,"[").concat(n2,"]"),value:r2[n2]}));return t3}return Ei2({key:e2,value:r2})},"colorArray"),variableAnchorOffsetCollection:__name(function(t2){const e2=t2.key,r2=t2.value,n2=Yn(r2),i2=t2.styleSpec;if(n2!=="array"||r2.length<1||r2.length%2!=0)return[new Tt(e2,r2,"variableAnchorOffsetCollection requires a non-empty array of even length")];let s2=[];for(let n3=0;n3<r2.length;n3+=2)s2=s2.concat(Ti2({key:"".concat(e2,"[").concat(n3,"]"),value:r2[n3],valueSpec:i2.layout_symbol["text-anchor"]})),s2=s2.concat(zi({key:"".concat(e2,"[").concat(n3+1,"]"),value:r2[n3+1],valueSpec:{length:2,value:"number"},validateSpec:t2.validateSpec,style:t2.style,styleSpec:i2}));return s2},"variableAnchorOffsetCollection"),sprite:Xi,state:Zi};function Hi(t2){const e2=t2.value,r2=t2.valueSpec,n2=t2.styleSpec;return t2.validateSpec=Hi,r2.expression&&Hn(ki(e2))?Ci(t2):r2.expression&&ii(Mi(e2))?Bi(t2):r2.type&&Yi[r2.type]?Yi[r2.type](t2):Ii(Vt({},t2,{valueSpec:r2.type?n2[r2.type]:r2}))}__name(Hi,"Hi");function Ki(t2){const e2=t2.value,r2=t2.key,n2=Ri(t2);return n2.length||(e2.indexOf("{fontstack}")===-1&&n2.push(new Tt(r2,e2,'"glyphs" url must include a "{fontstack}" token')),e2.indexOf("{range}")===-1&&n2.push(new Tt(r2,e2,'"glyphs" url must include a "{range}" token'))),n2}__name(Ki,"Ki");function Ji(t2,e2=wt){let r2=[];return r2=r2.concat(Hi({key:"",value:t2,valueSpec:e2.$root,styleSpec:e2,style:t2,validateSpec:Hi,objectElementValidators:{glyphs:Ki,"*":__name(()=>[],"*")}})),t2.constants&&(r2=r2.concat(Ai({key:"constants",value:t2.constants}))),Qi(r2)}__name(Ji,"Ji");function Wi(t2){return function(e2){return t2({...e2,validateSpec:Hi})}}__name(Wi,"Wi");function Qi(t2){return[].concat(t2).sort((t3,e2)=>t3.line-e2.line)}__name(Qi,"Qi");function ts(t2){return function(...e2){return Qi(t2.apply(this,e2))}}__name(ts,"ts"),Ji.source=ts(Wi(Ni2)),Ji.sprite=ts(Wi(Xi)),Ji.glyphs=ts(Wi(Ki)),Ji.light=ts(Wi(Ui)),Ji.sky=ts(Wi(qi)),Ji.terrain=ts(Wi(Gi)),Ji.state=ts(Wi(Zi)),Ji.layer=ts(Wi(Oi)),Ji.filter=ts(Wi(Vi2)),Ji.paintProperty=ts(Wi($i)),Ji.layoutProperty=ts(Wi(Di));const es=Ji,rs=es.light,ns=es.sky,is=es.paintProperty,ss=es.layoutProperty;function as(t2,e2){let r2=!1;if(e2&&e2.length)for(const n2 of e2)t2.fire(new vt2(new Error(n2.message))),r2=!0;return r2}__name(as,"as");const _os=class _os{constructor(t2,e2,r2){const n2=this.cells=[];if(t2 instanceof ArrayBuffer){this.arrayBuffer=t2;const i3=new Int32Array(this.arrayBuffer);t2=i3[0],this.d=(e2=i3[1])+2*(r2=i3[2]);for(let t3=0;t3<this.d*this.d;t3++){const e3=i3[3+t3],r3=i3[3+t3+1];n2.push(e3===r3?null:i3.subarray(e3,r3))}const s2=i3[3+n2.length+1];this.keys=i3.subarray(i3[3+n2.length],s2),this.bboxes=i3.subarray(s2),this.insert=this._insertReadonly}else{this.d=e2+2*r2;for(let t3=0;t3<this.d*this.d;t3++)n2.push([]);this.keys=[],this.bboxes=[]}this.n=e2,this.extent=t2,this.padding=r2,this.scale=e2/t2,this.uid=0;const i2=r2/e2*t2;this.min=-i2,this.max=t2+i2}insert(t2,e2,r2,n2,i2){this._forEachCell(e2,r2,n2,i2,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t2),this.bboxes.push(e2),this.bboxes.push(r2),this.bboxes.push(n2),this.bboxes.push(i2)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t2,e2,r2,n2,i2,s2){this.cells[i2].push(s2)}query(t2,e2,r2,n2,i2){const s2=this.min,a2=this.max;if(t2<=s2&&e2<=s2&&a2<=r2&&a2<=n2&&!i2)return Array.prototype.slice.call(this.keys);{const s3=[];return this._forEachCell(t2,e2,r2,n2,this._queryCell,s3,{},i2),s3}}_queryCell(t2,e2,r2,n2,i2,s2,a2,o2){const l2=this.cells[i2];if(l2!==null){const i3=this.keys,u2=this.bboxes;for(let c3=0;c3<l2.length;c3++){const h3=l2[c3];if(a2[h3]===void 0){const l3=4*h3;(o2?o2(u2[l3+0],u2[l3+1],u2[l3+2],u2[l3+3]):t2<=u2[l3+2]&&e2<=u2[l3+3]&&r2>=u2[l3+0]&&n2>=u2[l3+1])?(a2[h3]=!0,s2.push(i3[h3])):a2[h3]=!1}}}}_forEachCell(t2,e2,r2,n2,i2,s2,a2,o2){const l2=this._convertToCellCoord(t2),u2=this._convertToCellCoord(e2),c3=this._convertToCellCoord(r2),h3=this._convertToCellCoord(n2);for(let p3=l2;p3<=c3;p3++)for(let l3=u2;l3<=h3;l3++){const u3=this.d*l3+p3;if((!o2||o2(this._convertFromCellCoord(p3),this._convertFromCellCoord(l3),this._convertFromCellCoord(p3+1),this._convertFromCellCoord(l3+1)))&&i2.call(this,t2,e2,r2,n2,u3,s2,a2,o2))return}}_convertFromCellCoord(t2){return(t2-this.padding)/this.scale}_convertToCellCoord(t2){return Math.max(0,Math.min(this.d-1,Math.floor(t2*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t2=this.cells,e2=3+this.cells.length+1+1;let r2=0;for(let t3=0;t3<this.cells.length;t3++)r2+=this.cells[t3].length;const n2=new Int32Array(e2+r2+this.keys.length+this.bboxes.length);n2[0]=this.extent,n2[1]=this.n,n2[2]=this.padding;let i2=e2;for(let e3=0;e3<t2.length;e3++){const r3=t2[e3];n2[3+e3]=i2,n2.set(r3,i2),i2+=r3.length}return n2[3+t2.length]=i2,n2.set(this.keys,i2),i2+=this.keys.length,n2[3+t2.length+1]=i2,n2.set(this.bboxes,i2),i2+=this.bboxes.length,n2.buffer}static serialize(t2,e2){const r2=t2.toArrayBuffer();return e2&&e2.push(r2),{buffer:r2}}static deserialize(t2){return new _os(t2.buffer)}};__name(_os,"os");let os=_os;const ls={};function us(t2,e2,r2={}){if(ls[t2])throw new Error("".concat(t2," is already registered."));Object.defineProperty(e2,"_classRegistryKey",{value:t2,writeable:!1}),ls[t2]={klass:e2,omit:r2.omit||[],shallow:r2.shallow||[]}}__name(us,"us"),us("Object",Object),us("Set",Set),us("TransferableGridIndex",os),us("Color",Pe2),us("Error",Error),us("AJAXError",pt2),us("ResolvedImage",Re),us("StylePropertyFunction",ui2),us("StyleExpression",ni,{omit:["_evaluator"]}),us("ZoomDependentExpression",oi),us("ZoomConstantExpression",ai2),us("CompoundExpression",Vn,{omit:["_evaluate"]});for(const t2 in Tn)Tn[t2]._classRegistryKey||us("Expression_".concat(t2),Tn[t2]);function cs(t2){return t2&&typeof ArrayBuffer<"u"&&(t2 instanceof ArrayBuffer||t2.constructor&&t2.constructor.name==="ArrayBuffer")}__name(cs,"cs");function hs(t2){return t2.$name||t2.constructor._classRegistryKey}__name(hs,"hs");function ps(t2){return!function(t3){if(t3===null||typeof t3!="object")return!1;const e2=hs(t3);return!(!e2||e2==="Object")}(t2)&&(t2==null||typeof t2=="boolean"||typeof t2=="number"||typeof t2=="string"||t2 instanceof Boolean||t2 instanceof Number||t2 instanceof String||t2 instanceof Date||t2 instanceof RegExp||t2 instanceof Blob||t2 instanceof Error||cs(t2)||J(t2)||ArrayBuffer.isView(t2)||t2 instanceof ImageData)}__name(ps,"ps");function fs(t2,e2){if(ps(t2))return(cs(t2)||J(t2))&&e2&&e2.push(t2),ArrayBuffer.isView(t2)&&e2&&e2.push(t2.buffer),t2 instanceof ImageData&&e2&&e2.push(t2.data.buffer),t2;if(Array.isArray(t2)){const r3=[];for(const n3 of t2)r3.push(fs(n3,e2));return r3}if(typeof t2!="object")throw new Error("can't serialize object of type "+typeof t2);const r2=hs(t2);if(!r2)throw new Error("can't serialize object of unregistered class ".concat(t2.constructor.name));if(!ls[r2])throw new Error("".concat(r2," is not registered."));const{klass:n2}=ls[r2],i2=n2.serialize?n2.serialize(t2,e2):{};if(n2.serialize){if(e2&&i2===e2[e2.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const n3 in t2){if(!t2.hasOwnProperty(n3)||ls[r2].omit.indexOf(n3)>=0)continue;const s2=t2[n3];i2[n3]=ls[r2].shallow.indexOf(n3)>=0?s2:fs(s2,e2)}t2 instanceof Error&&(i2.message=t2.message)}if(i2.$name)throw new Error("$name property is reserved for worker serialization logic.");return r2!=="Object"&&(i2.$name=r2),i2}__name(fs,"fs");function ds(t2){if(ps(t2))return t2;if(Array.isArray(t2))return t2.map(ds);if(typeof t2!="object")throw new Error("can't deserialize object of type "+typeof t2);const e2=hs(t2)||"Object";if(!ls[e2])throw new Error("can't deserialize unregistered class ".concat(e2));const{klass:r2}=ls[e2];if(!r2)throw new Error("can't deserialize unregistered class ".concat(e2));if(r2.deserialize)return r2.deserialize(t2);const n2=Object.create(r2.prototype);for(const r3 of Object.keys(t2)){if(r3==="$name")continue;const i2=t2[r3];n2[r3]=ls[e2].shallow.indexOf(r3)>=0?i2:ds(i2)}return n2}__name(ds,"ds");const _ys=class _ys{constructor(){this.first=!0}update(t2,e2){const r2=Math.floor(t2);return this.first?(this.first=!1,this.lastIntegerZoom=r2,this.lastIntegerZoomTime=0,this.lastZoom=t2,this.lastFloorZoom=r2,!0):(this.lastFloorZoom>r2?(this.lastIntegerZoom=r2+1,this.lastIntegerZoomTime=e2):this.lastFloorZoom<r2&&(this.lastIntegerZoom=r2,this.lastIntegerZoomTime=e2),t2!==this.lastZoom&&(this.lastZoom=t2,this.lastFloorZoom=r2,!0))}};__name(_ys,"ys");let ys=_ys;const ms={"Latin-1 Supplement":__name(t2=>t2>=128&&t2<=255,"Latin-1 Supplement"),"Hangul Jamo":__name(t2=>t2>=4352&&t2<=4607,"Hangul Jamo"),Khmer:__name(t2=>t2>=6016&&t2<=6143,"Khmer"),"General Punctuation":__name(t2=>t2>=8192&&t2<=8303,"General Punctuation"),"Letterlike Symbols":__name(t2=>t2>=8448&&t2<=8527,"Letterlike Symbols"),"Number Forms":__name(t2=>t2>=8528&&t2<=8591,"Number Forms"),"Miscellaneous Technical":__name(t2=>t2>=8960&&t2<=9215,"Miscellaneous Technical"),"Control Pictures":__name(t2=>t2>=9216&&t2<=9279,"Control Pictures"),"Optical Character Recognition":__name(t2=>t2>=9280&&t2<=9311,"Optical Character Recognition"),"Enclosed Alphanumerics":__name(t2=>t2>=9312&&t2<=9471,"Enclosed Alphanumerics"),"Geometric Shapes":__name(t2=>t2>=9632&&t2<=9727,"Geometric Shapes"),"Miscellaneous Symbols":__name(t2=>t2>=9728&&t2<=9983,"Miscellaneous Symbols"),"Miscellaneous Symbols and Arrows":__name(t2=>t2>=11008&&t2<=11263,"Miscellaneous Symbols and Arrows"),"Ideographic Description Characters":__name(t2=>t2>=12272&&t2<=12287,"Ideographic Description Characters"),"CJK Symbols and Punctuation":__name(t2=>t2>=12288&&t2<=12351,"CJK Symbols and Punctuation"),Hiragana:__name(t2=>t2>=12352&&t2<=12447,"Hiragana"),Katakana:__name(t2=>t2>=12448&&t2<=12543,"Katakana"),Kanbun:__name(t2=>t2>=12688&&t2<=12703,"Kanbun"),"CJK Strokes":__name(t2=>t2>=12736&&t2<=12783,"CJK Strokes"),"Enclosed CJK Letters and Months":__name(t2=>t2>=12800&&t2<=13055,"Enclosed CJK Letters and Months"),"CJK Compatibility":__name(t2=>t2>=13056&&t2<=13311,"CJK Compatibility"),"Yijing Hexagram Symbols":__name(t2=>t2>=19904&&t2<=19967,"Yijing Hexagram Symbols"),"CJK Unified Ideographs":__name(t2=>t2>=19968&&t2<=40959,"CJK Unified Ideographs"),"Hangul Syllables":__name(t2=>t2>=44032&&t2<=55215,"Hangul Syllables"),"Private Use Area":__name(t2=>t2>=57344&&t2<=63743,"Private Use Area"),"Vertical Forms":__name(t2=>t2>=65040&&t2<=65055,"Vertical Forms"),"CJK Compatibility Forms":__name(t2=>t2>=65072&&t2<=65103,"CJK Compatibility Forms"),"Small Form Variants":__name(t2=>t2>=65104&&t2<=65135,"Small Form Variants"),"Halfwidth and Fullwidth Forms":__name(t2=>t2>=65280&&t2<=65519,"Halfwidth and Fullwidth Forms")};function gs(t2){for(const e2 of t2)if(Ss(e2.charCodeAt(0)))return!0;return!1}__name(gs,"gs");function xs(t2){for(const e2 of t2)if(!ws(e2.charCodeAt(0)))return!1;return!0}__name(xs,"xs");function vs(t2){const e2=t2.map(t3=>{try{return new RegExp("\\p{sc=".concat(t3,"}"),"u").source}catch(t4){return null}}).filter(t3=>t3);return new RegExp(e2.join("|"),"u")}__name(vs,"vs");const bs=vs(["Arab","Dupl","Mong","Ougr","Syrc"]);function ws(t2){return!bs.test(String.fromCodePoint(t2))}__name(ws,"ws");const _s=vs(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Ss(t2){return!(t2!==746&&t2!==747&&(t2<4352||!(ms["CJK Compatibility Forms"](t2)&&!(t2>=65097&&t2<=65103)||ms["CJK Compatibility"](t2)||ms["CJK Strokes"](t2)||!(!ms["CJK Symbols and Punctuation"](t2)||t2>=12296&&t2<=12305||t2>=12308&&t2<=12319||t2===12336)||ms["Enclosed CJK Letters and Months"](t2)||ms["Ideographic Description Characters"](t2)||ms.Kanbun(t2)||ms.Katakana(t2)&&t2!==12540||!(!ms["Halfwidth and Fullwidth Forms"](t2)||t2===65288||t2===65289||t2===65293||t2>=65306&&t2<=65310||t2===65339||t2===65341||t2===65343||t2>=65371&&t2<=65503||t2===65507||t2>=65512&&t2<=65519)||!(!ms["Small Form Variants"](t2)||t2>=65112&&t2<=65118||t2>=65123&&t2<=65126)||ms["Vertical Forms"](t2)||ms["Yijing Hexagram Symbols"](t2)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(t2))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(t2))||_s.test(String.fromCodePoint(t2)))))}__name(Ss,"Ss");function As(t2){return!(Ss(t2)||function(t3){return!!(ms["Latin-1 Supplement"](t3)&&(t3===167||t3===169||t3===174||t3===177||t3===188||t3===189||t3===190||t3===215||t3===247)||ms["General Punctuation"](t3)&&(t3===8214||t3===8224||t3===8225||t3===8240||t3===8241||t3===8251||t3===8252||t3===8258||t3===8263||t3===8264||t3===8265||t3===8273)||ms["Letterlike Symbols"](t3)||ms["Number Forms"](t3)||ms["Miscellaneous Technical"](t3)&&(t3>=8960&&t3<=8967||t3>=8972&&t3<=8991||t3>=8996&&t3<=9e3||t3===9003||t3>=9085&&t3<=9114||t3>=9150&&t3<=9165||t3===9167||t3>=9169&&t3<=9179||t3>=9186&&t3<=9215)||ms["Control Pictures"](t3)&&t3!==9251||ms["Optical Character Recognition"](t3)||ms["Enclosed Alphanumerics"](t3)||ms["Geometric Shapes"](t3)||ms["Miscellaneous Symbols"](t3)&&!(t3>=9754&&t3<=9759)||ms["Miscellaneous Symbols and Arrows"](t3)&&(t3>=11026&&t3<=11055||t3>=11088&&t3<=11097||t3>=11192&&t3<=11243)||ms["CJK Symbols and Punctuation"](t3)||ms.Katakana(t3)||ms["Private Use Area"](t3)||ms["CJK Compatibility Forms"](t3)||ms["Small Form Variants"](t3)||ms["Halfwidth and Fullwidth Forms"](t3)||t3===8734||t3===8756||t3===8757||t3>=9984&&t3<=10087||t3>=10102&&t3<=10131||t3===65532||t3===65533)}(t2))}__name(As,"As");const ks=vs(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Ms(t2){return ks.test(String.fromCodePoint(t2))}__name(Ms,"Ms");function Is(t2,e2){return!(!e2&&Ms(t2)||t2>=2304&&t2<=3583||t2>=3840&&t2<=4255||ms.Khmer(t2))}__name(Is,"Is");function zs(t2){for(const e2 of t2)if(Ms(e2.charCodeAt(0)))return!0;return!1}__name(zs,"zs");const Ps=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(t2){this.pluginStatus=t2.pluginStatus,this.pluginURL=t2.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(t2){if(Ps.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=t2.applyArabicShaping,this.processBidirectionalText=t2.processBidirectionalText,this.processStyledBidirectionalText=t2.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(t2,r2){return e(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(t2.pluginStatus!=="loading")return this.setState(t2),t2;const e2=t2.pluginURL,n2=new Promise(t3=>{this.loadScriptResolve=t3});r2(e2);const i2=new Promise(t3=>setTimeout(()=>t3(),this.TIMEOUT));if(yield Promise.race([n2,i2]),this.isParsed()){const t3={pluginStatus:"loaded",pluginURL:e2};return this.setState(t3),t3}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error("RTL Text Plugin failed to import scripts from ".concat(e2))})}},_Cs=class _Cs{constructor(t2,e2){this.zoom=t2,e2?(this.now=e2.now||0,this.fadeDuration=e2.fadeDuration||0,this.zoomHistory=e2.zoomHistory||new ys,this.transition=e2.transition||{},this.globalState=e2.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ys,this.transition={},this.globalState={})}isSupportedScript(t2){return function(t3,e2){for(const r2 of t3)if(!Is(r2.charCodeAt(0),e2))return!1;return!0}(t2,Ps.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t2=this.zoom,e2=t2-Math.floor(t2),r2=this.crossFadingFactor();return t2>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e2+(1-e2)*r2}:{fromScale:.5,toScale:1,t:1-(1-r2)*e2}}};__name(_Cs,"Cs");let Cs=_Cs;const _Bs=class _Bs{constructor(t2,e2){this.property=t2,this.value=e2,this.expression=function(t3,e3){if(Hn(t3))return new ui2(t3,e3);if(ii(t3)){const r2=li(t3,e3);if(r2.result==="error")throw new Error(r2.value.map(t4=>"".concat(t4.key,": ").concat(t4.message)).join(", "));return r2.value}{let r2=t3;return e3.type==="color"&&typeof t3=="string"?r2=Pe2.parse(t3):e3.type!=="padding"||typeof t3!="number"&&!Array.isArray(t3)?e3.type!=="numberArray"||typeof t3!="number"&&!Array.isArray(t3)?e3.type!=="colorArray"||typeof t3!="string"&&!Array.isArray(t3)?e3.type==="variableAnchorOffsetCollection"&&Array.isArray(t3)?r2=Oe.parse(t3):e3.type==="projectionDefinition"&&typeof t3=="string"&&(r2=je.parse(t3)):r2=Le.parse(t3):r2=Fe.parse(t3):r2=Ve.parse(t3),{globalStateRefs:new Set,kind:"constant",evaluate:__name(()=>r2,"evaluate")}}}(e2===void 0?t2.specification.default:e2,t2.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(t2,e2,r2){return this.property.possiblyEvaluate(this,t2,e2,r2)}};__name(_Bs,"Bs");let Bs=_Bs;const _Es=class _Es{constructor(t2){this.property=t2,this.value=new Bs(t2,void 0)}transitioned(t2,e2){return new Vs(this.property,this.value,e2,j({},t2.transition,this.transition),t2.now)}untransitioned(){return new Vs(this.property,this.value,null,{},0)}};__name(_Es,"Es");let Es=_Es;const _Ts=class _Ts{constructor(t2){this._properties=t2,this._values=Object.create(t2.defaultTransitionablePropertyValues)}getValue(t2){return G(this._values[t2].value.value)}setValue(t2,e2){Object.prototype.hasOwnProperty.call(this._values,t2)||(this._values[t2]=new Es(this._values[t2].property)),this._values[t2].value=new Bs(this._values[t2].property,e2===null?void 0:G(e2))}getTransition(t2){return G(this._values[t2].transition)}setTransition(t2,e2){Object.prototype.hasOwnProperty.call(this._values,t2)||(this._values[t2]=new Es(this._values[t2].property)),this._values[t2].transition=G(e2)||void 0}serialize(){const t2={};for(const e2 of Object.keys(this._values)){const r2=this.getValue(e2);r2!==void 0&&(t2[e2]=r2);const n2=this.getTransition(e2);n2!==void 0&&(t2["".concat(e2,"-transition")]=n2)}return t2}transitioned(t2,e2){const r2=new Fs(this._properties);for(const n2 of Object.keys(this._values))r2._values[n2]=this._values[n2].transitioned(t2,e2._values[n2]);return r2}untransitioned(){const t2=new Fs(this._properties);for(const e2 of Object.keys(this._values))t2._values[e2]=this._values[e2].untransitioned();return t2}};__name(_Ts,"Ts");let Ts=_Ts;const _Vs=class _Vs{constructor(t2,e2,r2,n2,i2){this.property=t2,this.value=e2,this.begin=i2+n2.delay||0,this.end=this.begin+n2.duration||0,t2.specification.transition&&(n2.delay||n2.duration)&&(this.prior=r2)}possiblyEvaluate(t2,e2,r2){const n2=t2.now||0,i2=this.value.possiblyEvaluate(t2,e2,r2),s2=this.prior;if(s2){if(n2>this.end)return this.prior=null,i2;if(this.value.isDataDriven())return this.prior=null,i2;if(n2<this.begin)return s2.possiblyEvaluate(t2,e2,r2);{const a2=(n2-this.begin)/(this.end-this.begin);return this.property.interpolate(s2.possiblyEvaluate(t2,e2,r2),i2,L(a2))}}return i2}};__name(_Vs,"Vs");let Vs=_Vs;const _Fs=class _Fs{constructor(t2){this._properties=t2,this._values=Object.create(t2.defaultTransitioningPropertyValues)}possiblyEvaluate(t2,e2,r2){const n2=new Ds(this._properties);for(const i2 of Object.keys(this._values))n2._values[i2]=this._values[i2].possiblyEvaluate(t2,e2,r2);return n2}hasTransition(){for(const t2 of Object.keys(this._values))if(this._values[t2].prior)return!0;return!1}};__name(_Fs,"Fs");let Fs=_Fs;const _Ls=class _Ls{constructor(t2){this._properties=t2,this._values=Object.create(t2.defaultPropertyValues)}hasValue(t2){return this._values[t2].value!==void 0}getValue(t2){return G(this._values[t2].value)}setValue(t2,e2){this._values[t2]=new Bs(this._values[t2].property,e2===null?void 0:G(e2))}serialize(){const t2={};for(const e2 of Object.keys(this._values)){const r2=this.getValue(e2);r2!==void 0&&(t2[e2]=r2)}return t2}possiblyEvaluate(t2,e2,r2){const n2=new Ds(this._properties);for(const i2 of Object.keys(this._values))n2._values[i2]=this._values[i2].possiblyEvaluate(t2,e2,r2);return n2}};__name(_Ls,"Ls");let Ls=_Ls;const _$s=class _$s{constructor(t2,e2,r2){this.property=t2,this.value=e2,this.parameters=r2}isConstant(){return this.value.kind==="constant"}constantOr(t2){return this.value.kind==="constant"?this.value.value:t2}evaluate(t2,e2,r2,n2){return this.property.evaluate(this.value,this.parameters,t2,e2,r2,n2)}};__name(_$s,"$s");let $s=_$s;const _Ds=class _Ds{constructor(t2){this._properties=t2,this._values=Object.create(t2.defaultPossiblyEvaluatedValues)}get(t2){return this._values[t2]}};__name(_Ds,"Ds");let Ds=_Ds;const _Os=class _Os{constructor(t2){this.specification=t2}possiblyEvaluate(t2,e2){if(t2.isDataDriven())throw new Error("Value should not be data driven");return t2.expression.evaluate(e2)}interpolate(t2,e2,r2){const n2=gr[this.specification.type];return n2?n2(t2,e2,r2):t2}};__name(_Os,"Os");let Os=_Os;const _Rs=class _Rs{constructor(t2,e2){this.specification=t2,this.overrides=e2}possiblyEvaluate(t2,e2,r2,n2){return new $s(this,t2.expression.kind==="constant"||t2.expression.kind==="camera"?{kind:"constant",value:t2.expression.evaluate(e2,null,{},r2,n2)}:t2.expression,e2)}interpolate(t2,e2,r2){if(t2.value.kind!=="constant"||e2.value.kind!=="constant")return t2;if(t2.value.value===void 0||e2.value.value===void 0)return new $s(this,{kind:"constant",value:void 0},t2.parameters);const n2=gr[this.specification.type];if(n2){const i2=n2(t2.value.value,e2.value.value,r2);return new $s(this,{kind:"constant",value:i2},t2.parameters)}return t2}evaluate(t2,e2,r2,n2,i2,s2){return t2.kind==="constant"?t2.value:t2.evaluate(e2,r2,n2,i2,s2)}};__name(_Rs,"Rs");let Rs=_Rs;const _js=class _js extends Rs{possiblyEvaluate(t2,e2,r2,n2){if(t2.value===void 0)return new $s(this,{kind:"constant",value:void 0},e2);if(t2.expression.kind==="constant"){const i2=t2.expression.evaluate(e2,null,{},r2,n2),s2=t2.property.specification.type==="resolvedImage"&&typeof i2!="string"?i2.name:i2,a2=this._calculate(s2,s2,s2,e2);return new $s(this,{kind:"constant",value:a2},e2)}if(t2.expression.kind==="camera"){const r3=this._calculate(t2.expression.evaluate({zoom:e2.zoom-1}),t2.expression.evaluate({zoom:e2.zoom}),t2.expression.evaluate({zoom:e2.zoom+1}),e2);return new $s(this,{kind:"constant",value:r3},e2)}return new $s(this,t2.expression,e2)}evaluate(t2,e2,r2,n2,i2,s2){if(t2.kind==="source"){const a2=t2.evaluate(e2,r2,n2,i2,s2);return this._calculate(a2,a2,a2,e2)}return t2.kind==="composite"?this._calculate(t2.evaluate({zoom:Math.floor(e2.zoom)-1},r2,n2),t2.evaluate({zoom:Math.floor(e2.zoom)},r2,n2),t2.evaluate({zoom:Math.floor(e2.zoom)+1},r2,n2),e2):t2.value}_calculate(t2,e2,r2,n2){return n2.zoom>n2.zoomHistory.lastIntegerZoom?{from:t2,to:e2}:{from:r2,to:e2}}interpolate(t2){return t2}};__name(_js,"js");let js=_js;const _Ns=class _Ns{constructor(t2){this.specification=t2}possiblyEvaluate(t2,e2,r2,n2){if(t2.value!==void 0){if(t2.expression.kind==="constant"){const i2=t2.expression.evaluate(e2,null,{},r2,n2);return this._calculate(i2,i2,i2,e2)}return this._calculate(t2.expression.evaluate(new Cs(Math.floor(e2.zoom-1),e2)),t2.expression.evaluate(new Cs(Math.floor(e2.zoom),e2)),t2.expression.evaluate(new Cs(Math.floor(e2.zoom+1),e2)),e2)}}_calculate(t2,e2,r2,n2){return n2.zoom>n2.zoomHistory.lastIntegerZoom?{from:t2,to:e2}:{from:r2,to:e2}}interpolate(t2){return t2}};__name(_Ns,"Ns");let Ns=_Ns;const _Us=class _Us{constructor(t2){this.specification=t2}possiblyEvaluate(t2,e2,r2,n2){return!!t2.expression.evaluate(e2,null,{},r2,n2)}interpolate(){return!1}};__name(_Us,"Us");let Us=_Us;const _qs=class _qs{constructor(t2){this.properties=t2,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e2 in t2){const r2=t2[e2];r2.specification.overridable&&this.overridableProperties.push(e2);const n2=this.defaultPropertyValues[e2]=new Bs(r2,void 0),i2=this.defaultTransitionablePropertyValues[e2]=new Es(r2);this.defaultTransitioningPropertyValues[e2]=i2.untransitioned(),this.defaultPossiblyEvaluatedValues[e2]=n2.possiblyEvaluate({})}}};__name(_qs,"qs");let qs=_qs;us("DataDrivenProperty",Rs),us("DataConstantProperty",Os),us("CrossFadedDataDrivenProperty",js),us("CrossFadedProperty",Ns),us("ColorRampProperty",Us);const Gs="-transition",_Xs=class _Xs extends bt{constructor(t2,e2){if(super(),this.id=t2.id,this.type=t2.type,this._featureFilter={filter:__name(()=>!0,"filter"),needGeometry:!1,getGlobalStateRefs:__name(()=>new Set,"getGlobalStateRefs")},t2.type!=="custom"&&(this.metadata=t2.metadata,this.minzoom=t2.minzoom,this.maxzoom=t2.maxzoom,t2.type!=="background"&&(this.source=t2.source,this.sourceLayer=t2["source-layer"],this.filter=t2.filter,this._featureFilter=di(t2.filter)),e2.layout&&(this._unevaluatedLayout=new Ls(e2.layout)),e2.paint)){this._transitionablePaint=new Ts(e2.paint);for(const e3 in t2.paint)this.setPaintProperty(e3,t2.paint[e3],{validate:!1});for(const e3 in t2.layout)this.setLayoutProperty(e3,t2.layout[e3],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ds(e2.paint)}}setFilter(t2){this.filter=t2,this._featureFilter=di(t2)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t2){return t2==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t2)}getLayoutAffectingGlobalStateRefs(){const t2=new Set;if(this._unevaluatedLayout)for(const e2 in this._unevaluatedLayout._values){const r2=this._unevaluatedLayout._values[e2];for(const e3 of r2.getGlobalStateRefs())t2.add(e3)}for(const e2 of this._featureFilter.getGlobalStateRefs())t2.add(e2);return t2}setLayoutProperty(t2,e2,r2={}){e2!=null&&this._validate(ss,"layers.".concat(this.id,".layout.").concat(t2),t2,e2,r2)||(t2!=="visibility"?this._unevaluatedLayout.setValue(t2,e2):this.visibility=e2)}getPaintProperty(t2){return t2.endsWith(Gs)?this._transitionablePaint.getTransition(t2.slice(0,-11)):this._transitionablePaint.getValue(t2)}setPaintProperty(t2,e2,r2={}){if(e2!=null&&this._validate(is,"layers.".concat(this.id,".paint.").concat(t2),t2,e2,r2))return!1;if(t2.endsWith(Gs))return this._transitionablePaint.setTransition(t2.slice(0,-11),e2||void 0),!1;{const r3=this._transitionablePaint._values[t2],n2=r3.property.specification["property-type"]==="cross-faded-data-driven",i2=r3.value.isDataDriven(),s2=r3.value;this._transitionablePaint.setValue(t2,e2),this._handleSpecialPaintPropertyUpdate(t2);const a2=this._transitionablePaint._values[t2].value;return a2.isDataDriven()||i2||n2||this._handleOverridablePaintPropertyUpdate(t2,s2,a2)}}_handleSpecialPaintPropertyUpdate(t2){}_handleOverridablePaintPropertyUpdate(t2,e2,r2){return!1}isHidden(t2){return!!(this.minzoom&&t2<this.minzoom)||!!(this.maxzoom&&t2>=this.maxzoom)||this.visibility==="none"}updateTransitions(t2){this._transitioningPaint=this._transitionablePaint.transitioned(t2,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t2,e2){t2.getCrossfadeParameters&&(this._crossfadeParameters=t2.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t2,void 0,e2)),this.paint=this._transitioningPaint.possiblyEvaluate(t2,void 0,e2)}serialize(){const t2={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t2.layout=t2.layout||{},t2.layout.visibility=this.visibility),q2(t2,(t3,e2)=>!(t3===void 0||e2==="layout"&&!Object.keys(t3).length||e2==="paint"&&!Object.keys(t3).length))}_validate(t2,e2,r2,n2,i2={}){return(!i2||i2.validate!==!1)&&as(this,t2.call(es,{key:e2,layerType:this.type,objectKey:r2,value:n2,styleSpec:wt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t2 in this.paint._values){const e2=this.paint.get(t2);if(e2 instanceof $s&&Gn(e2.property.specification)&&(e2.value.kind==="source"||e2.value.kind==="composite")&&e2.value.isStateDependent)return!0}return!1}};__name(_Xs,"Xs");let Xs=_Xs;const Zs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_Ys=class _Ys{constructor(t2,e2){this._structArray=t2,this._pos1=e2*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}};__name(_Ys,"Ys");let Ys=_Ys;const _Hs=class _Hs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t2,e2){return t2._trim(),e2&&(t2.isTransferred=!0,e2.push(t2.arrayBuffer)),{length:t2.length,arrayBuffer:t2.arrayBuffer}}static deserialize(t2){const e2=Object.create(this.prototype);return e2.arrayBuffer=t2.arrayBuffer,e2.length=t2.length,e2.capacity=t2.arrayBuffer.byteLength/e2.bytesPerElement,e2._refreshViews(),e2}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t2){this.reserve(t2),this.length=t2}reserve(t2){if(t2>this.capacity){this.capacity=Math.max(t2,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e2=this.uint8;this._refreshViews(),e2&&this.uint8.set(e2)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}};__name(_Hs,"Hs");let Hs=_Hs;function Ks(t2,e2=1){let r2=0,n2=0;return{members:t2.map(t3=>{const i2=Zs[t3.type].BYTES_PER_ELEMENT,s2=r2=Js(r2,Math.max(e2,i2)),a2=t3.components||1;return n2=Math.max(n2,i2),r2+=i2*a2,{name:t3.name,type:t3.type,components:a2,offset:s2}}),size:Js(r2,Math.max(n2,e2)),alignment:e2}}__name(Ks,"Ks");function Js(t2,e2){return Math.ceil(t2/e2)*e2}__name(Js,"Js");const _Ws=class _Ws extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2){const r2=this.length;return this.resize(r2+1),this.emplace(r2,t2,e2)}emplace(t2,e2,r2){const n2=2*t2;return this.int16[n2+0]=e2,this.int16[n2+1]=r2,t2}};__name(_Ws,"Ws");let Ws=_Ws;Ws.prototype.bytesPerElement=4,us("StructArrayLayout2i4",Ws);const _Qs=class _Qs extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2){const n2=this.length;return this.resize(n2+1),this.emplace(n2,t2,e2,r2)}emplace(t2,e2,r2,n2){const i2=3*t2;return this.int16[i2+0]=e2,this.int16[i2+1]=r2,this.int16[i2+2]=n2,t2}};__name(_Qs,"Qs");let Qs=_Qs;Qs.prototype.bytesPerElement=6,us("StructArrayLayout3i6",Qs);const _ta=class _ta extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2){const i2=this.length;return this.resize(i2+1),this.emplace(i2,t2,e2,r2,n2)}emplace(t2,e2,r2,n2,i2){const s2=4*t2;return this.int16[s2+0]=e2,this.int16[s2+1]=r2,this.int16[s2+2]=n2,this.int16[s2+3]=i2,t2}};__name(_ta,"ta");let ta=_ta;ta.prototype.bytesPerElement=8,us("StructArrayLayout4i8",ta);const _ea=class _ea extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2){const a2=this.length;return this.resize(a2+1),this.emplace(a2,t2,e2,r2,n2,i2,s2)}emplace(t2,e2,r2,n2,i2,s2,a2){const o2=6*t2;return this.int16[o2+0]=e2,this.int16[o2+1]=r2,this.int16[o2+2]=n2,this.int16[o2+3]=i2,this.int16[o2+4]=s2,this.int16[o2+5]=a2,t2}};__name(_ea,"ea");let ea=_ea;ea.prototype.bytesPerElement=12,us("StructArrayLayout2i4i12",ea);const _ra=class _ra extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2){const a2=this.length;return this.resize(a2+1),this.emplace(a2,t2,e2,r2,n2,i2,s2)}emplace(t2,e2,r2,n2,i2,s2,a2){const o2=4*t2,l2=8*t2;return this.int16[o2+0]=e2,this.int16[o2+1]=r2,this.uint8[l2+4]=n2,this.uint8[l2+5]=i2,this.uint8[l2+6]=s2,this.uint8[l2+7]=a2,t2}};__name(_ra,"ra");let ra=_ra;ra.prototype.bytesPerElement=8,us("StructArrayLayout2i4ub8",ra);const _na=class _na extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2){const r2=this.length;return this.resize(r2+1),this.emplace(r2,t2,e2)}emplace(t2,e2,r2){const n2=2*t2;return this.float32[n2+0]=e2,this.float32[n2+1]=r2,t2}};__name(_na,"na");let na=_na;na.prototype.bytesPerElement=8,us("StructArrayLayout2f8",na);const _ia=class _ia extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2){const c3=this.length;return this.resize(c3+1),this.emplace(c3,t2,e2,r2,n2,i2,s2,a2,o2,l2,u2)}emplace(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3){const h3=10*t2;return this.uint16[h3+0]=e2,this.uint16[h3+1]=r2,this.uint16[h3+2]=n2,this.uint16[h3+3]=i2,this.uint16[h3+4]=s2,this.uint16[h3+5]=a2,this.uint16[h3+6]=o2,this.uint16[h3+7]=l2,this.uint16[h3+8]=u2,this.uint16[h3+9]=c3,t2}};__name(_ia,"ia");let ia=_ia;ia.prototype.bytesPerElement=20,us("StructArrayLayout10ui20",ia);const _sa=class _sa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3){const p3=this.length;return this.resize(p3+1),this.emplace(p3,t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3)}emplace(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3){const f2=12*t2;return this.int16[f2+0]=e2,this.int16[f2+1]=r2,this.int16[f2+2]=n2,this.int16[f2+3]=i2,this.uint16[f2+4]=s2,this.uint16[f2+5]=a2,this.uint16[f2+6]=o2,this.uint16[f2+7]=l2,this.int16[f2+8]=u2,this.int16[f2+9]=c3,this.int16[f2+10]=h3,this.int16[f2+11]=p3,t2}};__name(_sa,"sa");let sa=_sa;sa.prototype.bytesPerElement=24,us("StructArrayLayout4i4ui4i24",sa);const _aa=class _aa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2,r2){const n2=this.length;return this.resize(n2+1),this.emplace(n2,t2,e2,r2)}emplace(t2,e2,r2,n2){const i2=3*t2;return this.float32[i2+0]=e2,this.float32[i2+1]=r2,this.float32[i2+2]=n2,t2}};__name(_aa,"aa");let aa=_aa;aa.prototype.bytesPerElement=12,us("StructArrayLayout3f12",aa);const _oa=class _oa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t2){const e2=this.length;return this.resize(e2+1),this.emplace(e2,t2)}emplace(t2,e2){return this.uint32[1*t2+0]=e2,t2}};__name(_oa,"oa");let oa=_oa;oa.prototype.bytesPerElement=4,us("StructArrayLayout1ul4",oa);const _la=class _la extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2,a2,o2,l2){const u2=this.length;return this.resize(u2+1),this.emplace(u2,t2,e2,r2,n2,i2,s2,a2,o2,l2)}emplace(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2){const c3=10*t2,h3=5*t2;return this.int16[c3+0]=e2,this.int16[c3+1]=r2,this.int16[c3+2]=n2,this.int16[c3+3]=i2,this.int16[c3+4]=s2,this.int16[c3+5]=a2,this.uint32[h3+3]=o2,this.uint16[c3+8]=l2,this.uint16[c3+9]=u2,t2}};__name(_la,"la");let la=_la;la.prototype.bytesPerElement=20,us("StructArrayLayout6i1ul2ui20",la);const _ua=class _ua extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2){const a2=this.length;return this.resize(a2+1),this.emplace(a2,t2,e2,r2,n2,i2,s2)}emplace(t2,e2,r2,n2,i2,s2,a2){const o2=6*t2;return this.int16[o2+0]=e2,this.int16[o2+1]=r2,this.int16[o2+2]=n2,this.int16[o2+3]=i2,this.int16[o2+4]=s2,this.int16[o2+5]=a2,t2}};__name(_ua,"ua");let ua=_ua;ua.prototype.bytesPerElement=12,us("StructArrayLayout2i2i2i12",ua);const _ca=class _ca extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2){const s2=this.length;return this.resize(s2+1),this.emplace(s2,t2,e2,r2,n2,i2)}emplace(t2,e2,r2,n2,i2,s2){const a2=4*t2,o2=8*t2;return this.float32[a2+0]=e2,this.float32[a2+1]=r2,this.float32[a2+2]=n2,this.int16[o2+6]=i2,this.int16[o2+7]=s2,t2}};__name(_ca,"ca");let ca=_ca;ca.prototype.bytesPerElement=16,us("StructArrayLayout2f1f2i16",ca);const _ha=class _ha extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2){const a2=this.length;return this.resize(a2+1),this.emplace(a2,t2,e2,r2,n2,i2,s2)}emplace(t2,e2,r2,n2,i2,s2,a2){const o2=16*t2,l2=4*t2,u2=8*t2;return this.uint8[o2+0]=e2,this.uint8[o2+1]=r2,this.float32[l2+1]=n2,this.float32[l2+2]=i2,this.int16[u2+6]=s2,this.int16[u2+7]=a2,t2}};__name(_ha,"ha");let ha=_ha;ha.prototype.bytesPerElement=16,us("StructArrayLayout2ub2f2i16",ha);const _pa=class _pa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2){const n2=this.length;return this.resize(n2+1),this.emplace(n2,t2,e2,r2)}emplace(t2,e2,r2,n2){const i2=3*t2;return this.uint16[i2+0]=e2,this.uint16[i2+1]=r2,this.uint16[i2+2]=n2,t2}};__name(_pa,"pa");let pa=_pa;pa.prototype.bytesPerElement=6,us("StructArrayLayout3ui6",pa);const _fa=class _fa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2){const g2=this.length;return this.resize(g2+1),this.emplace(g2,t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2)}emplace(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2,g2){const x2=24*t2,v2=12*t2,b2=48*t2;return this.int16[x2+0]=e2,this.int16[x2+1]=r2,this.uint16[x2+2]=n2,this.uint16[x2+3]=i2,this.uint32[v2+2]=s2,this.uint32[v2+3]=a2,this.uint32[v2+4]=o2,this.uint16[x2+10]=l2,this.uint16[x2+11]=u2,this.uint16[x2+12]=c3,this.float32[v2+7]=h3,this.float32[v2+8]=p3,this.uint8[b2+36]=f2,this.uint8[b2+37]=d3,this.uint8[b2+38]=y2,this.uint32[v2+10]=m2,this.int16[x2+22]=g2,t2}};__name(_fa,"fa");let fa=_fa;fa.prototype.bytesPerElement=48,us("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fa);const _da=class _da extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2,g2,x2,v2,b2,w2,_2,S2,A2,k2,M2,I2){const z2=this.length;return this.resize(z2+1),this.emplace(z2,t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2,g2,x2,v2,b2,w2,_2,S2,A2,k2,M2,I2)}emplace(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2,g2,x2,v2,b2,w2,_2,S2,A2,k2,M2,I2,z2){const P2=32*t2,C2=16*t2;return this.int16[P2+0]=e2,this.int16[P2+1]=r2,this.int16[P2+2]=n2,this.int16[P2+3]=i2,this.int16[P2+4]=s2,this.int16[P2+5]=a2,this.int16[P2+6]=o2,this.int16[P2+7]=l2,this.uint16[P2+8]=u2,this.uint16[P2+9]=c3,this.uint16[P2+10]=h3,this.uint16[P2+11]=p3,this.uint16[P2+12]=f2,this.uint16[P2+13]=d3,this.uint16[P2+14]=y2,this.uint16[P2+15]=m2,this.uint16[P2+16]=g2,this.uint16[P2+17]=x2,this.uint16[P2+18]=v2,this.uint16[P2+19]=b2,this.uint16[P2+20]=w2,this.uint16[P2+21]=_2,this.uint16[P2+22]=S2,this.uint32[C2+12]=A2,this.float32[C2+13]=k2,this.float32[C2+14]=M2,this.uint16[P2+30]=I2,this.uint16[P2+31]=z2,t2}};__name(_da,"da");let da=_da;da.prototype.bytesPerElement=64,us("StructArrayLayout8i15ui1ul2f2ui64",da);const _ya=class _ya extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2){const e2=this.length;return this.resize(e2+1),this.emplace(e2,t2)}emplace(t2,e2){return this.float32[1*t2+0]=e2,t2}};__name(_ya,"ya");let ya=_ya;ya.prototype.bytesPerElement=4,us("StructArrayLayout1f4",ya);const _ma=class _ma extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2,r2){const n2=this.length;return this.resize(n2+1),this.emplace(n2,t2,e2,r2)}emplace(t2,e2,r2,n2){const i2=3*t2;return this.uint16[6*t2+0]=e2,this.float32[i2+1]=r2,this.float32[i2+2]=n2,t2}};__name(_ma,"ma");let ma=_ma;ma.prototype.bytesPerElement=12,us("StructArrayLayout1ui2f12",ma);const _ga=class _ga extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2,r2){const n2=this.length;return this.resize(n2+1),this.emplace(n2,t2,e2,r2)}emplace(t2,e2,r2,n2){const i2=4*t2;return this.uint32[2*t2+0]=e2,this.uint16[i2+2]=r2,this.uint16[i2+3]=n2,t2}};__name(_ga,"ga");let ga=_ga;ga.prototype.bytesPerElement=8,us("StructArrayLayout1ul2ui8",ga);const _xa=class _xa extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2,e2){const r2=this.length;return this.resize(r2+1),this.emplace(r2,t2,e2)}emplace(t2,e2,r2){const n2=2*t2;return this.uint16[n2+0]=e2,this.uint16[n2+1]=r2,t2}};__name(_xa,"xa");let xa=_xa;xa.prototype.bytesPerElement=4,us("StructArrayLayout2ui4",xa);const _va=class _va extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t2){const e2=this.length;return this.resize(e2+1),this.emplace(e2,t2)}emplace(t2,e2){return this.uint16[1*t2+0]=e2,t2}};__name(_va,"va");let va=_va;va.prototype.bytesPerElement=2,us("StructArrayLayout1ui2",va);const _ba=class _ba extends Hs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t2,e2,r2,n2){const i2=this.length;return this.resize(i2+1),this.emplace(i2,t2,e2,r2,n2)}emplace(t2,e2,r2,n2,i2){const s2=4*t2;return this.float32[s2+0]=e2,this.float32[s2+1]=r2,this.float32[s2+2]=n2,this.float32[s2+3]=i2,t2}};__name(_ba,"ba");let ba=_ba;ba.prototype.bytesPerElement=16,us("StructArrayLayout4f16",ba);const _wa=class _wa extends Ys{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new l(this.anchorPointX,this.anchorPointY)}};__name(_wa,"wa");let wa=_wa;wa.prototype.size=20;const __a=class __a extends la{get(t2){return new wa(this,t2)}};__name(__a,"_a");let _a4=__a;us("CollisionBoxArray",_a4);const _Sa=class _Sa extends Ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t2){this._structArray.uint8[this._pos1+37]=t2}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t2){this._structArray.uint8[this._pos1+38]=t2}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t2){this._structArray.uint32[this._pos4+10]=t2}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}};__name(_Sa,"Sa");let Sa=_Sa;Sa.prototype.size=48;const _Aa=class _Aa extends fa{get(t2){return new Sa(this,t2)}};__name(_Aa,"Aa");let Aa=_Aa;us("PlacedSymbolArray",Aa);const _ka=class _ka extends Ys{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t2){this._structArray.uint32[this._pos4+12]=t2}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}};__name(_ka,"ka");let ka=_ka;ka.prototype.size=64;const _Ma=class _Ma extends da{get(t2){return new ka(this,t2)}};__name(_Ma,"Ma");let Ma=_Ma;us("SymbolInstanceArray",Ma);const _Ia=class _Ia extends ya{getoffsetX(t2){return this.float32[1*t2+0]}};__name(_Ia,"Ia");let Ia=_Ia;us("GlyphOffsetArray",Ia);const _za=class _za extends Qs{getx(t2){return this.int16[3*t2+0]}gety(t2){return this.int16[3*t2+1]}gettileUnitDistanceFromAnchor(t2){return this.int16[3*t2+2]}};__name(_za,"za");let za=_za;us("SymbolLineVertexArray",za);const _Pa=class _Pa extends Ys{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}};__name(_Pa,"Pa");let Pa=_Pa;Pa.prototype.size=12;const _Ca=class _Ca extends ma{get(t2){return new Pa(this,t2)}};__name(_Ca,"Ca");let Ca=_Ca;us("TextAnchorOffsetArray",Ca);const _Ba=class _Ba extends Ys{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}};__name(_Ba,"Ba");let Ba=_Ba;Ba.prototype.size=8;const _Ea=class _Ea extends ga{get(t2){return new Ba(this,t2)}};__name(_Ea,"Ea");let Ea=_Ea;us("FeatureIndexArray",Ea);const _Ta=class _Ta extends Ws{};__name(_Ta,"Ta");let Ta=_Ta;const _Va=class _Va extends Ws{};__name(_Va,"Va");let Va=_Va;const _Fa=class _Fa extends Ws{};__name(_Fa,"Fa");let Fa=_Fa;const _La=class _La extends ea{};__name(_La,"La");let La=_La;const _$a=class _$a extends ra{};__name(_$a,"$a");let $a=_$a;const _Da=class _Da extends na{};__name(_Da,"Da");let Da=_Da;const _Oa=class _Oa extends ia{};__name(_Oa,"Oa");let Oa=_Oa;const _Ra=class _Ra extends sa{};__name(_Ra,"Ra");let Ra=_Ra;const _ja=class _ja extends aa{};__name(_ja,"ja");let ja=_ja;const _Na=class _Na extends oa{};__name(_Na,"Na");let Na=_Na;const _Ua=class _Ua extends ua{};__name(_Ua,"Ua");let Ua=_Ua;const _qa=class _qa extends ha{};__name(_qa,"qa");let qa=_qa;const _Ga=class _Ga extends pa{};__name(_Ga,"Ga");let Ga=_Ga;const _Xa=class _Xa extends xa{};__name(_Xa,"Xa");let Xa=_Xa;const Za=Ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ya}=Za,_Ha=class _Ha{constructor(t2=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t2}prepareSegment(t2,e2,r2,n2){const i2=this.segments[this.segments.length-1];return t2>_Ha.MAX_VERTEX_ARRAY_LENGTH&&Z("Max vertices per segment is ".concat(_Ha.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t2,". Consider using the `fillLargeMeshArrays` function if you require meshes with more than ").concat(_Ha.MAX_VERTEX_ARRAY_LENGTH," vertices.")),this._forceNewSegmentOnNextPrepare||!i2||i2.vertexLength+t2>_Ha.MAX_VERTEX_ARRAY_LENGTH||i2.sortKey!==n2?this.createNewSegment(e2,r2,n2):i2}createNewSegment(t2,e2,r2){const n2={vertexOffset:t2.length,primitiveOffset:e2.length,vertexLength:0,primitiveLength:0,vaos:{}};return r2!==void 0&&(n2.sortKey=r2),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(n2),n2}getOrCreateLatestSegment(t2,e2,r2){return this.prepareSegment(0,t2,e2,r2)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const t2 of this.segments)for(const e2 in t2.vaos)t2.vaos[e2].destroy()}static simpleSegment(t2,e2,r2,n2){return new _Ha([{vertexOffset:t2,primitiveOffset:e2,vertexLength:r2,primitiveLength:n2,vaos:{},sortKey:0}])}};__name(_Ha,"Ha");let Ha=_Ha;function Ka(t2,e2){return 256*(t2=O(Math.floor(t2),0,255))+O(Math.floor(e2),0,255)}__name(Ka,"Ka"),Ha.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,us("SegmentVector",Ha);const Ja=Ks([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Wa,Qa,to,eo={exports:{}},ro={exports:{}},no={exports:{}},io=function(){if(to)return eo.exports;to=1;var t2=(Wa||(Wa=1,ro.exports=function(t3,e3){var r2,n2,i2,s2,a2,o2,l2,u2;for(n2=t3.length-(r2=3&t3.length),i2=e3,a2=3432918353,o2=461845907,u2=0;u2<n2;)l2=255&t3.charCodeAt(u2)|(255&t3.charCodeAt(++u2))<<8|(255&t3.charCodeAt(++u2))<<16|(255&t3.charCodeAt(++u2))<<24,++u2,i2=27492+(65535&(s2=5*(65535&(i2=(i2^=l2=(65535&(l2=(l2=(65535&l2)*a2+(((l2>>>16)*a2&65535)<<16)&4294967295)<<15|l2>>>17))*o2+(((l2>>>16)*o2&65535)<<16)&4294967295)<<13|i2>>>19))+((5*(i2>>>16)&65535)<<16)&4294967295))+((58964+(s2>>>16)&65535)<<16);switch(l2=0,r2){case 3:l2^=(255&t3.charCodeAt(u2+2))<<16;case 2:l2^=(255&t3.charCodeAt(u2+1))<<8;case 1:i2^=l2=(65535&(l2=(l2=(65535&(l2^=255&t3.charCodeAt(u2)))*a2+(((l2>>>16)*a2&65535)<<16)&4294967295)<<15|l2>>>17))*o2+(((l2>>>16)*o2&65535)<<16)&4294967295}return i2^=t3.length,i2=2246822507*(65535&(i2^=i2>>>16))+((2246822507*(i2>>>16)&65535)<<16)&4294967295,i2=3266489909*(65535&(i2^=i2>>>13))+((3266489909*(i2>>>16)&65535)<<16)&4294967295,(i2^=i2>>>16)>>>0}),ro.exports),e2=(Qa||(Qa=1,no.exports=function(t3,e3){for(var r2,n2=t3.length,i2=e3^n2,s2=0;n2>=4;)r2=1540483477*(65535&(r2=255&t3.charCodeAt(s2)|(255&t3.charCodeAt(++s2))<<8|(255&t3.charCodeAt(++s2))<<16|(255&t3.charCodeAt(++s2))<<24))+((1540483477*(r2>>>16)&65535)<<16),i2=1540483477*(65535&i2)+((1540483477*(i2>>>16)&65535)<<16)^(r2=1540483477*(65535&(r2^=r2>>>24))+((1540483477*(r2>>>16)&65535)<<16)),n2-=4,++s2;switch(n2){case 3:i2^=(255&t3.charCodeAt(s2+2))<<16;case 2:i2^=(255&t3.charCodeAt(s2+1))<<8;case 1:i2=1540483477*(65535&(i2^=255&t3.charCodeAt(s2)))+((1540483477*(i2>>>16)&65535)<<16)}return i2=1540483477*(65535&(i2^=i2>>>13))+((1540483477*(i2>>>16)&65535)<<16),(i2^=i2>>>15)>>>0}),no.exports);return eo.exports=t2,eo.exports.murmur3=t2,eo.exports.murmur2=e2,eo.exports}(),so=r(io);const _ao=class _ao{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t2,e2,r2,n2){this.ids.push(oo(t2)),this.positions.push(e2,r2,n2)}getPositions(t2){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const e2=oo(t2);let r2=0,n2=this.ids.length-1;for(;r2<n2;){const t3=r2+n2>>1;this.ids[t3]>=e2?n2=t3:r2=t3+1}const i2=[];for(;this.ids[r2]===e2;)i2.push({index:this.positions[3*r2],start:this.positions[3*r2+1],end:this.positions[3*r2+2]}),r2++;return i2}static serialize(t2,e2){const r2=new Float64Array(t2.ids),n2=new Uint32Array(t2.positions);return lo(r2,n2,0,r2.length-1),e2&&e2.push(r2.buffer,n2.buffer),{ids:r2,positions:n2}}static deserialize(t2){const e2=new _ao;return e2.ids=t2.ids,e2.positions=t2.positions,e2.indexed=!0,e2}};__name(_ao,"ao");let ao=_ao;function oo(t2){const e2=+t2;return!isNaN(e2)&&e2<=Number.MAX_SAFE_INTEGER?e2:so(String(t2))}__name(oo,"oo");function lo(t2,e2,r2,n2){for(;r2<n2;){const i2=t2[r2+n2>>1];let s2=r2-1,a2=n2+1;for(;;){do s2++;while(t2[s2]<i2);do a2--;while(t2[a2]>i2);if(s2>=a2)break;uo(t2,s2,a2),uo(e2,3*s2,3*a2),uo(e2,3*s2+1,3*a2+1),uo(e2,3*s2+2,3*a2+2)}a2-r2<n2-a2?(lo(t2,e2,r2,a2),r2=a2+1):(lo(t2,e2,a2+1,n2),n2=a2)}}__name(lo,"lo");function uo(t2,e2,r2){const n2=t2[e2];t2[e2]=t2[r2],t2[r2]=n2}__name(uo,"uo"),us("FeaturePositionMap",ao);const _co=class _co{constructor(t2,e2){this.gl=t2.gl,this.location=e2}};__name(_co,"co");let co=_co;const _ho=class _ho extends co{constructor(t2,e2){super(t2,e2),this.current=0}set(t2){this.current!==t2&&(this.current=t2,this.gl.uniform1f(this.location,t2))}};__name(_ho,"ho");let ho=_ho;const _po=class _po extends co{constructor(t2,e2){super(t2,e2),this.current=[0,0,0,0]}set(t2){t2[0]===this.current[0]&&t2[1]===this.current[1]&&t2[2]===this.current[2]&&t2[3]===this.current[3]||(this.current=t2,this.gl.uniform4f(this.location,t2[0],t2[1],t2[2],t2[3]))}};__name(_po,"po");let po=_po;const _fo=class _fo extends co{constructor(t2,e2){super(t2,e2),this.current=Pe2.transparent}set(t2){t2.r===this.current.r&&t2.g===this.current.g&&t2.b===this.current.b&&t2.a===this.current.a||(this.current=t2,this.gl.uniform4f(this.location,t2.r,t2.g,t2.b,t2.a))}};__name(_fo,"fo");let fo=_fo;const yo=new Float32Array(16);function mo(t2){return[Ka(255*t2.r,255*t2.g),Ka(255*t2.b,255*t2.a)]}__name(mo,"mo");const _go=class _go{constructor(t2,e2,r2){this.value=t2,this.uniformNames=e2.map(t3=>"u_".concat(t3)),this.type=r2}setUniform(t2,e2,r2){t2.set(r2.constantOr(this.value))}getBinding(t2,e2,r2){return this.type==="color"?new fo(t2,e2):new ho(t2,e2)}};__name(_go,"go");let go=_go;const _xo=class _xo{constructor(t2,e2){this.uniformNames=e2.map(t3=>"u_".concat(t3)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t2,e2){this.pixelRatioFrom=e2.pixelRatio,this.pixelRatioTo=t2.pixelRatio,this.patternFrom=e2.tlbr,this.patternTo=t2.tlbr}setUniform(t2,e2,r2,n2){const i2=n2==="u_pattern_to"?this.patternTo:n2==="u_pattern_from"?this.patternFrom:n2==="u_pixel_ratio_to"?this.pixelRatioTo:n2==="u_pixel_ratio_from"?this.pixelRatioFrom:null;i2&&t2.set(i2)}getBinding(t2,e2,r2){return r2.substr(0,9)==="u_pattern"?new po(t2,e2):new ho(t2,e2)}};__name(_xo,"xo");let xo=_xo;const _vo=class _vo{constructor(t2,e2,r2,n2){this.expression=t2,this.type=r2,this.maxValue=0,this.paintVertexAttributes=e2.map(t3=>({name:"a_".concat(t3),type:"Float32",components:r2==="color"?2:1,offset:0})),this.paintVertexArray=new n2}populatePaintArray(t2,e2,r2,n2,i2){const s2=this.paintVertexArray.length,a2=this.expression.evaluate(new Cs(0),e2,{},n2,[],i2);this.paintVertexArray.resize(t2),this._setPaintValue(s2,t2,a2)}updatePaintArray(t2,e2,r2,n2){const i2=this.expression.evaluate({zoom:0},r2,n2);this._setPaintValue(t2,e2,i2)}_setPaintValue(t2,e2,r2){if(this.type==="color"){const n2=mo(r2);for(let r3=t2;r3<e2;r3++)this.paintVertexArray.emplace(r3,n2[0],n2[1])}else{for(let n2=t2;n2<e2;n2++)this.paintVertexArray.emplace(n2,r2);this.maxValue=Math.max(this.maxValue,Math.abs(r2))}}upload(t2){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t2.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}};__name(_vo,"vo");let vo=_vo;const _bo=class _bo{constructor(t2,e2,r2,n2,i2,s2){this.expression=t2,this.uniformNames=e2.map(t3=>"u_".concat(t3,"_t")),this.type=r2,this.useIntegerZoom=n2,this.zoom=i2,this.maxValue=0,this.paintVertexAttributes=e2.map(t3=>({name:"a_".concat(t3),type:"Float32",components:r2==="color"?4:2,offset:0})),this.paintVertexArray=new s2}populatePaintArray(t2,e2,r2,n2,i2){const s2=this.expression.evaluate(new Cs(this.zoom),e2,{},n2,[],i2),a2=this.expression.evaluate(new Cs(this.zoom+1),e2,{},n2,[],i2),o2=this.paintVertexArray.length;this.paintVertexArray.resize(t2),this._setPaintValue(o2,t2,s2,a2)}updatePaintArray(t2,e2,r2,n2){const i2=this.expression.evaluate({zoom:this.zoom},r2,n2),s2=this.expression.evaluate({zoom:this.zoom+1},r2,n2);this._setPaintValue(t2,e2,i2,s2)}_setPaintValue(t2,e2,r2,n2){if(this.type==="color"){const i2=mo(r2),s2=mo(n2);for(let r3=t2;r3<e2;r3++)this.paintVertexArray.emplace(r3,i2[0],i2[1],s2[0],s2[1])}else{for(let i2=t2;i2<e2;i2++)this.paintVertexArray.emplace(i2,r2,n2);this.maxValue=Math.max(this.maxValue,Math.abs(r2),Math.abs(n2))}}upload(t2){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t2.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t2,e2){const r2=this.useIntegerZoom?Math.floor(e2.zoom):e2.zoom,n2=O(this.expression.interpolationFactor(r2,this.zoom,this.zoom+1),0,1);t2.set(n2)}getBinding(t2,e2,r2){return new ho(t2,e2)}};__name(_bo,"bo");let bo=_bo;const _wo=class _wo{constructor(t2,e2,r2,n2,i2,s2){this.expression=t2,this.type=e2,this.useIntegerZoom=r2,this.zoom=n2,this.layerId=s2,this.zoomInPaintVertexArray=new i2,this.zoomOutPaintVertexArray=new i2}populatePaintArray(t2,e2,r2){const n2=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t2),this.zoomOutPaintVertexArray.resize(t2),this._setPaintValues(n2,t2,e2.patterns&&e2.patterns[this.layerId],r2)}updatePaintArray(t2,e2,r2,n2,i2){this._setPaintValues(t2,e2,r2.patterns&&r2.patterns[this.layerId],i2)}_setPaintValues(t2,e2,r2,n2){if(!n2||!r2)return;const{min:i2,mid:s2,max:a2}=r2,o2=n2[i2],l2=n2[s2],u2=n2[a2];if(o2&&l2&&u2)for(let r3=t2;r3<e2;r3++)this.zoomInPaintVertexArray.emplace(r3,l2.tl[0],l2.tl[1],l2.br[0],l2.br[1],o2.tl[0],o2.tl[1],o2.br[0],o2.br[1],l2.pixelRatio,o2.pixelRatio),this.zoomOutPaintVertexArray.emplace(r3,l2.tl[0],l2.tl[1],l2.br[0],l2.br[1],u2.tl[0],u2.tl[1],u2.br[0],u2.br[1],l2.pixelRatio,u2.pixelRatio)}upload(t2){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t2.createVertexBuffer(this.zoomInPaintVertexArray,Ja.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t2.createVertexBuffer(this.zoomOutPaintVertexArray,Ja.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}};__name(_wo,"wo");let wo=_wo;const __o=class __o{constructor(t2,e2,r2){this.binders={},this._buffers=[];const n2=[];for(const i2 in t2.paint._values){if(!r2(i2))continue;const s2=t2.paint.get(i2);if(!(s2 instanceof $s&&Gn(s2.property.specification)))continue;const a2=Ao(i2,t2.type),o2=s2.value,l2=s2.property.specification.type,u2=s2.property.useIntegerZoom,c3=s2.property.specification["property-type"],h3=c3==="cross-faded"||c3==="cross-faded-data-driven";if(o2.kind==="constant")this.binders[i2]=h3?new xo(o2.value,a2):new go(o2.value,a2,l2),n2.push("/u_".concat(i2));else if(o2.kind==="source"||h3){const r3=ko(i2,l2,"source");this.binders[i2]=h3?new wo(o2,l2,u2,e2,r3,t2.id):new vo(o2,a2,l2,r3),n2.push("/a_".concat(i2))}else{const t3=ko(i2,l2,"composite");this.binders[i2]=new bo(o2,a2,l2,u2,e2,t3),n2.push("/z_".concat(i2))}}this.cacheKey=n2.sort().join("")}getMaxValue(t2){const e2=this.binders[t2];return e2 instanceof vo||e2 instanceof bo?e2.maxValue:0}populatePaintArrays(t2,e2,r2,n2,i2){for(const s2 in this.binders){const a2=this.binders[s2];(a2 instanceof vo||a2 instanceof bo||a2 instanceof wo)&&a2.populatePaintArray(t2,e2,r2,n2,i2)}}setConstantPatternPositions(t2,e2){for(const r2 in this.binders){const n2=this.binders[r2];n2 instanceof xo&&n2.setConstantPatternPositions(t2,e2)}}updatePaintArrays(t2,e2,r2,n2,i2){let s2=!1;for(const a2 in t2){const o2=e2.getPositions(a2);for(const e3 of o2){const o3=r2.feature(e3.index);for(const r3 in this.binders){const l2=this.binders[r3];if((l2 instanceof vo||l2 instanceof bo||l2 instanceof wo)&&l2.expression.isStateDependent===!0){const u2=n2.paint.get(r3);l2.expression=u2.value,l2.updatePaintArray(e3.start,e3.end,o3,t2[a2],i2),s2=!0}}}}return s2}defines(){const t2=[];for(const e2 in this.binders){const r2=this.binders[e2];(r2 instanceof go||r2 instanceof xo)&&t2.push(...r2.uniformNames.map(t3=>"#define HAS_UNIFORM_".concat(t3)))}return t2}getBinderAttributes(){const t2=[];for(const e2 in this.binders){const r2=this.binders[e2];if(r2 instanceof vo||r2 instanceof bo)for(let e3=0;e3<r2.paintVertexAttributes.length;e3++)t2.push(r2.paintVertexAttributes[e3].name);else if(r2 instanceof wo)for(let e3=0;e3<Ja.members.length;e3++)t2.push(Ja.members[e3].name)}return t2}getBinderUniforms(){const t2=[];for(const e2 in this.binders){const r2=this.binders[e2];if(r2 instanceof go||r2 instanceof xo||r2 instanceof bo)for(const e3 of r2.uniformNames)t2.push(e3)}return t2}getPaintVertexBuffers(){return this._buffers}getUniforms(t2,e2){const r2=[];for(const n2 in this.binders){const i2=this.binders[n2];if(i2 instanceof go||i2 instanceof xo||i2 instanceof bo){for(const s2 of i2.uniformNames)if(e2[s2]){const a2=i2.getBinding(t2,e2[s2],s2);r2.push({name:s2,property:n2,binding:a2})}}}return r2}setUniforms(t2,e2,r2,n2){for(const{name:t3,property:i2,binding:s2}of e2)this.binders[i2].setUniform(s2,n2,r2.get(i2),t3)}updatePaintBuffers(t2){this._buffers=[];for(const e2 in this.binders){const r2=this.binders[e2];if(t2&&r2 instanceof wo){const e3=t2.fromScale===2?r2.zoomInPaintVertexBuffer:r2.zoomOutPaintVertexBuffer;e3&&this._buffers.push(e3)}else(r2 instanceof vo||r2 instanceof bo)&&r2.paintVertexBuffer&&this._buffers.push(r2.paintVertexBuffer)}}upload(t2){for(const e2 in this.binders){const r2=this.binders[e2];(r2 instanceof vo||r2 instanceof bo||r2 instanceof wo)&&r2.upload(t2)}this.updatePaintBuffers()}destroy(){for(const t2 in this.binders){const e2=this.binders[t2];(e2 instanceof vo||e2 instanceof bo||e2 instanceof wo)&&e2.destroy()}}};__name(__o,"_o");let _o=__o;const _So=class _So{constructor(t2,e2,r2=()=>!0){this.programConfigurations={};for(const n2 of t2)this.programConfigurations[n2.id]=new _o(n2,e2,r2);this.needsUpload=!1,this._featureMap=new ao,this._bufferOffset=0}populatePaintArrays(t2,e2,r2,n2,i2,s2){for(const r3 in this.programConfigurations)this.programConfigurations[r3].populatePaintArrays(t2,e2,n2,i2,s2);e2.id!==void 0&&this._featureMap.add(e2.id,r2,this._bufferOffset,t2),this._bufferOffset=t2,this.needsUpload=!0}updatePaintArrays(t2,e2,r2,n2){for(const i2 of r2)this.needsUpload=this.programConfigurations[i2.id].updatePaintArrays(t2,this._featureMap,e2,i2,n2)||this.needsUpload}get(t2){return this.programConfigurations[t2]}upload(t2){if(this.needsUpload){for(const e2 in this.programConfigurations)this.programConfigurations[e2].upload(t2);this.needsUpload=!1}}destroy(){for(const t2 in this.programConfigurations)this.programConfigurations[t2].destroy()}};__name(_So,"So");let So=_So;function Ao(t2,e2){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t2]||[t2.replace("".concat(e2,"-"),"").replace(/-/g,"_")]}__name(Ao,"Ao");function ko(t2,e2,r2){const n2={color:{source:na,composite:ba},number:{source:ya,composite:na}},i2=function(t3){return{"line-pattern":{source:Oa,composite:Oa},"fill-pattern":{source:Oa,composite:Oa},"fill-extrusion-pattern":{source:Oa,composite:Oa}}[t3]}(t2);return i2&&i2[r2]||n2[e2][r2]}__name(ko,"ko"),us("ConstantBinder",go),us("CrossFadedConstantBinder",xo),us("SourceExpressionBinder",vo),us("CrossFadedCompositeBinder",wo),us("CompositeExpressionBinder",bo),us("ProgramConfiguration",_o,{omit:["_buffers"]}),us("ProgramConfigurationSet",So);const Mo=Math.pow(2,14)-1,Io=-Mo-1;function zo(t2){const e2=E2/t2.extent,r2=t2.loadGeometry();for(let t3=0;t3<r2.length;t3++){const n2=r2[t3];for(let t4=0;t4<n2.length;t4++){const r3=n2[t4],i2=Math.round(r3.x*e2),s2=Math.round(r3.y*e2);r3.x=O(i2,Io,Mo),r3.y=O(s2,Io,Mo),(i2<r3.x||i2>r3.x+1||s2<r3.y||s2>r3.y+1)&&Z("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r2}__name(zo,"zo");function Po(t2,e2){return{type:t2.type,id:t2.id,properties:t2.properties,geometry:e2?zo(t2):[]}}__name(Po,"Po");const Co=-32768;function Bo(t2,e2,r2,n2,i2){t2.emplaceBack(Co+8*e2+n2,Co+8*r2+i2)}__name(Bo,"Bo");const _Eo=class _Eo{constructor(t2){this.zoom=t2.zoom,this.globalState=t2.globalState,this.overscaling=t2.overscaling,this.layers=t2.layers,this.layerIds=this.layers.map(t3=>t3.id),this.index=t2.index,this.hasPattern=!1,this.layoutVertexArray=new Va,this.indexArray=new Ga,this.segments=new Ha,this.programConfigurations=new So(t2.layers,t2.zoom),this.stateDependentLayerIds=this.layers.filter(t3=>t3.isStateDependent()).map(t3=>t3.id)}populate(t2,e2,r2){const n2=this.layers[0],i2=[];let s2=null,a2=!1,o2=n2.type==="heatmap";if(n2.type==="circle"){const t3=n2;s2=t3.layout.get("circle-sort-key"),a2=!s2.isConstant(),o2=o2||t3.paint.get("circle-pitch-alignment")==="map"}const l2=o2?e2.subdivisionGranularity.circle:1;for(const{feature:e3,id:n3,index:o3,sourceLayerIndex:l3}of t2){const t3=this.layers[0]._featureFilter.needGeometry,u2=Po(e3,t3);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),u2,r2))continue;const c3=a2?s2.evaluate(u2,{},r2):void 0,h3={id:n3,properties:e3.properties,type:e3.type,sourceLayerIndex:l3,index:o3,geometry:t3?u2.geometry:zo(e3),patterns:{},sortKey:c3};i2.push(h3)}a2&&i2.sort((t3,e3)=>t3.sortKey-e3.sortKey);for(const n3 of i2){const{geometry:i3,index:s3,sourceLayerIndex:a3}=n3,o3=t2[s3].feature;this.addFeature(n3,i3,s3,r2,l2),e2.featureIndex.insert(o3,i3,s3,a3,this.index)}}update(t2,e2,r2){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t2,e2,this.stateDependentLayers,r2)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t2){this.uploaded||(this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,Ya),this.indexBuffer=t2.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t2),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t2,e2,r2,n2,i2=1){let s2;switch(i2){case 1:s2=[0,7];break;case 3:s2=[0,2,5,7];break;case 5:s2=[0,1,3,4,6,7];break;case 7:s2=[0,1,2,3,4,5,6,7];break;default:throw new Error("Invalid circle bucket granularity: ".concat(i2,"; valid values are 1, 3, 5, 7."))}const a2=s2.length;for(const r3 of e2)for(const e3 of r3){const r4=e3.x,n3=e3.y;if(r4<0||r4>=E2||n3<0||n3>=E2)continue;const i3=this.segments.prepareSegment(a2*a2,this.layoutVertexArray,this.indexArray,t2.sortKey),o2=i3.vertexLength;for(let t3=0;t3<a2;t3++)for(let e4=0;e4<a2;e4++)Bo(this.layoutVertexArray,r4,n3,s2[e4],s2[t3]);for(let t3=0;t3<a2-1;t3++)for(let e4=0;e4<a2-1;e4++){const r5=o2+t3*a2+e4,n4=o2+(t3+1)*a2+e4;this.indexArray.emplaceBack(r5,n4+1,r5+1),this.indexArray.emplaceBack(r5,n4,n4+1)}i3.vertexLength+=a2*a2,i3.primitiveLength+=(a2-1)*(a2-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t2,r2,{},n2)}};__name(_Eo,"Eo");let Eo=_Eo;function To(t2,e2){for(let r2=0;r2<t2.length;r2++)if(No(e2,t2[r2]))return!0;for(let r2=0;r2<e2.length;r2++)if(No(t2,e2[r2]))return!0;return!!$o(t2,e2)}__name(To,"To");function Vo(t2,e2,r2){return!!No(t2,e2)||!!Oo(e2,t2,r2)}__name(Vo,"Vo");function Fo(t2,e2){if(t2.length===1)return jo(e2,t2[0]);for(let r2=0;r2<e2.length;r2++){const n2=e2[r2];for(let e3=0;e3<n2.length;e3++)if(No(t2,n2[e3]))return!0}for(let r2=0;r2<t2.length;r2++)if(jo(e2,t2[r2]))return!0;for(let r2=0;r2<e2.length;r2++)if($o(t2,e2[r2]))return!0;return!1}__name(Fo,"Fo");function Lo(t2,e2,r2){if(t2.length>1){if($o(t2,e2))return!0;for(let n2=0;n2<e2.length;n2++)if(Oo(e2[n2],t2,r2))return!0}for(let n2=0;n2<t2.length;n2++)if(Oo(t2[n2],e2,r2))return!0;return!1}__name(Lo,"Lo");function $o(t2,e2){if(t2.length===0||e2.length===0)return!1;for(let r2=0;r2<t2.length-1;r2++){const n2=t2[r2],i2=t2[r2+1];for(let t3=0;t3<e2.length-1;t3++)if(Do(n2,i2,e2[t3],e2[t3+1]))return!0}return!1}__name($o,"$o");function Do(t2,e2,r2,n2){return Y2(t2,r2,n2)!==Y2(e2,r2,n2)&&Y2(t2,e2,r2)!==Y2(t2,e2,n2)}__name(Do,"Do");function Oo(t2,e2,r2){const n2=r2*r2;if(e2.length===1)return t2.distSqr(e2[0])<n2;for(let r3=1;r3<e2.length;r3++)if(Ro(t2,e2[r3-1],e2[r3])<n2)return!0;return!1}__name(Oo,"Oo");function Ro(t2,e2,r2){const n2=e2.distSqr(r2);if(n2===0)return t2.distSqr(e2);const i2=((t2.x-e2.x)*(r2.x-e2.x)+(t2.y-e2.y)*(r2.y-e2.y))/n2;return t2.distSqr(i2<0?e2:i2>1?r2:r2.sub(e2)._mult(i2)._add(e2))}__name(Ro,"Ro");function jo(t2,e2){let r2,n2,i2,s2=!1;for(let a2=0;a2<t2.length;a2++){r2=t2[a2];for(let t3=0,a3=r2.length-1;t3<r2.length;a3=t3++)n2=r2[t3],i2=r2[a3],n2.y>e2.y!=i2.y>e2.y&&e2.x<(i2.x-n2.x)*(e2.y-n2.y)/(i2.y-n2.y)+n2.x&&(s2=!s2)}return s2}__name(jo,"jo");function No(t2,e2){let r2=!1;for(let n2=0,i2=t2.length-1;n2<t2.length;i2=n2++){const s2=t2[n2],a2=t2[i2];s2.y>e2.y!=a2.y>e2.y&&e2.x<(a2.x-s2.x)*(e2.y-s2.y)/(a2.y-s2.y)+s2.x&&(r2=!r2)}return r2}__name(No,"No");function Uo(t2,e2,r2){const n2=r2[0],i2=r2[2];if(t2.x<n2.x&&e2.x<n2.x||t2.x>i2.x&&e2.x>i2.x||t2.y<n2.y&&e2.y<n2.y||t2.y>i2.y&&e2.y>i2.y)return!1;const s2=Y2(t2,e2,r2[0]);return s2!==Y2(t2,e2,r2[1])||s2!==Y2(t2,e2,r2[2])||s2!==Y2(t2,e2,r2[3])}__name(Uo,"Uo");function qo(t2,e2,r2){const n2=e2.paint.get(t2).value;return n2.kind==="constant"?n2.value:r2.programConfigurations.get(e2.id).getMaxValue(t2)}__name(qo,"qo");function Go(t2){return Math.sqrt(t2[0]*t2[0]+t2[1]*t2[1])}__name(Go,"Go");function Xo(t2,e2,r2,n2,i2){if(!e2[0]&&!e2[1])return t2;const s2=l.convert(e2)._mult(i2);r2==="viewport"&&s2._rotate(-n2);const a2=[];for(let e3=0;e3<t2.length;e3++)a2.push(t2[e3].sub(s2));return a2}__name(Xo,"Xo");let Zo,Yo;us("CircleBucket",Eo,{omit:["layers"]});var Ho={get paint(){return Yo=Yo||new qs({"circle-radius":new Rs(wt.paint_circle["circle-radius"]),"circle-color":new Rs(wt.paint_circle["circle-color"]),"circle-blur":new Rs(wt.paint_circle["circle-blur"]),"circle-opacity":new Rs(wt.paint_circle["circle-opacity"]),"circle-translate":new Os(wt.paint_circle["circle-translate"]),"circle-translate-anchor":new Os(wt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Os(wt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Os(wt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Rs(wt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Rs(wt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Rs(wt.paint_circle["circle-stroke-opacity"])})},get layout(){return Zo=Zo||new qs({"circle-sort-key":new Rs(wt.layout_circle["circle-sort-key"])})}};const _Ko=class _Ko extends Xs{constructor(t2){super(t2,Ho)}createBucket(t2){return new Eo(t2)}queryRadius(t2){const e2=t2;return qo("circle-radius",this,e2)+qo("circle-stroke-width",this,e2)+Go(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t2,feature:e2,featureState:r2,geometry:n2,transform:i2,pixelsToTileUnits:s2,unwrappedTileID:a2,getElevation:o2}){const l2=Xo(t2,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-i2.bearingInRadians,s2),u2=this.paint.get("circle-radius").evaluate(e2,r2)+this.paint.get("circle-stroke-width").evaluate(e2,r2),c3=this.paint.get("circle-pitch-alignment")==="map",h3=c3?l2:function(t3,e3,r3,n3){return t3.map(t4=>Jo(t4,e3,r3,n3))}(l2,i2,a2,o2),p3=c3?u2*s2:u2;for(const t3 of n2)for(const e3 of t3){const t4=c3?e3:Jo(e3,i2,a2,o2);let r3=p3;const n3=i2.projectTileCoordinates(e3.x,e3.y,a2,o2).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?r3*=n3/i2.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(r3*=i2.cameraToCenterDistance/n3),Vo(h3,t4,r3))return!0}return!1}};__name(_Ko,"Ko");let Ko=_Ko;function Jo(t2,e2,r2,n2){const i2=e2.projectTileCoordinates(t2.x,t2.y,r2,n2).point;return new l((.5*i2.x+.5)*e2.width,(.5*-i2.y+.5)*e2.height)}__name(Jo,"Jo");const _Wo=class _Wo extends Eo{};__name(_Wo,"Wo");let Wo=_Wo,Qo;us("HeatmapBucket",Wo,{omit:["layers"]});var tl={get paint(){return Qo=Qo||new qs({"heatmap-radius":new Rs(wt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Rs(wt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Os(wt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Us(wt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Os(wt.paint_heatmap["heatmap-opacity"])})}};function el(t2,{width:e2,height:r2},n2,i2){if(i2){if(i2 instanceof Uint8ClampedArray)i2=new Uint8Array(i2.buffer);else if(i2.length!==e2*r2*n2)throw new RangeError("mismatched image size. expected: ".concat(i2.length," but got: ").concat(e2*r2*n2))}else i2=new Uint8Array(e2*r2*n2);return t2.width=e2,t2.height=r2,t2.data=i2,t2}__name(el,"el");function rl(t2,{width:e2,height:r2},n2){if(e2===t2.width&&r2===t2.height)return;const i2=el({},{width:e2,height:r2},n2);nl(t2,i2,{x:0,y:0},{x:0,y:0},{width:Math.min(t2.width,e2),height:Math.min(t2.height,r2)},n2),t2.width=e2,t2.height=r2,t2.data=i2.data}__name(rl,"rl");function nl(t2,e2,r2,n2,i2,s2){if(i2.width===0||i2.height===0)return e2;if(i2.width>t2.width||i2.height>t2.height||r2.x>t2.width-i2.width||r2.y>t2.height-i2.height)throw new RangeError("out of range source coordinates for image copy");if(i2.width>e2.width||i2.height>e2.height||n2.x>e2.width-i2.width||n2.y>e2.height-i2.height)throw new RangeError("out of range destination coordinates for image copy");const a2=t2.data,o2=e2.data;if(a2===o2)throw new Error("srcData equals dstData, so image is already copied");for(let l2=0;l2<i2.height;l2++){const u2=((r2.y+l2)*t2.width+r2.x)*s2,c3=((n2.y+l2)*e2.width+n2.x)*s2;for(let t3=0;t3<i2.width*s2;t3++)o2[c3+t3]=a2[u2+t3]}return e2}__name(nl,"nl");const _il=class _il{constructor(t2,e2){el(this,t2,1,e2)}resize(t2){rl(this,t2,1)}clone(){return new _il({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t2,e2,r2,n2,i2){nl(t2,e2,r2,n2,i2,1)}};__name(_il,"il");let il=_il;const _sl=class _sl{constructor(t2,e2){el(this,t2,4,e2)}resize(t2){rl(this,t2,4)}replace(t2,e2){e2?this.data.set(t2):this.data=t2 instanceof Uint8ClampedArray?new Uint8Array(t2.buffer):t2}clone(){return new _sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t2,e2,r2,n2,i2){nl(t2,e2,r2,n2,i2,4)}setPixel(t2,e2,r2){const n2=4*(t2*this.width+e2);this.data[n2+0]=Math.round(255*r2.r/r2.a),this.data[n2+1]=Math.round(255*r2.g/r2.a),this.data[n2+2]=Math.round(255*r2.b/r2.a),this.data[n2+3]=Math.round(255*r2.a)}};__name(_sl,"sl");let sl=_sl;function al(t2){const e2={},r2=t2.resolution||256,n2=t2.clips?t2.clips.length:1,i2=t2.image||new sl({width:r2,height:n2});if(Math.log(r2)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - ".concat(r2));const s2=__name((n3,s3,a2)=>{e2[t2.evaluationKey]=a2;const o2=t2.expression.evaluate(e2);i2.setPixel(n3/4/r2,s3/4,o2)},"s");if(t2.clips)for(let e3=0,i3=0;e3<n2;++e3,i3+=4*r2)for(let n3=0,a2=0;n3<r2;n3++,a2+=4){const o2=n3/(r2-1),{start:l2,end:u2}=t2.clips[e3];s2(i3,a2,l2*(1-o2)+u2*o2)}else for(let t3=0,e3=0;t3<r2;t3++,e3+=4)s2(0,e3,t3/(r2-1));return i2}__name(al,"al"),us("AlphaImage",il),us("RGBAImage",sl);const ol="big-fb",_ll=class _ll extends Xs{createBucket(t2){return new Wo(t2)}constructor(t2){super(t2,tl),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t2){t2==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=al({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(ol)&&this.heatmapFbos.delete(ol)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}};__name(_ll,"ll");let ll=_ll,ul;var cl={get paint(){return ul=ul||new qs({"hillshade-illumination-direction":new Os(wt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Os(wt.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Os(wt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Os(wt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Os(wt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Os(wt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Os(wt.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Os(wt.paint_hillshade["hillshade-method"])})}};const _hl=class _hl extends Xs{constructor(t2){super(t2,cl),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let t2=this.paint.get("hillshade-illumination-direction").values,e2=this.paint.get("hillshade-illumination-altitude").values,r2=this.paint.get("hillshade-highlight-color").values,n2=this.paint.get("hillshade-shadow-color").values;const i2=Math.max(t2.length,e2.length,r2.length,n2.length);t2=t2.concat(Array(i2-t2.length).fill(t2.at(-1))),e2=e2.concat(Array(i2-e2.length).fill(e2.at(-1))),r2=r2.concat(Array(i2-r2.length).fill(r2.at(-1))),n2=n2.concat(Array(i2-n2.length).fill(n2.at(-1)));const s2=e2.map(nt);return{directionRadians:t2.map(nt),altitudeRadians:s2,shadowColor:n2,highlightColor:r2}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}};__name(_hl,"hl");let hl=_hl,pl;var fl={get paint(){return pl=pl||new qs({"color-relief-opacity":new Os(wt["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Us(wt["paint_color-relief"]["color-relief-color"])})}};const _dl=class _dl{constructor(t2,e2,r2,n2){this.context=t2,this.format=r2,this.texture=t2.gl.createTexture(),this.update(e2,n2)}update(t2,e2,r2){const{width:n2,height:i2}=t2,s2=!(this.size&&this.size[0]===n2&&this.size[1]===i2||r2),{context:a2}=this,{gl:o2}=a2;if(this.useMipmap=!!(e2&&e2.useMipmap),o2.bindTexture(o2.TEXTURE_2D,this.texture),a2.pixelStoreUnpackFlipY.set(!1),a2.pixelStoreUnpack.set(1),a2.pixelStoreUnpackPremultiplyAlpha.set(this.format===o2.RGBA&&(!e2||e2.premultiply!==!1)),s2)this.size=[n2,i2],t2 instanceof HTMLImageElement||t2 instanceof HTMLCanvasElement||t2 instanceof HTMLVideoElement||t2 instanceof ImageData||J(t2)?o2.texImage2D(o2.TEXTURE_2D,0,this.format,this.format,o2.UNSIGNED_BYTE,t2):o2.texImage2D(o2.TEXTURE_2D,0,this.format,n2,i2,0,this.format,o2.UNSIGNED_BYTE,t2.data);else{const{x:e3,y:s3}=r2||{x:0,y:0};t2 instanceof HTMLImageElement||t2 instanceof HTMLCanvasElement||t2 instanceof HTMLVideoElement||t2 instanceof ImageData||J(t2)?o2.texSubImage2D(o2.TEXTURE_2D,0,e3,s3,o2.RGBA,o2.UNSIGNED_BYTE,t2):o2.texSubImage2D(o2.TEXTURE_2D,0,e3,s3,n2,i2,o2.RGBA,o2.UNSIGNED_BYTE,t2.data)}this.useMipmap&&this.isSizePowerOfTwo()&&o2.generateMipmap(o2.TEXTURE_2D),a2.pixelStoreUnpackFlipY.setDefault(),a2.pixelStoreUnpack.setDefault(),a2.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(t2,e2,r2){const{context:n2}=this,{gl:i2}=n2;i2.bindTexture(i2.TEXTURE_2D,this.texture),r2!==i2.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r2=i2.LINEAR),t2!==this.filter&&(i2.texParameteri(i2.TEXTURE_2D,i2.TEXTURE_MAG_FILTER,t2),i2.texParameteri(i2.TEXTURE_2D,i2.TEXTURE_MIN_FILTER,r2||t2),this.filter=t2),e2!==this.wrap&&(i2.texParameteri(i2.TEXTURE_2D,i2.TEXTURE_WRAP_S,e2),i2.texParameteri(i2.TEXTURE_2D,i2.TEXTURE_WRAP_T,e2),this.wrap=e2)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t2}=this.context;t2.deleteTexture(this.texture),this.texture=null}};__name(_dl,"dl");let dl=_dl;const _yl=class _yl{constructor(t2,e2,r2,n2=1,i2=1,s2=1,a2=0){if(this.uid=t2,e2.height!==e2.width)throw new RangeError("DEM tiles must be square");if(r2&&!["mapbox","terrarium","custom"].includes(r2))return void Z('"'.concat(r2,'" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".'));this.stride=e2.height;const o2=this.dim=e2.height-2;switch(this.data=new Uint32Array(e2.data.buffer),r2){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=n2,this.greenFactor=i2,this.blueFactor=s2,this.baseShift=a2;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let t3=0;t3<o2;t3++)this.data[this._idx(-1,t3)]=this.data[this._idx(0,t3)],this.data[this._idx(o2,t3)]=this.data[this._idx(o2-1,t3)],this.data[this._idx(t3,-1)]=this.data[this._idx(t3,0)],this.data[this._idx(t3,o2)]=this.data[this._idx(t3,o2-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o2,-1)]=this.data[this._idx(o2-1,0)],this.data[this._idx(-1,o2)]=this.data[this._idx(0,o2-1)],this.data[this._idx(o2,o2)]=this.data[this._idx(o2-1,o2-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let t3=0;t3<o2;t3++)for(let e3=0;e3<o2;e3++){const r3=this.get(t3,e3);r3>this.max&&(this.max=r3),r3<this.min&&(this.min=r3)}}get(t2,e2){const r2=new Uint8Array(this.data.buffer),n2=4*this._idx(t2,e2);return this.unpack(r2[n2],r2[n2+1],r2[n2+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t2,e2){if(t2<-1||t2>=this.dim+1||e2<-1||e2>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e2+1)*this.stride+(t2+1)}unpack(t2,e2,r2){return t2*this.redFactor+e2*this.greenFactor+r2*this.blueFactor-this.baseShift}pack(t2){return ml(t2,this.getUnpackVector())}getPixels(){return new sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t2,e2,r2){if(this.dim!==t2.dim)throw new Error("dem dimension mismatch");let n2=e2*this.dim,i2=e2*this.dim+this.dim,s2=r2*this.dim,a2=r2*this.dim+this.dim;switch(e2){case-1:n2=i2-1;break;case 1:i2=n2+1}switch(r2){case-1:s2=a2-1;break;case 1:a2=s2+1}const o2=-e2*this.dim,l2=-r2*this.dim;for(let e3=s2;e3<a2;e3++)for(let r3=n2;r3<i2;r3++)this.data[this._idx(r3,e3)]=t2.data[this._idx(r3+o2,e3+l2)]}};__name(_yl,"yl");let yl=_yl;function ml(t2,e2){const r2=e2[0],n2=e2[1],i2=e2[2],s2=e2[3],a2=Math.min(r2,n2,i2),o2=Math.round((t2+s2)/a2);return{r:Math.floor(o2*a2/r2)%256,g:Math.floor(o2*a2/n2)%256,b:Math.floor(o2*a2/i2)%256}}__name(ml,"ml"),us("DEMData",yl);const _gl=class _gl extends Xs{constructor(t2){super(t2,fl)}_createColorRamp(t2){const e2={elevationStops:[],colorStops:[]},r2=this._transitionablePaint._values["color-relief-color"].value.expression;if(r2 instanceof ai2&&r2._styleExpression.expression instanceof yr){this.colorRampExpression=r2;const t3=r2._styleExpression.expression;e2.elevationStops=t3.labels,e2.colorStops=[];for(const r3 of e2.elevationStops)e2.colorStops.push(t3.evaluate({globals:{elevation:r3}}))}if(e2.elevationStops.length<1&&(e2.elevationStops=[0],e2.colorStops=[Pe2.transparent]),e2.elevationStops.length<2&&(e2.elevationStops.push(e2.elevationStops[0]+1),e2.colorStops.push(e2.colorStops[0])),e2.elevationStops.length<=t2)return e2;const n2={elevationStops:[],colorStops:[]},i2=(e2.elevationStops.length-1)/(t2-1);for(let t3=0;t3<e2.elevationStops.length-.5;t3+=i2)n2.elevationStops.push(e2.elevationStops[Math.round(t3)]),n2.colorStops.push(e2.colorStops[Math.round(t3)]);return Z("Too many colors in specification of ".concat(this.id," color-relief layer, may not render properly.")),n2}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(t2,e2,r2){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const n2=this._createColorRamp(e2),i2=new sl({width:n2.colorStops.length,height:1}),s2=new sl({width:n2.colorStops.length,height:1});for(let t3=0;t3<n2.elevationStops.length;t3++){const e3=ml(n2.elevationStops[t3],r2);s2.setPixel(0,t3,new Pe2(e3.r/255,e3.g/255,e3.b/255,1)),i2.setPixel(0,t3,n2.colorStops[t3])}return this.colorRampTextures={elevationTexture:new dl(t2,s2,t2.gl.RGBA),colorTexture:new dl(t2,i2,t2.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}};__name(_gl,"gl");let gl=_gl;const xl=Ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:vl}=xl;function bl(t2,e2,r2){const n2=r2.patternDependencies;let i2=!1;for(const r3 of e2){const e3=r3.paint.get("".concat(t2,"-pattern"));e3.isConstant()||(i2=!0);const s2=e3.constantOr(null);s2&&(i2=!0,n2[s2.to]=!0,n2[s2.from]=!0)}return i2}__name(bl,"bl");function wl(t2,e2,r2,n2,i2){const s2=i2.patternDependencies;for(const a2 of e2){const e3=a2.paint.get("".concat(t2,"-pattern")).value;if(e3.kind!=="constant"){let t3=e3.evaluate({zoom:n2-1},r2,{},i2.availableImages),o2=e3.evaluate({zoom:n2},r2,{},i2.availableImages),l2=e3.evaluate({zoom:n2+1},r2,{},i2.availableImages);t3=t3&&t3.name?t3.name:t3,o2=o2&&o2.name?o2.name:o2,l2=l2&&l2.name?l2.name:l2,s2[t3]=!0,s2[o2]=!0,s2[l2]=!0,r2.patterns[a2.id]={min:t3,mid:o2,max:l2}}}return r2}__name(wl,"wl");function _l(t2,e2,r2,n2,i2){let s2;if(i2===function(t3,e3,r3,n3){let i3=0;for(let s3=e3,a2=r3-n3;s3<r3;s3+=n3)i3+=(t3[a2]-t3[s3])*(t3[s3+1]+t3[a2+1]),a2=s3;return i3}(t2,e2,r2,n2)>0)for(let i3=e2;i3<r2;i3+=n2)s2=ql(i3/n2|0,t2[i3],t2[i3+1],s2);else for(let i3=r2-n2;i3>=e2;i3-=n2)s2=ql(i3/n2|0,t2[i3],t2[i3+1],s2);return s2&&Dl(s2,s2.next)&&(Gl(s2),s2=s2.next),s2}__name(_l,"_l");function Sl(t2,e2){if(!t2)return t2;e2||(e2=t2);let r2,n2=t2;do if(r2=!1,n2.steiner||!Dl(n2,n2.next)&&$l(n2.prev,n2,n2.next)!==0)n2=n2.next;else{if(Gl(n2),n2=e2=n2.prev,n2===n2.next)break;r2=!0}while(r2||n2!==e2);return e2}__name(Sl,"Sl");function Al(t2,e2,r2,n2,i2,s2,a2){if(!t2)return;!a2&&s2&&function(t3,e3,r3,n3){let i3=t3;do i3.z===0&&(i3.z=El(i3.x,i3.y,e3,r3,n3)),i3.prevZ=i3.prev,i3.nextZ=i3.next,i3=i3.next;while(i3!==t3);i3.prevZ.nextZ=null,i3.prevZ=null,function(t4){let e4,r4=1;do{let n4,i4=t4;t4=null;let s3=null;for(e4=0;i4;){e4++;let a3=i4,o3=0;for(let t5=0;t5<r4&&(o3++,a3=a3.nextZ,a3);t5++);let l2=r4;for(;o3>0||l2>0&&a3;)o3!==0&&(l2===0||!a3||i4.z<=a3.z)?(n4=i4,i4=i4.nextZ,o3--):(n4=a3,a3=a3.nextZ,l2--),s3?s3.nextZ=n4:t4=n4,n4.prevZ=s3,s3=n4;i4=a3}s3.nextZ=null,r4*=2}while(e4>1)}(i3)}(t2,n2,i2,s2);let o2=t2;for(;t2.prev!==t2.next;){const l2=t2.prev,u2=t2.next;if(s2?Ml(t2,n2,i2,s2):kl(t2))e2.push(l2.i,t2.i,u2.i),Gl(t2),t2=u2.next,o2=u2.next;else if((t2=u2)===o2){a2?a2===1?Al(t2=Il(Sl(t2),e2),e2,r2,n2,i2,s2,2):a2===2&&zl(t2,e2,r2,n2,i2,s2):Al(Sl(t2),e2,r2,n2,i2,s2,1);break}}}__name(Al,"Al");function kl(t2){const e2=t2.prev,r2=t2,n2=t2.next;if($l(e2,r2,n2)>=0)return!1;const i2=e2.x,s2=r2.x,a2=n2.x,o2=e2.y,l2=r2.y,u2=n2.y,c3=Math.min(i2,s2,a2),h3=Math.min(o2,l2,u2),p3=Math.max(i2,s2,a2),f2=Math.max(o2,l2,u2);let d3=n2.next;for(;d3!==e2;){if(d3.x>=c3&&d3.x<=p3&&d3.y>=h3&&d3.y<=f2&&Fl(i2,o2,s2,l2,a2,u2,d3.x,d3.y)&&$l(d3.prev,d3,d3.next)>=0)return!1;d3=d3.next}return!0}__name(kl,"kl");function Ml(t2,e2,r2,n2){const i2=t2.prev,s2=t2,a2=t2.next;if($l(i2,s2,a2)>=0)return!1;const o2=i2.x,l2=s2.x,u2=a2.x,c3=i2.y,h3=s2.y,p3=a2.y,f2=Math.min(o2,l2,u2),d3=Math.min(c3,h3,p3),y2=Math.max(o2,l2,u2),m2=Math.max(c3,h3,p3),g2=El(f2,d3,e2,r2,n2),x2=El(y2,m2,e2,r2,n2);let v2=t2.prevZ,b2=t2.nextZ;for(;v2&&v2.z>=g2&&b2&&b2.z<=x2;){if(v2.x>=f2&&v2.x<=y2&&v2.y>=d3&&v2.y<=m2&&v2!==i2&&v2!==a2&&Fl(o2,c3,l2,h3,u2,p3,v2.x,v2.y)&&$l(v2.prev,v2,v2.next)>=0||(v2=v2.prevZ,b2.x>=f2&&b2.x<=y2&&b2.y>=d3&&b2.y<=m2&&b2!==i2&&b2!==a2&&Fl(o2,c3,l2,h3,u2,p3,b2.x,b2.y)&&$l(b2.prev,b2,b2.next)>=0))return!1;b2=b2.nextZ}for(;v2&&v2.z>=g2;){if(v2.x>=f2&&v2.x<=y2&&v2.y>=d3&&v2.y<=m2&&v2!==i2&&v2!==a2&&Fl(o2,c3,l2,h3,u2,p3,v2.x,v2.y)&&$l(v2.prev,v2,v2.next)>=0)return!1;v2=v2.prevZ}for(;b2&&b2.z<=x2;){if(b2.x>=f2&&b2.x<=y2&&b2.y>=d3&&b2.y<=m2&&b2!==i2&&b2!==a2&&Fl(o2,c3,l2,h3,u2,p3,b2.x,b2.y)&&$l(b2.prev,b2,b2.next)>=0)return!1;b2=b2.nextZ}return!0}__name(Ml,"Ml");function Il(t2,e2){let r2=t2;do{const n2=r2.prev,i2=r2.next.next;!Dl(n2,i2)&&Ol(n2,r2,r2.next,i2)&&Nl(n2,i2)&&Nl(i2,n2)&&(e2.push(n2.i,r2.i,i2.i),Gl(r2),Gl(r2.next),r2=t2=i2),r2=r2.next}while(r2!==t2);return Sl(r2)}__name(Il,"Il");function zl(t2,e2,r2,n2,i2,s2){let a2=t2;do{let t3=a2.next.next;for(;t3!==a2.prev;){if(a2.i!==t3.i&&Ll(a2,t3)){let o2=Ul(a2,t3);return a2=Sl(a2,a2.next),o2=Sl(o2,o2.next),Al(a2,e2,r2,n2,i2,s2,0),void Al(o2,e2,r2,n2,i2,s2,0)}t3=t3.next}a2=a2.next}while(a2!==t2)}__name(zl,"zl");function Pl(t2,e2){let r2=t2.x-e2.x;return r2===0&&(r2=t2.y-e2.y,r2===0)&&(r2=(t2.next.y-t2.y)/(t2.next.x-t2.x)-(e2.next.y-e2.y)/(e2.next.x-e2.x)),r2}__name(Pl,"Pl");function Cl(t2,e2){const r2=function(t3,e3){let r3=e3;const n3=t3.x,i2=t3.y;let s2,a2=-1/0;if(Dl(t3,r3))return r3;do{if(Dl(t3,r3.next))return r3.next;if(i2<=r3.y&&i2>=r3.next.y&&r3.next.y!==r3.y){const t4=r3.x+(i2-r3.y)*(r3.next.x-r3.x)/(r3.next.y-r3.y);if(t4<=n3&&t4>a2&&(a2=t4,s2=r3.x<r3.next.x?r3:r3.next,t4===n3))return s2}r3=r3.next}while(r3!==e3);if(!s2)return null;const o2=s2,l2=s2.x,u2=s2.y;let c3=1/0;r3=s2;do{if(n3>=r3.x&&r3.x>=l2&&n3!==r3.x&&Vl(i2<u2?n3:a2,i2,l2,u2,i2<u2?a2:n3,i2,r3.x,r3.y)){const e4=Math.abs(i2-r3.y)/(n3-r3.x);Nl(r3,t3)&&(e4<c3||e4===c3&&(r3.x>s2.x||r3.x===s2.x&&Bl(s2,r3)))&&(s2=r3,c3=e4)}r3=r3.next}while(r3!==o2);return s2}(t2,e2);if(!r2)return e2;const n2=Ul(r2,t2);return Sl(n2,n2.next),Sl(r2,r2.next)}__name(Cl,"Cl");function Bl(t2,e2){return $l(t2.prev,t2,e2.prev)<0&&$l(e2.next,t2,t2.next)<0}__name(Bl,"Bl");function El(t2,e2,r2,n2,i2){return(t2=1431655765&((t2=858993459&((t2=252645135&((t2=16711935&((t2=(t2-r2)*i2|0)|t2<<8))|t2<<4))|t2<<2))|t2<<1))|(e2=1431655765&((e2=858993459&((e2=252645135&((e2=16711935&((e2=(e2-n2)*i2|0)|e2<<8))|e2<<4))|e2<<2))|e2<<1))<<1}__name(El,"El");function Tl(t2){let e2=t2,r2=t2;do(e2.x<r2.x||e2.x===r2.x&&e2.y<r2.y)&&(r2=e2),e2=e2.next;while(e2!==t2);return r2}__name(Tl,"Tl");function Vl(t2,e2,r2,n2,i2,s2,a2,o2){return(i2-a2)*(e2-o2)>=(t2-a2)*(s2-o2)&&(t2-a2)*(n2-o2)>=(r2-a2)*(e2-o2)&&(r2-a2)*(s2-o2)>=(i2-a2)*(n2-o2)}__name(Vl,"Vl");function Fl(t2,e2,r2,n2,i2,s2,a2,o2){return!(t2===a2&&e2===o2)&&Vl(t2,e2,r2,n2,i2,s2,a2,o2)}__name(Fl,"Fl");function Ll(t2,e2){return t2.next.i!==e2.i&&t2.prev.i!==e2.i&&!function(t3,e3){let r2=t3;do{if(r2.i!==t3.i&&r2.next.i!==t3.i&&r2.i!==e3.i&&r2.next.i!==e3.i&&Ol(r2,r2.next,t3,e3))return!0;r2=r2.next}while(r2!==t3);return!1}(t2,e2)&&(Nl(t2,e2)&&Nl(e2,t2)&&function(t3,e3){let r2=t3,n2=!1;const i2=(t3.x+e3.x)/2,s2=(t3.y+e3.y)/2;do r2.y>s2!=r2.next.y>s2&&r2.next.y!==r2.y&&i2<(r2.next.x-r2.x)*(s2-r2.y)/(r2.next.y-r2.y)+r2.x&&(n2=!n2),r2=r2.next;while(r2!==t3);return n2}(t2,e2)&&($l(t2.prev,t2,e2.prev)||$l(t2,e2.prev,e2))||Dl(t2,e2)&&$l(t2.prev,t2,t2.next)>0&&$l(e2.prev,e2,e2.next)>0)}__name(Ll,"Ll");function $l(t2,e2,r2){return(e2.y-t2.y)*(r2.x-e2.x)-(e2.x-t2.x)*(r2.y-e2.y)}__name($l,"$l");function Dl(t2,e2){return t2.x===e2.x&&t2.y===e2.y}__name(Dl,"Dl");function Ol(t2,e2,r2,n2){const i2=jl($l(t2,e2,r2)),s2=jl($l(t2,e2,n2)),a2=jl($l(r2,n2,t2)),o2=jl($l(r2,n2,e2));return i2!==s2&&a2!==o2||!(i2!==0||!Rl(t2,r2,e2))||!(s2!==0||!Rl(t2,n2,e2))||!(a2!==0||!Rl(r2,t2,n2))||!(o2!==0||!Rl(r2,e2,n2))}__name(Ol,"Ol");function Rl(t2,e2,r2){return e2.x<=Math.max(t2.x,r2.x)&&e2.x>=Math.min(t2.x,r2.x)&&e2.y<=Math.max(t2.y,r2.y)&&e2.y>=Math.min(t2.y,r2.y)}__name(Rl,"Rl");function jl(t2){return t2>0?1:t2<0?-1:0}__name(jl,"jl");function Nl(t2,e2){return $l(t2.prev,t2,t2.next)<0?$l(t2,e2,t2.next)>=0&&$l(t2,t2.prev,e2)>=0:$l(t2,e2,t2.prev)<0||$l(t2,t2.next,e2)<0}__name(Nl,"Nl");function Ul(t2,e2){const r2=Xl(t2.i,t2.x,t2.y),n2=Xl(e2.i,e2.x,e2.y),i2=t2.next,s2=e2.prev;return t2.next=e2,e2.prev=t2,r2.next=i2,i2.prev=r2,n2.next=r2,r2.prev=n2,s2.next=n2,n2.prev=s2,n2}__name(Ul,"Ul");function ql(t2,e2,r2,n2){const i2=Xl(t2,e2,r2);return n2?(i2.next=n2.next,i2.prev=n2,n2.next.prev=i2,n2.next=i2):(i2.prev=i2,i2.next=i2),i2}__name(ql,"ql");function Gl(t2){t2.next.prev=t2.prev,t2.prev.next=t2.next,t2.prevZ&&(t2.prevZ.nextZ=t2.nextZ),t2.nextZ&&(t2.nextZ.prevZ=t2.prevZ)}__name(Gl,"Gl");function Xl(t2,e2,r2){return{i:t2,x:e2,y:r2,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}__name(Xl,"Xl");const _Zl=class _Zl{constructor(t2,e2){if(e2>t2)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t2,this._minGranularity=e2}getGranularityForZoomLevel(t2){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t2)),this._minGranularity,1)}};__name(_Zl,"Zl");let Zl=_Zl;const _Yl=class _Yl{constructor(t2){this.fill=t2.fill,this.line=t2.line,this.tile=t2.tile,this.stencil=t2.stencil,this.circle=t2.circle}};__name(_Yl,"Yl");let Yl=_Yl;Yl.noSubdivision=new Yl({fill:new Zl(0,0),line:new Zl(0,0),tile:new Zl(0,0),stencil:new Zl(0,0),circle:1}),us("SubdivisionGranularityExpression",Zl),us("SubdivisionGranularitySetting",Yl);const Hl=-32768,Kl=32767,_Jl=class _Jl{constructor(t2,e2){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t2,this._granularityCellSize=E2/t2,this._canonical=e2}_getKey(t2,e2){return(t2+=32768)<<16|e2+32768}_vertexToIndex(t2,e2){if(t2<-32768||e2<-32768||t2>32767||e2>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const r2=0|Math.round(t2),n2=0|Math.round(e2),i2=this._getKey(r2,n2);if(this._vertexDictionary.has(i2))return this._vertexDictionary.get(i2);const s2=this._vertexBuffer.length/2;return this._vertexDictionary.set(i2,s2),this._vertexBuffer.push(r2,n2),s2}_subdivideTrianglesScanline(t2){if(this._granularity<2)return function(t3,e3){const r3=[];for(let n2=0;n2<e3.length;n2+=3){const i2=e3[n2],s2=e3[n2+1],a2=e3[n2+2],o2=t3[2*i2],l2=t3[2*i2+1];(t3[2*s2]-o2)*(t3[2*a2+1]-l2)-(t3[2*s2+1]-l2)*(t3[2*a2]-o2)>0?(r3.push(i2),r3.push(a2),r3.push(s2)):(r3.push(i2),r3.push(s2),r3.push(a2))}return r3}(this._vertexBuffer,t2);const e2=[],r2=t2.length;for(let n2=0;n2<r2;n2+=3){const r3=[t2[n2+0],t2[n2+1],t2[n2+2]],i2=[this._vertexBuffer[2*t2[n2+0]+0],this._vertexBuffer[2*t2[n2+0]+1],this._vertexBuffer[2*t2[n2+1]+0],this._vertexBuffer[2*t2[n2+1]+1],this._vertexBuffer[2*t2[n2+2]+0],this._vertexBuffer[2*t2[n2+2]+1]];let s2=1/0,a2=1/0,o2=-1/0,l2=-1/0;for(let t3=0;t3<3;t3++){const e3=i2[2*t3],r4=i2[2*t3+1];s2=Math.min(s2,e3),o2=Math.max(o2,e3),a2=Math.min(a2,r4),l2=Math.max(l2,r4)}if(s2===o2||a2===l2)continue;const u2=Math.floor(s2/this._granularityCellSize),c3=Math.ceil(o2/this._granularityCellSize),h3=Math.floor(a2/this._granularityCellSize),p3=Math.ceil(l2/this._granularityCellSize);if(u2!==c3||h3!==p3)for(let t3=h3;t3<p3;t3++){const n3=this._scanlineGenerateVertexRingForCellRow(t3,i2,r3);tu(this._vertexBuffer,n3,e2)}else e2.push(...r3)}return e2}_scanlineGenerateVertexRingForCellRow(t2,e2,r2){const n2=t2*this._granularityCellSize,i2=n2+this._granularityCellSize,s2=[];for(let t3=0;t3<3;t3++){const a2=e2[2*t3],o2=e2[2*t3+1],l2=e2[2*(t3+1)%6],u2=e2[(2*(t3+1)+1)%6],c3=e2[2*(t3+2)%6],h3=e2[(2*(t3+2)+1)%6],p3=l2-a2,f2=u2-o2,d3=p3===0,y2=f2===0,m2=(n2-o2)/f2,g2=(i2-o2)/f2,x2=Math.min(m2,g2),v2=Math.max(m2,g2);if(!y2&&(x2>=1||v2<=0)||y2&&(o2<n2||o2>i2)){u2>=n2&&u2<=i2&&s2.push(r2[(t3+1)%3]);continue}!y2&&x2>0&&s2.push(this._vertexToIndex(a2+p3*x2,o2+f2*x2));const b2=a2+p3*Math.max(x2,0),w2=a2+p3*Math.min(v2,1);d3||this._generateIntraEdgeVertices(s2,a2,o2,l2,u2,b2,w2),!y2&&v2<1&&s2.push(this._vertexToIndex(a2+p3*v2,o2+f2*v2)),(y2||u2>=n2&&u2<=i2)&&s2.push(r2[(t3+1)%3]),!y2&&(u2<=n2||u2>=i2)&&this._generateInterEdgeVertices(s2,a2,o2,l2,u2,c3,h3,w2,n2,i2)}return s2}_generateIntraEdgeVertices(t2,e2,r2,n2,i2,s2,a2){const o2=n2-e2,l2=i2-r2,u2=l2===0,c3=u2?Math.min(e2,n2):Math.min(s2,a2),h3=u2?Math.max(e2,n2):Math.max(s2,a2),p3=Math.floor(c3/this._granularityCellSize)+1,f2=Math.ceil(h3/this._granularityCellSize)-1;if(u2?e2<n2:s2<a2)for(let n3=p3;n3<=f2;n3++){const i3=n3*this._granularityCellSize;t2.push(this._vertexToIndex(i3,r2+l2*(i3-e2)/o2))}else for(let n3=f2;n3>=p3;n3--){const i3=n3*this._granularityCellSize;t2.push(this._vertexToIndex(i3,r2+l2*(i3-e2)/o2))}}_generateInterEdgeVertices(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2){const c3=i2-r2,h3=s2-n2,p3=a2-i2,f2=(l2-i2)/p3,d3=(u2-i2)/p3,y2=Math.min(f2,d3),m2=Math.max(f2,d3),g2=n2+h3*y2;let x2=Math.floor(Math.min(g2,o2)/this._granularityCellSize)+1,v2=Math.ceil(Math.max(g2,o2)/this._granularityCellSize)-1,b2=o2<g2;const w2=p3===0;if(w2&&(a2===l2||a2===u2))return;if(w2||y2>=1||m2<=0){const t3=r2-a2,n3=s2+(e2-s2)*Math.min((l2-a2)/t3,(u2-a2)/t3);x2=Math.floor(Math.min(n3,o2)/this._granularityCellSize)+1,v2=Math.ceil(Math.max(n3,o2)/this._granularityCellSize)-1,b2=o2<n3}const _2=c3>0?u2:l2;if(b2)for(let e3=x2;e3<=v2;e3++)t2.push(this._vertexToIndex(e3*this._granularityCellSize,_2));else for(let e3=v2;e3>=x2;e3--)t2.push(this._vertexToIndex(e3*this._granularityCellSize,_2))}_generateOutline(t2){const e2=[];for(const r2 of t2){const t3=Ql(r2,this._granularity,!0),n2=this._pointArrayToIndices(t3),i2=[];for(let t4=1;t4<n2.length;t4++)i2.push(n2[t4-1]),i2.push(n2[t4]);e2.push(i2)}return e2}_handlePoles(t2){let e2=!1,r2=!1;this._canonical&&(this._canonical.y===0&&(e2=!0),this._canonical.y===(1<<this._canonical.z)-1&&(r2=!0)),(e2||r2)&&this._fillPoles(t2,e2,r2)}_ensureNoPoleVertices(){const t2=this._vertexBuffer;for(let e2=0;e2<t2.length;e2+=2){const r2=t2[e2+1];r2===Hl&&(t2[e2+1]=-32767),r2===Kl&&(t2[e2+1]=32766)}}_generatePoleQuad(t2,e2,r2,n2,i2,s2){n2>i2!=(s2===Hl)?(t2.push(e2),t2.push(r2),t2.push(this._vertexToIndex(n2,s2)),t2.push(r2),t2.push(this._vertexToIndex(i2,s2)),t2.push(this._vertexToIndex(n2,s2))):(t2.push(r2),t2.push(e2),t2.push(this._vertexToIndex(n2,s2)),t2.push(this._vertexToIndex(i2,s2)),t2.push(r2),t2.push(this._vertexToIndex(n2,s2)))}_fillPoles(t2,e2,r2){const n2=this._vertexBuffer,i2=E2,s2=t2.length;for(let a2=2;a2<s2;a2+=3){const s3=t2[a2-2],o2=t2[a2-1],l2=t2[a2],u2=n2[2*s3],c3=n2[2*s3+1],h3=n2[2*o2],p3=n2[2*o2+1],f2=n2[2*l2],d3=n2[2*l2+1];e2&&(c3===0&&p3===0&&this._generatePoleQuad(t2,s3,o2,u2,h3,Hl),p3===0&&d3===0&&this._generatePoleQuad(t2,o2,l2,h3,f2,Hl),d3===0&&c3===0&&this._generatePoleQuad(t2,l2,s3,f2,u2,Hl)),r2&&(c3===i2&&p3===i2&&this._generatePoleQuad(t2,s3,o2,u2,h3,Kl),p3===i2&&d3===i2&&this._generatePoleQuad(t2,o2,l2,h3,f2,Kl),d3===i2&&c3===i2&&this._generatePoleQuad(t2,l2,s3,f2,u2,Kl))}}_initializeVertices(t2){for(let e2=0;e2<t2.length;e2+=2)this._vertexToIndex(t2[e2],t2[e2+1])}subdividePolygonInternal(t2,e2){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:r2,holeIndices:n2}=function(t3){const e3=[],r3=[];for(const n3 of t3)if(n3.length!==0){n3!==t3[0]&&e3.push(r3.length/2);for(let t4=0;t4<n3.length;t4++)r3.push(n3[t4].x),r3.push(n3[t4].y)}return{flattened:r3,holeIndices:e3}}(t2);let i2;this._initializeVertices(r2);try{const t3=function(t4,e4,r3=2){const n3=e4&&e4.length,i3=n3?e4[0]*r3:t4.length;let s3=_l(t4,0,i3,r3,!0);const a2=[];if(!s3||s3.next===s3.prev)return a2;let o2,l2,u2;if(n3&&(s3=function(t5,e5,r4,n4){const i4=[];for(let r5=0,s4=e5.length;r5<s4;r5++){const a3=_l(t5,e5[r5]*n4,r5<s4-1?e5[r5+1]*n4:t5.length,n4,!1);a3===a3.next&&(a3.steiner=!0),i4.push(Tl(a3))}i4.sort(Pl);for(let t6=0;t6<i4.length;t6++)r4=Cl(i4[t6],r4);return r4}(t4,e4,s3,r3)),t4.length>80*r3){o2=1/0,l2=1/0;let e5=-1/0,n4=-1/0;for(let s4=r3;s4<i3;s4+=r3){const r4=t4[s4],i4=t4[s4+1];r4<o2&&(o2=r4),i4<l2&&(l2=i4),r4>e5&&(e5=r4),i4>n4&&(n4=i4)}u2=Math.max(e5-o2,n4-l2),u2=u2!==0?32767/u2:0}return Al(s3,a2,r3,o2,l2,u2,0),a2}(r2,n2),e3=this._convertIndices(r2,t3);i2=this._subdivideTrianglesScanline(e3)}catch(t3){console.error(t3)}let s2=[];return e2&&(s2=this._generateOutline(t2)),this._ensureNoPoleVertices(),this._handlePoles(i2),{verticesFlattened:this._vertexBuffer,indicesTriangles:i2,indicesLineList:s2}}_convertIndices(t2,e2){const r2=[];for(let n2=0;n2<e2.length;n2++)r2.push(this._vertexToIndex(t2[2*e2[n2]],t2[2*e2[n2]+1]));return r2}_pointArrayToIndices(t2){const e2=[];for(let r2=0;r2<t2.length;r2++){const n2=t2[r2];e2.push(this._vertexToIndex(n2.x,n2.y))}return e2}};__name(_Jl,"Jl");let Jl=_Jl;function Wl(t2,e2,r2,n2=!0){return new Jl(r2,e2).subdividePolygonInternal(t2,n2)}__name(Wl,"Wl");function Ql(t2,e2,r2=!1){if(!t2||t2.length<1)return[];if(t2.length<2)return[];const n2=t2[0],i2=t2[t2.length-1],s2=r2&&(n2.x!==i2.x||n2.y!==i2.y);if(e2<2)return s2?[...t2,t2[0]]:[...t2];const a2=Math.floor(E2/e2),o2=[];o2.push(new l(t2[0].x,t2[0].y));const u2=t2.length,c3=s2?u2:u2-1;for(let e3=0;e3<c3;e3++){const r3=t2[e3],n3=e3<u2-1?t2[e3+1]:t2[0],i3=r3.x,s3=r3.y,c4=n3.x,h3=n3.y,p3=i3!==c4,f2=s3!==h3;if(!p3&&!f2)continue;const d3=c4-i3,y2=h3-s3,m2=Math.abs(d3),g2=Math.abs(y2);let x2=i3,v2=s3;for(;;){const t3=d3>0?(Math.floor(x2/a2)+1)*a2:(Math.ceil(x2/a2)-1)*a2,e4=y2>0?(Math.floor(v2/a2)+1)*a2:(Math.ceil(v2/a2)-1)*a2,r4=Math.abs(x2-t3),n4=Math.abs(v2-e4),i4=Math.abs(x2-c4),s4=Math.abs(v2-h3),u3=p3?r4/m2:Number.POSITIVE_INFINITY,b3=f2?n4/g2:Number.POSITIVE_INFINITY;if((i4<=r4||!p3)&&(s4<=n4||!f2))break;if(u3<b3&&p3||!f2){x2=t3,v2+=y2*u3;const e5=new l(x2,Math.round(v2));o2[o2.length-1].x===e5.x&&o2[o2.length-1].y===e5.y||o2.push(e5)}else{x2+=d3*b3,v2=e4;const t4=new l(Math.round(x2),v2);o2[o2.length-1].x===t4.x&&o2[o2.length-1].y===t4.y||o2.push(t4)}}const b2=new l(c4,h3);o2[o2.length-1].x===b2.x&&o2[o2.length-1].y===b2.y||o2.push(b2)}return o2}__name(Ql,"Ql");function tu(t2,e2,r2){if(e2.length===0)throw new Error("Subdivision vertex ring is empty.");let n2=0,i2=t2[2*e2[0]];for(let r3=1;r3<e2.length;r3++){const s3=t2[2*e2[r3]];s3<i2&&(i2=s3,n2=r3)}const s2=e2.length;let a2=n2,o2=(a2+1)%s2;for(;;){const n3=a2-1>=0?a2-1:s2-1,i3=(o2+1)%s2,l2=t2[2*e2[n3]],u2=t2[2*e2[i3]],c3=t2[2*e2[a2]],h3=t2[2*e2[a2]+1],p3=t2[2*e2[o2]+1];let f2=!1;if(l2<u2)f2=!0;else if(l2>u2)f2=!1;else{const r3=p3-h3,s3=-(t2[2*e2[o2]]-c3),a3=h3<p3?1:-1;((l2-c3)*r3+(t2[2*e2[n3]+1]-h3)*s3)*a3>((u2-c3)*r3+(t2[2*e2[i3]+1]-h3)*s3)*a3&&(f2=!0)}if(f2){const t3=e2[n3],i4=e2[a2],l3=e2[o2];t3!==i4&&t3!==l3&&i4!==l3&&r2.push(l3,i4,t3),a2--,a2<0&&(a2=s2-1)}else{const t3=e2[i3],n4=e2[a2],l3=e2[o2];t3!==n4&&t3!==l3&&n4!==l3&&r2.push(l3,n4,t3),o2++,o2>=s2&&(o2=0)}if(n3===i3)break}}__name(tu,"tu");function eu(t2,e2,r2,n2,i2,s2,a2,o2,l2){const u2=i2.length/2,c3=a2&&o2&&l2;if(u2<Ha.MAX_VERTEX_ARRAY_LENGTH){const h3=e2.prepareSegment(u2,r2,n2),p3=h3.vertexLength;for(let t3=0;t3<s2.length;t3+=3)n2.emplaceBack(p3+s2[t3],p3+s2[t3+1],p3+s2[t3+2]);let f2,d3;h3.vertexLength+=u2,h3.primitiveLength+=s2.length/3,c3&&(d3=a2.prepareSegment(u2,r2,o2),f2=d3.vertexLength,d3.vertexLength+=u2);for(let e3=0;e3<i2.length;e3+=2)t2(i2[e3],i2[e3+1]);if(c3)for(let t3=0;t3<l2.length;t3++){const e3=l2[t3];for(let t4=1;t4<e3.length;t4+=2)o2.emplaceBack(f2+e3[t4-1],f2+e3[t4]);d3.primitiveLength+=e3.length/2}}else(function(t3,e3,r3,n3,i3,s3){const a3=[];for(let t4=0;t4<n3.length/2;t4++)a3.push(-1);const o3={count:0};let l3=0,u3=t3.getOrCreateLatestSegment(e3,r3),c4=u3.vertexLength;for(let h3=2;h3<i3.length;h3+=3){const p3=i3[h3-2],f2=i3[h3-1],d3=i3[h3];let y2=a3[p3]<l3,m2=a3[f2]<l3,g2=a3[d3]<l3;u3.vertexLength+((y2?1:0)+(m2?1:0)+(g2?1:0))>Ha.MAX_VERTEX_ARRAY_LENGTH&&(u3=t3.createNewSegment(e3,r3),l3=o3.count,y2=!0,m2=!0,g2=!0,c4=0);const x2=ru(a3,n3,s3,o3,p3,y2,u3),v2=ru(a3,n3,s3,o3,f2,m2,u3),b2=ru(a3,n3,s3,o3,d3,g2,u3);r3.emplaceBack(c4+x2-l3,c4+v2-l3,c4+b2-l3),u3.primitiveLength++}})(e2,r2,n2,i2,s2,t2),c3&&function(t3,e3,r3,n3,i3,s3){const a3=[];for(let t4=0;t4<n3.length/2;t4++)a3.push(-1);const o3={count:0};let l3=0,u3=t3.getOrCreateLatestSegment(e3,r3),c4=u3.vertexLength;for(let h3=0;h3<i3.length;h3++){const p3=i3[h3];for(let f2=1;f2<i3[h3].length;f2+=2){const i4=p3[f2-1],h4=p3[f2];let d3=a3[i4]<l3,y2=a3[h4]<l3;u3.vertexLength+((d3?1:0)+(y2?1:0))>Ha.MAX_VERTEX_ARRAY_LENGTH&&(u3=t3.createNewSegment(e3,r3),l3=o3.count,d3=!0,y2=!0,c4=0);const m2=ru(a3,n3,s3,o3,i4,d3,u3),g2=ru(a3,n3,s3,o3,h4,y2,u3);r3.emplaceBack(c4+m2-l3,c4+g2-l3),u3.primitiveLength++}}}(a2,r2,o2,i2,l2,t2),e2.forceNewSegmentOnNextPrepare(),a2==null||a2.forceNewSegmentOnNextPrepare()}__name(eu,"eu");function ru(t2,e2,r2,n2,i2,s2,a2){if(s2){const s3=n2.count;return r2(e2[2*i2],e2[2*i2+1]),t2[i2]=n2.count,n2.count++,a2.vertexLength++,s3}return t2[i2]}__name(ru,"ru");const _nu=class _nu{constructor(t2){this.zoom=t2.zoom,this.globalState=t2.globalState,this.overscaling=t2.overscaling,this.layers=t2.layers,this.layerIds=this.layers.map(t3=>t3.id),this.index=t2.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fa,this.indexArray=new Ga,this.indexArray2=new Xa,this.programConfigurations=new So(t2.layers,t2.zoom),this.segments=new Ha,this.segments2=new Ha,this.stateDependentLayerIds=this.layers.filter(t3=>t3.isStateDependent()).map(t3=>t3.id)}populate(t2,e2,r2){this.hasPattern=bl("fill",this.layers,e2);const n2=this.layers[0].layout.get("fill-sort-key"),i2=!n2.isConstant(),s2=[];for(const{feature:a2,id:o2,index:l2,sourceLayerIndex:u2}of t2){const t3=this.layers[0]._featureFilter.needGeometry,c3=Po(a2,t3);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),c3,r2))continue;const h3=i2?n2.evaluate(c3,{},r2,e2.availableImages):void 0,p3={id:o2,properties:a2.properties,type:a2.type,sourceLayerIndex:u2,index:l2,geometry:t3?c3.geometry:zo(a2),patterns:{},sortKey:h3};s2.push(p3)}i2&&s2.sort((t3,e3)=>t3.sortKey-e3.sortKey);for(const n3 of s2){const{geometry:i3,index:s3,sourceLayerIndex:a2}=n3;if(this.hasPattern){const t3=wl("fill",this.layers,n3,this.zoom,e2);this.patternFeatures.push(t3)}else this.addFeature(n3,i3,s3,r2,{},e2.subdivisionGranularity);e2.featureIndex.insert(t2[s3].feature,i3,s3,a2,this.index)}}update(t2,e2,r2){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t2,e2,this.stateDependentLayers,r2)}addFeatures(t2,e2,r2){for(const n2 of this.patternFeatures)this.addFeature(n2,n2.geometry,n2.index,e2,r2,t2.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t2){this.uploaded||(this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,vl),this.indexBuffer=t2.createIndexBuffer(this.indexArray),this.indexBuffer2=t2.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t2),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t2,e2,r2,n2,i2,s2){for(const t3 of rn(e2,500)){const e3=Wl(t3,n2,s2.fill.getGranularityForZoomLevel(n2.z)),r3=this.layoutVertexArray;eu((t4,e4)=>{r3.emplaceBack(t4,e4)},this.segments,this.layoutVertexArray,this.indexArray,e3.verticesFlattened,e3.indicesTriangles,this.segments2,this.indexArray2,e3.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t2,r2,i2,n2)}};__name(_nu,"nu");let nu=_nu,iu,su;us("FillBucket",nu,{omit:["layers","patternFeatures"]});var au={get paint(){return su=su||new qs({"fill-antialias":new Os(wt.paint_fill["fill-antialias"]),"fill-opacity":new Rs(wt.paint_fill["fill-opacity"]),"fill-color":new Rs(wt.paint_fill["fill-color"]),"fill-outline-color":new Rs(wt.paint_fill["fill-outline-color"]),"fill-translate":new Os(wt.paint_fill["fill-translate"]),"fill-translate-anchor":new Os(wt.paint_fill["fill-translate-anchor"]),"fill-pattern":new js(wt.paint_fill["fill-pattern"])})},get layout(){return iu=iu||new qs({"fill-sort-key":new Rs(wt.layout_fill["fill-sort-key"])})}};const _ou=class _ou extends Xs{constructor(t2){super(t2,au)}recalculate(t2,e2){super.recalculate(t2,e2);const r2=this.paint._values["fill-outline-color"];r2.value.kind==="constant"&&r2.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t2){return new nu(t2)}queryRadius(){return Go(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t2,geometry:e2,transform:r2,pixelsToTileUnits:n2}){return Fo(Xo(t2,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-r2.bearingInRadians,n2),e2)}isTileClipped(){return!0}};__name(_ou,"ou");let ou=_ou;const lu=Ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),uu=Ks([{name:"a_centroid",components:2,type:"Int16"}],4),{members:cu}=lu;var hu,pu,fu,du,yu,mu,gu,xu={};function vu(){if(pu)return hu;pu=1;var t2=s();function e2(t3,e3,n3,i2,s2){this.properties={},this.extent=n3,this.type=0,this._pbf=t3,this._geometry=-1,this._keys=i2,this._values=s2,t3.readFields(r2,this,e3)}__name(e2,"e");function r2(t3,e3,r3){t3==1?e3.id=r3.readVarint():t3==2?function(t4,e4){for(var r4=t4.readVarint()+t4.pos;t4.pos<r4;){var n3=e4._keys[t4.readVarint()],i2=e4._values[t4.readVarint()];e4.properties[n3]=i2}}(r3,e3):t3==3?e3.type=r3.readVarint():t3==4&&(e3._geometry=r3.pos)}__name(r2,"r");function n2(t3){for(var e3,r3,n3=0,i2=0,s2=t3.length,a2=s2-1;i2<s2;a2=i2++)n3+=((r3=t3[a2]).x-(e3=t3[i2]).x)*(e3.y+r3.y);return n3}return __name(n2,"n"),hu=e2,e2.types=["Unknown","Point","LineString","Polygon"],e2.prototype.loadGeometry=function(){var e3=this._pbf;e3.pos=this._geometry;for(var r3,n3=e3.readVarint()+e3.pos,i2=1,s2=0,a2=0,o2=0,l2=[];e3.pos<n3;){if(s2<=0){var u2=e3.readVarint();i2=7&u2,s2=u2>>3}if(s2--,i2===1||i2===2)a2+=e3.readSVarint(),o2+=e3.readSVarint(),i2===1&&(r3&&l2.push(r3),r3=[]),r3.push(new t2(a2,o2));else{if(i2!==7)throw new Error("unknown command "+i2);r3&&r3.push(r3[0].clone())}}return r3&&l2.push(r3),l2},e2.prototype.bbox=function(){var t3=this._pbf;t3.pos=this._geometry;for(var e3=t3.readVarint()+t3.pos,r3=1,n3=0,i2=0,s2=0,a2=1/0,o2=-1/0,l2=1/0,u2=-1/0;t3.pos<e3;){if(n3<=0){var c3=t3.readVarint();r3=7&c3,n3=c3>>3}if(n3--,r3===1||r3===2)(i2+=t3.readSVarint())<a2&&(a2=i2),i2>o2&&(o2=i2),(s2+=t3.readSVarint())<l2&&(l2=s2),s2>u2&&(u2=s2);else if(r3!==7)throw new Error("unknown command "+r3)}return[a2,l2,o2,u2]},e2.prototype.toGeoJSON=function(t3,r3,i2){var s2,a2,o2=this.extent*Math.pow(2,i2),l2=this.extent*t3,u2=this.extent*r3,c3=this.loadGeometry(),h3=e2.types[this.type];function p3(t4){for(var e3=0;e3<t4.length;e3++){var r4=t4[e3];t4[e3]=[360*(r4.x+l2)/o2-180,360/Math.PI*Math.atan(Math.exp((180-360*(r4.y+u2)/o2)*Math.PI/180))-90]}}switch(__name(p3,"p"),this.type){case 1:var f2=[];for(s2=0;s2<c3.length;s2++)f2[s2]=c3[s2][0];p3(c3=f2);break;case 2:for(s2=0;s2<c3.length;s2++)p3(c3[s2]);break;case 3:for(c3=function(t4){var e3=t4.length;if(e3<=1)return[t4];for(var r4,i3,s3=[],a3=0;a3<e3;a3++){var o3=n2(t4[a3]);o3!==0&&(i3===void 0&&(i3=o3<0),i3===o3<0?(r4&&s3.push(r4),r4=[t4[a3]]):r4.push(t4[a3]))}return r4&&s3.push(r4),s3}(c3),s2=0;s2<c3.length;s2++)for(a2=0;a2<c3[s2].length;a2++)p3(c3[s2][a2])}c3.length===1?c3=c3[0]:h3="Multi"+h3;var d3={type:"Feature",geometry:{type:h3,coordinates:c3},properties:this.properties};return"id"in this&&(d3.id=this.id),d3},hu}__name(vu,"vu");function bu(){if(du)return fu;du=1;var t2=vu();function e2(t3,e3){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t3,this._keys=[],this._values=[],this._features=[],t3.readFields(r2,this,e3),this.length=this._features.length}__name(e2,"e");function r2(t3,e3,r3){t3===15?e3.version=r3.readVarint():t3===1?e3.name=r3.readString():t3===5?e3.extent=r3.readVarint():t3===2?e3._features.push(r3.pos):t3===3?e3._keys.push(r3.readString()):t3===4&&e3._values.push(function(t4){for(var e4=null,r4=t4.readVarint()+t4.pos;t4.pos<r4;){var n2=t4.readVarint()>>3;e4=n2===1?t4.readString():n2===2?t4.readFloat():n2===3?t4.readDouble():n2===4?t4.readVarint64():n2===5?t4.readVarint():n2===6?t4.readSVarint():n2===7?t4.readBoolean():null}return e4}(r3))}return __name(r2,"r"),fu=e2,e2.prototype.feature=function(e3){if(e3<0||e3>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e3];var r3=this._pbf.readVarint()+this._pbf.pos;return new t2(this._pbf,r3,this.extent,this._keys,this._values)},fu}__name(bu,"bu");function wu(){return gu||(gu=1,xu.VectorTile=function(){if(mu)return yu;mu=1;var t2=bu();function e2(e3,r2,n2){if(e3===3){var i2=new t2(n2,n2.readVarint()+n2.pos);i2.length&&(r2[i2.name]=i2)}}return __name(e2,"e"),yu=__name(function(t3,r2){this.layers=t3.readFields(e2,{},r2)},"yu"),yu}(),xu.VectorTileFeature=vu(),xu.VectorTileLayer=bu()),xu}__name(wu,"wu");var _u=r(wu());const Su=_u.VectorTileFeature.types,Au=Math.pow(2,13);function ku(t2,e2,r2,n2,i2,s2,a2,o2){t2.emplaceBack(e2,r2,2*Math.floor(n2*Au)+a2,i2*Au*2,s2*Au*2,Math.round(o2))}__name(ku,"ku");const _Mu=class _Mu{constructor(t2){this.zoom=t2.zoom,this.globalState=t2.globalState,this.overscaling=t2.overscaling,this.layers=t2.layers,this.layerIds=this.layers.map(t3=>t3.id),this.index=t2.index,this.hasPattern=!1,this.layoutVertexArray=new La,this.centroidVertexArray=new Ta,this.indexArray=new Ga,this.programConfigurations=new So(t2.layers,t2.zoom),this.segments=new Ha,this.stateDependentLayerIds=this.layers.filter(t3=>t3.isStateDependent()).map(t3=>t3.id)}populate(t2,e2,r2){this.features=[],this.hasPattern=bl("fill-extrusion",this.layers,e2);for(const{feature:n2,id:i2,index:s2,sourceLayerIndex:a2}of t2){const t3=this.layers[0]._featureFilter.needGeometry,o2=Po(n2,t3);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),o2,r2))continue;const l2={id:i2,sourceLayerIndex:a2,index:s2,geometry:t3?o2.geometry:zo(n2),properties:n2.properties,type:n2.type,patterns:{}};this.hasPattern?this.features.push(wl("fill-extrusion",this.layers,l2,this.zoom,e2)):this.addFeature(l2,l2.geometry,s2,r2,{},e2.subdivisionGranularity),e2.featureIndex.insert(n2,l2.geometry,s2,a2,this.index,!0)}}addFeatures(t2,e2,r2){for(const n2 of this.features){const{geometry:i2}=n2;this.addFeature(n2,i2,n2.index,e2,r2,t2.subdivisionGranularity)}}update(t2,e2,r2){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t2,e2,this.stateDependentLayers,r2)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t2){this.uploaded||(this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,cu),this.centroidVertexBuffer=t2.createVertexBuffer(this.centroidVertexArray,uu.members,!0),this.indexBuffer=t2.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t2),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t2,e2,r2,n2,i2,s2){for(const r3 of rn(e2,500)){const e3={x:0,y:0,sampleCount:0},i3=this.layoutVertexArray.length;this.processPolygon(e3,n2,t2,r3,s2);const a2=this.layoutVertexArray.length-i3,o2=Math.floor(e3.x/e3.sampleCount),l2=Math.floor(e3.y/e3.sampleCount);for(let t3=0;t3<a2;t3++)this.centroidVertexArray.emplaceBack(o2,l2)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t2,r2,i2,n2)}processPolygon(t2,e2,r2,n2,i2){if(n2.length<1||Pu(n2[0]))return;for(const e3 of n2)e3.length!==0&&Iu(t2,e3);const s2={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},a2=i2.fill.getGranularityForZoomLevel(e2.z),o2=Su[r2.type]==="Polygon";for(const t3 of n2){if(t3.length===0||Pu(t3))continue;const e3=Ql(t3,a2,o2);this._generateSideFaces(e3,s2)}if(!o2)return;const l2=Wl(n2,e2,a2,!1),u2=this.layoutVertexArray;eu((t3,e3)=>{ku(u2,t3,e3,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,l2.verticesFlattened,l2.indicesTriangles)}_generateSideFaces(t2,e2){let r2=0;for(let n2=1;n2<t2.length;n2++){const i2=t2[n2],s2=t2[n2-1];if(zu(i2,s2))continue;e2.segment.vertexLength+4>Ha.MAX_VERTEX_ARRAY_LENGTH&&(e2.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const a2=i2.sub(s2)._perp()._unit(),o2=s2.dist(i2);r2+o2>32768&&(r2=0),ku(this.layoutVertexArray,i2.x,i2.y,a2.x,a2.y,0,0,r2),ku(this.layoutVertexArray,i2.x,i2.y,a2.x,a2.y,0,1,r2),r2+=o2,ku(this.layoutVertexArray,s2.x,s2.y,a2.x,a2.y,0,0,r2),ku(this.layoutVertexArray,s2.x,s2.y,a2.x,a2.y,0,1,r2);const l2=e2.segment.vertexLength;this.indexArray.emplaceBack(l2,l2+2,l2+1),this.indexArray.emplaceBack(l2+1,l2+2,l2+3),e2.segment.vertexLength+=4,e2.segment.primitiveLength+=2}}};__name(_Mu,"Mu");let Mu=_Mu;function Iu(t2,e2){for(let r2=0;r2<e2.length;r2++){const n2=e2[r2];r2===e2.length-1&&e2[0].x===n2.x&&e2[0].y===n2.y||(t2.x+=n2.x,t2.y+=n2.y,t2.sampleCount++)}}__name(Iu,"Iu");function zu(t2,e2){return t2.x===e2.x&&(t2.x<0||t2.x>E2)||t2.y===e2.y&&(t2.y<0||t2.y>E2)}__name(zu,"zu");function Pu(t2){return t2.every(t3=>t3.x<0)||t2.every(t3=>t3.x>E2)||t2.every(t3=>t3.y<0)||t2.every(t3=>t3.y>E2)}__name(Pu,"Pu");let Cu;us("FillExtrusionBucket",Mu,{omit:["layers","features"]});var Bu={get paint(){return Cu=Cu||new qs({"fill-extrusion-opacity":new Os(wt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Os(wt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Os(wt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new js(wt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Rs(wt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Os(wt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};const _Eu=class _Eu extends Xs{constructor(t2){super(t2,Bu)}createBucket(t2){return new Mu(t2)}queryRadius(){return Go(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:t2,feature:e2,featureState:r2,geometry:n2,transform:i2,pixelsToTileUnits:s2,pixelPosMatrix:a2}){const o2=Xo(t2,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-i2.bearingInRadians,s2),u2=this.paint.get("fill-extrusion-height").evaluate(e2,r2),c3=this.paint.get("fill-extrusion-base").evaluate(e2,r2),h3=function(t3,e3){const r3=[];for(const n3 of t3){const t4=[n3.x,n3.y,0,1];I(t4,t4,e3),r3.push(new l(t4[0]/t4[3],t4[1]/t4[3]))}return r3}(o2,a2),p3=function(t3,e3,r3,n3){const i3=[],s3=[],a3=n3[8]*e3,o3=n3[9]*e3,u3=n3[10]*e3,c4=n3[11]*e3,h4=n3[8]*r3,p4=n3[9]*r3,f2=n3[10]*r3,d3=n3[11]*r3;for(const e4 of t3){const t4=[],r4=[];for(const i4 of e4){const e5=i4.x,s4=i4.y,y2=n3[0]*e5+n3[4]*s4+n3[12],m2=n3[1]*e5+n3[5]*s4+n3[13],g2=n3[2]*e5+n3[6]*s4+n3[14],x2=n3[3]*e5+n3[7]*s4+n3[15],v2=g2+u3,b2=x2+c4,w2=y2+h4,_2=m2+p4,S2=g2+f2,A2=x2+d3,k2=new l((y2+a3)/b2,(m2+o3)/b2);k2.z=v2/b2,t4.push(k2);const M2=new l(w2/A2,_2/A2);M2.z=S2/A2,r4.push(M2)}i3.push(t4),s3.push(r4)}return[i3,s3]}(n2,c3,u2,a2);return function(t3,e3,r3){let n3=1/0;Fo(r3,e3)&&(n3=Vu(r3,e3[0]));for(let i3=0;i3<e3.length;i3++){const s3=e3[i3],a3=t3[i3];for(let t4=0;t4<s3.length-1;t4++){const e4=s3[t4],i4=[e4,s3[t4+1],a3[t4+1],a3[t4],e4];To(r3,i4)&&(n3=Math.min(n3,Vu(r3,i4)))}}return n3!==1/0&&n3}(p3[0],p3[1],h3)}};__name(_Eu,"Eu");let Eu=_Eu;function Tu(t2,e2){return t2.x*e2.x+t2.y*e2.y}__name(Tu,"Tu");function Vu(t2,e2){if(t2.length===1){let r2=0;const n2=e2[r2++];let i2;for(;!i2||n2.equals(i2);)if(i2=e2[r2++],!i2)return 1/0;for(;r2<e2.length;r2++){const s2=e2[r2],a2=t2[0],o2=i2.sub(n2),l2=s2.sub(n2),u2=a2.sub(n2),c3=Tu(o2,o2),h3=Tu(o2,l2),p3=Tu(l2,l2),f2=Tu(u2,o2),d3=Tu(u2,l2),y2=c3*p3-h3*h3,m2=(p3*f2-h3*d3)/y2,g2=(c3*d3-h3*f2)/y2,x2=n2.z*(1-m2-g2)+i2.z*m2+s2.z*g2;if(isFinite(x2))return x2}return 1/0}{let t3=1/0;for(const r2 of e2)t3=Math.min(t3,r2.z);return t3}}__name(Vu,"Vu");const Fu=Ks([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Lu}=Fu,$u=Ks([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Du}=$u,Ou=_u.VectorTileFeature.types,Ru=Math.cos(Math.PI/180*37.5),ju=Math.pow(2,14)/.5,_Nu=class _Nu{constructor(t2){this.zoom=t2.zoom,this.globalState=t2.globalState,this.overscaling=t2.overscaling,this.layers=t2.layers,this.layerIds=this.layers.map(t3=>t3.id),this.index=t2.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(t3=>{this.gradients[t3.id]={}}),this.layoutVertexArray=new $a,this.layoutVertexArray2=new Da,this.indexArray=new Ga,this.programConfigurations=new So(t2.layers,t2.zoom),this.segments=new Ha,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(t3=>t3.isStateDependent()).map(t3=>t3.id)}populate(t2,e2,r2){this.hasPattern=bl("line",this.layers,e2);const n2=this.layers[0].layout.get("line-sort-key"),i2=!n2.isConstant(),s2=[];for(const{feature:e3,id:a2,index:o2,sourceLayerIndex:l2}of t2){const t3=this.layers[0]._featureFilter.needGeometry,u2=Po(e3,t3);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom,{globalState:this.globalState}),u2,r2))continue;const c3=i2?n2.evaluate(u2,{},r2):void 0,h3={id:a2,properties:e3.properties,type:e3.type,sourceLayerIndex:l2,index:o2,geometry:t3?u2.geometry:zo(e3),patterns:{},sortKey:c3};s2.push(h3)}i2&&s2.sort((t3,e3)=>t3.sortKey-e3.sortKey);for(const n3 of s2){const{geometry:i3,index:s3,sourceLayerIndex:a2}=n3;if(this.hasPattern){const t3=wl("line",this.layers,n3,this.zoom,e2);this.patternFeatures.push(t3)}else this.addFeature(n3,i3,s3,r2,{},e2.subdivisionGranularity);e2.featureIndex.insert(t2[s3].feature,i3,s3,a2,this.index)}}update(t2,e2,r2){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t2,e2,this.stateDependentLayers,r2)}addFeatures(t2,e2,r2){for(const n2 of this.patternFeatures)this.addFeature(n2,n2.geometry,n2.index,e2,r2,t2.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t2){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t2.createVertexBuffer(this.layoutVertexArray2,Du)),this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,Lu),this.indexBuffer=t2.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t2),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t2){if(t2.properties&&Object.prototype.hasOwnProperty.call(t2.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t2.properties,"mapbox_clip_end"))return{start:+t2.properties.mapbox_clip_start,end:+t2.properties.mapbox_clip_end}}addFeature(t2,e2,r2,n2,i2,s2){const a2=this.layers[0].layout,o2=a2.get("line-join").evaluate(t2,{}),l2=a2.get("line-cap"),u2=a2.get("line-miter-limit"),c3=a2.get("line-round-limit");this.lineClips=this.lineFeatureClips(t2);for(const r3 of e2)this.addLine(r3,t2,o2,l2,u2,c3,n2,s2);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t2,r2,i2,n2)}addLine(t2,e2,r2,n2,i2,s2,a2,o2){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t2=Ql(t2,a2?o2.line.getGranularityForZoomLevel(a2.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e3=0;e3<t2.length-1;e3++)this.totalDistance+=t2[e3].dist(t2[e3+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const l2=Ou[e2.type]==="Polygon";let u2=t2.length;for(;u2>=2&&t2[u2-1].equals(t2[u2-2]);)u2--;let c3=0;for(;c3<u2-1&&t2[c3].equals(t2[c3+1]);)c3++;if(u2<(l2?3:2))return;r2==="bevel"&&(i2=1.05);const h3=this.overscaling<=16?122880/(512*this.overscaling):0,p3=this.segments.prepareSegment(10*u2,this.layoutVertexArray,this.indexArray);let f2,d3,y2,m2,g2;this.e1=this.e2=-1,l2&&(f2=t2[u2-2],g2=t2[c3].sub(f2)._unit()._perp());for(let e3=c3;e3<u2;e3++){if(y2=e3===u2-1?l2?t2[c3+1]:void 0:t2[e3+1],y2&&t2[e3].equals(y2))continue;g2&&(m2=g2),f2&&(d3=f2),f2=t2[e3],g2=y2?y2.sub(f2)._unit()._perp():m2,m2=m2||g2;let a3=m2.add(g2);a3.x===0&&a3.y===0||a3._unit();const o3=m2.x*g2.x+m2.y*g2.y,x2=a3.x*g2.x+a3.y*g2.y,v2=x2!==0?1/x2:1/0,b2=2*Math.sqrt(2-2*x2),w2=x2<Ru&&d3&&y2,_2=m2.x*g2.y-m2.y*g2.x>0;if(w2&&e3>c3){const t3=f2.dist(d3);if(t3>2*h3){const e4=f2.sub(f2.sub(d3)._mult(h3/t3)._round());this.updateDistance(d3,e4),this.addCurrentVertex(e4,m2,0,0,p3),d3=e4}}const S2=d3&&y2;let A2=S2?r2:l2?"butt":n2;if(S2&&A2==="round"&&(v2<s2?A2="miter":v2<=2&&(A2="fakeround")),A2==="miter"&&v2>i2&&(A2="bevel"),A2==="bevel"&&(v2>2&&(A2="flipbevel"),v2<i2&&(A2="miter")),d3&&this.updateDistance(d3,f2),A2==="miter")a3._mult(v2),this.addCurrentVertex(f2,a3,0,0,p3);else if(A2==="flipbevel"){if(v2>100)a3=g2.mult(-1);else{const t3=v2*m2.add(g2).mag()/m2.sub(g2).mag();a3._perp()._mult(t3*(_2?-1:1))}this.addCurrentVertex(f2,a3,0,0,p3),this.addCurrentVertex(f2,a3.mult(-1),0,0,p3)}else if(A2==="bevel"||A2==="fakeround"){const t3=-Math.sqrt(v2*v2-1),e4=_2?t3:0,r3=_2?0:t3;if(d3&&this.addCurrentVertex(f2,m2,e4,r3,p3),A2==="fakeround"){const t4=Math.round(180*b2/Math.PI/20);for(let e5=1;e5<t4;e5++){let r4=e5/t4;if(r4!==.5){const t5=r4-.5;r4+=r4*t5*(r4-1)*((1.0904+o3*(o3*(3.55645-1.43519*o3)-3.2452))*t5*t5+(.848013+o3*(.215638*o3-1.06021)))}const n3=g2.sub(m2)._mult(r4)._add(m2)._unit()._mult(_2?-1:1);this.addHalfVertex(f2,n3.x,n3.y,!1,_2,0,p3)}}y2&&this.addCurrentVertex(f2,g2,-e4,-r3,p3)}else if(A2==="butt")this.addCurrentVertex(f2,a3,0,0,p3);else if(A2==="square"){const t3=d3?1:-1;this.addCurrentVertex(f2,a3,t3,t3,p3)}else A2==="round"&&(d3&&(this.addCurrentVertex(f2,m2,0,0,p3),this.addCurrentVertex(f2,m2,1,1,p3,!0)),y2&&(this.addCurrentVertex(f2,g2,-1,-1,p3,!0),this.addCurrentVertex(f2,g2,0,0,p3)));if(w2&&e3<u2-1){const t3=f2.dist(y2);if(t3>2*h3){const e4=f2.add(y2.sub(f2)._mult(h3/t3)._round());this.updateDistance(f2,e4),this.addCurrentVertex(e4,g2,0,0,p3),f2=e4}}}}addCurrentVertex(t2,e2,r2,n2,i2,s2=!1){const a2=e2.y*n2-e2.x,o2=-e2.y-e2.x*n2;this.addHalfVertex(t2,e2.x+e2.y*r2,e2.y-e2.x*r2,s2,!1,r2,i2),this.addHalfVertex(t2,a2,o2,s2,!0,-n2,i2),this.distance>ju/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t2,e2,r2,n2,i2,s2))}addHalfVertex({x:t2,y:e2},r2,n2,i2,s2,a2,o2){const l2=.5*(this.lineClips?this.scaledDistance*(ju-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t2<<1)+(i2?1:0),(e2<<1)+(s2?1:0),Math.round(63*r2)+128,Math.round(63*n2)+128,1+(a2===0?0:a2<0?-1:1)|(63&l2)<<2,l2>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u2=o2.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,u2,this.e2),o2.primitiveLength++),s2?this.e2=u2:this.e1=u2}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t2,e2){this.distance+=t2.dist(e2),this.updateScaledDistance()}};__name(_Nu,"Nu");let Nu=_Nu,Uu,qu;us("LineBucket",Nu,{omit:["layers","patternFeatures"]});var Gu={get paint(){return qu=qu||new qs({"line-opacity":new Rs(wt.paint_line["line-opacity"]),"line-color":new Rs(wt.paint_line["line-color"]),"line-translate":new Os(wt.paint_line["line-translate"]),"line-translate-anchor":new Os(wt.paint_line["line-translate-anchor"]),"line-width":new Rs(wt.paint_line["line-width"]),"line-gap-width":new Rs(wt.paint_line["line-gap-width"]),"line-offset":new Rs(wt.paint_line["line-offset"]),"line-blur":new Rs(wt.paint_line["line-blur"]),"line-dasharray":new Ns(wt.paint_line["line-dasharray"]),"line-pattern":new js(wt.paint_line["line-pattern"]),"line-gradient":new Us(wt.paint_line["line-gradient"])})},get layout(){return Uu=Uu||new qs({"line-cap":new Os(wt.layout_line["line-cap"]),"line-join":new Rs(wt.layout_line["line-join"]),"line-miter-limit":new Os(wt.layout_line["line-miter-limit"]),"line-round-limit":new Os(wt.layout_line["line-round-limit"]),"line-sort-key":new Rs(wt.layout_line["line-sort-key"])})}};const _Xu=class _Xu extends Rs{possiblyEvaluate(t2,e2){return e2=new Cs(Math.floor(e2.zoom),{now:e2.now,fadeDuration:e2.fadeDuration,zoomHistory:e2.zoomHistory,transition:e2.transition}),super.possiblyEvaluate(t2,e2)}evaluate(t2,e2,r2,n2){return e2=j({},e2,{zoom:Math.floor(e2.zoom)}),super.evaluate(t2,e2,r2,n2)}};__name(_Xu,"Xu");let Xu=_Xu,Zu;const _Yu=class _Yu extends Xs{constructor(t2){super(t2,Gu),this.gradientVersion=0,Zu||(Zu=new Xu(Gu.paint.properties["line-width"].specification),Zu.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t2){if(t2==="line-gradient"){const t3=this.gradientExpression();this.stepInterpolant=!!function(t4){return t4._styleExpression!==void 0}(t3)&&t3._styleExpression.expression instanceof ur,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t2,e2){super.recalculate(t2,e2),this.paint._values["line-floorwidth"]=Zu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t2)}createBucket(t2){return new Nu(t2)}queryRadius(t2){const e2=t2,r2=Hu(qo("line-width",this,e2),qo("line-gap-width",this,e2)),n2=qo("line-offset",this,e2);return r2/2+Math.abs(n2)+Go(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t2,feature:e2,featureState:r2,geometry:n2,transform:i2,pixelsToTileUnits:s2}){const a2=Xo(t2,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-i2.bearingInRadians,s2),o2=s2/2*Hu(this.paint.get("line-width").evaluate(e2,r2),this.paint.get("line-gap-width").evaluate(e2,r2)),u2=this.paint.get("line-offset").evaluate(e2,r2);return u2&&(n2=function(t3,e3){const r3=[];for(let n3=0;n3<t3.length;n3++){const i3=t3[n3],s3=[];for(let t4=0;t4<i3.length;t4++){const r4=i3[t4-1],n4=i3[t4],a3=i3[t4+1],o3=t4===0?new l(0,0):n4.sub(r4)._unit()._perp(),u3=t4===i3.length-1?new l(0,0):a3.sub(n4)._unit()._perp(),c3=o3._add(u3)._unit(),h3=c3.x*u3.x+c3.y*u3.y;h3!==0&&c3._mult(1/h3),s3.push(c3._mult(e3)._add(n4))}r3.push(s3)}return r3}(n2,u2*s2)),function(t3,e3,r3){for(let n3=0;n3<e3.length;n3++){const i3=e3[n3];if(t3.length>=3){for(let e4=0;e4<i3.length;e4++)if(No(t3,i3[e4]))return!0}if(Lo(t3,i3,r3))return!0}return!1}(a2,n2,o2)}isTileClipped(){return!0}};__name(_Yu,"Yu");let Yu=_Yu;function Hu(t2,e2){return e2>0?e2+2*t2:t2}__name(Hu,"Hu");const Ku=Ks([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ju=Ks([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ks([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Wu=Ks([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Ks([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Qu=Ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),tc=Ks([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ec(t2,e2,r2){return t2.sections.forEach(t3=>{t3.text=function(t4,e3,r3){const n2=e3.layout.get("text-transform").evaluate(r3,{});return n2==="uppercase"?t4=t4.toLocaleUpperCase():n2==="lowercase"&&(t4=t4.toLocaleLowerCase()),Ps.applyArabicShaping&&(t4=Ps.applyArabicShaping(t4)),t4}(t3.text,e2,r2)}),t2}__name(ec,"ec"),Ks([{name:"triangle",components:3,type:"Uint16"}]),Ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ks([{type:"Float32",name:"offsetX"}]),Ks([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ks([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const rc={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var nc,ic,sc,ac=24,oc={};function lc(){return nc||(nc=1,oc.read=function(t2,e2,r2,n2,i2){var s2,a2,o2=8*i2-n2-1,l2=(1<<o2)-1,u2=l2>>1,c3=-7,h3=r2?i2-1:0,p3=r2?-1:1,f2=t2[e2+h3];for(h3+=p3,s2=f2&(1<<-c3)-1,f2>>=-c3,c3+=o2;c3>0;s2=256*s2+t2[e2+h3],h3+=p3,c3-=8);for(a2=s2&(1<<-c3)-1,s2>>=-c3,c3+=n2;c3>0;a2=256*a2+t2[e2+h3],h3+=p3,c3-=8);if(s2===0)s2=1-u2;else{if(s2===l2)return a2?NaN:1/0*(f2?-1:1);a2+=Math.pow(2,n2),s2-=u2}return(f2?-1:1)*a2*Math.pow(2,s2-n2)},oc.write=function(t2,e2,r2,n2,i2,s2){var a2,o2,l2,u2=8*s2-i2-1,c3=(1<<u2)-1,h3=c3>>1,p3=i2===23?Math.pow(2,-24)-Math.pow(2,-77):0,f2=n2?0:s2-1,d3=n2?1:-1,y2=e2<0||e2===0&&1/e2<0?1:0;for(e2=Math.abs(e2),isNaN(e2)||e2===1/0?(o2=isNaN(e2)?1:0,a2=c3):(a2=Math.floor(Math.log(e2)/Math.LN2),e2*(l2=Math.pow(2,-a2))<1&&(a2--,l2*=2),(e2+=a2+h3>=1?p3/l2:p3*Math.pow(2,1-h3))*l2>=2&&(a2++,l2/=2),a2+h3>=c3?(o2=0,a2=c3):a2+h3>=1?(o2=(e2*l2-1)*Math.pow(2,i2),a2+=h3):(o2=e2*Math.pow(2,h3-1)*Math.pow(2,i2),a2=0));i2>=8;t2[r2+f2]=255&o2,f2+=d3,o2/=256,i2-=8);for(a2=a2<<i2|o2,u2+=i2;u2>0;t2[r2+f2]=255&a2,f2+=d3,a2/=256,u2-=8);t2[r2+f2-d3]|=128*y2}),oc}__name(lc,"lc");function uc(){if(sc)return ic;sc=1,ic=e2;var t2=lc();function e2(t3){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t3)?t3:new Uint8Array(t3||0),this.pos=0,this.type=0,this.length=this.buf.length}__name(e2,"e"),e2.Varint=0,e2.Fixed64=1,e2.Bytes=2,e2.Fixed32=5;var r2=4294967296,n2=1/r2,i2=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function s2(t3){return t3.type===e2.Bytes?t3.readVarint()+t3.pos:t3.pos+1}__name(s2,"s");function a2(t3,e3,r3){return r3?4294967296*e3+(t3>>>0):4294967296*(e3>>>0)+(t3>>>0)}__name(a2,"a");function o2(t3,e3,r3){var n3=e3<=16383?1:e3<=2097151?2:e3<=268435455?3:Math.floor(Math.log(e3)/(7*Math.LN2));r3.realloc(n3);for(var i3=r3.pos-1;i3>=t3;i3--)r3.buf[i3+n3]=r3.buf[i3]}__name(o2,"o");function l2(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeVarint(t3[r3])}__name(l2,"l");function u2(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeSVarint(t3[r3])}__name(u2,"u");function c3(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeFloat(t3[r3])}__name(c3,"c");function h3(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeDouble(t3[r3])}__name(h3,"h");function p3(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeBoolean(t3[r3])}__name(p3,"p");function f2(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeFixed32(t3[r3])}__name(f2,"f");function d3(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeSFixed32(t3[r3])}__name(d3,"d");function y2(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeFixed64(t3[r3])}__name(y2,"y");function m2(t3,e3){for(var r3=0;r3<t3.length;r3++)e3.writeSFixed64(t3[r3])}__name(m2,"m");function g2(t3,e3){return(t3[e3]|t3[e3+1]<<8|t3[e3+2]<<16)+16777216*t3[e3+3]}__name(g2,"g");function x2(t3,e3,r3){t3[r3]=e3,t3[r3+1]=e3>>>8,t3[r3+2]=e3>>>16,t3[r3+3]=e3>>>24}__name(x2,"x");function v2(t3,e3){return(t3[e3]|t3[e3+1]<<8|t3[e3+2]<<16)+(t3[e3+3]<<24)}return __name(v2,"v"),e2.prototype={destroy:__name(function(){this.buf=null},"destroy"),readFields:__name(function(t3,e3,r3){for(r3=r3||this.length;this.pos<r3;){var n3=this.readVarint(),i3=n3>>3,s3=this.pos;this.type=7&n3,t3(i3,e3,this),this.pos===s3&&this.skip(n3)}return e3},"readFields"),readMessage:__name(function(t3,e3){return this.readFields(t3,e3,this.readVarint()+this.pos)},"readMessage"),readFixed32:__name(function(){var t3=g2(this.buf,this.pos);return this.pos+=4,t3},"readFixed32"),readSFixed32:__name(function(){var t3=v2(this.buf,this.pos);return this.pos+=4,t3},"readSFixed32"),readFixed64:__name(function(){var t3=g2(this.buf,this.pos)+g2(this.buf,this.pos+4)*r2;return this.pos+=8,t3},"readFixed64"),readSFixed64:__name(function(){var t3=g2(this.buf,this.pos)+v2(this.buf,this.pos+4)*r2;return this.pos+=8,t3},"readSFixed64"),readFloat:__name(function(){var e3=t2.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e3},"readFloat"),readDouble:__name(function(){var e3=t2.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e3},"readDouble"),readVarint:__name(function(t3){var e3,r3,n3=this.buf;return e3=127&(r3=n3[this.pos++]),r3<128?e3:(e3|=(127&(r3=n3[this.pos++]))<<7,r3<128?e3:(e3|=(127&(r3=n3[this.pos++]))<<14,r3<128?e3:(e3|=(127&(r3=n3[this.pos++]))<<21,r3<128?e3:function(t4,e4,r4){var n4,i3,s3=r4.buf;if(n4=(112&(i3=s3[r4.pos++]))>>4,i3<128||(n4|=(127&(i3=s3[r4.pos++]))<<3,i3<128)||(n4|=(127&(i3=s3[r4.pos++]))<<10,i3<128)||(n4|=(127&(i3=s3[r4.pos++]))<<17,i3<128)||(n4|=(127&(i3=s3[r4.pos++]))<<24,i3<128)||(n4|=(1&(i3=s3[r4.pos++]))<<31,i3<128))return a2(t4,n4,e4);throw new Error("Expected varint not more than 10 bytes")}(e3|=(15&(r3=n3[this.pos]))<<28,t3,this))))},"readVarint"),readVarint64:__name(function(){return this.readVarint(!0)},"readVarint64"),readSVarint:__name(function(){var t3=this.readVarint();return t3%2==1?(t3+1)/-2:t3/2},"readSVarint"),readBoolean:__name(function(){return!!this.readVarint()},"readBoolean"),readString:__name(function(){var t3=this.readVarint()+this.pos,e3=this.pos;return this.pos=t3,t3-e3>=12&&i2?function(t4,e4,r3){return i2.decode(t4.subarray(e4,r3))}(this.buf,e3,t3):function(t4,e4,r3){for(var n3="",i3=e4;i3<r3;){var s3,a3,o3,l3=t4[i3],u3=null,c4=l3>239?4:l3>223?3:l3>191?2:1;if(i3+c4>r3)break;c4===1?l3<128&&(u3=l3):c4===2?(192&(s3=t4[i3+1]))==128&&(u3=(31&l3)<<6|63&s3)<=127&&(u3=null):c4===3?(a3=t4[i3+2],(192&(s3=t4[i3+1]))==128&&(192&a3)==128&&((u3=(15&l3)<<12|(63&s3)<<6|63&a3)<=2047||u3>=55296&&u3<=57343)&&(u3=null)):c4===4&&(a3=t4[i3+2],o3=t4[i3+3],(192&(s3=t4[i3+1]))==128&&(192&a3)==128&&(192&o3)==128&&((u3=(15&l3)<<18|(63&s3)<<12|(63&a3)<<6|63&o3)<=65535||u3>=1114112)&&(u3=null)),u3===null?(u3=65533,c4=1):u3>65535&&(u3-=65536,n3+=String.fromCharCode(u3>>>10&1023|55296),u3=56320|1023&u3),n3+=String.fromCharCode(u3),i3+=c4}return n3}(this.buf,e3,t3)},"readString"),readBytes:__name(function(){var t3=this.readVarint()+this.pos,e3=this.buf.subarray(this.pos,t3);return this.pos=t3,e3},"readBytes"),readPackedVarint:__name(function(t3,r3){if(this.type!==e2.Bytes)return t3.push(this.readVarint(r3));var n3=s2(this);for(t3=t3||[];this.pos<n3;)t3.push(this.readVarint(r3));return t3},"readPackedVarint"),readPackedSVarint:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readSVarint());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readSVarint());return t3},"readPackedSVarint"),readPackedBoolean:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readBoolean());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readBoolean());return t3},"readPackedBoolean"),readPackedFloat:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readFloat());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readFloat());return t3},"readPackedFloat"),readPackedDouble:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readDouble());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readDouble());return t3},"readPackedDouble"),readPackedFixed32:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readFixed32());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readFixed32());return t3},"readPackedFixed32"),readPackedSFixed32:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readSFixed32());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readSFixed32());return t3},"readPackedSFixed32"),readPackedFixed64:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readFixed64());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readFixed64());return t3},"readPackedFixed64"),readPackedSFixed64:__name(function(t3){if(this.type!==e2.Bytes)return t3.push(this.readSFixed64());var r3=s2(this);for(t3=t3||[];this.pos<r3;)t3.push(this.readSFixed64());return t3},"readPackedSFixed64"),skip:__name(function(t3){var r3=7&t3;if(r3===e2.Varint)for(;this.buf[this.pos++]>127;);else if(r3===e2.Bytes)this.pos=this.readVarint()+this.pos;else if(r3===e2.Fixed32)this.pos+=4;else{if(r3!==e2.Fixed64)throw new Error("Unimplemented type: "+r3);this.pos+=8}},"skip"),writeTag:__name(function(t3,e3){this.writeVarint(t3<<3|e3)},"writeTag"),realloc:__name(function(t3){for(var e3=this.length||16;e3<this.pos+t3;)e3*=2;if(e3!==this.length){var r3=new Uint8Array(e3);r3.set(this.buf),this.buf=r3,this.length=e3}},"realloc"),finish:__name(function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},"finish"),writeFixed32:__name(function(t3){this.realloc(4),x2(this.buf,t3,this.pos),this.pos+=4},"writeFixed32"),writeSFixed32:__name(function(t3){this.realloc(4),x2(this.buf,t3,this.pos),this.pos+=4},"writeSFixed32"),writeFixed64:__name(function(t3){this.realloc(8),x2(this.buf,-1&t3,this.pos),x2(this.buf,Math.floor(t3*n2),this.pos+4),this.pos+=8},"writeFixed64"),writeSFixed64:__name(function(t3){this.realloc(8),x2(this.buf,-1&t3,this.pos),x2(this.buf,Math.floor(t3*n2),this.pos+4),this.pos+=8},"writeSFixed64"),writeVarint:__name(function(t3){(t3=+t3||0)>268435455||t3<0?function(t4,e3){var r3,n3;if(t4>=0?(r3=t4%4294967296|0,n3=t4/4294967296|0):(n3=~(-t4/4294967296),4294967295^(r3=~(-t4%4294967296))?r3=r3+1|0:(r3=0,n3=n3+1|0)),t4>=18446744073709552e3||t4<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e3.realloc(10),function(t5,e4,r4){r4.buf[r4.pos++]=127&t5|128,t5>>>=7,r4.buf[r4.pos++]=127&t5|128,t5>>>=7,r4.buf[r4.pos++]=127&t5|128,t5>>>=7,r4.buf[r4.pos++]=127&t5|128,r4.buf[r4.pos]=127&(t5>>>=7)}(r3,0,e3),function(t5,e4){var r4=(7&t5)<<4;e4.buf[e4.pos++]|=r4|((t5>>>=3)?128:0),t5&&(e4.buf[e4.pos++]=127&t5|((t5>>>=7)?128:0),t5&&(e4.buf[e4.pos++]=127&t5|((t5>>>=7)?128:0),t5&&(e4.buf[e4.pos++]=127&t5|((t5>>>=7)?128:0),t5&&(e4.buf[e4.pos++]=127&t5|((t5>>>=7)?128:0),t5&&(e4.buf[e4.pos++]=127&t5)))))}(n3,e3)}(t3,this):(this.realloc(4),this.buf[this.pos++]=127&t3|(t3>127?128:0),t3<=127||(this.buf[this.pos++]=127&(t3>>>=7)|(t3>127?128:0),t3<=127||(this.buf[this.pos++]=127&(t3>>>=7)|(t3>127?128:0),t3<=127||(this.buf[this.pos++]=t3>>>7&127))))},"writeVarint"),writeSVarint:__name(function(t3){this.writeVarint(t3<0?2*-t3-1:2*t3)},"writeSVarint"),writeBoolean:__name(function(t3){this.writeVarint(!!t3)},"writeBoolean"),writeString:__name(function(t3){t3=String(t3),this.realloc(4*t3.length),this.pos++;var e3=this.pos;this.pos=function(t4,e4,r4){for(var n3,i3,s3=0;s3<e4.length;s3++){if((n3=e4.charCodeAt(s3))>55295&&n3<57344){if(!i3){n3>56319||s3+1===e4.length?(t4[r4++]=239,t4[r4++]=191,t4[r4++]=189):i3=n3;continue}if(n3<56320){t4[r4++]=239,t4[r4++]=191,t4[r4++]=189,i3=n3;continue}n3=i3-55296<<10|n3-56320|65536,i3=null}else i3&&(t4[r4++]=239,t4[r4++]=191,t4[r4++]=189,i3=null);n3<128?t4[r4++]=n3:(n3<2048?t4[r4++]=n3>>6|192:(n3<65536?t4[r4++]=n3>>12|224:(t4[r4++]=n3>>18|240,t4[r4++]=n3>>12&63|128),t4[r4++]=n3>>6&63|128),t4[r4++]=63&n3|128)}return r4}(this.buf,t3,this.pos);var r3=this.pos-e3;r3>=128&&o2(e3,r3,this),this.pos=e3-1,this.writeVarint(r3),this.pos+=r3},"writeString"),writeFloat:__name(function(e3){this.realloc(4),t2.write(this.buf,e3,this.pos,!0,23,4),this.pos+=4},"writeFloat"),writeDouble:__name(function(e3){this.realloc(8),t2.write(this.buf,e3,this.pos,!0,52,8),this.pos+=8},"writeDouble"),writeBytes:__name(function(t3){var e3=t3.length;this.writeVarint(e3),this.realloc(e3);for(var r3=0;r3<e3;r3++)this.buf[this.pos++]=t3[r3]},"writeBytes"),writeRawMessage:__name(function(t3,e3){this.pos++;var r3=this.pos;t3(e3,this);var n3=this.pos-r3;n3>=128&&o2(r3,n3,this),this.pos=r3-1,this.writeVarint(n3),this.pos+=n3},"writeRawMessage"),writeMessage:__name(function(t3,r3,n3){this.writeTag(t3,e2.Bytes),this.writeRawMessage(r3,n3)},"writeMessage"),writePackedVarint:__name(function(t3,e3){e3.length&&this.writeMessage(t3,l2,e3)},"writePackedVarint"),writePackedSVarint:__name(function(t3,e3){e3.length&&this.writeMessage(t3,u2,e3)},"writePackedSVarint"),writePackedBoolean:__name(function(t3,e3){e3.length&&this.writeMessage(t3,p3,e3)},"writePackedBoolean"),writePackedFloat:__name(function(t3,e3){e3.length&&this.writeMessage(t3,c3,e3)},"writePackedFloat"),writePackedDouble:__name(function(t3,e3){e3.length&&this.writeMessage(t3,h3,e3)},"writePackedDouble"),writePackedFixed32:__name(function(t3,e3){e3.length&&this.writeMessage(t3,f2,e3)},"writePackedFixed32"),writePackedSFixed32:__name(function(t3,e3){e3.length&&this.writeMessage(t3,d3,e3)},"writePackedSFixed32"),writePackedFixed64:__name(function(t3,e3){e3.length&&this.writeMessage(t3,y2,e3)},"writePackedFixed64"),writePackedSFixed64:__name(function(t3,e3){e3.length&&this.writeMessage(t3,m2,e3)},"writePackedSFixed64"),writeBytesField:__name(function(t3,r3){this.writeTag(t3,e2.Bytes),this.writeBytes(r3)},"writeBytesField"),writeFixed32Field:__name(function(t3,r3){this.writeTag(t3,e2.Fixed32),this.writeFixed32(r3)},"writeFixed32Field"),writeSFixed32Field:__name(function(t3,r3){this.writeTag(t3,e2.Fixed32),this.writeSFixed32(r3)},"writeSFixed32Field"),writeFixed64Field:__name(function(t3,r3){this.writeTag(t3,e2.Fixed64),this.writeFixed64(r3)},"writeFixed64Field"),writeSFixed64Field:__name(function(t3,r3){this.writeTag(t3,e2.Fixed64),this.writeSFixed64(r3)},"writeSFixed64Field"),writeVarintField:__name(function(t3,r3){this.writeTag(t3,e2.Varint),this.writeVarint(r3)},"writeVarintField"),writeSVarintField:__name(function(t3,r3){this.writeTag(t3,e2.Varint),this.writeSVarint(r3)},"writeSVarintField"),writeStringField:__name(function(t3,r3){this.writeTag(t3,e2.Bytes),this.writeString(r3)},"writeStringField"),writeFloatField:__name(function(t3,r3){this.writeTag(t3,e2.Fixed32),this.writeFloat(r3)},"writeFloatField"),writeDoubleField:__name(function(t3,r3){this.writeTag(t3,e2.Fixed64),this.writeDouble(r3)},"writeDoubleField"),writeBooleanField:__name(function(t3,e3){this.writeVarintField(t3,!!e3)},"writeBooleanField")},ic}__name(uc,"uc");var cc,hc=r(uc());function pc(t2,e2,r2){t2===1&&r2.readMessage(fc,e2)}__name(pc,"pc");function fc(t2,e2,r2){if(t2===3){const{id:t3,bitmap:n2,width:i2,height:s2,left:a2,top:o2,advance:l2}=r2.readMessage(dc,{});e2.push({id:t3,bitmap:new il({width:i2+6,height:s2+6},n2),metrics:{width:i2,height:s2,left:a2,top:o2,advance:l2}})}}__name(fc,"fc");function dc(t2,e2,r2){t2===1?e2.id=r2.readVarint():t2===2?e2.bitmap=r2.readBytes():t2===3?e2.width=r2.readVarint():t2===4?e2.height=r2.readVarint():t2===5?e2.left=r2.readSVarint():t2===6?e2.top=r2.readSVarint():t2===7&&(e2.advance=r2.readVarint())}__name(dc,"dc");function yc(t2){let e2=0,r2=0;for(const n3 of t2)e2+=n3.w*n3.h,r2=Math.max(r2,n3.w);t2.sort((t3,e3)=>e3.h-t3.h);const n2=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e2/.95)),r2),h:1/0}];let i2=0,s2=0;for(const e3 of t2)for(let t3=n2.length-1;t3>=0;t3--){const r3=n2[t3];if(!(e3.w>r3.w||e3.h>r3.h)){if(e3.x=r3.x,e3.y=r3.y,s2=Math.max(s2,e3.y+e3.h),i2=Math.max(i2,e3.x+e3.w),e3.w===r3.w&&e3.h===r3.h){const e4=n2.pop();t3<n2.length&&(n2[t3]=e4)}else e3.h===r3.h?(r3.x+=e3.w,r3.w-=e3.w):e3.w===r3.w?(r3.y+=e3.h,r3.h-=e3.h):(n2.push({x:r3.x+e3.w,y:r3.y,w:r3.w-e3.w,h:e3.h}),r3.y+=e3.h,r3.h-=e3.h);break}}return{w:i2,h:s2,fill:e2/(i2*s2)||0}}__name(yc,"yc");const _mc=class _mc{constructor(t2,{pixelRatio:e2,version:r2,stretchX:n2,stretchY:i2,content:s2,textFitWidth:a2,textFitHeight:o2}){this.paddedRect=t2,this.pixelRatio=e2,this.stretchX=n2,this.stretchY=i2,this.content=s2,this.version=r2,this.textFitWidth=a2,this.textFitHeight=o2}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}};__name(_mc,"mc");let mc=_mc;const _gc=class _gc{constructor(t2,e2){const r2={},n2={};this.haveRenderCallbacks=[];const i2=[];this.addImages(t2,r2,i2),this.addImages(e2,n2,i2);const{w:s2,h:a2}=yc(i2),o2=new sl({width:s2||1,height:a2||1});for(const e3 in t2){const n3=t2[e3],i3=r2[e3].paddedRect;sl.copy(n3.data,o2,{x:0,y:0},{x:i3.x+1,y:i3.y+1},n3.data)}for(const t3 in e2){const r3=e2[t3],i3=n2[t3].paddedRect,s3=i3.x+1,a3=i3.y+1,l2=r3.data.width,u2=r3.data.height;sl.copy(r3.data,o2,{x:0,y:0},{x:s3,y:a3},r3.data),sl.copy(r3.data,o2,{x:0,y:u2-1},{x:s3,y:a3-1},{width:l2,height:1}),sl.copy(r3.data,o2,{x:0,y:0},{x:s3,y:a3+u2},{width:l2,height:1}),sl.copy(r3.data,o2,{x:l2-1,y:0},{x:s3-1,y:a3},{width:1,height:u2}),sl.copy(r3.data,o2,{x:0,y:0},{x:s3+l2,y:a3},{width:1,height:u2})}this.image=o2,this.iconPositions=r2,this.patternPositions=n2}addImages(t2,e2,r2){for(const n2 in t2){const i2=t2[n2],s2={x:0,y:0,w:i2.data.width+2,h:i2.data.height+2};r2.push(s2),e2[n2]=new mc(s2,i2),i2.hasRenderCallback&&this.haveRenderCallbacks.push(n2)}}patchUpdatedImages(t2,e2){t2.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r2 in t2.updatedImages)this.patchUpdatedImage(this.iconPositions[r2],t2.getImage(r2),e2),this.patchUpdatedImage(this.patternPositions[r2],t2.getImage(r2),e2)}patchUpdatedImage(t2,e2,r2){if(!t2||!e2||t2.version===e2.version)return;t2.version=e2.version;const[n2,i2]=t2.tl;r2.update(e2.data,void 0,{x:n2,y:i2})}};__name(_gc,"gc");let gc=_gc;us("ImagePosition",mc),us("ImageAtlas",gc),t.an=void 0,(cc=t.an||(t.an={}))[cc.none=0]="none",cc[cc.horizontal=1]="horizontal",cc[cc.vertical=2]="vertical",cc[cc.horizontalOnly=3]="horizontalOnly";const _xc=class _xc{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(t2,e2,r2){const n2=new _xc;return n2.scale=t2||1,n2.fontStack=e2,n2.verticalAlign=r2||"bottom",n2}static forImage(t2,e2){const r2=new _xc;return r2.imageName=t2,r2.verticalAlign=e2||"bottom",r2}};__name(_xc,"xc");let xc=_xc;const _vc=class _vc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t2,e2){const r2=new _vc;for(let n2=0;n2<t2.sections.length;n2++){const i2=t2.sections[n2];i2.image?r2.addImageSection(i2):r2.addTextSection(i2,e2)}return r2}length(){return this.text.length}getSection(t2){return this.sections[this.sectionIndex[t2]]}getSectionIndex(t2){return this.sectionIndex[t2]}getCharCode(t2){return this.text.charCodeAt(t2)}verticalizePunctuation(){this.text=function(t2){let e2="";for(let r2=0;r2<t2.length;r2++){const n2=t2.charCodeAt(r2+1)||null,i2=t2.charCodeAt(r2-1)||null;e2+=n2&&As(n2)&&!rc[t2[r2+1]]||i2&&As(i2)&&!rc[t2[r2-1]]||!rc[t2[r2]]?t2[r2]:rc[t2[r2]]}return e2}(this.text)}trim(){let t2=0;for(let e3=0;e3<this.text.length&&wc[this.text.charCodeAt(e3)];e3++)t2++;let e2=this.text.length;for(let r2=this.text.length-1;r2>=0&&r2>=t2&&wc[this.text.charCodeAt(r2)];r2--)e2--;this.text=this.text.substring(t2,e2),this.sectionIndex=this.sectionIndex.slice(t2,e2)}substring(t2,e2){const r2=new _vc;return r2.text=this.text.substring(t2,e2),r2.sectionIndex=this.sectionIndex.slice(t2,e2),r2.sections=this.sections,r2}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t2,e2)=>Math.max(t2,this.sections[e2].scale),0)}getMaxImageSize(t2){let e2=0,r2=0;for(let n2=0;n2<this.length();n2++){const i2=this.getSection(n2);if(i2.imageName){const n3=t2[i2.imageName];if(!n3)continue;const s2=n3.displaySize;e2=Math.max(e2,s2[0]),r2=Math.max(r2,s2[1])}}return{maxImageWidth:e2,maxImageHeight:r2}}addTextSection(t2,e2){this.text+=t2.text,this.sections.push(xc.forText(t2.scale,t2.fontStack||e2,t2.verticalAlign));const r2=this.sections.length-1;for(let e3=0;e3<t2.text.length;++e3)this.sectionIndex.push(r2)}addImageSection(t2){const e2=t2.image?t2.image.name:"";if(e2.length===0)return void Z("Can't add FormattedSection with an empty image.");const r2=this.getNextImageSectionCharCode();r2?(this.text+=String.fromCharCode(r2),this.sections.push(xc.forImage(e2,t2.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Z("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}};__name(_vc,"vc");let vc=_vc;function bc(e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2){const m2=vc.fromFeature(e2,s2);let g2;p3===t.an.vertical&&m2.verticalizePunctuation();const{processBidirectionalText:x2,processStyledBidirectionalText:v2}=Ps;if(x2&&m2.sections.length===1){g2=[];const t2=x2(m2.toString(),Pc(m2,c3,a2,r2,i2,d3));for(const e3 of t2){const t3=new vc;t3.text=e3,t3.sections=m2.sections;for(let r3=0;r3<e3.length;r3++)t3.sectionIndex.push(0);g2.push(t3)}}else if(v2){g2=[];const t2=v2(m2.text,m2.sectionIndex,Pc(m2,c3,a2,r2,i2,d3));for(const e3 of t2){const t3=new vc;t3.text=e3[0],t3.sectionIndex=e3[1],t3.sections=m2.sections,g2.push(t3)}}else g2=function(t2,e3){const r3=[],n3=t2.text;let i3=0;for(const n4 of e3)r3.push(t2.substring(i3,n4)),i3=n4;return i3<n3.length&&r3.push(t2.substring(i3,n3.length)),r3}(m2,Pc(m2,c3,a2,r2,i2,d3));const b2=[],w2={positionedLines:b2,text:m2.toString(),top:h3[1],bottom:h3[1],left:h3[0],right:h3[0],writingMode:p3,iconsInText:!1,verticalizable:!1};return function(t2,e3,r3,n3,i3,s3,a3,o3,l3,u3,c4,h4){let p4=0,f3=0,d4=0,y3=0;const m3=o3==="right"?1:o3==="left"?0:.5,g3=ac/h4;let x3=0;for(const a4 of i3){a4.trim();const i4=a4.getMaxScale(),o4={positionedGlyphs:[],lineOffset:0};t2.positionedLines[x3]=o4;const h5=o4.positionedGlyphs;let v4=0;if(!a4.length()){f3+=s3,++x3;continue}const b4=Bc(n3,a4,g3);for(let s4=0;s4<a4.length();s4++){const o5=a4.getSection(s4),d5=a4.getSectionIndex(s4),y4=a4.getCharCode(s4),m4=Tc(l3,c4,y4);let x4;if(o5.imageName){if(t2.iconsInText=!0,o5.scale=o5.scale*g3,x4=Fc(o5,m4,i4,b4,n3),!x4)continue;v4=Math.max(v4,x4.imageOffset)}else if(x4=Vc(o5,y4,m4,b4,e3,r3),!x4)continue;const{rect:w4,metrics:_2,baselineOffset:S2}=x4;h5.push({glyph:y4,imageName:o5.imageName,x:p4,y:f3+S2+-17,vertical:m4,scale:o5.scale,fontStack:o5.fontStack,sectionIndex:d5,metrics:_2,rect:w4}),m4?(t2.verticalizable=!0,p4+=(o5.imageName?_2.advance:ac)*o5.scale+u3):p4+=_2.advance*o5.scale+u3}h5.length!==0&&(d4=Math.max(p4-u3,d4),Lc(h5,0,h5.length-1,m3)),p4=0,o4.lineOffset=Math.max(v4,(i4-1)*ac);const w3=s3*i4+v4;f3+=w3,y3=Math.max(w3,y3),++x3}const{horizontalAlign:v3,verticalAlign:b3}=Cc(a3);(function(t3,e4,r4,n4,i4,s4,a4,o4,l4){const u4=(e4-r4)*i4;let c5=0;c5=s4!==a4?-o4*n4- -17:-n4*l4*a4+.5*a4;for(const e5 of t3)for(const t4 of e5.positionedGlyphs)t4.x+=u4,t4.y+=c5})(t2.positionedLines,m3,v3,b3,d4,y3,s3,f3,i3.length),t2.top+=-b3*f3,t2.bottom=t2.top+f3,t2.left+=-v3*d4,t2.right=t2.left+d4}(w2,r2,n2,i2,g2,o2,l2,u2,p3,c3,f2,y2),!function(t2){for(const e3 of t2)if(e3.positionedGlyphs.length!==0)return!1;return!0}(b2)&&w2}__name(bc,"bc");const wc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_c={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Sc={40:!0};function Ac(t2,e2,r2,n2,i2,s2){if(e2.imageName){const t3=n2[e2.imageName];return t3?t3.displaySize[0]*e2.scale*ac/s2+i2:0}{const n3=r2[e2.fontStack],s3=n3&&n3[t2];return s3?s3.metrics.advance*e2.scale+i2:0}}__name(Ac,"Ac");function kc(t2,e2,r2,n2){const i2=Math.pow(t2-e2,2);return n2?t2<e2?i2/2:2*i2:i2+Math.abs(r2)*r2}__name(kc,"kc");function Mc(t2,e2,r2){let n2=0;return t2===10&&(n2-=1e4),r2&&(n2+=150),t2!==40&&t2!==65288||(n2+=50),e2!==41&&e2!==65289||(n2+=50),n2}__name(Mc,"Mc");function Ic(t2,e2,r2,n2,i2,s2){let a2=null,o2=kc(e2,r2,i2,s2);for(const t3 of n2){const n3=kc(e2-t3.x,r2,i2,s2)+t3.badness;n3<=o2&&(a2=t3,o2=n3)}return{index:t2,x:e2,priorBreak:a2,badness:o2}}__name(Ic,"Ic");function zc(t2){return t2?zc(t2.priorBreak).concat(t2.index):[]}__name(zc,"zc");function Pc(t2,e2,r2,n2,i2,s2){if(!t2)return[];const a2=[],o2=function(t3,e3,r3,n3,i3,s3){let a3=0;for(let r4=0;r4<t3.length();r4++){const o3=t3.getSection(r4);a3+=Ac(t3.getCharCode(r4),o3,n3,i3,e3,s3)}return a3/Math.max(1,Math.ceil(a3/r3))}(t2,e2,r2,n2,i2,s2),l2=t2.text.indexOf("")>=0;let u2=0;for(let r3=0;r3<t2.length();r3++){const h3=t2.getSection(r3),p3=t2.getCharCode(r3);if(wc[p3]||(u2+=Ac(p3,h3,n2,i2,e2,s2)),r3<t2.length()-1){const e3=!((c3=p3)<11904)&&(!!ms["CJK Compatibility Forms"](c3)||!!ms["CJK Compatibility"](c3)||!!ms["CJK Strokes"](c3)||!!ms["CJK Symbols and Punctuation"](c3)||!!ms["Enclosed CJK Letters and Months"](c3)||!!ms["Halfwidth and Fullwidth Forms"](c3)||!!ms["Ideographic Description Characters"](c3)||!!ms["Vertical Forms"](c3)||_s.test(String.fromCodePoint(c3)));(_c[p3]||e3||h3.imageName||r3!==t2.length()-2&&Sc[t2.getCharCode(r3+1)])&&a2.push(Ic(r3+1,u2,o2,a2,Mc(p3,t2.getCharCode(r3+1),e3&&l2),!1))}}var c3;return zc(Ic(t2.length(),u2,o2,a2,0,!0))}__name(Pc,"Pc");function Cc(t2){let e2=.5,r2=.5;switch(t2){case"right":case"top-right":case"bottom-right":e2=1;break;case"left":case"top-left":case"bottom-left":e2=0}switch(t2){case"bottom":case"bottom-right":case"bottom-left":r2=1;break;case"top":case"top-right":case"top-left":r2=0}return{horizontalAlign:e2,verticalAlign:r2}}__name(Cc,"Cc");function Bc(t2,e2,r2){const n2=e2.getMaxScale()*ac,{maxImageWidth:i2,maxImageHeight:s2}=e2.getMaxImageSize(t2),a2=Math.max(n2,s2*r2);return{verticalLineContentWidth:Math.max(n2,i2*r2),horizontalLineContentHeight:a2}}__name(Bc,"Bc");function Ec(t2){switch(t2){case"top":return 0;case"center":return .5;default:return 1}}__name(Ec,"Ec");function Tc(e2,r2,n2){return!(e2===t.an.horizontal||!r2&&!Ss(n2)||r2&&(wc[n2]||(i2=n2,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(i2)))));var i2}__name(Tc,"Tc");function Vc(t2,e2,r2,n2,i2,s2){const a2=s2[t2.fontStack],o2=function(t3,e3,r3,n3){if(t3&&t3.rect)return t3;const i3=e3[r3.fontStack],s3=i3&&i3[n3];return s3?{rect:null,metrics:s3.metrics}:null}(a2&&a2[e2],i2,t2,e2);if(o2===null)return null;let l2;if(r2)l2=n2.verticalLineContentWidth-t2.scale*ac;else{const e3=Ec(t2.verticalAlign);l2=(n2.horizontalLineContentHeight-t2.scale*ac)*e3}return{rect:o2.rect,metrics:o2.metrics,baselineOffset:l2}}__name(Vc,"Vc");function Fc(t2,e2,r2,n2,i2){const s2=i2[t2.imageName];if(!s2)return null;const a2=s2.paddedRect,o2=s2.displaySize,l2={width:o2[0],height:o2[1],left:1,top:-3,advance:e2?o2[1]:o2[0]};let u2;if(e2)u2=n2.verticalLineContentWidth-o2[1]*t2.scale;else{const e3=Ec(t2.verticalAlign);u2=(n2.horizontalLineContentHeight-o2[1]*t2.scale)*e3}return{rect:a2,metrics:l2,baselineOffset:u2,imageOffset:(e2?o2[0]:o2[1])*t2.scale-ac*r2}}__name(Fc,"Fc");function Lc(t2,e2,r2,n2){if(n2===0)return;const i2=t2[r2],s2=(t2[r2].x+i2.metrics.advance*i2.scale)*n2;for(let n3=e2;n3<=r2;n3++)t2[n3].x-=s2}__name(Lc,"Lc");function $c(t2,e2,r2){const{horizontalAlign:n2,verticalAlign:i2}=Cc(r2),s2=e2[0]-t2.displaySize[0]*n2,a2=e2[1]-t2.displaySize[1]*i2;return{image:t2,top:a2,bottom:a2+t2.displaySize[1],left:s2,right:s2+t2.displaySize[0]}}__name($c,"$c");function Dc(t2){var e2,r2;let n2=t2.left,i2=t2.top,s2=t2.right-n2,a2=t2.bottom-i2;const o2=(e2=t2.image.textFitWidth)!==null&&e2!==void 0?e2:"stretchOrShrink",l2=(r2=t2.image.textFitHeight)!==null&&r2!==void 0?r2:"stretchOrShrink",u2=(t2.image.content[2]-t2.image.content[0])/(t2.image.content[3]-t2.image.content[1]);if(l2==="proportional"){if(o2==="stretchOnly"&&s2/a2<u2||o2==="proportional"){const t3=Math.ceil(a2*u2);n2*=t3/s2,s2=t3}}else if(o2==="proportional"&&l2==="stretchOnly"&&u2!==0&&s2/a2>u2){const t3=Math.ceil(s2/u2);i2*=t3/a2,a2=t3}return{x1:n2,y1:i2,x2:n2+s2,y2:i2+a2}}__name(Dc,"Dc");function Oc(t2,e2,r2,n2,i2,s2){const a2=t2.image;let o2;if(a2.content){const t3=a2.content,e3=a2.pixelRatio||1;o2=[t3[0]/e3,t3[1]/e3,a2.displaySize[0]-t3[2]/e3,a2.displaySize[1]-t3[3]/e3]}const l2=e2.left*s2,u2=e2.right*s2;let c3,h3,p3,f2;r2==="width"||r2==="both"?(f2=i2[0]+l2-n2[3],h3=i2[0]+u2+n2[1]):(f2=i2[0]+(l2+u2-a2.displaySize[0])/2,h3=f2+a2.displaySize[0]);const d3=e2.top*s2,y2=e2.bottom*s2;return r2==="height"||r2==="both"?(c3=i2[1]+d3-n2[0],p3=i2[1]+y2+n2[2]):(c3=i2[1]+(d3+y2-a2.displaySize[1])/2,p3=c3+a2.displaySize[1]),{image:a2,top:c3,right:h3,bottom:p3,left:f2,collisionPadding:o2}}__name(Oc,"Oc");const Rc=128,jc=32640;function Nc(t2,e2){const{expression:r2}=e2;if(r2.kind==="constant")return{kind:"constant",layoutSize:r2.evaluate(new Cs(t2+1))};if(r2.kind==="source")return{kind:"source"};{const{zoomStops:e3,interpolationType:n2}=r2;let i2=0;for(;i2<e3.length&&e3[i2]<=t2;)i2++;i2=Math.max(0,i2-1);let s2=i2;for(;s2<e3.length&&e3[s2]<t2+1;)s2++;s2=Math.min(e3.length-1,s2);const a2=e3[i2],o2=e3[s2];return r2.kind==="composite"?{kind:"composite",minZoom:a2,maxZoom:o2,interpolationType:n2}:{kind:"camera",minZoom:a2,maxZoom:o2,minSize:r2.evaluate(new Cs(a2)),maxSize:r2.evaluate(new Cs(o2)),interpolationType:n2}}}__name(Nc,"Nc");function Uc(t2,e2,r2){let n2="never";const i2=t2.get(e2);return i2?n2=i2:t2.get(r2)&&(n2="always"),n2}__name(Uc,"Uc");const qc=_u.VectorTileFeature.types,Gc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Xc(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3){const f2=o2?Math.min(jc,Math.round(o2[0])):0,d3=o2?Math.min(jc,Math.round(o2[1])):0;t2.emplaceBack(e2,r2,Math.round(32*n2),Math.round(32*i2),s2,a2,(f2<<1)+(l2?1:0),d3,16*u2,16*c3,256*h3,256*p3)}__name(Xc,"Xc");function Zc(t2,e2,r2){t2.emplaceBack(e2.x,e2.y,r2),t2.emplaceBack(e2.x,e2.y,r2),t2.emplaceBack(e2.x,e2.y,r2),t2.emplaceBack(e2.x,e2.y,r2)}__name(Zc,"Zc");function Yc(t2){for(const e2 of t2.sections)if(zs(e2.text))return!0;return!1}__name(Yc,"Yc");const _Hc=class _Hc{constructor(t2){this.layoutVertexArray=new Ra,this.indexArray=new Ga,this.programConfigurations=t2,this.segments=new Ha,this.dynamicLayoutVertexArray=new ja,this.opacityVertexArray=new Na,this.hasVisibleVertices=!1,this.placedSymbolArray=new Aa}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t2,e2,r2,n2){this.isEmpty()||(r2&&(this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,Ku.members),this.indexBuffer=t2.createIndexBuffer(this.indexArray,e2),this.dynamicLayoutVertexBuffer=t2.createVertexBuffer(this.dynamicLayoutVertexArray,Ju.members,!0),this.opacityVertexBuffer=t2.createVertexBuffer(this.opacityVertexArray,Gc,!0),this.opacityVertexBuffer.itemSize=1),(r2||n2)&&this.programConfigurations.upload(t2))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}};__name(_Hc,"Hc");let Hc=_Hc;us("SymbolBuffers",Hc);const _Kc=class _Kc{constructor(t2,e2,r2){this.layoutVertexArray=new t2,this.layoutAttributes=e2,this.indexArray=new r2,this.segments=new Ha,this.collisionVertexArray=new qa}upload(t2){this.layoutVertexBuffer=t2.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t2.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t2.createVertexBuffer(this.collisionVertexArray,Wu.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}};__name(_Kc,"Kc");let Kc=_Kc;us("CollisionBuffers",Kc);const _Jc=class _Jc{constructor(e2){this.collisionBoxArray=e2.collisionBoxArray,this.zoom=e2.zoom,this.globalState=e2.globalState,this.overscaling=e2.overscaling,this.layers=e2.layers,this.layerIds=this.layers.map(t2=>t2.id),this.index=e2.index,this.pixelRatio=e2.pixelRatio,this.sourceLayerIndex=e2.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const r2=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nc(this.zoom,r2["text-size"]),this.iconSizeData=Nc(this.zoom,r2["icon-size"]);const n2=this.layers[0].layout,i2=n2.get("symbol-sort-key"),s2=n2.get("symbol-z-order");this.canOverlap=Uc(n2,"text-overlap","text-allow-overlap")!=="never"||Uc(n2,"icon-overlap","icon-allow-overlap")!=="never"||n2.get("text-ignore-placement")||n2.get("icon-ignore-placement"),this.sortFeaturesByKey=s2!=="viewport-y"&&!i2.isConstant(),this.sortFeaturesByY=(s2==="viewport-y"||s2==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,n2.get("symbol-placement")==="point"&&(this.writingModes=n2.get("text-writing-mode").map(e3=>t.an[e3])),this.stateDependentLayerIds=this.layers.filter(t2=>t2.isStateDependent()).map(t2=>t2.id),this.sourceID=e2.sourceID}createArrays(){this.text=new Hc(new So(this.layers,this.zoom,t2=>/^text/.test(t2))),this.icon=new Hc(new So(this.layers,this.zoom,t2=>/^icon/.test(t2))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new za,this.symbolInstances=new Ma,this.textAnchorOffsets=new Ca}calculateGlyphDependencies(t2,e2,r2,n2,i2){for(let s2=0;s2<t2.length;s2++)if(e2[t2.charCodeAt(s2)]=!0,(r2||n2)&&i2){const r3=rc[t2.charAt(s2)];r3&&(e2[r3.charCodeAt(0)]=!0)}}populate(e2,r2,n2){const i2=this.layers[0],s2=i2.layout,a2=s2.get("text-font"),o2=s2.get("text-field"),l2=s2.get("icon-image"),u2=(o2.value.kind!=="constant"||o2.value.value instanceof Te2&&!o2.value.value.isEmpty()||o2.value.value.toString().length>0)&&(a2.value.kind!=="constant"||a2.value.value.length>0),c3=l2.value.kind!=="constant"||!!l2.value.value||Object.keys(l2.parameters).length>0,h3=s2.get("symbol-sort-key");if(this.features=[],!u2&&!c3)return;const p3=r2.iconDependencies,f2=r2.glyphDependencies,d3=r2.availableImages,y2=new Cs(this.zoom,{globalState:this.globalState});for(const{feature:r3,id:o3,index:l3,sourceLayerIndex:m2}of e2){const e3=i2._featureFilter.needGeometry,g2=Po(r3,e3);if(!i2._featureFilter.filter(y2,g2,n2))continue;let x2,v2;if(e3||(g2.geometry=zo(r3)),u2){const t2=i2.getValueAndResolveTokens("text-field",g2,n2,d3),e4=Te2.factory(t2),r4=this.hasRTLText=this.hasRTLText||Yc(e4);(!r4||Ps.getRTLTextPluginStatus()==="unavailable"||r4&&Ps.isParsed())&&(x2=ec(e4,i2,g2))}if(c3){const t2=i2.getValueAndResolveTokens("icon-image",g2,n2,d3);v2=t2 instanceof Re?t2:Re.fromString(t2)}if(!x2&&!v2)continue;const b2=this.sortFeaturesByKey?h3.evaluate(g2,{},n2):void 0;if(this.features.push({id:o3,text:x2,icon:v2,index:l3,sourceLayerIndex:m2,geometry:g2.geometry,properties:r3.properties,type:qc[r3.type],sortKey:b2}),v2&&(p3[v2.name]=!0),x2){const e4=a2.evaluate(g2,{},n2).join(","),r4=s2.get("text-rotation-alignment")!=="viewport"&&s2.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(t.an.vertical)>=0;for(const t2 of x2.sections)if(t2.image)p3[t2.image.name]=!0;else{const n3=gs(x2.toString()),i3=t2.fontStack||e4,s3=f2[i3]=f2[i3]||{};this.calculateGlyphDependencies(t2.text,s3,r4,this.allowVerticalPlacement,n3)}}}s2.get("symbol-placement")==="line"&&(this.features=function(t2){const e3={},r3={},n3=[];let i3=0;function s3(e4){n3.push(t2[e4]),i3++}__name(s3,"s");function a3(t3,e4,i4){const s4=r3[t3];return delete r3[t3],r3[e4]=s4,n3[s4].geometry[0].pop(),n3[s4].geometry[0]=n3[s4].geometry[0].concat(i4[0]),s4}__name(a3,"a");function o3(t3,r4,i4){const s4=e3[r4];return delete e3[r4],e3[t3]=s4,n3[s4].geometry[0].shift(),n3[s4].geometry[0]=i4[0].concat(n3[s4].geometry[0]),s4}__name(o3,"o");function l3(t3,e4,r4){const n4=r4?e4[0][e4[0].length-1]:e4[0][0];return"".concat(t3,":").concat(n4.x,":").concat(n4.y)}__name(l3,"l");for(let u3=0;u3<t2.length;u3++){const c4=t2[u3],h4=c4.geometry,p4=c4.text?c4.text.toString():null;if(!p4){s3(u3);continue}const f3=l3(p4,h4),d4=l3(p4,h4,!0);if(f3 in r3&&d4 in e3&&r3[f3]!==e3[d4]){const t3=o3(f3,d4,h4),i4=a3(f3,d4,n3[t3].geometry);delete e3[f3],delete r3[d4],r3[l3(p4,n3[i4].geometry,!0)]=i4,n3[t3].geometry=null}else f3 in r3?a3(f3,d4,h4):d4 in e3?o3(f3,d4,h4):(s3(u3),e3[f3]=i3-1,r3[d4]=i3-1)}return n3.filter(t3=>t3.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((t2,e3)=>t2.sortKey-e3.sortKey)}update(t2,e2,r2){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t2,e2,this.layers,r2),this.icon.programConfigurations.updatePaintArrays(t2,e2,this.layers,r2))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t2){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t2),this.iconCollisionBox.upload(t2)),this.text.upload(t2,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t2,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t2,e2){const r2=this.lineVertexArray.length;if(t2.segment!==void 0){let r3=t2.dist(e2[t2.segment+1]),n2=t2.dist(e2[t2.segment]);const i2={};for(let n3=t2.segment+1;n3<e2.length;n3++)i2[n3]={x:e2[n3].x,y:e2[n3].y,tileUnitDistanceFromAnchor:r3},n3<e2.length-1&&(r3+=e2[n3+1].dist(e2[n3]));for(let r4=t2.segment||0;r4>=0;r4--)i2[r4]={x:e2[r4].x,y:e2[r4].y,tileUnitDistanceFromAnchor:n2},r4>0&&(n2+=e2[r4-1].dist(e2[r4]));for(let t3=0;t3<e2.length;t3++){const e3=i2[t3];this.lineVertexArray.emplaceBack(e3.x,e3.y,e3.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r2,lineLength:this.lineVertexArray.length-r2}}addSymbols(e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3){const f2=e2.indexArray,d3=e2.layoutVertexArray,y2=e2.segments.prepareSegment(4*r2.length,d3,f2,this.canOverlap?a2.sortKey:void 0),m2=this.glyphOffsetArray.length,g2=y2.vertexLength,x2=this.allowVerticalPlacement&&o2===t.an.vertical?Math.PI/2:0,v2=a2.text&&a2.text.sections;for(let t2=0;t2<r2.length;t2++){const{tl:i3,tr:s3,bl:o3,br:u3,tex:c4,pixelOffsetTL:h4,pixelOffsetBR:m3,minFontScaleX:g3,minFontScaleY:b2,glyphOffset:w2,isSDF:_2,sectionIndex:S2}=r2[t2],A2=y2.vertexLength,k2=w2[1];Xc(d3,l2.x,l2.y,i3.x,k2+i3.y,c4.x,c4.y,n2,_2,h4.x,h4.y,g3,b2),Xc(d3,l2.x,l2.y,s3.x,k2+s3.y,c4.x+c4.w,c4.y,n2,_2,m3.x,h4.y,g3,b2),Xc(d3,l2.x,l2.y,o3.x,k2+o3.y,c4.x,c4.y+c4.h,n2,_2,h4.x,m3.y,g3,b2),Xc(d3,l2.x,l2.y,u3.x,k2+u3.y,c4.x+c4.w,c4.y+c4.h,n2,_2,m3.x,m3.y,g3,b2),Zc(e2.dynamicLayoutVertexArray,l2,x2),f2.emplaceBack(A2,A2+2,A2+1),f2.emplaceBack(A2+1,A2+2,A2+3),y2.vertexLength+=4,y2.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(w2[0]),t2!==r2.length-1&&S2===r2[t2+1].sectionIndex||e2.programConfigurations.populatePaintArrays(d3.length,a2,a2.index,{},p3,v2&&v2[S2])}e2.placedSymbolArray.emplaceBack(l2.x,l2.y,m2,this.glyphOffsetArray.length-m2,g2,u2,c3,l2.segment,n2?n2[0]:0,n2?n2[1]:0,i2[0],i2[1],o2,0,!1,0,h3)}_addCollisionDebugVertex(t2,e2,r2,n2,i2,s2){return e2.emplaceBack(0,0),t2.emplaceBack(r2.x,r2.y,n2,i2,Math.round(s2.x),Math.round(s2.y))}addCollisionDebugVertices(t2,e2,r2,n2,i2,s2,a2){const o2=i2.segments.prepareSegment(4,i2.layoutVertexArray,i2.indexArray),u2=o2.vertexLength,c3=i2.layoutVertexArray,h3=i2.collisionVertexArray,p3=a2.anchorX,f2=a2.anchorY;this._addCollisionDebugVertex(c3,h3,s2,p3,f2,new l(t2,e2)),this._addCollisionDebugVertex(c3,h3,s2,p3,f2,new l(r2,e2)),this._addCollisionDebugVertex(c3,h3,s2,p3,f2,new l(r2,n2)),this._addCollisionDebugVertex(c3,h3,s2,p3,f2,new l(t2,n2)),o2.vertexLength+=4;const d3=i2.indexArray;d3.emplaceBack(u2,u2+1),d3.emplaceBack(u2+1,u2+2),d3.emplaceBack(u2+2,u2+3),d3.emplaceBack(u2+3,u2),o2.primitiveLength+=4}addDebugCollisionBoxes(t2,e2,r2,n2){for(let i2=t2;i2<e2;i2++){const t3=this.collisionBoxArray.get(i2);this.addCollisionDebugVertices(t3.x1,t3.y1,t3.x2,t3.y2,n2?this.textCollisionBox:this.iconCollisionBox,t3.anchorPoint,r2)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kc(Ua,Qu.members,Xa),this.iconCollisionBox=new Kc(Ua,Qu.members,Xa);for(let t2=0;t2<this.symbolInstances.length;t2++){const e2=this.symbolInstances.get(t2);this.addDebugCollisionBoxes(e2.textBoxStartIndex,e2.textBoxEndIndex,e2,!0),this.addDebugCollisionBoxes(e2.verticalTextBoxStartIndex,e2.verticalTextBoxEndIndex,e2,!0),this.addDebugCollisionBoxes(e2.iconBoxStartIndex,e2.iconBoxEndIndex,e2,!1),this.addDebugCollisionBoxes(e2.verticalIconBoxStartIndex,e2.verticalIconBoxEndIndex,e2,!1)}}_deserializeCollisionBoxesForSymbol(t2,e2,r2,n2,i2,s2,a2,o2,l2){const u2={};for(let n3=e2;n3<r2;n3++){const e3=t2.get(n3);u2.textBox={x1:e3.x1,y1:e3.y1,x2:e3.x2,y2:e3.y2,anchorPointX:e3.anchorPointX,anchorPointY:e3.anchorPointY},u2.textFeatureIndex=e3.featureIndex;break}for(let e3=n2;e3<i2;e3++){const r3=t2.get(e3);u2.verticalTextBox={x1:r3.x1,y1:r3.y1,x2:r3.x2,y2:r3.y2,anchorPointX:r3.anchorPointX,anchorPointY:r3.anchorPointY},u2.verticalTextFeatureIndex=r3.featureIndex;break}for(let e3=s2;e3<a2;e3++){const r3=t2.get(e3);u2.iconBox={x1:r3.x1,y1:r3.y1,x2:r3.x2,y2:r3.y2,anchorPointX:r3.anchorPointX,anchorPointY:r3.anchorPointY},u2.iconFeatureIndex=r3.featureIndex;break}for(let e3=o2;e3<l2;e3++){const r3=t2.get(e3);u2.verticalIconBox={x1:r3.x1,y1:r3.y1,x2:r3.x2,y2:r3.y2,anchorPointX:r3.anchorPointX,anchorPointY:r3.anchorPointY},u2.verticalIconFeatureIndex=r3.featureIndex;break}return u2}deserializeCollisionBoxes(t2){this.collisionArrays=[];for(let e2=0;e2<this.symbolInstances.length;e2++){const r2=this.symbolInstances.get(e2);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t2,r2.textBoxStartIndex,r2.textBoxEndIndex,r2.verticalTextBoxStartIndex,r2.verticalTextBoxEndIndex,r2.iconBoxStartIndex,r2.iconBoxEndIndex,r2.verticalIconBoxStartIndex,r2.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t2,e2){const r2=t2.placedSymbolArray.get(e2),n2=r2.vertexStartIndex+4*r2.numGlyphs;for(let e3=r2.vertexStartIndex;e3<n2;e3+=4)t2.indexArray.emplaceBack(e3,e3+2,e3+1),t2.indexArray.emplaceBack(e3+1,e3+2,e3+3)}getSortedSymbolIndexes(t2){if(this.sortedAngle===t2&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const e2=Math.sin(t2),r2=Math.cos(t2),n2=[],i2=[],s2=[];for(let t3=0;t3<this.symbolInstances.length;++t3){s2.push(t3);const a2=this.symbolInstances.get(t3);n2.push(0|Math.round(e2*a2.anchorX+r2*a2.anchorY)),i2.push(a2.featureIndex)}return s2.sort((t3,e3)=>n2[t3]-n2[e3]||i2[e3]-i2[t3]),s2}addToSortKeyRanges(t2,e2){const r2=this.sortKeyRanges[this.sortKeyRanges.length-1];r2&&r2.sortKey===e2?r2.symbolInstanceEnd=t2+1:this.sortKeyRanges.push({sortKey:e2,symbolInstanceStart:t2,symbolInstanceEnd:t2+1})}sortFeatures(t2){if(this.sortFeaturesByY&&this.sortedAngle!==t2&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t2),this.sortedAngle=t2,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t3 of this.symbolInstanceIndexes){const e2=this.symbolInstances.get(t3);this.featureSortOrder.push(e2.featureIndex),[e2.rightJustifiedTextSymbolIndex,e2.centerJustifiedTextSymbolIndex,e2.leftJustifiedTextSymbolIndex].forEach((t4,e3,r2)=>{t4>=0&&r2.indexOf(t4)===e3&&this.addIndicesForPlacedSymbol(this.text,t4)}),e2.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e2.verticalPlacedTextSymbolIndex),e2.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e2.placedIconSymbolIndex),e2.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e2.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}};__name(_Jc,"Jc");let Jc=_Jc,Wc,Qc;us("SymbolBucket",Jc,{omit:["layers","collisionBoxArray","features","compareText"]}),Jc.MAX_GLYPHS=65535,Jc.addDynamicAttributes=Zc;var th={get paint(){return Qc=Qc||new qs({"icon-opacity":new Rs(wt.paint_symbol["icon-opacity"]),"icon-color":new Rs(wt.paint_symbol["icon-color"]),"icon-halo-color":new Rs(wt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Rs(wt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Rs(wt.paint_symbol["icon-halo-blur"]),"icon-translate":new Os(wt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Os(wt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Rs(wt.paint_symbol["text-opacity"]),"text-color":new Rs(wt.paint_symbol["text-color"],{runtimeType:jt,getOverride:__name(t2=>t2.textColor,"getOverride"),hasOverride:__name(t2=>!!t2.textColor,"hasOverride")}),"text-halo-color":new Rs(wt.paint_symbol["text-halo-color"]),"text-halo-width":new Rs(wt.paint_symbol["text-halo-width"]),"text-halo-blur":new Rs(wt.paint_symbol["text-halo-blur"]),"text-translate":new Os(wt.paint_symbol["text-translate"]),"text-translate-anchor":new Os(wt.paint_symbol["text-translate-anchor"])})},get layout(){return Wc=Wc||new qs({"symbol-placement":new Os(wt.layout_symbol["symbol-placement"]),"symbol-spacing":new Os(wt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Os(wt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Rs(wt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Os(wt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Os(wt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Os(wt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Os(wt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Os(wt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Os(wt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Rs(wt.layout_symbol["icon-size"]),"icon-text-fit":new Os(wt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Os(wt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Rs(wt.layout_symbol["icon-image"]),"icon-rotate":new Rs(wt.layout_symbol["icon-rotate"]),"icon-padding":new Rs(wt.layout_symbol["icon-padding"]),"icon-keep-upright":new Os(wt.layout_symbol["icon-keep-upright"]),"icon-offset":new Rs(wt.layout_symbol["icon-offset"]),"icon-anchor":new Rs(wt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Os(wt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Os(wt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Os(wt.layout_symbol["text-rotation-alignment"]),"text-field":new Rs(wt.layout_symbol["text-field"]),"text-font":new Rs(wt.layout_symbol["text-font"]),"text-size":new Rs(wt.layout_symbol["text-size"]),"text-max-width":new Rs(wt.layout_symbol["text-max-width"]),"text-line-height":new Os(wt.layout_symbol["text-line-height"]),"text-letter-spacing":new Rs(wt.layout_symbol["text-letter-spacing"]),"text-justify":new Rs(wt.layout_symbol["text-justify"]),"text-radial-offset":new Rs(wt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Os(wt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Rs(wt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Rs(wt.layout_symbol["text-anchor"]),"text-max-angle":new Os(wt.layout_symbol["text-max-angle"]),"text-writing-mode":new Os(wt.layout_symbol["text-writing-mode"]),"text-rotate":new Rs(wt.layout_symbol["text-rotate"]),"text-padding":new Os(wt.layout_symbol["text-padding"]),"text-keep-upright":new Os(wt.layout_symbol["text-keep-upright"]),"text-transform":new Rs(wt.layout_symbol["text-transform"]),"text-offset":new Rs(wt.layout_symbol["text-offset"]),"text-allow-overlap":new Os(wt.layout_symbol["text-allow-overlap"]),"text-overlap":new Os(wt.layout_symbol["text-overlap"]),"text-ignore-placement":new Os(wt.layout_symbol["text-ignore-placement"]),"text-optional":new Os(wt.layout_symbol["text-optional"])})}};const _eh=class _eh{constructor(t2){if(t2.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t2.property.overrides?t2.property.overrides.runtimeType:$t,this.defaultValue=t2}evaluate(t2){if(t2.formattedSection){const e2=this.defaultValue.property.overrides;if(e2&&e2.hasOverride(t2.formattedSection))return e2.getOverride(t2.formattedSection)}return t2.feature&&t2.featureState?this.defaultValue.evaluate(t2.feature,t2.featureState):this.defaultValue.property.specification.default}eachChild(t2){this.defaultValue.isConstant()||t2(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}};__name(_eh,"eh");let eh=_eh;us("FormatSectionOverride",eh,{omit:["defaultValue"]});const _rh=class _rh extends Xs{constructor(t2){super(t2,th)}recalculate(t2,e2){if(super.recalculate(t2,e2),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const t3=this.layout.get("text-writing-mode");if(t3){const e3=[];for(const r2 of t3)e3.indexOf(r2)<0&&e3.push(r2);this.layout._values["text-writing-mode"]=e3}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t2,e2,r2,n2){const i2=this.layout.get(t2).evaluate(e2,{},r2,n2),s2=this._unevaluatedLayout._values[t2];return s2.isDataDriven()||ii(s2.value)||!i2?i2:function(t3,e3){return e3.replace(/{([^{}]+)}/g,(e4,r3)=>t3&&r3 in t3?String(t3[r3]):"")}(e2.properties,i2)}createBucket(t2){return new Jc(t2)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t2 of th.paint.overridableProperties){if(!_rh.hasPaintOverride(this.layout,t2))continue;const e2=this.paint.get(t2),r2=new eh(e2),n2=new ni(r2,e2.property.specification);let i2=null;i2=e2.value.kind==="constant"||e2.value.kind==="source"?new ai2("source",n2):new oi("composite",n2,e2.value.zoomStops),this.paint._values[t2]=new $s(e2.property,i2,e2.parameters)}}_handleOverridablePaintPropertyUpdate(t2,e2,r2){return!(!this.layout||e2.isDataDriven()||r2.isDataDriven())&&_rh.hasPaintOverride(this.layout,t2)}static hasPaintOverride(t2,e2){const r2=t2.get("text-field"),n2=th.paint.properties[e2];let i2=!1;const s2=__name(t3=>{for(const e3 of t3)if(n2.overrides&&n2.overrides.hasOverride(e3))return void(i2=!0)},"s");if(r2.value.kind==="constant"&&r2.value.value instanceof Te2)s2(r2.value.value.sections);else if(r2.value.kind==="source"){const t3=__name(e4=>{i2||(e4 instanceof Xe&&qe(e4.value)===Xt?s2(e4.value.sections):e4 instanceof Cr?s2(e4.sections):e4.eachChild(t3))},"t"),e3=r2.value;e3._styleExpression&&t3(e3._styleExpression.expression)}return i2}};__name(_rh,"rh");let rh=_rh,nh;var ih={get paint(){return nh=nh||new qs({"background-color":new Os(wt.paint_background["background-color"]),"background-pattern":new Ns(wt.paint_background["background-pattern"]),"background-opacity":new Os(wt.paint_background["background-opacity"])})}};const _sh=class _sh extends Xs{constructor(t2){super(t2,ih)}};__name(_sh,"sh");let sh=_sh,ah;var oh={get paint(){return ah=ah||new qs({"raster-opacity":new Os(wt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Os(wt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Os(wt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Os(wt.paint_raster["raster-brightness-max"]),"raster-saturation":new Os(wt.paint_raster["raster-saturation"]),"raster-contrast":new Os(wt.paint_raster["raster-contrast"]),"raster-resampling":new Os(wt.paint_raster["raster-resampling"]),"raster-fade-duration":new Os(wt.paint_raster["raster-fade-duration"])})}};const _lh=class _lh extends Xs{constructor(t2){super(t2,oh)}};__name(_lh,"lh");let lh=_lh;const _uh=class _uh extends Xs{constructor(t2){super(t2,{}),this.onAdd=t3=>{this.implementation.onAdd&&this.implementation.onAdd(t3,t3.painter.context.gl)},this.onRemove=t3=>{this.implementation.onRemove&&this.implementation.onRemove(t3,t3.painter.context.gl)},this.implementation=t2}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}};__name(_uh,"uh");let uh=_uh;const _ch=class _ch{constructor(t2){this._methodToThrottle=t2,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}};__name(_ch,"ch");let ch=_ch;const hh={once:!0},ph=63710088e-1,_fh=class _fh{constructor(t2,e2){if(isNaN(t2)||isNaN(e2))throw new Error("Invalid LngLat object: (".concat(t2,", ").concat(e2,")"));if(this.lng=+t2,this.lat=+e2,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new _fh(R(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}distanceTo(t2){const e2=Math.PI/180,r2=this.lat*e2,n2=t2.lat*e2,i2=Math.sin(r2)*Math.sin(n2)+Math.cos(r2)*Math.cos(n2)*Math.cos((t2.lng-this.lng)*e2);return ph*Math.acos(Math.min(i2,1))}static convert(t2){if(t2 instanceof _fh)return t2;if(Array.isArray(t2)&&(t2.length===2||t2.length===3))return new _fh(Number(t2[0]),Number(t2[1]));if(!Array.isArray(t2)&&typeof t2=="object"&&t2!==null)return new _fh(Number("lng"in t2?t2.lng:t2.lon),Number(t2.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}};__name(_fh,"fh");let fh=_fh;const dh=2*Math.PI*ph;function yh(t2){return dh*Math.cos(t2*Math.PI/180)}__name(yh,"yh");function mh(t2){return(180+t2)/360}__name(mh,"mh");function gh(t2){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t2*Math.PI/360)))/360}__name(gh,"gh");function xh(t2,e2){return t2/yh(e2)}__name(xh,"xh");function vh(t2){return 360/Math.PI*Math.atan(Math.exp((180-360*t2)*Math.PI/180))-90}__name(vh,"vh");function bh(t2,e2){return t2*yh(vh(e2))}__name(bh,"bh");const _wh=class _wh{constructor(t2,e2,r2=0){this.x=+t2,this.y=+e2,this.z=+r2}static fromLngLat(t2,e2=0){const r2=fh.convert(t2);return new _wh(mh(r2.lng),gh(r2.lat),xh(e2,r2.lat))}toLngLat(){return new fh(360*this.x-180,vh(this.y))}toAltitude(){return bh(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/dh*(t2=vh(this.y),1/Math.cos(t2*Math.PI/180));var t2}};__name(_wh,"wh");let wh=_wh;function _h(t2,e2,r2){var n2=2*Math.PI*6378137/256/Math.pow(2,r2);return[t2*n2-2*Math.PI*6378137/2,e2*n2-2*Math.PI*6378137/2]}__name(_h,"_h");const _Sh=class _Sh{constructor(t2,e2,r2){if(!function(t3,e3,r3){return!(t3<0||t3>25||r3<0||r3>=Math.pow(2,t3)||e3<0||e3>=Math.pow(2,t3))}(t2,e2,r2))throw new Error("x=".concat(e2,", y=").concat(r2,", z=").concat(t2," outside of bounds. 0<=x<").concat(Math.pow(2,t2),", 0<=y<").concat(Math.pow(2,t2)," 0<=z<=25 "));this.z=t2,this.x=e2,this.y=r2,this.key=Mh(0,t2,t2,e2,r2)}equals(t2){return this.z===t2.z&&this.x===t2.x&&this.y===t2.y}url(t2,e2,r2){const n2=(s2=this.y,a2=this.z,o2=_h(256*(i2=this.x),256*(s2=Math.pow(2,a2)-s2-1),a2),l2=_h(256*(i2+1),256*(s2+1),a2),o2[0]+","+o2[1]+","+l2[0]+","+l2[1]);var i2,s2,a2,o2,l2;const u2=function(t3,e3,r3){let n3,i3="";for(let s3=t3;s3>0;s3--)n3=1<<s3-1,i3+=(e3&n3?1:0)+(r3&n3?2:0);return i3}(this.z,this.x,this.y);return t2[(this.x+this.y)%t2.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(r2==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,e2>1?"@2x":"").replace(/{quadkey}/g,u2).replace(/{bbox-epsg-3857}/g,n2)}isChildOf(t2){const e2=this.z-t2.z;return e2>0&&t2.x===this.x>>e2&&t2.y===this.y>>e2}getTilePoint(t2){const e2=Math.pow(2,this.z);return new l((t2.x*e2-this.x)*E2,(t2.y*e2-this.y)*E2)}toString(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}};__name(_Sh,"Sh");let Sh=_Sh;const _Ah=class _Ah{constructor(t2,e2){this.wrap=t2,this.canonical=e2,this.key=Mh(t2,e2.z,e2.z,e2.x,e2.y)}};__name(_Ah,"Ah");let Ah=_Ah;const _kh=class _kh{constructor(t2,e2,r2,n2,i2){if(this.terrainRttPosMatrix32f=null,t2<r2)throw new Error("overscaledZ should be >= z; overscaledZ = ".concat(t2,"; z = ").concat(r2));this.overscaledZ=t2,this.wrap=e2,this.canonical=new Sh(r2,+n2,+i2),this.key=Mh(e2,t2,r2,n2,i2)}clone(){return new _kh(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t2){return this.overscaledZ===t2.overscaledZ&&this.wrap===t2.wrap&&this.canonical.equals(t2.canonical)}scaledTo(t2){if(t2>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(t2,"; overscaledZ = ").concat(this.overscaledZ));const e2=this.canonical.z-t2;return t2>this.canonical.z?new _kh(t2,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _kh(t2,this.wrap,t2,this.canonical.x>>e2,this.canonical.y>>e2)}calculateScaledKey(t2,e2){if(t2>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(t2,"; overscaledZ = ").concat(this.overscaledZ));const r2=this.canonical.z-t2;return t2>this.canonical.z?Mh(this.wrap*+e2,t2,this.canonical.z,this.canonical.x,this.canonical.y):Mh(this.wrap*+e2,t2,t2,this.canonical.x>>r2,this.canonical.y>>r2)}isChildOf(t2){if(t2.wrap!==this.wrap)return!1;const e2=this.canonical.z-t2.canonical.z;return t2.overscaledZ===0||t2.overscaledZ<this.overscaledZ&&t2.canonical.x===this.canonical.x>>e2&&t2.canonical.y===this.canonical.y>>e2}children(t2){if(this.overscaledZ>=t2)return[new _kh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e2=this.canonical.z+1,r2=2*this.canonical.x,n2=2*this.canonical.y;return[new _kh(e2,this.wrap,e2,r2,n2),new _kh(e2,this.wrap,e2,r2+1,n2),new _kh(e2,this.wrap,e2,r2,n2+1),new _kh(e2,this.wrap,e2,r2+1,n2+1)]}isLessThan(t2){return this.wrap<t2.wrap||!(this.wrap>t2.wrap)&&(this.overscaledZ<t2.overscaledZ||!(this.overscaledZ>t2.overscaledZ)&&(this.canonical.x<t2.canonical.x||!(this.canonical.x>t2.canonical.x)&&this.canonical.y<t2.canonical.y))}wrapped(){return new _kh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t2){return new _kh(this.overscaledZ,t2,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ah(this.wrap,this.canonical)}toString(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}getTilePoint(t2){return this.canonical.getTilePoint(new wh(t2.x-this.wrap,t2.y))}};__name(_kh,"kh");let kh=_kh;function Mh(t2,e2,r2,n2,i2){(t2*=2)<0&&(t2=-1*t2-1);const s2=1<<r2;return(s2*s2*t2+s2*i2+n2).toString(36)+r2.toString(36)+e2.toString(36)}__name(Mh,"Mh"),us("CanonicalTileID",Sh),us("OverscaledTileID",kh,{omit:["terrainRttPosMatrix32f"]});const _Ih=class _Ih{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(t2){return this.minX=Math.min(this.minX,t2.x),this.minY=Math.min(this.minY,t2.y),this.maxX=Math.max(this.maxX,t2.x),this.maxY=Math.max(this.maxY,t2.y),this}expandBy(t2){return this.minX-=t2,this.minY-=t2,this.maxX+=t2,this.maxY+=t2,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(t2){return this.expandBy(-t2)}map(t2){const e2=new _Ih;return e2.extend(t2(new l(this.minX,this.minY))),e2.extend(t2(new l(this.maxX,this.minY))),e2.extend(t2(new l(this.minX,this.maxY))),e2.extend(t2(new l(this.maxX,this.maxY))),e2}static fromPoints(t2){const e2=new _Ih;for(const r2 of t2)e2.extend(r2);return e2}contains(t2){return t2.x>=this.minX&&t2.x<=this.maxX&&t2.y>=this.minY&&t2.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(t2){return!this.empty()&&!t2.empty()&&t2.minX>=this.minX&&t2.maxX<=this.maxX&&t2.minY>=this.minY&&t2.maxY<=this.maxY}intersects(t2){return!this.empty()&&!t2.empty()&&t2.minX<=this.maxX&&t2.maxX>=this.minX&&t2.minY<=this.maxY&&t2.maxY>=this.minY}};__name(_Ih,"Ih");let Ih=_Ih;const _zh=class _zh{constructor(t2){this._stringToNumber={},this._numberToString=[];for(let e2=0;e2<t2.length;e2++){const r2=t2[e2];this._stringToNumber[r2]=e2,this._numberToString[e2]=r2}}encode(t2){return this._stringToNumber[t2]}decode(t2){if(t2>=this._numberToString.length)throw new Error("Out of bounds. Index requested n=".concat(t2," can't be >= this._numberToString.length ").concat(this._numberToString.length));return this._numberToString[t2]}};__name(_zh,"zh");let zh=_zh;const _Ph=class _Ph{constructor(t2,e2,r2,n2,i2){this.type="Feature",this._vectorTileFeature=t2,t2._z=e2,t2._x=r2,t2._y=n2,this.properties=t2.properties,this.id=i2}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t2){this._geometry=t2}toJSON(){const t2={geometry:this.geometry};for(const e2 in this)e2!=="_geometry"&&e2!=="_vectorTileFeature"&&(t2[e2]=this[e2]);return t2}};__name(_Ph,"Ph");let Ph=_Ph;const _Ch=class _Ch{constructor(t2,e2){this.tileID=t2,this.x=t2.canonical.x,this.y=t2.canonical.y,this.z=t2.canonical.z,this.grid=new os(E2,16,0),this.grid3D=new os(E2,16,0),this.featureIndexArray=new Ea,this.promoteId=e2}insert(t2,e2,r2,n2,i2,s2){const a2=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r2,n2,i2);const o2=s2?this.grid3D:this.grid;for(let t3=0;t3<e2.length;t3++){const r3=e2[t3],n3=[1/0,1/0,-1/0,-1/0];for(let t4=0;t4<r3.length;t4++){const e3=r3[t4];n3[0]=Math.min(n3[0],e3.x),n3[1]=Math.min(n3[1],e3.y),n3[2]=Math.max(n3[2],e3.x),n3[3]=Math.max(n3[3],e3.y)}n3[0]<E2&&n3[1]<E2&&n3[2]>=0&&n3[3]>=0&&o2.insert(a2,n3[0],n3[1],n3[2],n3[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new _u.VectorTile(new hc(this.rawTileData)).layers,this.sourceLayerCoder=new zh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t2,e2,r2,n2){this.loadVTLayers();const i2=t2.params,s2=E2/t2.tileSize/t2.scale,a2=di(i2.filter),o2=t2.queryGeometry,u2=t2.queryPadding*s2,c3=Ih.fromPoints(o2),h3=this.grid.query(c3.minX-u2,c3.minY-u2,c3.maxX+u2,c3.maxY+u2),p3=Ih.fromPoints(t2.cameraQueryGeometry).expandBy(u2),f2=this.grid3D.query(p3.minX,p3.minY,p3.maxX,p3.maxY,(e3,r3,n3,i3)=>function(t3,e4,r4,n4,i4){for(const s4 of t3)if(e4<=s4.x&&r4<=s4.y&&n4>=s4.x&&i4>=s4.y)return!0;const s3=[new l(e4,r4),new l(e4,i4),new l(n4,i4),new l(n4,r4)];if(t3.length>2){for(const e5 of s3)if(No(t3,e5))return!0}for(let e5=0;e5<t3.length-1;e5++)if(Uo(t3[e5],t3[e5+1],s3))return!0;return!1}(t2.cameraQueryGeometry,e3-u2,r3-u2,n3+u2,i3+u2));for(const t3 of f2)h3.push(t3);h3.sort(Eh);const d3={};let y2;for(let l2=0;l2<h3.length;l2++){const u3=h3[l2];if(u3===y2)continue;y2=u3;const c4=this.featureIndexArray.get(u3);let p4=null;this.loadMatchingFeature(d3,c4.bucketIndex,c4.sourceLayerIndex,c4.featureIndex,a2,i2.layers,i2.availableImages,e2,r2,n2,(e3,r3,n3)=>(p4||(p4=zo(e3)),r3.queryIntersectsFeature({queryGeometry:o2,feature:e3,featureState:n3,geometry:p4,zoom:this.z,transform:t2.transform,pixelsToTileUnits:s2,pixelPosMatrix:t2.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t2.getElevation})))}return d3}loadMatchingFeature(t2,e2,r2,n2,i2,s2,a2,o2,l2,u2,c3){const h3=this.bucketLayerIDs[e2];if(s2&&!h3.some(t3=>s2.has(t3)))return;const p3=this.sourceLayerCoder.decode(r2),f2=this.vtLayers[p3].feature(n2);if(i2.needGeometry){const t3=Po(f2,!0);if(!i2.filter(new Cs(this.tileID.overscaledZ),t3,this.tileID.canonical))return}else if(!i2.filter(new Cs(this.tileID.overscaledZ),f2))return;const d3=this.getId(f2,p3);for(let e3=0;e3<h3.length;e3++){const r3=h3[e3];if(s2&&!s2.has(r3))continue;const i3=o2[r3];if(!i3)continue;let p4={};d3&&u2&&(p4=u2.getState(i3.sourceLayer||"_geojsonTileLayer",d3));const y2=j({},l2[r3]);y2.paint=Bh(y2.paint,i3.paint,f2,p4,a2),y2.layout=Bh(y2.layout,i3.layout,f2,p4,a2);const m2=!c3||c3(f2,i3,p4);if(!m2)continue;const g2=new Ph(f2,this.z,this.x,this.y,d3);g2.layer=y2;let x2=t2[r3];x2===void 0&&(x2=t2[r3]=[]),x2.push({featureIndex:n2,feature:g2,intersectionZ:m2})}}lookupSymbolFeatures(t2,e2,r2,n2,i2,s2,a2,o2){const l2={};this.loadVTLayers();const u2=di(i2);for(const i3 of t2)this.loadMatchingFeature(l2,r2,n2,i3,u2,s2,a2,o2,e2);return l2}hasLayer(t2){for(const e2 of this.bucketLayerIDs)for(const r2 of e2)if(t2===r2)return!0;return!1}getId(t2,e2){var r2;let n2=t2.id;return this.promoteId&&(n2=t2.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[e2]],typeof n2=="boolean"&&(n2=Number(n2)),n2===void 0&&(!((r2=t2.properties)===null||r2===void 0)&&r2.cluster)&&this.promoteId&&(n2=Number(t2.properties.cluster_id))),n2}};__name(_Ch,"Ch");let Ch=_Ch;function Bh(t2,e2,r2,n2,i2){return U(t2,(t3,s2)=>{const a2=e2 instanceof Ds?e2.get(s2):null;return a2&&a2.evaluate?a2.evaluate(r2,n2,i2):a2})}__name(Bh,"Bh");function Eh(t2,e2){return e2-t2}__name(Eh,"Eh");function Th(t2,e2,r2,n2,i2){const s2=[];for(let a2=0;a2<t2.length;a2++){const o2=t2[a2];let u2;for(let t3=0;t3<o2.length-1;t3++){let a3=o2[t3],c3=o2[t3+1];a3.x<e2&&c3.x<e2||(a3.x<e2?a3=new l(e2,a3.y+(e2-a3.x)/(c3.x-a3.x)*(c3.y-a3.y))._round():c3.x<e2&&(c3=new l(e2,a3.y+(e2-a3.x)/(c3.x-a3.x)*(c3.y-a3.y))._round()),a3.y<r2&&c3.y<r2||(a3.y<r2?a3=new l(a3.x+(r2-a3.y)/(c3.y-a3.y)*(c3.x-a3.x),r2)._round():c3.y<r2&&(c3=new l(a3.x+(r2-a3.y)/(c3.y-a3.y)*(c3.x-a3.x),r2)._round()),a3.x>=n2&&c3.x>=n2||(a3.x>=n2?a3=new l(n2,a3.y+(n2-a3.x)/(c3.x-a3.x)*(c3.y-a3.y))._round():c3.x>=n2&&(c3=new l(n2,a3.y+(n2-a3.x)/(c3.x-a3.x)*(c3.y-a3.y))._round()),a3.y>=i2&&c3.y>=i2||(a3.y>=i2?a3=new l(a3.x+(i2-a3.y)/(c3.y-a3.y)*(c3.x-a3.x),i2)._round():c3.y>=i2&&(c3=new l(a3.x+(i2-a3.y)/(c3.y-a3.y)*(c3.x-a3.x),i2)._round()),u2&&a3.equals(u2[u2.length-1])||(u2=[a3],s2.push(u2)),u2.push(c3)))))}}return s2}__name(Th,"Th"),us("FeatureIndex",Ch,{omit:["rawTileData","sourceLayerCoder"]});const _Vh=class _Vh extends l{constructor(t2,e2,r2,n2){super(t2,e2),this.angle=r2,n2!==void 0&&(this.segment=n2)}clone(){return new _Vh(this.x,this.y,this.angle,this.segment)}};__name(_Vh,"Vh");let Vh=_Vh;function Fh(t2,e2,r2,n2,i2){if(e2.segment===void 0||r2===0)return!0;let s2=e2,a2=e2.segment+1,o2=0;for(;o2>-r2/2;){if(a2--,a2<0)return!1;o2-=t2[a2].dist(s2),s2=t2[a2]}o2+=t2[a2].dist(t2[a2+1]),a2++;const l2=[];let u2=0;for(;o2<r2/2;){const e3=t2[a2],r3=t2[a2+1];if(!r3)return!1;let s3=t2[a2-1].angleTo(e3)-e3.angleTo(r3);for(s3=Math.abs((s3+3*Math.PI)%(2*Math.PI)-Math.PI),l2.push({distance:o2,angleDelta:s3}),u2+=s3;o2-l2[0].distance>n2;)u2-=l2.shift().angleDelta;if(u2>i2)return!1;a2++,o2+=e3.dist(r3)}return!0}__name(Fh,"Fh");function Lh(t2){let e2=0;for(let r2=0;r2<t2.length-1;r2++)e2+=t2[r2].dist(t2[r2+1]);return e2}__name(Lh,"Lh");function $h(t2,e2,r2){return t2?.6*e2*r2:0}__name($h,"$h");function Dh(t2,e2){return Math.max(t2?t2.right-t2.left:0,e2?e2.right-e2.left:0)}__name(Dh,"Dh");function Oh(t2,e2,r2,n2,i2,s2){const a2=$h(r2,i2,s2),o2=Dh(r2,n2)*s2;let l2=0;const u2=Lh(t2)/2;for(let r3=0;r3<t2.length-1;r3++){const n3=t2[r3],i3=t2[r3+1],s3=n3.dist(i3);if(l2+s3>u2){const c3=(u2-l2)/s3,h3=gr.number(n3.x,i3.x,c3),p3=gr.number(n3.y,i3.y,c3),f2=new Vh(h3,p3,i3.angleTo(n3),r3);return f2._round(),!a2||Fh(t2,f2,o2,a2,e2)?f2:void 0}l2+=s3}}__name(Oh,"Oh");function Rh(t2,e2,r2,n2,i2,s2,a2,o2,l2){const u2=$h(n2,s2,a2),c3=Dh(n2,i2),h3=c3*a2,p3=t2[0].x===0||t2[0].x===l2||t2[0].y===0||t2[0].y===l2;return e2-h3<e2/4&&(e2=h3+e2/4),jh(t2,p3?e2/2*o2%e2:(c3/2+2*s2)*a2*o2%e2,e2,u2,r2,h3,p3,!1,l2)}__name(Rh,"Rh");function jh(t2,e2,r2,n2,i2,s2,a2,o2,l2){const u2=s2/2,c3=Lh(t2);let h3=0,p3=e2-r2,f2=[];for(let e3=0;e3<t2.length-1;e3++){const a3=t2[e3],o3=t2[e3+1],d3=a3.dist(o3),y2=o3.angleTo(a3);for(;p3+r2<h3+d3;){p3+=r2;const m2=(p3-h3)/d3,g2=gr.number(a3.x,o3.x,m2),x2=gr.number(a3.y,o3.y,m2);if(g2>=0&&g2<l2&&x2>=0&&x2<l2&&p3-u2>=0&&p3+u2<=c3){const r3=new Vh(g2,x2,y2,e3);r3._round(),n2&&!Fh(t2,r3,s2,n2,i2)||f2.push(r3)}}h3+=d3}return o2||f2.length||a2||(f2=jh(t2,h3/2,r2,n2,i2,s2,a2,!0,l2)),f2}__name(jh,"jh");function Nh(t2,e2,r2,n2){const i2=[],s2=t2.image,a2=s2.pixelRatio,o2=s2.paddedRect.w-2,u2=s2.paddedRect.h-2;let c3={x1:t2.left,y1:t2.top,x2:t2.right,y2:t2.bottom};const h3=s2.stretchX||[[0,o2]],p3=s2.stretchY||[[0,u2]],f2=__name((t3,e3)=>t3+e3[1]-e3[0],"f"),d3=h3.reduce(f2,0),y2=p3.reduce(f2,0),m2=o2-d3,g2=u2-y2;let x2=0,v2=d3,b2=0,w2=y2,_2=0,S2=m2,A2=0,k2=g2;if(s2.content&&n2){const e3=s2.content,r3=e3[2]-e3[0],n3=e3[3]-e3[1];(s2.textFitWidth||s2.textFitHeight)&&(c3=Dc(t2)),x2=Uh(h3,0,e3[0]),b2=Uh(p3,0,e3[1]),v2=Uh(h3,e3[0],e3[2]),w2=Uh(p3,e3[1],e3[3]),_2=e3[0]-x2,A2=e3[1]-b2,S2=r3-v2,k2=n3-w2}const M2=c3.x1,I2=c3.y1,z2=c3.x2-M2,P2=c3.y2-I2,C2=__name((t3,n3,i3,o3)=>{const u3=Gh(t3.stretch-x2,v2,z2,M2),c4=Xh(t3.fixed-_2,S2,t3.stretch,d3),h4=Gh(n3.stretch-b2,w2,P2,I2),p4=Xh(n3.fixed-A2,k2,n3.stretch,y2),f3=Gh(i3.stretch-x2,v2,z2,M2),m3=Xh(i3.fixed-_2,S2,i3.stretch,d3),g3=Gh(o3.stretch-b2,w2,P2,I2),C3=Xh(o3.fixed-A2,k2,o3.stretch,y2),B3=new l(u3,h4),E3=new l(f3,h4),T2=new l(f3,g3),V2=new l(u3,g3),F2=new l(c4/a2,p4/a2),L2=new l(m3/a2,C3/a2),$2=e2*Math.PI/180;if($2){const t4=Math.sin($2),e3=Math.cos($2),r3=[e3,-t4,t4,e3];B3._matMult(r3),E3._matMult(r3),V2._matMult(r3),T2._matMult(r3)}const D2=t3.stretch+t3.fixed,O2=n3.stretch+n3.fixed;return{tl:B3,tr:E3,bl:V2,br:T2,tex:{x:s2.paddedRect.x+1+D2,y:s2.paddedRect.y+1+O2,w:i3.stretch+i3.fixed-D2,h:o3.stretch+o3.fixed-O2},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:F2,pixelOffsetBR:L2,minFontScaleX:S2/a2/z2,minFontScaleY:k2/a2/P2,isSDF:r2}},"C");if(n2&&(s2.stretchX||s2.stretchY)){const t3=qh(h3,m2,d3),e3=qh(p3,g2,y2);for(let r3=0;r3<t3.length-1;r3++){const n3=t3[r3],s3=t3[r3+1];for(let t4=0;t4<e3.length-1;t4++)i2.push(C2(n3,e3[t4],s3,e3[t4+1]))}}else i2.push(C2({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:o2+1},{fixed:0,stretch:u2+1}));return i2}__name(Nh,"Nh");function Uh(t2,e2,r2){let n2=0;for(const i2 of t2)n2+=Math.max(e2,Math.min(r2,i2[1]))-Math.max(e2,Math.min(r2,i2[0]));return n2}__name(Uh,"Uh");function qh(t2,e2,r2){const n2=[{fixed:-1,stretch:0}];for(const[e3,r3]of t2){const t3=n2[n2.length-1];n2.push({fixed:e3-t3.stretch,stretch:t3.stretch}),n2.push({fixed:e3-t3.stretch,stretch:t3.stretch+(r3-e3)})}return n2.push({fixed:e2+1,stretch:r2}),n2}__name(qh,"qh");function Gh(t2,e2,r2,n2){return t2/e2*r2+n2}__name(Gh,"Gh");function Xh(t2,e2,r2,n2){return t2-e2*r2/n2}__name(Xh,"Xh"),us("Anchor",Vh);const _Zh=class _Zh{constructor(t2,e2,r2,n2,i2,s2,a2,o2,u2,c3){var h3;if(this.boxStartIndex=t2.length,u2){let t3=s2.top,e3=s2.bottom;const r3=s2.collisionPadding;r3&&(t3-=r3[1],e3+=r3[3]);let n3=e3-t3;n3>0&&(n3=Math.max(10,n3),this.circleDiameter=n3)}else{const u3=!((h3=s2.image)===null||h3===void 0)&&h3.content&&(s2.image.textFitWidth||s2.image.textFitHeight)?Dc(s2):{x1:s2.left,y1:s2.top,x2:s2.right,y2:s2.bottom};u3.y1=u3.y1*a2-o2[0],u3.y2=u3.y2*a2+o2[2],u3.x1=u3.x1*a2-o2[3],u3.x2=u3.x2*a2+o2[1];const p3=s2.collisionPadding;if(p3&&(u3.x1-=p3[0]*a2,u3.y1-=p3[1]*a2,u3.x2+=p3[2]*a2,u3.y2+=p3[3]*a2),c3){const t3=new l(u3.x1,u3.y1),e3=new l(u3.x2,u3.y1),r3=new l(u3.x1,u3.y2),n3=new l(u3.x2,u3.y2),i3=c3*Math.PI/180;t3._rotate(i3),e3._rotate(i3),r3._rotate(i3),n3._rotate(i3),u3.x1=Math.min(t3.x,e3.x,r3.x,n3.x),u3.x2=Math.max(t3.x,e3.x,r3.x,n3.x),u3.y1=Math.min(t3.y,e3.y,r3.y,n3.y),u3.y2=Math.max(t3.y,e3.y,r3.y,n3.y)}t2.emplaceBack(e2.x,e2.y,u3.x1,u3.y1,u3.x2,u3.y2,r2,n2,i2)}this.boxEndIndex=t2.length}};__name(_Zh,"Zh");let Zh=_Zh;const _Yh=class _Yh{constructor(t2=[],e2=(t3,e3)=>t3<e3?-1:t3>e3?1:0){if(this.data=t2,this.length=this.data.length,this.compare=e2,this.length>0)for(let t3=(this.length>>1)-1;t3>=0;t3--)this._down(t3)}push(t2){this.data.push(t2),this._up(this.length++)}pop(){if(this.length===0)return;const t2=this.data[0],e2=this.data.pop();return--this.length>0&&(this.data[0]=e2,this._down(0)),t2}peek(){return this.data[0]}_up(t2){const{data:e2,compare:r2}=this,n2=e2[t2];for(;t2>0;){const i2=t2-1>>1,s2=e2[i2];if(r2(n2,s2)>=0)break;e2[t2]=s2,t2=i2}e2[t2]=n2}_down(t2){const{data:e2,compare:r2}=this,n2=this.length>>1,i2=e2[t2];for(;t2<n2;){let n3=1+(t2<<1);const s2=n3+1;if(s2<this.length&&r2(e2[s2],e2[n3])<0&&(n3=s2),r2(e2[n3],i2)>=0)break;e2[t2]=e2[n3],t2=n3}e2[t2]=i2}};__name(_Yh,"Yh");let Yh=_Yh;function Hh(t2,e2=1,r2=!1){const n2=Ih.fromPoints(t2[0]),i2=Math.min(n2.width(),n2.height());let s2=i2/2;const a2=new Yh([],Kh),{minX:o2,minY:u2,maxX:c3,maxY:h3}=n2;if(i2===0)return new l(o2,u2);for(let e3=o2;e3<c3;e3+=i2)for(let r3=u2;r3<h3;r3+=i2)a2.push(new Jh(e3+s2,r3+s2,s2,t2));let p3=function(t3){let e3=0,r3=0,n3=0;const i3=t3[0];for(let t4=0,s3=i3.length,a3=s3-1;t4<s3;a3=t4++){const s4=i3[t4],o3=i3[a3],l2=s4.x*o3.y-o3.x*s4.y;r3+=(s4.x+o3.x)*l2,n3+=(s4.y+o3.y)*l2,e3+=3*l2}return new Jh(r3/e3,n3/e3,0,t3)}(t2),f2=a2.length;for(;a2.length;){const n3=a2.pop();(n3.d>p3.d||!p3.d)&&(p3=n3,r2&&console.log("found best %d after %d probes",Math.round(1e4*n3.d)/1e4,f2)),n3.max-p3.d<=e2||(s2=n3.h/2,a2.push(new Jh(n3.p.x-s2,n3.p.y-s2,s2,t2)),a2.push(new Jh(n3.p.x+s2,n3.p.y-s2,s2,t2)),a2.push(new Jh(n3.p.x-s2,n3.p.y+s2,s2,t2)),a2.push(new Jh(n3.p.x+s2,n3.p.y+s2,s2,t2)),f2+=4)}return r2&&(console.log("num probes: ".concat(f2)),console.log("best distance: ".concat(p3.d))),p3.p}__name(Hh,"Hh");function Kh(t2,e2){return e2.max-t2.max}__name(Kh,"Kh");function Jh(t2,e2,r2,n2){this.p=new l(t2,e2),this.h=r2,this.d=function(t3,e3){let r3=!1,n3=1/0;for(let i2=0;i2<e3.length;i2++){const s2=e3[i2];for(let e4=0,i3=s2.length,a2=i3-1;e4<i3;a2=e4++){const i4=s2[e4],o2=s2[a2];i4.y>t3.y!=o2.y>t3.y&&t3.x<(o2.x-i4.x)*(t3.y-i4.y)/(o2.y-i4.y)+i4.x&&(r3=!r3),n3=Math.min(n3,Ro(t3,i4,o2))}}return(r3?1:-1)*Math.sqrt(n3)}(this.p,n2),this.max=this.d+this.h*Math.SQRT2}__name(Jh,"Jh");var Wh;t.aD=void 0,(Wh=t.aD||(t.aD={}))[Wh.center=1]="center",Wh[Wh.left=2]="left",Wh[Wh.right=3]="right",Wh[Wh.top=4]="top",Wh[Wh.bottom=5]="bottom",Wh[Wh["top-left"]=6]="top-left",Wh[Wh["top-right"]=7]="top-right",Wh[Wh["bottom-left"]=8]="bottom-left",Wh[Wh["bottom-right"]=9]="bottom-right";const Qh=Number.POSITIVE_INFINITY;function tp(t2,e2){return e2[1]!==Qh?function(t3,e3,r2){let n2=0,i2=0;switch(e3=Math.abs(e3),r2=Math.abs(r2),t3){case"top-right":case"top-left":case"top":i2=r2-7;break;case"bottom-right":case"bottom-left":case"bottom":i2=7-r2}switch(t3){case"top-right":case"bottom-right":case"right":n2=-e3;break;case"top-left":case"bottom-left":case"left":n2=e3}return[n2,i2]}(t2,e2[0],e2[1]):function(t3,e3){let r2=0,n2=0;e3<0&&(e3=0);const i2=e3/Math.SQRT2;switch(t3){case"top-right":case"top-left":n2=i2-7;break;case"bottom-right":case"bottom-left":n2=7-i2;break;case"bottom":n2=7-e3;break;case"top":n2=e3-7}switch(t3){case"top-right":case"bottom-right":r2=-i2;break;case"top-left":case"bottom-left":r2=i2;break;case"left":r2=e3;break;case"right":r2=-e3}return[r2,n2]}(t2,e2[0])}__name(tp,"tp");function ep(t2,e2,r2){var n2;const i2=t2.layout,s2=(n2=i2.get("text-variable-anchor-offset"))===null||n2===void 0?void 0:n2.evaluate(e2,{},r2);if(s2){const t3=s2.values,e3=[];for(let r3=0;r3<t3.length;r3+=2){const n3=e3[r3]=t3[r3],i3=t3[r3+1].map(t4=>t4*ac);n3.startsWith("top")?i3[1]-=7:n3.startsWith("bottom")&&(i3[1]+=7),e3[r3+1]=i3}return new Oe(e3)}const a2=i2.get("text-variable-anchor");if(a2){let n3;n3=t2._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[i2.get("text-radial-offset").evaluate(e2,{},r2)*ac,Qh]:i2.get("text-offset").evaluate(e2,{},r2).map(t3=>t3*ac);const s3=[];for(const t3 of a2)s3.push(t3,tp(t3,n3));return new Oe(s3)}return null}__name(ep,"ep");function rp(t2){switch(t2){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}__name(rp,"rp");function np(e2,r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3){let f2=a2.textMaxSize.evaluate(r2,{});f2===void 0&&(f2=o2);const d3=e2.layers[0].layout,y2=d3.get("icon-offset").evaluate(r2,{},h3),m2=sp(n2.horizontal),g2=o2/24,x2=e2.tilePixelRatio*g2,v2=e2.tilePixelRatio*f2/24,b2=e2.tilePixelRatio*l2,w2=e2.tilePixelRatio*d3.get("symbol-spacing"),_2=d3.get("text-padding")*e2.tilePixelRatio,S2=function(t2,e3,r3,n3=1){const i3=t2.get("icon-padding").evaluate(e3,{},r3),s3=i3&&i3.values;return[s3[0]*n3,s3[1]*n3,s3[2]*n3,s3[3]*n3]}(d3,r2,h3,e2.tilePixelRatio),A2=d3.get("text-max-angle")/180*Math.PI,k2=d3.get("text-rotation-alignment")!=="viewport"&&d3.get("symbol-placement")!=="point",M2=d3.get("icon-rotation-alignment")==="map"&&d3.get("symbol-placement")!=="point",I2=d3.get("symbol-placement"),z2=w2/2,P2=d3.get("icon-text-fit");let C2;i2&&P2!=="none"&&(e2.allowVerticalPlacement&&n2.vertical&&(C2=Oc(i2,n2.vertical,P2,d3.get("icon-text-fit-padding"),y2,g2)),m2&&(i2=Oc(i2,m2,P2,d3.get("icon-text-fit-padding"),y2,g2)));const B3=h3?p3.line.getGranularityForZoomLevel(h3.z):1,T2=__name((l3,p4)=>{p4.x<0||p4.x>=E2||p4.y<0||p4.y>=E2||function(e3,r3,n3,i3,s3,a3,o3,l4,u3,c4,h4,p5,f3,d4,y3,m3,g3,x3,v3,b3,w3,_3,S3,A3,k3){const M3=e3.addToLineVertexArray(r3,n3);let I3,z3,P3,C3,B4=0,E3=0,T3=0,V2=0,F2=-1,L2=-1;const $2={};let D2=so("");if(e3.allowVerticalPlacement&&i3.vertical){const t2=l4.layout.get("text-rotate").evaluate(w3,{},A3)+90;P3=new Zh(u3,r3,c4,h4,p5,i3.vertical,f3,d4,y3,t2),o3&&(C3=new Zh(u3,r3,c4,h4,p5,o3,g3,x3,y3,t2))}if(s3){const n4=l4.layout.get("icon-rotate").evaluate(w3,{}),i4=l4.layout.get("icon-text-fit")!=="none",a4=Nh(s3,n4,S3,i4),f4=o3?Nh(o3,n4,S3,i4):void 0;z3=new Zh(u3,r3,c4,h4,p5,s3,g3,x3,!1,n4),B4=4*a4.length;const d5=e3.iconSizeData;let y4=null;d5.kind==="source"?(y4=[Rc*l4.layout.get("icon-size").evaluate(w3,{})],y4[0]>jc&&Z("".concat(e3.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".'))):d5.kind==="composite"&&(y4=[Rc*_3.compositeIconSizes[0].evaluate(w3,{},A3),Rc*_3.compositeIconSizes[1].evaluate(w3,{},A3)],(y4[0]>jc||y4[1]>jc)&&Z("".concat(e3.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".'))),e3.addSymbols(e3.icon,a4,y4,b3,v3,w3,t.an.none,r3,M3.lineStartIndex,M3.lineLength,-1,A3),F2=e3.icon.placedSymbolArray.length-1,f4&&(E3=4*f4.length,e3.addSymbols(e3.icon,f4,y4,b3,v3,w3,t.an.vertical,r3,M3.lineStartIndex,M3.lineLength,-1,A3),L2=e3.icon.placedSymbolArray.length-1)}const O2=Object.keys(i3.horizontal);for(const n4 of O2){const s4=i3.horizontal[n4];if(!I3){D2=so(s4.text);const t2=l4.layout.get("text-rotate").evaluate(w3,{},A3);I3=new Zh(u3,r3,c4,h4,p5,s4,f3,d4,y3,t2)}const o4=s4.positionedLines.length===1;if(T3+=ip(e3,r3,s4,a3,l4,y3,w3,m3,M3,i3.vertical?t.an.horizontal:t.an.horizontalOnly,o4?O2:[n4],$2,F2,_3,A3),o4)break}i3.vertical&&(V2+=ip(e3,r3,i3.vertical,a3,l4,y3,w3,m3,M3,t.an.vertical,["vertical"],$2,L2,_3,A3));const R2=I3?I3.boxStartIndex:e3.collisionBoxArray.length,j2=I3?I3.boxEndIndex:e3.collisionBoxArray.length,N2=P3?P3.boxStartIndex:e3.collisionBoxArray.length,U2=P3?P3.boxEndIndex:e3.collisionBoxArray.length,q3=z3?z3.boxStartIndex:e3.collisionBoxArray.length,G2=z3?z3.boxEndIndex:e3.collisionBoxArray.length,X2=C3?C3.boxStartIndex:e3.collisionBoxArray.length,Y3=C3?C3.boxEndIndex:e3.collisionBoxArray.length;let H2=-1;const K2=__name((t2,e4)=>t2&&t2.circleDiameter?Math.max(t2.circleDiameter,e4):e4,"K");H2=K2(I3,H2),H2=K2(P3,H2),H2=K2(z3,H2),H2=K2(C3,H2);const J2=H2>-1?1:0;J2&&(H2*=k3/ac),e3.glyphOffsetArray.length>=Jc.MAX_GLYPHS&&Z("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),w3.sortKey!==void 0&&e3.addToSortKeyRanges(e3.symbolInstances.length,w3.sortKey);const W2=ep(l4,w3,A3),[Q3,tt3]=function(e4,r4){const n4=e4.length,i4=r4==null?void 0:r4.values;if((i4==null?void 0:i4.length)>0)for(let r5=0;r5<i4.length;r5+=2){const n5=i4[r5+1];e4.emplaceBack(t.aD[i4[r5]],n5[0],n5[1])}return[n4,e4.length]}(e3.textAnchorOffsets,W2);e3.symbolInstances.emplaceBack(r3.x,r3.y,$2.right>=0?$2.right:-1,$2.center>=0?$2.center:-1,$2.left>=0?$2.left:-1,$2.vertical||-1,F2,L2,D2,R2,j2,N2,U2,q3,G2,X2,Y3,c4,T3,V2,B4,E3,J2,0,f3,H2,Q3,tt3)}(e2,p4,l3,n2,i2,s2,C2,e2.layers[0],e2.collisionBoxArray,r2.index,r2.sourceLayerIndex,e2.index,x2,[_2,_2,_2,_2],k2,u2,b2,S2,M2,y2,r2,a2,c3,h3,o2)},"T");if(I2==="line")for(const t2 of Th(r2.geometry,0,0,E2,E2)){const r3=Ql(t2,B3),s3=Rh(r3,w2,A2,n2.vertical||m2,i2,24,v2,e2.overscaling,E2);for(const t3 of s3)m2&&ap(e2,m2.text,z2,t3)||T2(r3,t3)}else if(I2==="line-center"){for(const t2 of r2.geometry)if(t2.length>1){const e3=Ql(t2,B3),r3=Oh(e3,A2,n2.vertical||m2,i2,24,v2);r3&&T2(e3,r3)}}else if(r2.type==="Polygon")for(const t2 of rn(r2.geometry,0)){const e3=Hh(t2,16);T2(Ql(t2[0],B3,!0),new Vh(e3.x,e3.y,0))}else if(r2.type==="LineString")for(const t2 of r2.geometry){const e3=Ql(t2,B3);T2(e3,new Vh(e3[0].x,e3[0].y,0))}else if(r2.type==="Point")for(const t2 of r2.geometry)for(const e3 of t2)T2([e3],new Vh(e3.x,e3.y,0))}__name(np,"np");function ip(t2,e2,r2,n2,i2,s2,a2,o2,u2,c3,h3,p3,f2,d3,y2){const m2=function(t3,e3,r3,n3,i3,s3,a3,o3){const u3=n3.layout.get("text-rotate").evaluate(s3,{})*Math.PI/180,c4=[];for(const t4 of e3.positionedLines)for(const n4 of t4.positionedGlyphs){if(!n4.rect)continue;const s4=n4.rect||{};let h4=4,p4=!0,f3=1,d4=0;const y3=(i3||o3)&&n4.vertical,m3=n4.metrics.advance*n4.scale/2;if(o3&&e3.verticalizable&&(d4=t4.lineOffset/2-(n4.imageName?-(ac-n4.metrics.width*n4.scale)/2:(n4.scale-1)*ac)),n4.imageName){const t5=a3[n4.imageName];p4=t5.sdf,f3=t5.pixelRatio,h4=1/f3}const g3=i3?[n4.x+m3,n4.y]:[0,0];let x3=i3?[0,0]:[n4.x+m3+r3[0],n4.y+r3[1]-d4],v2=[0,0];y3&&(v2=x3,x3=[0,0]);const b2=n4.metrics.isDoubleResolution?2:1,w2=(n4.metrics.left-h4)*n4.scale-m3+x3[0],_2=(-n4.metrics.top-h4)*n4.scale+x3[1],S2=w2+s4.w/b2*n4.scale/f3,A2=_2+s4.h/b2*n4.scale/f3,k2=new l(w2,_2),M2=new l(S2,_2),I2=new l(w2,A2),z2=new l(S2,A2);if(y3){const t5=new l(-m3,m3- -17),e4=-Math.PI/2,r4=12-m3,i4=new l(22-r4,-(n4.imageName?r4:0)),s5=new l(...v2);k2._rotateAround(e4,t5)._add(i4)._add(s5),M2._rotateAround(e4,t5)._add(i4)._add(s5),I2._rotateAround(e4,t5)._add(i4)._add(s5),z2._rotateAround(e4,t5)._add(i4)._add(s5)}if(u3){const t5=Math.sin(u3),e4=Math.cos(u3),r4=[e4,-t5,t5,e4];k2._matMult(r4),M2._matMult(r4),I2._matMult(r4),z2._matMult(r4)}const P2=new l(0,0),C2=new l(0,0);c4.push({tl:k2,tr:M2,bl:I2,br:z2,tex:s4,writingMode:e3.writingMode,glyphOffset:g3,sectionIndex:n4.sectionIndex,isSDF:p4,pixelOffsetTL:P2,pixelOffsetBR:C2,minFontScaleX:0,minFontScaleY:0})}return c4}(0,r2,o2,i2,s2,a2,n2,t2.allowVerticalPlacement),g2=t2.textSizeData;let x2=null;g2.kind==="source"?(x2=[Rc*i2.layout.get("text-size").evaluate(a2,{})],x2[0]>jc&&Z("".concat(t2.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".'))):g2.kind==="composite"&&(x2=[Rc*d3.compositeTextSizes[0].evaluate(a2,{},y2),Rc*d3.compositeTextSizes[1].evaluate(a2,{},y2)],(x2[0]>jc||x2[1]>jc)&&Z("".concat(t2.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".'))),t2.addSymbols(t2.text,m2,x2,o2,s2,a2,c3,e2,u2.lineStartIndex,u2.lineLength,f2,y2);for(const e3 of h3)p3[e3]=t2.text.placedSymbolArray.length-1;return 4*m2.length}__name(ip,"ip");function sp(t2){for(const e2 in t2)return t2[e2];return null}__name(sp,"sp");function ap(t2,e2,r2,n2){const i2=t2.compareText;if(e2 in i2){const t3=i2[e2];for(let e3=t3.length-1;e3>=0;e3--)if(n2.dist(t3[e3])<r2)return!0}else i2[e2]=[];return i2[e2].push(n2),!1}__name(ap,"ap");const op=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_lp=class _lp{static from(t2){if(!(t2 instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e2,r2]=new Uint8Array(t2,0,2);if(e2!==219)throw new Error("Data does not appear to be in a KDBush format.");const n2=r2>>4;if(n2!==1)throw new Error("Got v".concat(n2," data when expected v1."));const i2=op[15&r2];if(!i2)throw new Error("Unrecognized array type.");const[s2]=new Uint16Array(t2,2,1),[a2]=new Uint32Array(t2,4,1);return new _lp(a2,s2,i2,t2)}constructor(t2,e2=64,r2=Float64Array,n2){if(isNaN(t2)||t2<0)throw new Error("Unpexpected numItems value: ".concat(t2,"."));this.numItems=+t2,this.nodeSize=Math.min(Math.max(+e2,2),65535),this.ArrayType=r2,this.IndexArrayType=t2<65536?Uint16Array:Uint32Array;const i2=op.indexOf(this.ArrayType),s2=2*t2*this.ArrayType.BYTES_PER_ELEMENT,a2=t2*this.IndexArrayType.BYTES_PER_ELEMENT,o2=(8-a2%8)%8;if(i2<0)throw new Error("Unexpected typed array class: ".concat(r2,"."));n2&&n2 instanceof ArrayBuffer?(this.data=n2,this.ids=new this.IndexArrayType(this.data,8,t2),this.coords=new this.ArrayType(this.data,8+a2+o2,2*t2),this._pos=2*t2,this._finished=!0):(this.data=new ArrayBuffer(8+s2+a2+o2),this.ids=new this.IndexArrayType(this.data,8,t2),this.coords=new this.ArrayType(this.data,8+a2+o2,2*t2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i2]),new Uint16Array(this.data,2,1)[0]=e2,new Uint32Array(this.data,4,1)[0]=t2)}add(t2,e2){const r2=this._pos>>1;return this.ids[r2]=r2,this.coords[this._pos++]=t2,this.coords[this._pos++]=e2,r2}finish(){const t2=this._pos>>1;if(t2!==this.numItems)throw new Error("Added ".concat(t2," items when expected ").concat(this.numItems,"."));return up(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t2,e2,r2,n2){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i2,coords:s2,nodeSize:a2}=this,o2=[0,i2.length-1,0],l2=[];for(;o2.length;){const u2=o2.pop()||0,c3=o2.pop()||0,h3=o2.pop()||0;if(c3-h3<=a2){for(let a3=h3;a3<=c3;a3++){const o3=s2[2*a3],u3=s2[2*a3+1];o3>=t2&&o3<=r2&&u3>=e2&&u3<=n2&&l2.push(i2[a3])}continue}const p3=h3+c3>>1,f2=s2[2*p3],d3=s2[2*p3+1];f2>=t2&&f2<=r2&&d3>=e2&&d3<=n2&&l2.push(i2[p3]),(u2===0?t2<=f2:e2<=d3)&&(o2.push(h3),o2.push(p3-1),o2.push(1-u2)),(u2===0?r2>=f2:n2>=d3)&&(o2.push(p3+1),o2.push(c3),o2.push(1-u2))}return l2}within(t2,e2,r2){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n2,coords:i2,nodeSize:s2}=this,a2=[0,n2.length-1,0],o2=[],l2=r2*r2;for(;a2.length;){const u2=a2.pop()||0,c3=a2.pop()||0,h3=a2.pop()||0;if(c3-h3<=s2){for(let r3=h3;r3<=c3;r3++)fp(i2[2*r3],i2[2*r3+1],t2,e2)<=l2&&o2.push(n2[r3]);continue}const p3=h3+c3>>1,f2=i2[2*p3],d3=i2[2*p3+1];fp(f2,d3,t2,e2)<=l2&&o2.push(n2[p3]),(u2===0?t2-r2<=f2:e2-r2<=d3)&&(a2.push(h3),a2.push(p3-1),a2.push(1-u2)),(u2===0?t2+r2>=f2:e2+r2>=d3)&&(a2.push(p3+1),a2.push(c3),a2.push(1-u2))}return o2}};__name(_lp,"lp");let lp=_lp;function up(t2,e2,r2,n2,i2,s2){if(i2-n2<=r2)return;const a2=n2+i2>>1;cp(t2,e2,a2,n2,i2,s2),up(t2,e2,r2,n2,a2-1,1-s2),up(t2,e2,r2,a2+1,i2,1-s2)}__name(up,"up");function cp(t2,e2,r2,n2,i2,s2){for(;i2>n2;){if(i2-n2>600){const a3=i2-n2+1,o3=r2-n2+1,l3=Math.log(a3),u2=.5*Math.exp(2*l3/3),c3=.5*Math.sqrt(l3*u2*(a3-u2)/a3)*(o3-a3/2<0?-1:1);cp(t2,e2,r2,Math.max(n2,Math.floor(r2-o3*u2/a3+c3)),Math.min(i2,Math.floor(r2+(a3-o3)*u2/a3+c3)),s2)}const a2=e2[2*r2+s2];let o2=n2,l2=i2;for(hp(t2,e2,n2,r2),e2[2*i2+s2]>a2&&hp(t2,e2,n2,i2);o2<l2;){for(hp(t2,e2,o2,l2),o2++,l2--;e2[2*o2+s2]<a2;)o2++;for(;e2[2*l2+s2]>a2;)l2--}e2[2*n2+s2]===a2?hp(t2,e2,n2,l2):(l2++,hp(t2,e2,l2,i2)),l2<=r2&&(n2=l2+1),r2<=l2&&(i2=l2-1)}}__name(cp,"cp");function hp(t2,e2,r2,n2){pp(t2,r2,n2),pp(e2,2*r2,2*n2),pp(e2,2*r2+1,2*n2+1)}__name(hp,"hp");function pp(t2,e2,r2){const n2=t2[e2];t2[e2]=t2[r2],t2[r2]=n2}__name(pp,"pp");function fp(t2,e2,r2,n2){const i2=t2-r2,s2=e2-n2;return i2*i2+s2*s2}__name(fp,"fp");var dp;t.cw=void 0,(dp=t.cw||(t.cw={})).create="create",dp.load="load",dp.fullLoad="fullLoad";let yp=null,mp=[];const gp=1e3/60,xp="loadTime",vp="fullLoadTime",bp={mark(t2){performance.mark(t2)},frame(t2){const e2=t2;yp!=null&&mp.push(e2-yp),yp=e2},clearMetrics(){yp=null,mp=[],performance.clearMeasures(xp),performance.clearMeasures(vp);for(const e2 in t.cw)performance.clearMarks(t.cw[e2])},getPerformanceMetrics(){performance.measure(xp,t.cw.create,t.cw.load),performance.measure(vp,t.cw.create,t.cw.fullLoad);const e2=performance.getEntriesByName(xp)[0].duration,r2=performance.getEntriesByName(vp)[0].duration,n2=mp.length,i2=1/(mp.reduce((t2,e3)=>t2+e3,0)/n2/1e3),s2=mp.filter(t2=>t2>gp).reduce((t2,e3)=>t2+(e3-gp)/gp,0);return{loadTime:e2,fullLoadTime:r2,fps:i2,percentDroppedFrames:s2/(n2+s2)*100,totalFrames:n2}}};t.$=E2,t.A=m,t.B=function([t2,e2,r2]){return e2+=90,e2*=Math.PI/180,r2*=Math.PI/180,{x:t2*Math.cos(e2)*Math.sin(r2),y:t2*Math.sin(e2)*Math.sin(r2),z:t2*Math.cos(r2)}},t.C=gr,t.D=Os,t.E=bt,t.F=Cs,t.G=ns,t.H=function(t2){if(K==null){const e2=t2.navigator?t2.navigator.userAgent:null;K=!!t2.safari||!(!e2||!(/\b(iPad|iPhone|iPod)\b/.test(e2)||e2.match("Safari")&&!e2.match("Chrome")))}return K},t.I=mc,t.J=class{constructor(t2,e2){this.target=t2,this.mapId=e2,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new ch(()=>this.process()),this.subscription=rt(this.target,"message",t3=>this.receive(t3),!1),this.globalScope=H(self)?t2:window}registerMessageHandler(t2,e2){this.messageHandlers[t2]=e2}sendAsync(t2,e2){return new Promise((r2,n2)=>{const i2=Math.round(1e18*Math.random()).toString(36).substring(0,10),s2=e2?rt(e2.signal,"abort",()=>{s2==null||s2.unsubscribe(),delete this.resolveRejects[i2];const e3={id:i2,type:"<cancel>",origin:location.origin,targetMapId:t2.targetMapId,sourceMapId:this.mapId};this.target.postMessage(e3)},hh):null;this.resolveRejects[i2]={resolve:__name(t3=>{s2==null||s2.unsubscribe(),r2(t3)},"resolve"),reject:__name(t3=>{s2==null||s2.unsubscribe(),n2(t3)},"reject")};const a2=[],o2=Object.assign(Object.assign({},t2),{id:i2,sourceMapId:this.mapId,origin:location.origin,data:fs(t2.data,a2)});this.target.postMessage(o2,{transfer:a2})})}receive(t2){const e2=t2.data,r2=e2.id;if(!(e2.origin!=="file://"&&location.origin!=="file://"&&e2.origin!=="resource://android"&&location.origin!=="resource://android"&&e2.origin!==location.origin||e2.targetMapId&&this.mapId!==e2.targetMapId)){if(e2.type==="<cancel>"){delete this.tasks[r2];const t3=this.abortControllers[r2];return delete this.abortControllers[r2],void(t3&&t3.abort())}if(H(self)||e2.mustQueue)return this.tasks[r2]=e2,this.taskQueue.push(r2),void this.invoker.trigger();this.processTask(r2,e2)}}process(){if(this.taskQueue.length===0)return;const t2=this.taskQueue.shift(),e2=this.tasks[t2];delete this.tasks[t2],this.taskQueue.length>0&&this.invoker.trigger(),e2&&this.processTask(t2,e2)}processTask(t2,r2){return e(this,void 0,void 0,function*(){if(r2.type==="<response>"){const e3=this.resolveRejects[t2];return delete this.resolveRejects[t2],e3?void(r2.error?e3.reject(ds(r2.error)):e3.resolve(ds(r2.data))):void 0}if(!this.messageHandlers[r2.type])return void this.completeTask(t2,new Error("Could not find a registered handler for ".concat(r2.type,", map ID: ").concat(this.mapId,", available handlers: ").concat(Object.keys(this.messageHandlers).join(", "))));const e2=ds(r2.data),n2=new AbortController;this.abortControllers[t2]=n2;try{const i2=yield this.messageHandlers[r2.type](r2.sourceMapId,e2,n2);this.completeTask(t2,null,i2)}catch(e3){this.completeTask(t2,e3)}})}completeTask(t2,e2,r2){const n2=[];delete this.abortControllers[t2];const i2={id:t2,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:e2?fs(e2):null,data:fs(r2,n2)};this.target.postMessage(i2,{transfer:n2})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},t.K=ht,t.L=function(){var t2=new m(16);return m!=Float32Array&&(t2[1]=0,t2[2]=0,t2[3]=0,t2[4]=0,t2[6]=0,t2[7]=0,t2[8]=0,t2[9]=0,t2[11]=0,t2[12]=0,t2[13]=0,t2[14]=0),t2[0]=1,t2[5]=1,t2[10]=1,t2[15]=1,t2},t.M=function(t2,e2,r2){var n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2=r2[0],m2=r2[1],g2=r2[2];return e2===t2?(t2[12]=e2[0]*y2+e2[4]*m2+e2[8]*g2+e2[12],t2[13]=e2[1]*y2+e2[5]*m2+e2[9]*g2+e2[13],t2[14]=e2[2]*y2+e2[6]*m2+e2[10]*g2+e2[14],t2[15]=e2[3]*y2+e2[7]*m2+e2[11]*g2+e2[15]):(i2=e2[1],s2=e2[2],a2=e2[3],o2=e2[4],l2=e2[5],u2=e2[6],c3=e2[7],h3=e2[8],p3=e2[9],f2=e2[10],d3=e2[11],t2[0]=n2=e2[0],t2[1]=i2,t2[2]=s2,t2[3]=a2,t2[4]=o2,t2[5]=l2,t2[6]=u2,t2[7]=c3,t2[8]=h3,t2[9]=p3,t2[10]=f2,t2[11]=d3,t2[12]=n2*y2+o2*m2+h3*g2+e2[12],t2[13]=i2*y2+l2*m2+p3*g2+e2[13],t2[14]=s2*y2+u2*m2+f2*g2+e2[14],t2[15]=a2*y2+c3*m2+d3*g2+e2[15]),t2},t.N=function(t2,e2,r2){var n2=r2[0],i2=r2[1],s2=r2[2];return t2[0]=e2[0]*n2,t2[1]=e2[1]*n2,t2[2]=e2[2]*n2,t2[3]=e2[3]*n2,t2[4]=e2[4]*i2,t2[5]=e2[5]*i2,t2[6]=e2[6]*i2,t2[7]=e2[7]*i2,t2[8]=e2[8]*s2,t2[9]=e2[9]*s2,t2[10]=e2[10]*s2,t2[11]=e2[11]*s2,t2[12]=e2[12],t2[13]=e2[13],t2[14]=e2[14],t2[15]=e2[15],t2},t.O=function(t2,e2,r2){var n2=e2[0],i2=e2[1],s2=e2[2],a2=e2[3],o2=e2[4],l2=e2[5],u2=e2[6],c3=e2[7],h3=e2[8],p3=e2[9],f2=e2[10],d3=e2[11],y2=e2[12],m2=e2[13],g2=e2[14],x2=e2[15],v2=r2[0],b2=r2[1],w2=r2[2],_2=r2[3];return t2[0]=v2*n2+b2*o2+w2*h3+_2*y2,t2[1]=v2*i2+b2*l2+w2*p3+_2*m2,t2[2]=v2*s2+b2*u2+w2*f2+_2*g2,t2[3]=v2*a2+b2*c3+w2*d3+_2*x2,t2[4]=(v2=r2[4])*n2+(b2=r2[5])*o2+(w2=r2[6])*h3+(_2=r2[7])*y2,t2[5]=v2*i2+b2*l2+w2*p3+_2*m2,t2[6]=v2*s2+b2*u2+w2*f2+_2*g2,t2[7]=v2*a2+b2*c3+w2*d3+_2*x2,t2[8]=(v2=r2[8])*n2+(b2=r2[9])*o2+(w2=r2[10])*h3+(_2=r2[11])*y2,t2[9]=v2*i2+b2*l2+w2*p3+_2*m2,t2[10]=v2*s2+b2*u2+w2*f2+_2*g2,t2[11]=v2*a2+b2*c3+w2*d3+_2*x2,t2[12]=(v2=r2[12])*n2+(b2=r2[13])*o2+(w2=r2[14])*h3+(_2=r2[15])*y2,t2[13]=v2*i2+b2*l2+w2*p3+_2*m2,t2[14]=v2*s2+b2*u2+w2*f2+_2*g2,t2[15]=v2*a2+b2*c3+w2*d3+_2*x2,t2},t.P=l,t.Q=function(t2,e2){const r2={};for(let n2=0;n2<e2.length;n2++){const i2=e2[n2];i2 in t2&&(r2[i2]=t2[i2])}return r2},t.R=sl,t.S=fh,t.T=dl,t.U=gh,t.V=mh,t.W=f,t.X=d2,t.Y=Q2,t.Z=kh,t._=e,t.a=ut,t.a$=function(t2,e2,r2){return t2[0]=e2[0]*r2,t2[1]=e2[1]*r2,t2[2]=e2[2]*r2,t2[3]=e2[3]*r2,t2},t.a0=wh,t.a1=Ih,t.a2=25,t.a3=Sh,t.a4=t2=>{const e2=window.document.createElement("video");return e2.muted=!0,new Promise(r2=>{e2.onloadstart=()=>{r2(e2)};for(const r3 of t2){const t3=window.document.createElement("source");yt(r3)||(e2.crossOrigin="Anonymous"),t3.src=r3,e2.appendChild(t3)}})},t.a5=Tt,t.a6=function(){return N++},t.a7=_a4,t.a8=Jc,t.a9=di,t.aA=ac,t.aB=T,t.aC=function(t2,e2,r2,n2,i2=!1){if(!r2[0]&&!r2[1])return[0,0];const s2=i2?n2==="map"?-t2.bearingInRadians:0:n2==="viewport"?t2.bearingInRadians:0;if(s2){const t3=Math.sin(s2),e3=Math.cos(s2);r2=[r2[0]*e3-r2[1]*t3,r2[0]*t3+r2[1]*e3]}return[i2?r2[0]:T(e2,r2[0],t2.zoom),i2?r2[1]:T(e2,r2[1],t2.zoom)]},t.aE=Uc,t.aF=rp,t.aG=Cc,t.aH=lp,t.aI=Ks,t.aJ=Yl,t.aK=Ta,t.aL=Ha,t.aM=Ga,t.aN=R,t.aO=it,t.aP=bh,t.aQ=S,t.aR=_,t.aS=function(t2){var e2=new m(3);return e2[0]=t2[0],e2[1]=t2[1],e2[2]=t2[2],e2},t.aT=function(t2,e2,r2){return t2[0]=e2[0]-r2[0],t2[1]=e2[1]-r2[1],t2[2]=e2[2]-r2[2],t2},t.aU=function(t2,e2){var r2=e2[0],n2=e2[1],i2=e2[2],s2=r2*r2+n2*n2+i2*i2;return s2>0&&(s2=1/Math.sqrt(s2)),t2[0]=e2[0]*s2,t2[1]=e2[1]*s2,t2[2]=e2[2]*s2,t2},t.aV=A,t.aW=function(t2,e2){return t2[0]*e2[0]+t2[1]*e2[1]+t2[2]*e2[2]},t.aX=function(t2,e2,r2){return t2[0]=e2[0]*r2[0],t2[1]=e2[1]*r2[1],t2[2]=e2[2]*r2[2],t2[3]=e2[3]*r2[3],t2},t.aY=b,t.aZ=function(t2,e2,r2){const n2=e2[0]*r2[0]+e2[1]*r2[1]+e2[2]*r2[2];return n2===0?null:(-(t2[0]*r2[0]+t2[1]*r2[1]+t2[2]*r2[2])-r2[3])/n2},t.a_=M,t.aa=Po,t.ab=Ph,t.ac=function(t2){const e2={};if(t2.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(t3,r2,n2,i2)=>{const s2=n2||i2;return e2[r2]=!s2||s2.toLowerCase(),""}),e2["max-age"]){const t3=parseInt(e2["max-age"],10);isNaN(t3)?delete e2["max-age"]:e2["max-age"]=t3}return e2},t.ad=nt,t.ae=function(t2){return Math.pow(2,t2)},t.af=x,t.ag=O,t.ah=85.051129,t.ai=xh,t.aj=function(t2){return Math.log(t2)/Math.LN2},t.ak=function(t2){var e2=t2[0],r2=t2[1];return e2*e2+r2*r2},t.al=function(t2,e2){const r2=[];for(const n2 in t2)n2 in e2||r2.push(n2);return r2},t.am=function(t2,e2){let r2=0,n2=0;if(t2.kind==="constant")n2=t2.layoutSize;else if(t2.kind!=="source"){const{interpolationType:i2,minZoom:s2,maxZoom:a2}=t2,o2=i2?O(yr.interpolationFactor(i2,e2,s2,a2),0,1):0;t2.kind==="camera"?n2=gr.number(t2.minSize,t2.maxSize,o2):r2=o2}return{uSizeT:r2,uSize:n2}},t.ao=function(t2,{uSize:e2,uSizeT:r2},{lowerSize:n2,upperSize:i2}){return t2.kind==="source"?n2/Rc:t2.kind==="composite"?gr.number(n2/Rc,i2/Rc,r2):e2},t.ap=function(t2,e2){var r2=e2[0],n2=e2[1],i2=e2[2],s2=e2[3],a2=e2[4],o2=e2[5],l2=e2[6],u2=e2[7],c3=e2[8],h3=e2[9],p3=e2[10],f2=e2[11],d3=e2[12],y2=e2[13],m2=e2[14],g2=e2[15],x2=r2*o2-n2*a2,v2=r2*l2-i2*a2,b2=r2*u2-s2*a2,w2=n2*l2-i2*o2,_2=n2*u2-s2*o2,S2=i2*u2-s2*l2,A2=c3*y2-h3*d3,k2=c3*m2-p3*d3,M2=c3*g2-f2*d3,I2=h3*m2-p3*y2,z2=h3*g2-f2*y2,P2=p3*g2-f2*m2,C2=x2*P2-v2*z2+b2*I2+w2*M2-_2*k2+S2*A2;return C2?(t2[0]=(o2*P2-l2*z2+u2*I2)*(C2=1/C2),t2[1]=(i2*z2-n2*P2-s2*I2)*C2,t2[2]=(y2*S2-m2*_2+g2*w2)*C2,t2[3]=(p3*_2-h3*S2-f2*w2)*C2,t2[4]=(l2*M2-a2*P2-u2*k2)*C2,t2[5]=(r2*P2-i2*M2+s2*k2)*C2,t2[6]=(m2*b2-d3*S2-g2*v2)*C2,t2[7]=(c3*S2-p3*b2+f2*v2)*C2,t2[8]=(a2*z2-o2*M2+u2*A2)*C2,t2[9]=(n2*M2-r2*z2-s2*A2)*C2,t2[10]=(d3*_2-y2*b2+g2*x2)*C2,t2[11]=(h3*b2-c3*_2-f2*x2)*C2,t2[12]=(o2*k2-a2*I2-l2*A2)*C2,t2[13]=(r2*I2-n2*k2+i2*A2)*C2,t2[14]=(y2*v2-d3*w2-m2*x2)*C2,t2[15]=(c3*w2-h3*v2+p3*x2)*C2,t2):null},t.aq=C,t.ar=function(t2){return Math.hypot(t2[0],t2[1])},t.as=function(t2){return t2[0]=0,t2[1]=0,t2},t.at=function(t2,e2,r2){return t2[0]=e2[0]*r2,t2[1]=e2[1]*r2,t2},t.au=Zc,t.av=I,t.aw=function(t2,e2,r2,n2){const i2=e2.y-t2.y,s2=e2.x-t2.x,a2=n2.y-r2.y,o2=n2.x-r2.x,u2=a2*s2-o2*i2;if(u2===0)return null;const c3=(o2*(t2.y-r2.y)-a2*(t2.x-r2.x))/u2;return new l(t2.x+c3*s2,t2.y+c3*i2)},t.ax=Th,t.ay=To,t.az=function(t2){let e2=1/0,r2=1/0,n2=-1/0,i2=-1/0;for(const s2 of t2)e2=Math.min(e2,s2.x),r2=Math.min(r2,s2.y),n2=Math.max(n2,s2.x),i2=Math.max(i2,s2.y);return[e2,r2,n2,i2]},t.b=J,t.b$=tc,t.b0=function(t2,e2){return t2[0]*e2[0]+t2[1]*e2[1]+t2[2]*e2[2]+t2[3]},t.b1=Ah,t.b2=Mh,t.b3=function(t2,e2,r2,n2,i2){var s2,a2=1/Math.tan(e2/2);return t2[0]=a2/r2,t2[1]=0,t2[2]=0,t2[3]=0,t2[4]=0,t2[5]=a2,t2[6]=0,t2[7]=0,t2[8]=0,t2[9]=0,t2[11]=-1,t2[12]=0,t2[13]=0,t2[15]=0,i2!=null&&i2!==1/0?(t2[10]=(i2+n2)*(s2=1/(n2-i2)),t2[14]=2*i2*n2*s2):(t2[10]=-1,t2[14]=-2*n2),t2},t.b4=function(t2){var e2=new m(16);return e2[0]=t2[0],e2[1]=t2[1],e2[2]=t2[2],e2[3]=t2[3],e2[4]=t2[4],e2[5]=t2[5],e2[6]=t2[6],e2[7]=t2[7],e2[8]=t2[8],e2[9]=t2[9],e2[10]=t2[10],e2[11]=t2[11],e2[12]=t2[12],e2[13]=t2[13],e2[14]=t2[14],e2[15]=t2[15],e2},t.b5=function(t2,e2,r2){var n2=Math.sin(r2),i2=Math.cos(r2),s2=e2[0],a2=e2[1],o2=e2[2],l2=e2[3],u2=e2[4],c3=e2[5],h3=e2[6],p3=e2[7];return e2!==t2&&(t2[8]=e2[8],t2[9]=e2[9],t2[10]=e2[10],t2[11]=e2[11],t2[12]=e2[12],t2[13]=e2[13],t2[14]=e2[14],t2[15]=e2[15]),t2[0]=s2*i2+u2*n2,t2[1]=a2*i2+c3*n2,t2[2]=o2*i2+h3*n2,t2[3]=l2*i2+p3*n2,t2[4]=u2*i2-s2*n2,t2[5]=c3*i2-a2*n2,t2[6]=h3*i2-o2*n2,t2[7]=p3*i2-l2*n2,t2},t.b6=function(t2,e2,r2){var n2=Math.sin(r2),i2=Math.cos(r2),s2=e2[4],a2=e2[5],o2=e2[6],l2=e2[7],u2=e2[8],c3=e2[9],h3=e2[10],p3=e2[11];return e2!==t2&&(t2[0]=e2[0],t2[1]=e2[1],t2[2]=e2[2],t2[3]=e2[3],t2[12]=e2[12],t2[13]=e2[13],t2[14]=e2[14],t2[15]=e2[15]),t2[4]=s2*i2+u2*n2,t2[5]=a2*i2+c3*n2,t2[6]=o2*i2+h3*n2,t2[7]=l2*i2+p3*n2,t2[8]=u2*i2-s2*n2,t2[9]=c3*i2-a2*n2,t2[10]=h3*i2-o2*n2,t2[11]=p3*i2-l2*n2,t2},t.b7=function(){const t2=new Float32Array(16);return x(t2),t2},t.b8=function(){const t2=new Float64Array(16);return x(t2),t2},t.b9=function(){return new Float64Array(16)},t.bA=function(t2){return t2[0]=0,t2[1]=0,t2[2]=0,t2},t.bB=function(t2,e2,r2,n2){const i2=Math.sqrt(t2*t2+e2*e2),s2=Math.sqrt(r2*r2+n2*n2);t2/=i2,e2/=i2,r2/=s2,n2/=s2;const a2=Math.acos(t2*r2+e2*n2);return-e2*r2+t2*n2>0?a2:-a2},t.bC=function(t2,e2){const r2=V(t2,2*Math.PI),n2=V(e2,2*Math.PI);return Math.min(Math.abs(r2-n2),Math.abs(r2-n2+2*Math.PI),Math.abs(r2-n2-2*Math.PI))},t.bD=function(){const t2={},e2=wt.$version;for(const r2 in wt.$root){const n2=wt.$root[r2];if(n2.required){let i2=null;i2=r2==="version"?e2:n2.type==="array"?[]:{},i2!=null&&(t2[r2]=i2)}}return t2},t.bE=ys,t.bF=ft,t.bG=__name(function t2(e2,r2){if(Array.isArray(e2)){if(!Array.isArray(r2)||e2.length!==r2.length)return!1;for(let n2=0;n2<e2.length;n2++)if(!t2(e2[n2],r2[n2]))return!1;return!0}if(typeof e2=="object"&&e2!==null&&r2!==null){if(typeof r2!="object"||Object.keys(e2).length!==Object.keys(r2).length)return!1;for(const n2 in e2)if(!t2(e2[n2],r2[n2]))return!1;return!0}return e2===r2},"t"),t.bH=function(t2){t2=t2.slice();const e2=Object.create(null);for(let r2=0;r2<t2.length;r2++)e2[t2[r2].id]=t2[r2];for(let r2=0;r2<t2.length;r2++)"ref"in t2[r2]&&(t2[r2]=St(t2[r2],e2[t2[r2].ref]));return t2},t.bI=function(t2){if(t2.type==="custom")return new uh(t2);switch(t2.type){case"background":return new sh(t2);case"circle":return new Ko(t2);case"color-relief":return new gl(t2);case"fill":return new ou(t2);case"fill-extrusion":return new Eu(t2);case"heatmap":return new ll(t2);case"hillshade":return new hl(t2);case"line":return new Yu(t2);case"raster":return new lh(t2);case"symbol":return new rh(t2)}},t.bJ=G,t.bK=function(t2,e2){if(!t2)return[{command:"setStyle",args:[e2]}];let r2=[];try{if(!At(t2.version,e2.version))return[{command:"setStyle",args:[e2]}];At(t2.center,e2.center)||r2.push({command:"setCenter",args:[e2.center]}),At(t2.state,e2.state)||r2.push({command:"setGlobalState",args:[e2.state]}),At(t2.centerAltitude,e2.centerAltitude)||r2.push({command:"setCenterAltitude",args:[e2.centerAltitude]}),At(t2.zoom,e2.zoom)||r2.push({command:"setZoom",args:[e2.zoom]}),At(t2.bearing,e2.bearing)||r2.push({command:"setBearing",args:[e2.bearing]}),At(t2.pitch,e2.pitch)||r2.push({command:"setPitch",args:[e2.pitch]}),At(t2.roll,e2.roll)||r2.push({command:"setRoll",args:[e2.roll]}),At(t2.sprite,e2.sprite)||r2.push({command:"setSprite",args:[e2.sprite]}),At(t2.glyphs,e2.glyphs)||r2.push({command:"setGlyphs",args:[e2.glyphs]}),At(t2.transition,e2.transition)||r2.push({command:"setTransition",args:[e2.transition]}),At(t2.light,e2.light)||r2.push({command:"setLight",args:[e2.light]}),At(t2.terrain,e2.terrain)||r2.push({command:"setTerrain",args:[e2.terrain]}),At(t2.sky,e2.sky)||r2.push({command:"setSky",args:[e2.sky]}),At(t2.projection,e2.projection)||r2.push({command:"setProjection",args:[e2.projection]});const n2={},i2=[];(function(t3,e3,r3,n3){let i3;for(i3 in e3=e3||{},t3=t3||{})Object.prototype.hasOwnProperty.call(t3,i3)&&(Object.prototype.hasOwnProperty.call(e3,i3)||It(i3,r3,n3));for(i3 in e3)Object.prototype.hasOwnProperty.call(e3,i3)&&(Object.prototype.hasOwnProperty.call(t3,i3)?At(t3[i3],e3[i3])||(t3[i3].type==="geojson"&&e3[i3].type==="geojson"&&Pt(t3,e3,i3)?kt2(r3,{command:"setGeoJSONSourceData",args:[i3,e3[i3].data]}):zt2(i3,e3,r3,n3)):Mt2(i3,e3,r3))})(t2.sources,e2.sources,i2,n2);const s2=[];t2.layers&&t2.layers.forEach(t3=>{"source"in t3&&n2[t3.source]?r2.push({command:"removeLayer",args:[t3.id]}):s2.push(t3)}),r2=r2.concat(i2),function(t3,e3,r3){e3=e3||[];const n3=(t3=t3||[]).map(Bt2),i3=e3.map(Bt2),s3=t3.reduce(Et,{}),a2=e3.reduce(Et,{}),o2=n3.slice(),l2=Object.create(null);let u2,c3,h3,p3,f2;for(let t4=0,e4=0;t4<n3.length;t4++)u2=n3[t4],Object.prototype.hasOwnProperty.call(a2,u2)?e4++:(kt2(r3,{command:"removeLayer",args:[u2]}),o2.splice(o2.indexOf(u2,e4),1));for(let t4=0,e4=0;t4<i3.length;t4++)u2=i3[i3.length-1-t4],o2[o2.length-1-t4]!==u2&&(Object.prototype.hasOwnProperty.call(s3,u2)?(kt2(r3,{command:"removeLayer",args:[u2]}),o2.splice(o2.lastIndexOf(u2,o2.length-e4),1)):e4++,p3=o2[o2.length-t4],kt2(r3,{command:"addLayer",args:[a2[u2],p3]}),o2.splice(o2.length-t4,0,u2),l2[u2]=!0);for(let t4=0;t4<i3.length;t4++)if(u2=i3[t4],c3=s3[u2],h3=a2[u2],!l2[u2]&&!At(c3,h3))if(At(c3.source,h3.source)&&At(c3["source-layer"],h3["source-layer"])&&At(c3.type,h3.type)){for(f2 in Ct(c3.layout,h3.layout,r3,u2,null,"setLayoutProperty"),Ct(c3.paint,h3.paint,r3,u2,null,"setPaintProperty"),At(c3.filter,h3.filter)||kt2(r3,{command:"setFilter",args:[u2,h3.filter]}),At(c3.minzoom,h3.minzoom)&&At(c3.maxzoom,h3.maxzoom)||kt2(r3,{command:"setLayerZoomRange",args:[u2,h3.minzoom,h3.maxzoom]}),c3)Object.prototype.hasOwnProperty.call(c3,f2)&&f2!=="layout"&&f2!=="paint"&&f2!=="filter"&&f2!=="metadata"&&f2!=="minzoom"&&f2!=="maxzoom"&&(f2.indexOf("paint.")===0?Ct(c3[f2],h3[f2],r3,u2,f2.slice(6),"setPaintProperty"):At(c3[f2],h3[f2])||kt2(r3,{command:"setLayerProperty",args:[u2,f2,h3[f2]]}));for(f2 in h3)Object.prototype.hasOwnProperty.call(h3,f2)&&!Object.prototype.hasOwnProperty.call(c3,f2)&&f2!=="layout"&&f2!=="paint"&&f2!=="filter"&&f2!=="metadata"&&f2!=="minzoom"&&f2!=="maxzoom"&&(f2.indexOf("paint.")===0?Ct(c3[f2],h3[f2],r3,u2,f2.slice(6),"setPaintProperty"):At(c3[f2],h3[f2])||kt2(r3,{command:"setLayerProperty",args:[u2,f2,h3[f2]]}))}else kt2(r3,{command:"removeLayer",args:[u2]}),p3=o2[o2.lastIndexOf(u2)+1],kt2(r3,{command:"addLayer",args:[h3,p3]})}(s2,e2.layers,r2)}catch(t3){console.warn("Unable to compute style diff:",t3),r2=[{command:"setStyle",args:[e2]}]}return r2},t.bL=function(t2){const e2=[],r2=t2.id;return r2===void 0&&e2.push({message:"layers.".concat(r2,': missing required property "id"')}),t2.render===void 0&&e2.push({message:"layers.".concat(r2,': missing required method "render"')}),t2.renderingMode&&t2.renderingMode!=="2d"&&t2.renderingMode!=="3d"&&e2.push({message:"layers.".concat(r2,': property "renderingMode" must be either "2d" or "3d"')}),e2},t.bM=U,t.bN=q2,t.bO=class extends co{constructor(t2,e2){super(t2,e2),this.current=0}set(t2){this.current!==t2&&(this.current=t2,this.gl.uniform1i(this.location,t2))}},t.bP=fo,t.bQ=class extends co{constructor(t2,e2){super(t2,e2),this.current=yo}set(t2){if(t2[12]!==this.current[12]||t2[0]!==this.current[0])return this.current=t2,void this.gl.uniformMatrix4fv(this.location,!1,t2);for(let e2=1;e2<16;e2++)if(t2[e2]!==this.current[e2]){this.current=t2,this.gl.uniformMatrix4fv(this.location,!1,t2);break}}},t.bR=po,t.bS=class extends co{constructor(t2,e2){super(t2,e2),this.current=[0,0,0]}set(t2){t2[0]===this.current[0]&&t2[1]===this.current[1]&&t2[2]===this.current[2]||(this.current=t2,this.gl.uniform3f(this.location,t2[0],t2[1],t2[2]))}},t.bT=class extends co{constructor(t2,e2){super(t2,e2),this.current=[0,0]}set(t2){t2[0]===this.current[0]&&t2[1]===this.current[1]||(this.current=t2,this.gl.uniform2f(this.location,t2[0],t2[1]))}},t.bU=g,t.bV=function(t2,e2){var r2=Math.sin(e2),n2=Math.cos(e2);return t2[0]=n2,t2[1]=r2,t2[2]=0,t2[3]=-r2,t2[4]=n2,t2[5]=0,t2[6]=0,t2[7]=0,t2[8]=1,t2},t.bW=function(t2,e2,r2){var n2=e2[0],i2=e2[1],s2=e2[2];return t2[0]=n2*r2[0]+i2*r2[3]+s2*r2[6],t2[1]=n2*r2[1]+i2*r2[4]+s2*r2[7],t2[2]=n2*r2[2]+i2*r2[5]+s2*r2[8],t2},t.bX=function(t2,e2,r2,n2,i2,s2,a2){var o2=1/(e2-r2),l2=1/(n2-i2),u2=1/(s2-a2);return t2[0]=-2*o2,t2[1]=0,t2[2]=0,t2[3]=0,t2[4]=0,t2[5]=-2*l2,t2[6]=0,t2[7]=0,t2[8]=0,t2[9]=0,t2[10]=2*u2,t2[11]=0,t2[12]=(e2+r2)*o2,t2[13]=(i2+n2)*l2,t2[14]=(a2+s2)*u2,t2[15]=1,t2},t.bY=class extends co{constructor(t2,e2){super(t2,e2),this.current=new Array}set(t2){if(t2!=this.current){this.current=t2;const e2=new Float32Array(4*t2.length);for(let r2=0;r2<t2.length;r2++)e2[4*r2]=t2[r2].r,e2[4*r2+1]=t2[r2].g,e2[4*r2+2]=t2[r2].b,e2[4*r2+3]=t2[r2].a;this.gl.uniform4fv(this.location,e2)}}},t.bZ=class extends co{constructor(t2,e2){super(t2,e2),this.current=new Array}set(t2){if(t2!=this.current){this.current=t2;const e2=new Float32Array(t2);this.gl.uniform1fv(this.location,e2)}}},t.b_=class extends ca{},t.ba=function(t2,e2,r2){const n2=new Float64Array(4);return P(n2,t2,e2-90,r2),n2},t.bb=function(t2,e2,r2,n2){var i2,s2,a2,o2,l2,u2=e2[0],c3=e2[1],h3=e2[2],p3=e2[3],f2=r2[0],d3=r2[1],m2=r2[2],g2=r2[3];return(s2=u2*f2+c3*d3+h3*m2+p3*g2)<0&&(s2=-s2,f2=-f2,d3=-d3,m2=-m2,g2=-g2),1-s2>y?(i2=Math.acos(s2),a2=Math.sin(i2),o2=Math.sin((1-n2)*i2)/a2,l2=Math.sin(n2*i2)/a2):(o2=1-n2,l2=n2),t2[0]=o2*u2+l2*f2,t2[1]=o2*c3+l2*d3,t2[2]=o2*h3+l2*m2,t2[3]=o2*p3+l2*g2,t2},t.bc=function(t2){const e2=new Float64Array(9);var r2,n2,i2,s2,a2,o2,l2,u2,c3,h3,p3,f2,d3,y2,m2,g2,x2,v2;h3=(i2=(n2=t2)[0])*(l2=i2+i2),p3=(s2=n2[1])*l2,d3=(a2=n2[2])*l2,y2=a2*(u2=s2+s2),g2=(o2=n2[3])*l2,x2=o2*u2,v2=o2*(c3=a2+a2),(r2=e2)[0]=1-(f2=s2*u2)-(m2=a2*c3),r2[3]=p3-v2,r2[6]=d3+x2,r2[1]=p3+v2,r2[4]=1-h3-m2,r2[7]=y2-g2,r2[2]=d3-x2,r2[5]=y2+g2,r2[8]=1-h3-f2;const b2=it(-Math.asin(O(e2[2],-1,1)));let w2,_2;return Math.hypot(e2[5],e2[8])<.001?(w2=0,_2=-it(Math.atan2(e2[3],e2[4]))):(w2=it(e2[5]===0&&e2[8]===0?0:Math.atan2(e2[5],e2[8])),_2=it(e2[1]===0&&e2[0]===0?0:Math.atan2(e2[1],e2[0]))),{roll:w2,pitch:b2+90,bearing:_2}},t.bd=function(t2,e2){return t2.roll==e2.roll&&t2.pitch==e2.pitch&&t2.bearing==e2.bearing},t.be=Pe2,t.bf=ho,t.bg=Hl,t.bh=Kl,t.bi=Zl,t.bj=F,t.bk=L,t.bl=je,t.bm=function(t2,e2,r2,n2,i2){return F(n2,i2,O((t2-e2)/(r2-e2),0,1))},t.bn=V,t.bo=function(){return new Float64Array(3)},t.bp=function(t2,e2,r2,n2){return t2[0]=e2[0]+r2[0]*n2,t2[1]=e2[1]+r2[1]*n2,t2[2]=e2[2]+r2[2]*n2,t2},t.bq=P,t.br=function(t2,e2,r2){var n2=r2[0],i2=r2[1],s2=r2[2],a2=e2[0],o2=e2[1],l2=e2[2],u2=i2*l2-s2*o2,c3=s2*a2-n2*l2,h3=n2*o2-i2*a2,p3=i2*h3-s2*c3,f2=s2*u2-n2*h3,d3=n2*c3-i2*u2,y2=2*r2[3];return c3*=y2,h3*=y2,f2*=2,d3*=2,t2[0]=a2+(u2*=y2)+(p3*=2),t2[1]=o2+c3+f2,t2[2]=l2+h3+d3,t2},t.bs=function(t2,e2,r2){const n2=(i2=[t2[0],t2[1],t2[2],e2[0],e2[1],e2[2],r2[0],r2[1],r2[2]])[0]*((c3=i2[8])*(a2=i2[4])-(o2=i2[5])*(u2=i2[7]))+i2[1]*(-c3*(s2=i2[3])+o2*(l2=i2[6]))+i2[2]*(u2*s2-a2*l2);var i2,s2,a2,o2,l2,u2,c3;if(n2===0)return null;const h3=A([],[e2[0],e2[1],e2[2]],[r2[0],r2[1],r2[2]]),p3=A([],[r2[0],r2[1],r2[2]],[t2[0],t2[1],t2[2]]),f2=A([],[t2[0],t2[1],t2[2]],[e2[0],e2[1],e2[2]]),d3=S([],h3,-t2[3]);return _(d3,d3,S([],p3,-e2[3])),_(d3,d3,S([],f2,-r2[3])),S(d3,d3,1/n2),d3},t.bt=ph,t.bu=function(){return new Float64Array(4)},t.bv=function(t2,e2,r2,n2){var i2=[],s2=[];return i2[0]=e2[0]-r2[0],i2[1]=e2[1]-r2[1],i2[2]=e2[2]-r2[2],s2[0]=i2[0]*Math.cos(n2)-i2[1]*Math.sin(n2),s2[1]=i2[0]*Math.sin(n2)+i2[1]*Math.cos(n2),s2[2]=i2[2],t2[0]=s2[0]+r2[0],t2[1]=s2[1]+r2[1],t2[2]=s2[2]+r2[2],t2},t.bw=function(t2,e2,r2,n2){var i2=[],s2=[];return i2[0]=e2[0]-r2[0],i2[1]=e2[1]-r2[1],i2[2]=e2[2]-r2[2],s2[0]=i2[0],s2[1]=i2[1]*Math.cos(n2)-i2[2]*Math.sin(n2),s2[2]=i2[1]*Math.sin(n2)+i2[2]*Math.cos(n2),t2[0]=s2[0]+r2[0],t2[1]=s2[1]+r2[1],t2[2]=s2[2]+r2[2],t2},t.bx=function(t2,e2,r2,n2){var i2=[],s2=[];return i2[0]=e2[0]-r2[0],i2[1]=e2[1]-r2[1],i2[2]=e2[2]-r2[2],s2[0]=i2[2]*Math.sin(n2)+i2[0]*Math.cos(n2),s2[1]=i2[1],s2[2]=i2[2]*Math.cos(n2)-i2[0]*Math.sin(n2),t2[0]=s2[0]+r2[0],t2[1]=s2[1]+r2[1],t2[2]=s2[2]+r2[2],t2},t.by=function(t2,e2,r2){var n2=Math.sin(r2),i2=Math.cos(r2),s2=e2[0],a2=e2[1],o2=e2[2],l2=e2[3],u2=e2[8],c3=e2[9],h3=e2[10],p3=e2[11];return e2!==t2&&(t2[4]=e2[4],t2[5]=e2[5],t2[6]=e2[6],t2[7]=e2[7],t2[12]=e2[12],t2[13]=e2[13],t2[14]=e2[14],t2[15]=e2[15]),t2[0]=s2*i2-u2*n2,t2[1]=a2*i2-c3*n2,t2[2]=o2*i2-h3*n2,t2[3]=l2*i2-p3*n2,t2[8]=s2*n2+u2*i2,t2[9]=a2*n2+c3*i2,t2[10]=o2*n2+h3*i2,t2[11]=l2*n2+p3*i2,t2},t.bz=function(t2,e2){const r2=V(t2,360),n2=V(e2,360),i2=n2-r2,s2=n2>r2?i2-360:i2+360;return Math.abs(i2)<Math.abs(s2)?i2:s2},t.c=lt,t.c0=class extends pa{},t.c1=ol,t.c2=function(t2){return t2<=1?1:Math.pow(2,Math.ceil(Math.log(t2)/Math.LN2))},t.c3=al,t.c4=function(t2,e2,r2){var n2=e2[0],i2=e2[1],s2=e2[2],a2=r2[3]*n2+r2[7]*i2+r2[11]*s2+r2[15];return t2[0]=(r2[0]*n2+r2[4]*i2+r2[8]*s2+r2[12])/(a2=a2||1),t2[1]=(r2[1]*n2+r2[5]*i2+r2[9]*s2+r2[13])/a2,t2[2]=(r2[2]*n2+r2[6]*i2+r2[10]*s2+r2[14])/a2,t2},t.c5=class extends ta{},t.c6=class extends va{},t.c7=function(t2,e2){return t2[0]===e2[0]&&t2[1]===e2[1]&&t2[2]===e2[2]&&t2[3]===e2[3]&&t2[4]===e2[4]&&t2[5]===e2[5]&&t2[6]===e2[6]&&t2[7]===e2[7]&&t2[8]===e2[8]&&t2[9]===e2[9]&&t2[10]===e2[10]&&t2[11]===e2[11]&&t2[12]===e2[12]&&t2[13]===e2[13]&&t2[14]===e2[14]&&t2[15]===e2[15]},t.c8=function(t2,e2){var r2=t2[0],n2=t2[1],i2=t2[2],s2=t2[3],a2=t2[4],o2=t2[5],l2=t2[6],u2=t2[7],c3=t2[8],h3=t2[9],p3=t2[10],f2=t2[11],d3=t2[12],m2=t2[13],g2=t2[14],x2=t2[15],v2=e2[0],b2=e2[1],w2=e2[2],_2=e2[3],S2=e2[4],A2=e2[5],k2=e2[6],M2=e2[7],I2=e2[8],z2=e2[9],P2=e2[10],C2=e2[11],B3=e2[12],E3=e2[13],T2=e2[14],V2=e2[15];return Math.abs(r2-v2)<=y*Math.max(1,Math.abs(r2),Math.abs(v2))&&Math.abs(n2-b2)<=y*Math.max(1,Math.abs(n2),Math.abs(b2))&&Math.abs(i2-w2)<=y*Math.max(1,Math.abs(i2),Math.abs(w2))&&Math.abs(s2-_2)<=y*Math.max(1,Math.abs(s2),Math.abs(_2))&&Math.abs(a2-S2)<=y*Math.max(1,Math.abs(a2),Math.abs(S2))&&Math.abs(o2-A2)<=y*Math.max(1,Math.abs(o2),Math.abs(A2))&&Math.abs(l2-k2)<=y*Math.max(1,Math.abs(l2),Math.abs(k2))&&Math.abs(u2-M2)<=y*Math.max(1,Math.abs(u2),Math.abs(M2))&&Math.abs(c3-I2)<=y*Math.max(1,Math.abs(c3),Math.abs(I2))&&Math.abs(h3-z2)<=y*Math.max(1,Math.abs(h3),Math.abs(z2))&&Math.abs(p3-P2)<=y*Math.max(1,Math.abs(p3),Math.abs(P2))&&Math.abs(f2-C2)<=y*Math.max(1,Math.abs(f2),Math.abs(C2))&&Math.abs(d3-B3)<=y*Math.max(1,Math.abs(d3),Math.abs(B3))&&Math.abs(m2-E3)<=y*Math.max(1,Math.abs(m2),Math.abs(E3))&&Math.abs(g2-T2)<=y*Math.max(1,Math.abs(g2),Math.abs(T2))&&Math.abs(x2-V2)<=y*Math.max(1,Math.abs(x2),Math.abs(V2))},t.c9=function(t2,e2){return t2[0]=e2[0],t2[1]=e2[1],t2[2]=e2[2],t2[3]=e2[3],t2[4]=e2[4],t2[5]=e2[5],t2[6]=e2[6],t2[7]=e2[7],t2[8]=e2[8],t2[9]=e2[9],t2[10]=e2[10],t2[11]=e2[11],t2[12]=e2[12],t2[13]=e2[13],t2[14]=e2[14],t2[15]=e2[15],t2},t.cA=function(t2){delete ut.REGISTERED_PROTOCOLS[t2]},t.cB=function(t2,e2){const r2={};for(let n3=0;n3<t2.length;n3++){const i2=e2&&e2[t2[n3].id]||Si2(t2[n3]);e2&&(e2[t2[n3].id]=i2);let s2=r2[i2];s2||(s2=r2[i2]=[]),s2.push(t2[n3])}const n2=[];for(const t3 in r2)n2.push(r2[t3]);return n2},t.cC=us,t.cD=zh,t.cE=Ch,t.cF=gc,t.cG=function(e2){e2.bucket.createArrays(),e2.bucket.tilePixelRatio=E2/(512*e2.bucket.overscaling),e2.bucket.compareText={},e2.bucket.iconsNeedLinear=!1;const r2=e2.bucket.layers[0],n2=r2.layout,i2=r2._unevaluatedLayout._values,s2={layoutIconSize:i2["icon-size"].possiblyEvaluate(new Cs(e2.bucket.zoom+1),e2.canonical),layoutTextSize:i2["text-size"].possiblyEvaluate(new Cs(e2.bucket.zoom+1),e2.canonical),textMaxSize:i2["text-size"].possiblyEvaluate(new Cs(18))};if(e2.bucket.textSizeData.kind==="composite"){const{minZoom:t2,maxZoom:r3}=e2.bucket.textSizeData;s2.compositeTextSizes=[i2["text-size"].possiblyEvaluate(new Cs(t2),e2.canonical),i2["text-size"].possiblyEvaluate(new Cs(r3),e2.canonical)]}if(e2.bucket.iconSizeData.kind==="composite"){const{minZoom:t2,maxZoom:r3}=e2.bucket.iconSizeData;s2.compositeIconSizes=[i2["icon-size"].possiblyEvaluate(new Cs(t2),e2.canonical),i2["icon-size"].possiblyEvaluate(new Cs(r3),e2.canonical)]}const a2=n2.get("text-line-height")*ac,o2=n2.get("text-rotation-alignment")!=="viewport"&&n2.get("symbol-placement")!=="point",l2=n2.get("text-keep-upright"),u2=n2.get("text-size");for(const i3 of e2.bucket.features){const c3=n2.get("text-font").evaluate(i3,{},e2.canonical).join(","),h3=u2.evaluate(i3,{},e2.canonical),p3=s2.layoutTextSize.evaluate(i3,{},e2.canonical),f2=s2.layoutIconSize.evaluate(i3,{},e2.canonical),d3={horizontal:{},vertical:void 0},y2=i3.text;let m2,g2=[0,0];if(y2){const s3=y2.toString(),u3=n2.get("text-letter-spacing").evaluate(i3,{},e2.canonical)*ac,f3=xs(s3)?u3:0,m3=n2.get("text-anchor").evaluate(i3,{},e2.canonical),x3=ep(r2,i3,e2.canonical);if(!x3){const t2=n2.get("text-radial-offset").evaluate(i3,{},e2.canonical);g2=t2?tp(m3,[t2*ac,Qh]):n2.get("text-offset").evaluate(i3,{},e2.canonical).map(t3=>t3*ac)}let v3=o2?"center":n2.get("text-justify").evaluate(i3,{},e2.canonical);const b2=n2.get("symbol-placement")==="point"?n2.get("text-max-width").evaluate(i3,{},e2.canonical)*ac:1/0,w2=__name(()=>{e2.bucket.allowVerticalPlacement&&gs(s3)&&(d3.vertical=bc(y2,e2.glyphMap,e2.glyphPositions,e2.imagePositions,c3,b2,a2,m3,"left",f3,g2,t.an.vertical,!0,p3,h3))},"w");if(!o2&&x3){const r3=new Set;if(v3==="auto")for(let t2=0;t2<x3.values.length;t2+=2)r3.add(rp(x3.values[t2]));else r3.add(v3);let n3=!1;for(const i4 of r3)if(!d3.horizontal[i4])if(n3)d3.horizontal[i4]=d3.horizontal[0];else{const r4=bc(y2,e2.glyphMap,e2.glyphPositions,e2.imagePositions,c3,b2,a2,"center",i4,f3,g2,t.an.horizontal,!1,p3,h3);r4&&(d3.horizontal[i4]=r4,n3=r4.positionedLines.length===1)}w2()}else{v3==="auto"&&(v3=rp(m3));const r3=bc(y2,e2.glyphMap,e2.glyphPositions,e2.imagePositions,c3,b2,a2,m3,v3,f3,g2,t.an.horizontal,!1,p3,h3);r3&&(d3.horizontal[v3]=r3),w2(),gs(s3)&&o2&&l2&&(d3.vertical=bc(y2,e2.glyphMap,e2.glyphPositions,e2.imagePositions,c3,b2,a2,m3,v3,f3,g2,t.an.vertical,!1,p3,h3))}}let x2=!1;if(i3.icon&&i3.icon.name){const t2=e2.imageMap[i3.icon.name];t2&&(m2=$c(e2.imagePositions[i3.icon.name],n2.get("icon-offset").evaluate(i3,{},e2.canonical),n2.get("icon-anchor").evaluate(i3,{},e2.canonical)),x2=!!t2.sdf,e2.bucket.sdfIcons===void 0?e2.bucket.sdfIcons=x2:e2.bucket.sdfIcons!==x2&&Z("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t2.pixelRatio!==e2.bucket.pixelRatio||n2.get("icon-rotate").constantOr(1)!==0)&&(e2.bucket.iconsNeedLinear=!0))}const v2=sp(d3.horizontal)||d3.vertical;e2.bucket.iconsInText=!!v2&&v2.iconsInText,(v2||m2)&&np(e2.bucket,i3,d3,m2,e2.imageMap,s2,p3,f2,g2,x2,e2.canonical,e2.subdivisionGranularity)}e2.showCollisionBoxes&&e2.bucket.generateCollisionDebugBuffers()},t.cH=Nu,t.cI=nu,t.cJ=Mu,t.cK=_u,t.cL=hc,t.cM=class{constructor(t2){this._marks={start:[t2.url,"start"].join("#"),end:[t2.url,"end"].join("#"),measure:t2.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let t2=performance.getEntriesByName(this._marks.measure);return t2.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),t2=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),t2}},t.cN=function(t2,r2,n2,i2,s2){return e(this,void 0,void 0,function*(){if(d2())try{return yield Q2(t2,r2,n2,i2,s2)}catch(t3){}return function(t3,e2,r3,n3,i3){const s3=t3.width,a2=t3.height;tt2&&et||(tt2=new OffscreenCanvas(s3,a2),et=tt2.getContext("2d",{willReadFrequently:!0})),tt2.width=s3,tt2.height=a2,et.drawImage(t3,0,0,s3,a2);const o2=et.getImageData(e2,r3,n3,i3);return et.clearRect(0,0,s3,a2),o2.data}(t2,r2,n2,i2,s2)})},t.cO=yl,t.cP=r,t.cQ=s,t.cR=wu,t.cS=uc,t.cT=si2,t.cU=Ps,t.ca=t2=>t2.type==="symbol",t.cb=t2=>t2.type==="circle",t.cc=t2=>t2.type==="heatmap",t.cd=t2=>t2.type==="line",t.ce=t2=>t2.type==="fill",t.cf=t2=>t2.type==="fill-extrusion",t.cg=t2=>t2.type==="hillshade",t.ch=t2=>t2.type==="color-relief",t.ci=t2=>t2.type==="raster",t.cj=t2=>t2.type==="background",t.ck=t2=>t2.type==="custom",t.cl=$,t.cm=function(t2,e2,r2){const n2=B2(e2.x-r2.x,e2.y-r2.y),i2=B2(t2.x-r2.x,t2.y-r2.y);var s2,a2;return it(Math.atan2(n2[0]*i2[1]-n2[1]*i2[0],(s2=n2)[0]*(a2=i2)[0]+s2[1]*a2[1]))},t.cn=D,t.co=function(t2,e2){return at[e2]&&(t2 instanceof MouseEvent||t2 instanceof WheelEvent)},t.cp=function(t2,e2){return st[e2]&&"touches"in t2},t.cq=function(t2){return st[t2]||at[t2]},t.cr=function(t2,e2,r2){var n2=e2[0],i2=e2[1];return t2[0]=r2[0]*n2+r2[4]*i2+r2[12],t2[1]=r2[1]*n2+r2[5]*i2+r2[13],t2},t.cs=function(t2,e2){const{x:r2,y:n2}=wh.fromLngLat(e2);return!(t2<0||t2>25||n2<0||n2>=1||r2<0||r2>=1)},t.ct=function(t2,e2){return t2[0]=e2[0],t2[1]=0,t2[2]=0,t2[3]=0,t2[4]=0,t2[5]=e2[1],t2[6]=0,t2[7]=0,t2[8]=0,t2[9]=0,t2[10]=e2[2],t2[11]=0,t2[12]=0,t2[13]=0,t2[14]=0,t2[15]=1,t2},t.cu=class extends Qs{},t.cv=bp,t.cx=function(t2){return t2.message===ot},t.cy=pt2,t.cz=function(t2,e2){ut.REGISTERED_PROTOCOLS[t2]=e2},t.d=yt,t.e=j,t.f=t2=>e(void 0,void 0,void 0,function*(){if(t2.byteLength===0)return createImageBitmap(new ImageData(1,1));const e2=new Blob([new Uint8Array(t2)],{type:"image/png"});try{return createImageBitmap(e2)}catch(t3){throw new Error("Could not load image because of ".concat(t3.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}}),t.g=ct,t.h=t2=>new Promise((e2,r2)=>{const n2=new Image;n2.onload=()=>{e2(n2),URL.revokeObjectURL(n2.src),n2.onload=null,window.requestAnimationFrame(()=>{n2.src=W})},n2.onerror=()=>r2(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i2=new Blob([new Uint8Array(t2)],{type:"image/png"});n2.src=t2.byteLength?URL.createObjectURL(i2):W}),t.i=H,t.j=(t2,e2)=>dt2(j(t2,{type:"json"}),e2),t.k=vt2,t.l=xt,t.m=dt2,t.n=(t2,e2)=>dt2(j(t2,{type:"arrayBuffer"}),e2),t.o=function(t2){return new hc(t2).readFields(pc,[])},t.p=yc,t.q=il,t.r=qs,t.s=rt,t.t=Ts,t.u=ms,t.v=wt,t.w=Z,t.x=rs,t.y=as,t.z=es}),define("worker",["./shared"],function(e){const _t=class _t{constructor(e2){this.keyCache={},e2&&this.replace(e2)}replace(e2){this._layerConfigs={},this._layers={},this.update(e2,[])}update(t2,o2){for(const o3 of t2){this._layerConfigs[o3.id]=o3;const t3=this._layers[o3.id]=e.bI(o3);t3._featureFilter=e.a9(t3.filter),this.keyCache[o3.id]&&delete this.keyCache[o3.id]}for(const e2 of o2)delete this.keyCache[e2],delete this._layerConfigs[e2],delete this._layers[e2];this.familiesBySource={};const i2=e.cB(Object.values(this._layerConfigs),this.keyCache);for(const e2 of i2){const t3=e2.map(e3=>this._layers[e3.id]),o3=t3[0];if(o3.visibility==="none")continue;const i3=o3.source||"";let r2=this.familiesBySource[i3];r2||(r2=this.familiesBySource[i3]={});const s2=o3.sourceLayer||"_geojsonTileLayer";let n2=r2[s2];n2||(n2=r2[s2]=[]),n2.push(t3)}}};__name(_t,"t");let t=_t;const _o=class _o{constructor(t2){const o2={},i2=[];for(const e2 in t2){const r3=t2[e2],s3=o2[e2]={};for(const e3 in r3){const t3=r3[+e3];if(!t3||t3.bitmap.width===0||t3.bitmap.height===0)continue;const o3={x:0,y:0,w:t3.bitmap.width+2,h:t3.bitmap.height+2};i2.push(o3),s3[e3]={rect:o3,metrics:t3.metrics}}}const{w:r2,h:s2}=e.p(i2),n2=new e.q({width:r2||1,height:s2||1});for(const i3 in t2){const r3=t2[i3];for(const t3 in r3){const s3=r3[+t3];if(!s3||s3.bitmap.width===0||s3.bitmap.height===0)continue;const a2=o2[i3][t3].rect;e.q.copy(s3.bitmap,n2,{x:0,y:0},{x:a2.x+1,y:a2.y+1},s3.bitmap)}}this.image=n2,this.positions=o2}};__name(_o,"o");let o=_o;e.cC("GlyphAtlas",o);const _i=class _i{constructor(t2){this.tileID=new e.Z(t2.tileID.overscaledZ,t2.tileID.wrap,t2.tileID.canonical.z,t2.tileID.canonical.x,t2.tileID.canonical.y),this.uid=t2.uid,this.zoom=t2.zoom,this.pixelRatio=t2.pixelRatio,this.tileSize=t2.tileSize,this.source=t2.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t2.showCollisionBoxes,this.collectResourceTiming=!!t2.collectResourceTiming,this.returnDependencies=!!t2.returnDependencies,this.promoteId=t2.promoteId,this.inFlightDependencies=[],this.globalState=t2.globalState}parse(t2,i2,s2,n2,a2){return e._(this,void 0,void 0,function*(){this.status="parsing",this.data=t2,this.collisionBoxArray=new e.a7;const l2=new e.cD(Object.keys(t2.layers).sort()),c3=new e.cE(this.tileID,this.promoteId);c3.bucketLayerIDs=[];const u2={},h3={featureIndex:c3,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:s2,subdivisionGranularity:a2},d3=i2.familiesBySource[this.source];for(const o2 in d3){const i3=t2.layers[o2];if(!i3)continue;i3.version===1&&e.w('Vector tile source "'.concat(this.source,'" layer "').concat(o2,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));const n3=l2.encode(o2),a3=[];for(let e2=0;e2<i3.length;e2++){const t3=i3.feature(e2),r2=c3.getId(t3,o2);a3.push({feature:t3,id:r2,index:e2,sourceLayerIndex:n3})}for(const t3 of d3[o2]){const o3=t3[0];o3.source!==this.source&&e.w("layer.source = ".concat(o3.source," does not equal this.source = ").concat(this.source)),o3.minzoom&&this.zoom<Math.floor(o3.minzoom)||o3.maxzoom&&this.zoom>=o3.maxzoom||o3.visibility!=="none"&&(r(t3,this.zoom,s2),(u2[o3.id]=o3.createBucket({index:c3.bucketLayerIDs.length,layers:t3,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:n3,sourceID:this.source,globalState:this.globalState})).populate(a3,h3,this.tileID.canonical),c3.bucketLayerIDs.push(t3.map(e2=>e2.id)))}}const f2=e.bM(h3.glyphDependencies,e2=>Object.keys(e2).map(Number));this.inFlightDependencies.forEach(e2=>e2==null?void 0:e2.abort()),this.inFlightDependencies=[];let g2=Promise.resolve({});if(Object.keys(f2).length){const e2=new AbortController;this.inFlightDependencies.push(e2),g2=n2.sendAsync({type:"GG",data:{stacks:f2,source:this.source,tileID:this.tileID,type:"glyphs"}},e2)}const p3=Object.keys(h3.iconDependencies);let m2=Promise.resolve({});if(p3.length){const e2=new AbortController;this.inFlightDependencies.push(e2),m2=n2.sendAsync({type:"GI",data:{icons:p3,source:this.source,tileID:this.tileID,type:"icons"}},e2)}const y2=Object.keys(h3.patternDependencies);let v2=Promise.resolve({});if(y2.length){const e2=new AbortController;this.inFlightDependencies.push(e2),v2=n2.sendAsync({type:"GI",data:{icons:y2,source:this.source,tileID:this.tileID,type:"patterns"}},e2)}const[w2,x2,b2]=yield Promise.all([g2,m2,v2]),S2=new o(w2),_2=new e.cF(x2,b2);for(const t3 in u2){const o2=u2[t3];o2 instanceof e.a8?(r(o2.layers,this.zoom,s2),e.cG({bucket:o2,glyphMap:w2,glyphPositions:S2.positions,imageMap:x2,imagePositions:_2.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:h3.subdivisionGranularity})):o2.hasPattern&&(o2 instanceof e.cH||o2 instanceof e.cI||o2 instanceof e.cJ)&&(r(o2.layers,this.zoom,s2),o2.addFeatures(h3,this.tileID.canonical,_2.patternPositions))}return this.status="done",{buckets:Object.values(u2).filter(e2=>!e2.isEmpty()),featureIndex:c3,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:S2.image,imageAtlas:_2,glyphMap:this.returnDependencies?w2:null,iconMap:this.returnDependencies?x2:null,glyphPositions:this.returnDependencies?S2.positions:null}})}};__name(_i,"i");let i=_i;function r(t2,o2,i2){const r2=new e.F(o2);for(const e2 of t2)e2.recalculate(r2,i2)}__name(r,"r");const _s=class _s{constructor(e2,t2,o2){this.actor=e2,this.layerIndex=t2,this.availableImages=o2,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(t2,o2){return e._(this,void 0,void 0,function*(){const i2=yield e.n(t2.request,o2);try{return{vectorTile:new e.cK.VectorTile(new e.cL(i2.data)),rawData:i2.data,cacheControl:i2.cacheControl,expires:i2.expires}}catch(e2){const o3=new Uint8Array(i2.data);let r2="Unable to parse the tile at ".concat(t2.request.url,", ");throw r2+=o3[0]===31&&o3[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: ".concat(e2.message),new Error(r2)}})}loadTile(t2){return e._(this,void 0,void 0,function*(){const o2=t2.uid,r2=!!(t2&&t2.request&&t2.request.collectResourceTiming)&&new e.cM(t2.request),s2=new i(t2);this.loading[o2]=s2;const n2=new AbortController;s2.abort=n2;try{const i2=yield this.loadVectorTile(t2,n2);if(delete this.loading[o2],!i2)return null;const a2=i2.rawData,l2={};i2.expires&&(l2.expires=i2.expires),i2.cacheControl&&(l2.cacheControl=i2.cacheControl);const c3={};if(r2){const e2=r2.finish();e2&&(c3.resourceTiming=JSON.parse(JSON.stringify(e2)))}s2.vectorTile=i2.vectorTile;const u2=s2.parse(i2.vectorTile,this.layerIndex,this.availableImages,this.actor,t2.subdivisionGranularity);this.loaded[o2]=s2,this.fetching[o2]={rawTileData:a2,cacheControl:l2,resourceTiming:c3};try{const t3=yield u2;return e.e({rawTileData:a2.slice(0)},t3,l2,c3)}finally{delete this.fetching[o2]}}catch(e2){throw delete this.loading[o2],s2.status="done",this.loaded[o2]=s2,e2}})}reloadTile(t2){return e._(this,void 0,void 0,function*(){const o2=t2.uid;if(!this.loaded||!this.loaded[o2])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const i2=this.loaded[o2];if(i2.showCollisionBoxes=t2.showCollisionBoxes,i2.globalState=t2.globalState,i2.status==="parsing"){const r2=yield i2.parse(i2.vectorTile,this.layerIndex,this.availableImages,this.actor,t2.subdivisionGranularity);let s2;if(this.fetching[o2]){const{rawTileData:t3,cacheControl:i3,resourceTiming:n2}=this.fetching[o2];delete this.fetching[o2],s2=e.e({rawTileData:t3.slice(0)},r2,i3,n2)}else s2=r2;return s2}if(i2.status==="done"&&i2.vectorTile)return i2.parse(i2.vectorTile,this.layerIndex,this.availableImages,this.actor,t2.subdivisionGranularity)})}abortTile(t2){return e._(this,void 0,void 0,function*(){const e2=this.loading,o2=t2.uid;e2&&e2[o2]&&e2[o2].abort&&(e2[o2].abort.abort(),delete e2[o2])})}removeTile(t2){return e._(this,void 0,void 0,function*(){this.loaded&&this.loaded[t2.uid]&&delete this.loaded[t2.uid]})}};__name(_s,"s");let s=_s;const _n=class _n{constructor(){this.loaded={}}loadTile(t2){return e._(this,void 0,void 0,function*(){const{uid:o2,encoding:i2,rawImageData:r2,redFactor:s2,greenFactor:n2,blueFactor:a2,baseShift:l2}=t2,c3=r2.width+2,u2=r2.height+2,h3=e.b(r2)?new e.R({width:c3,height:u2},yield e.cN(r2,-1,-1,c3,u2)):r2,d3=new e.cO(o2,h3,i2,s2,n2,a2,l2);return this.loaded=this.loaded||{},this.loaded[o2]=d3,d3})}removeTile(e2){const t2=this.loaded,o2=e2.uid;t2&&t2[o2]&&delete t2[o2]}};__name(_n,"n");let n=_n;var a,l,c2=function(){if(l)return a;function e2(e3,o2){if(e3.length!==0){t2(e3[0],o2);for(var i2=1;i2<e3.length;i2++)t2(e3[i2],!o2)}}__name(e2,"e");function t2(e3,t3){for(var o2=0,i2=0,r2=0,s2=e3.length,n2=s2-1;r2<s2;n2=r2++){var a2=(e3[r2][0]-e3[n2][0])*(e3[n2][1]+e3[r2][1]),l2=o2+a2;i2+=Math.abs(o2)>=Math.abs(a2)?o2-l2+a2:a2-l2+o2,o2=l2}o2+i2>=0!=!!t3&&e3.reverse()}return __name(t2,"t"),l=1,a=__name(function t3(o2,i2){var r2,s2=o2&&o2.type;if(s2==="FeatureCollection")for(r2=0;r2<o2.features.length;r2++)t3(o2.features[r2],i2);else if(s2==="GeometryCollection")for(r2=0;r2<o2.geometries.length;r2++)t3(o2.geometries[r2],i2);else if(s2==="Feature")t3(o2.geometry,i2);else if(s2==="Polygon")e2(o2.coordinates,i2);else if(s2==="MultiPolygon")for(r2=0;r2<o2.coordinates.length;r2++)e2(o2.coordinates[r2],i2);return o2},"t")}(),u=e.cP(c2);const h2=e.cK.VectorTileFeature.prototype.toGeoJSON,_d=class _d{constructor(t2){this._feature=t2,this.extent=e.$,this.type=t2.type,this.properties=t2.tags,"id"in t2&&!isNaN(t2.id)&&(this.id=parseInt(t2.id,10))}loadGeometry(){if(this._feature.type===1){const t2=[];for(const o2 of this._feature.geometry)t2.push([new e.P(o2[0],o2[1])]);return t2}{const t2=[];for(const o2 of this._feature.geometry){const i2=[];for(const t3 of o2)i2.push(new e.P(t3[0],t3[1]));t2.push(i2)}return t2}}toGeoJSON(e2,t2,o2){return h2.call(this,e2,t2,o2)}};__name(_d,"d");let d2=_d;const _f=class _f{constructor(t2){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.$,this.length=t2.length,this._features=t2}feature(e2){return new d2(this._features[e2])}};__name(_f,"f");let f=_f;var g,p2,m,y={exports:{}},v=function(){if(m)return y.exports;m=1;var t2=e.cS(),o2=function(){if(p2)return g;p2=1;var t3=e.cQ(),o3=e.cR().VectorTileFeature;function i3(e2,t4){this.options=t4||{},this.features=e2,this.length=e2.length}__name(i3,"i");function r3(e2,t4){this.id=typeof e2.id=="number"?e2.id:void 0,this.type=e2.type,this.rawGeometry=e2.type===1?[e2.geometry]:e2.geometry,this.properties=e2.tags,this.extent=t4||4096}return __name(r3,"r"),g=i3,i3.prototype.feature=function(e2){return new r3(this.features[e2],this.options.extent)},r3.prototype.loadGeometry=function(){var e2=this.rawGeometry;this.geometry=[];for(var o4=0;o4<e2.length;o4++){for(var i4=e2[o4],r4=[],s3=0;s3<i4.length;s3++)r4.push(new t3(i4[s3][0],i4[s3][1]));this.geometry.push(r4)}return this.geometry},r3.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e2=this.geometry,t4=1/0,o4=-1/0,i4=1/0,r4=-1/0,s3=0;s3<e2.length;s3++)for(var n3=e2[s3],a3=0;a3<n3.length;a3++){var l3=n3[a3];t4=Math.min(t4,l3.x),o4=Math.max(o4,l3.x),i4=Math.min(i4,l3.y),r4=Math.max(r4,l3.y)}return[t4,i4,o4,r4]},r3.prototype.toGeoJSON=o3.prototype.toGeoJSON,g}();function i2(e2){var o3=new t2;return function(e3,t3){for(var o4 in e3.layers)t3.writeMessage(3,r2,e3.layers[o4])}(e2,o3),o3.finish()}__name(i2,"i");function r2(e2,t3){var o3;t3.writeVarintField(15,e2.version||1),t3.writeStringField(1,e2.name||""),t3.writeVarintField(5,e2.extent||4096);var i3={keys:[],values:[],keycache:{},valuecache:{}};for(o3=0;o3<e2.length;o3++)i3.feature=e2.feature(o3),t3.writeMessage(2,s2,i3);var r3=i3.keys;for(o3=0;o3<r3.length;o3++)t3.writeStringField(3,r3[o3]);var n3=i3.values;for(o3=0;o3<n3.length;o3++)t3.writeMessage(4,u2,n3[o3])}__name(r2,"r");function s2(e2,t3){var o3=e2.feature;o3.id!==void 0&&t3.writeVarintField(1,o3.id),t3.writeMessage(2,n2,e2),t3.writeVarintField(3,o3.type),t3.writeMessage(4,c3,o3)}__name(s2,"s");function n2(e2,t3){var o3=e2.feature,i3=e2.keys,r3=e2.values,s3=e2.keycache,n3=e2.valuecache;for(var a3 in o3.properties){var l3=o3.properties[a3],c4=s3[a3];if(l3!==null){c4===void 0&&(i3.push(a3),s3[a3]=c4=i3.length-1),t3.writeVarint(c4);var u3=typeof l3;u3!=="string"&&u3!=="boolean"&&u3!=="number"&&(l3=JSON.stringify(l3));var h3=u3+":"+l3,d3=n3[h3];d3===void 0&&(r3.push(l3),n3[h3]=d3=r3.length-1),t3.writeVarint(d3)}}}__name(n2,"n");function a2(e2,t3){return(t3<<3)+(7&e2)}__name(a2,"a");function l2(e2){return e2<<1^e2>>31}__name(l2,"l");function c3(e2,t3){for(var o3=e2.loadGeometry(),i3=e2.type,r3=0,s3=0,n3=o3.length,c4=0;c4<n3;c4++){var u3=o3[c4],h3=1;i3===1&&(h3=u3.length),t3.writeVarint(a2(1,h3));for(var d3=i3===3?u3.length-1:u3.length,f2=0;f2<d3;f2++){f2===1&&i3!==1&&t3.writeVarint(a2(2,d3-1));var g2=u3[f2].x-r3,p3=u3[f2].y-s3;t3.writeVarint(l2(g2)),t3.writeVarint(l2(p3)),r3+=g2,s3+=p3}i3===3&&t3.writeVarint(a2(7,1))}}__name(c3,"c");function u2(e2,t3){var o3=typeof e2;o3==="string"?t3.writeStringField(1,e2):o3==="boolean"?t3.writeBooleanField(7,e2):o3==="number"&&(e2%1!=0?t3.writeDoubleField(3,e2):e2<0?t3.writeSVarintField(6,e2):t3.writeVarintField(5,e2))}return __name(u2,"u"),y.exports=i2,y.exports.fromVectorTileJs=i2,y.exports.fromGeojsonVt=function(e2,t3){t3=t3||{};var r3={};for(var s3 in e2)r3[s3]=new o2(e2[s3].features,t3),r3[s3].name=s3,r3[s3].version=t3.version,r3[s3].extent=t3.extent;return i2({layers:r3})},y.exports.GeoJSONWrapper=o2,y.exports}(),w=e.cP(v);const x={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:__name(e2=>e2,"map")},b=Math.fround||(S=new Float32Array(1),e2=>(S[0]=+e2,S[0]));var S;const __=class __{constructor(e2){this.options=Object.assign(Object.create(x),e2),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e2){const{log:t2,minZoom:o2,maxZoom:i2}=this.options;t2&&console.time("total time");const r2="prepare ".concat(e2.length," points");t2&&console.time(r2),this.points=e2;const s2=[];for(let t3=0;t3<e2.length;t3++){const o3=e2[t3];if(!o3.geometry)continue;const[i3,r3]=o3.geometry.coordinates,n3=b(P(i3)),a2=b(k(r3));s2.push(n3,a2,1/0,t3,-1,1),this.options.reduce&&s2.push(0)}let n2=this.trees[i2+1]=this._createTree(s2);t2&&console.timeEnd(r2);for(let e3=i2;e3>=o2;e3--){const o3=+Date.now();n2=this.trees[e3]=this._createTree(this._cluster(n2,e3)),t2&&console.log("z%d: %d clusters in %dms",e3,n2.numItems,+Date.now()-o3)}return t2&&console.timeEnd("total time"),this}getClusters(e2,t2){let o2=((e2[0]+180)%360+360)%360-180;const i2=Math.max(-90,Math.min(90,e2[1]));let r2=e2[2]===180?180:((e2[2]+180)%360+360)%360-180;const s2=Math.max(-90,Math.min(90,e2[3]));if(e2[2]-e2[0]>=360)o2=-180,r2=180;else if(o2>r2){const e3=this.getClusters([o2,i2,180,s2],t2),n3=this.getClusters([-180,i2,r2,s2],t2);return e3.concat(n3)}const n2=this.trees[this._limitZoom(t2)],a2=n2.range(P(o2),k(s2),P(r2),k(i2)),l2=n2.data,c3=[];for(const e3 of a2){const t3=this.stride*e3;c3.push(l2[t3+5]>1?M(l2,t3,this.clusterProps):this.points[l2[t3+3]])}return c3}getChildren(e2){const t2=this._getOriginId(e2),o2=this._getOriginZoom(e2),i2="No cluster with the specified id.",r2=this.trees[o2];if(!r2)throw new Error(i2);const s2=r2.data;if(t2*this.stride>=s2.length)throw new Error(i2);const n2=this.options.radius/(this.options.extent*Math.pow(2,o2-1)),a2=r2.within(s2[t2*this.stride],s2[t2*this.stride+1],n2),l2=[];for(const t3 of a2){const o3=t3*this.stride;s2[o3+4]===e2&&l2.push(s2[o3+5]>1?M(s2,o3,this.clusterProps):this.points[s2[o3+3]])}if(l2.length===0)throw new Error(i2);return l2}getLeaves(e2,t2,o2){const i2=[];return this._appendLeaves(i2,e2,t2=t2||10,o2=o2||0,0),i2}getTile(e2,t2,o2){const i2=this.trees[this._limitZoom(e2)],r2=Math.pow(2,e2),{extent:s2,radius:n2}=this.options,a2=n2/s2,l2=(o2-a2)/r2,c3=(o2+1+a2)/r2,u2={features:[]};return this._addTileFeatures(i2.range((t2-a2)/r2,l2,(t2+1+a2)/r2,c3),i2.data,t2,o2,r2,u2),t2===0&&this._addTileFeatures(i2.range(1-a2/r2,l2,1,c3),i2.data,r2,o2,r2,u2),t2===r2-1&&this._addTileFeatures(i2.range(0,l2,a2/r2,c3),i2.data,-1,o2,r2,u2),u2.features.length?u2:null}getClusterExpansionZoom(e2){let t2=this._getOriginZoom(e2)-1;for(;t2<=this.options.maxZoom;){const o2=this.getChildren(e2);if(t2++,o2.length!==1)break;e2=o2[0].properties.cluster_id}return t2}_appendLeaves(e2,t2,o2,i2,r2){const s2=this.getChildren(t2);for(const t3 of s2){const s3=t3.properties;if(s3&&s3.cluster?r2+s3.point_count<=i2?r2+=s3.point_count:r2=this._appendLeaves(e2,s3.cluster_id,o2,i2,r2):r2<i2?r2++:e2.push(t3),e2.length===o2)break}return r2}_createTree(t2){const o2=new e.aH(t2.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e2=0;e2<t2.length;e2+=this.stride)o2.add(t2[e2],t2[e2+1]);return o2.finish(),o2.data=t2,o2}_addTileFeatures(e2,t2,o2,i2,r2,s2){for(const n2 of e2){const e3=n2*this.stride,a2=t2[e3+5]>1;let l2,c3,u2;if(a2)l2=I(t2,e3,this.clusterProps),c3=t2[e3],u2=t2[e3+1];else{const o3=this.points[t2[e3+3]];l2=o3.properties;const[i3,r3]=o3.geometry.coordinates;c3=P(i3),u2=k(r3)}const h3={type:1,geometry:[[Math.round(this.options.extent*(c3*r2-o2)),Math.round(this.options.extent*(u2*r2-i2))]],tags:l2};let d3;d3=a2||this.options.generateId?t2[e3+3]:this.points[t2[e3+3]].id,d3!==void 0&&(h3.id=d3),s2.features.push(h3)}}_limitZoom(e2){return Math.max(this.options.minZoom,Math.min(Math.floor(+e2),this.options.maxZoom+1))}_cluster(e2,t2){const{radius:o2,extent:i2,reduce:r2,minPoints:s2}=this.options,n2=o2/(i2*Math.pow(2,t2)),a2=e2.data,l2=[],c3=this.stride;for(let o3=0;o3<a2.length;o3+=c3){if(a2[o3+2]<=t2)continue;a2[o3+2]=t2;const i3=a2[o3],u2=a2[o3+1],h3=e2.within(a2[o3],a2[o3+1],n2),d3=a2[o3+5];let f2=d3;for(const e3 of h3){const o4=e3*c3;a2[o4+2]>t2&&(f2+=a2[o4+5])}if(f2>d3&&f2>=s2){let e3,s3=i3*d3,n3=u2*d3,g2=-1;const p3=(o3/c3<<5)+(t2+1)+this.points.length;for(const i4 of h3){const l3=i4*c3;if(a2[l3+2]<=t2)continue;a2[l3+2]=t2;const u3=a2[l3+5];s3+=a2[l3]*u3,n3+=a2[l3+1]*u3,a2[l3+4]=p3,r2&&(e3||(e3=this._map(a2,o3,!0),g2=this.clusterProps.length,this.clusterProps.push(e3)),r2(e3,this._map(a2,l3)))}a2[o3+4]=p3,l2.push(s3/f2,n3/f2,1/0,p3,-1,f2),r2&&l2.push(g2)}else{for(let e3=0;e3<c3;e3++)l2.push(a2[o3+e3]);if(f2>1)for(const e3 of h3){const o4=e3*c3;if(!(a2[o4+2]<=t2)){a2[o4+2]=t2;for(let e4=0;e4<c3;e4++)l2.push(a2[o4+e4])}}}}return l2}_getOriginId(e2){return e2-this.points.length>>5}_getOriginZoom(e2){return(e2-this.points.length)%32}_map(e2,t2,o2){if(e2[t2+5]>1){const i3=this.clusterProps[e2[t2+6]];return o2?Object.assign({},i3):i3}const i2=this.points[e2[t2+3]].properties,r2=this.options.map(i2);return o2&&r2===i2?Object.assign({},r2):r2}};__name(__,"_");let _=__;function M(e2,t2,o2){return{type:"Feature",id:e2[t2+3],properties:I(e2,t2,o2),geometry:{type:"Point",coordinates:[(i2=e2[t2],360*(i2-.5)),T(e2[t2+1])]}};var i2}__name(M,"M");function I(e2,t2,o2){const i2=e2[t2+5],r2=i2>=1e4?"".concat(Math.round(i2/1e3),"k"):i2>=1e3?Math.round(i2/100)/10+"k":i2,s2=e2[t2+6],n2=s2===-1?{}:Object.assign({},o2[s2]);return Object.assign(n2,{cluster:!0,cluster_id:e2[t2+3],point_count:i2,point_count_abbreviated:r2})}__name(I,"I");function P(e2){return e2/360+.5}__name(P,"P");function k(e2){const t2=Math.sin(e2*Math.PI/180),o2=.5-.25*Math.log((1+t2)/(1-t2))/Math.PI;return o2<0?0:o2>1?1:o2}__name(k,"k");function T(e2){const t2=(180-360*e2)*Math.PI/180;return 360*Math.atan(Math.exp(t2))/Math.PI-90}__name(T,"T");function D(e2,t2,o2,i2){let r2=i2;const s2=t2+(o2-t2>>1);let n2,a2=o2-t2;const l2=e2[t2],c3=e2[t2+1],u2=e2[o2],h3=e2[o2+1];for(let i3=t2+3;i3<o2;i3+=3){const t3=C(e2[i3],e2[i3+1],l2,c3,u2,h3);if(t3>r2)n2=i3,r2=t3;else if(t3===r2){const e3=Math.abs(i3-s2);e3<a2&&(n2=i3,a2=e3)}}r2>i2&&(n2-t2>3&&D(e2,t2,n2,i2),e2[n2+2]=r2,o2-n2>3&&D(e2,n2,o2,i2))}__name(D,"D");function C(e2,t2,o2,i2,r2,s2){let n2=r2-o2,a2=s2-i2;if(n2!==0||a2!==0){const l2=((e2-o2)*n2+(t2-i2)*a2)/(n2*n2+a2*a2);l2>1?(o2=r2,i2=s2):l2>0&&(o2+=n2*l2,i2+=a2*l2)}return n2=e2-o2,a2=t2-i2,n2*n2+a2*a2}__name(C,"C");function O(e2,t2,o2,i2){const r2={id:e2==null?null:e2,type:t2,geometry:o2,tags:i2,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(t2==="Point"||t2==="MultiPoint"||t2==="LineString")L(r2,o2);else if(t2==="Polygon")L(r2,o2[0]);else if(t2==="MultiLineString")for(const e3 of o2)L(r2,e3);else if(t2==="MultiPolygon")for(const e3 of o2)L(r2,e3[0]);return r2}__name(O,"O");function L(e2,t2){for(let o2=0;o2<t2.length;o2+=3)e2.minX=Math.min(e2.minX,t2[o2]),e2.minY=Math.min(e2.minY,t2[o2+1]),e2.maxX=Math.max(e2.maxX,t2[o2]),e2.maxY=Math.max(e2.maxY,t2[o2+1])}__name(L,"L");function F(e2,t2,o2,i2){if(!t2.geometry)return;const r2=t2.geometry.coordinates;if(r2&&r2.length===0)return;const s2=t2.geometry.type,n2=Math.pow(o2.tolerance/((1<<o2.maxZoom)*o2.extent),2);let a2=[],l2=t2.id;if(o2.promoteId?l2=t2.properties[o2.promoteId]:o2.generateId&&(l2=i2||0),s2==="Point")G(r2,a2);else if(s2==="MultiPoint")for(const e3 of r2)G(e3,a2);else if(s2==="LineString")z(r2,a2,n2,!1);else if(s2==="MultiLineString"){if(o2.lineMetrics){for(const o3 of r2)a2=[],z(o3,a2,n2,!1),e2.push(O(l2,"LineString",a2,t2.properties));return}A(r2,a2,n2,!1)}else if(s2==="Polygon")A(r2,a2,n2,!0);else{if(s2!=="MultiPolygon"){if(s2==="GeometryCollection"){for(const r3 of t2.geometry.geometries)F(e2,{id:l2,geometry:r3,properties:t2.properties},o2,i2);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const e3 of r2){const t3=[];A(e3,t3,n2,!0),a2.push(t3)}}e2.push(O(l2,s2,a2,t2.properties))}__name(F,"F");function G(e2,t2){t2.push(j(e2[0]),E2(e2[1]),0)}__name(G,"G");function z(e2,t2,o2,i2){let r2,s2,n2=0;for(let o3=0;o3<e2.length;o3++){const a3=j(e2[o3][0]),l2=E2(e2[o3][1]);t2.push(a3,l2,0),o3>0&&(n2+=i2?(r2*l2-a3*s2)/2:Math.sqrt(Math.pow(a3-r2,2)+Math.pow(l2-s2,2))),r2=a3,s2=l2}const a2=t2.length-3;t2[2]=1,D(t2,0,a2,o2),t2[a2+2]=1,t2.size=Math.abs(n2),t2.start=0,t2.end=t2.size}__name(z,"z");function A(e2,t2,o2,i2){for(let r2=0;r2<e2.length;r2++){const s2=[];z(e2[r2],s2,o2,i2),t2.push(s2)}}__name(A,"A");function j(e2){return e2/360+.5}__name(j,"j");function E2(e2){const t2=Math.sin(e2*Math.PI/180),o2=.5-.25*Math.log((1+t2)/(1-t2))/Math.PI;return o2<0?0:o2>1?1:o2}__name(E2,"E");function Z(e2,t2,o2,i2,r2,s2,n2,a2){if(i2/=t2,s2>=(o2/=t2)&&n2<i2)return e2;if(n2<o2||s2>=i2)return null;const l2=[];for(const t3 of e2){const e3=t3.geometry;let s3=t3.type;const n3=r2===0?t3.minX:t3.minY,c3=r2===0?t3.maxX:t3.maxY;if(n3>=o2&&c3<i2){l2.push(t3);continue}if(c3<o2||n3>=i2)continue;let u2=[];if(s3==="Point"||s3==="MultiPoint")N(e3,u2,o2,i2,r2);else if(s3==="LineString")J(e3,u2,o2,i2,r2,!1,a2.lineMetrics);else if(s3==="MultiLineString")W(e3,u2,o2,i2,r2,!1);else if(s3==="Polygon")W(e3,u2,o2,i2,r2,!0);else if(s3==="MultiPolygon")for(const t4 of e3){const e4=[];W(t4,e4,o2,i2,r2,!0),e4.length&&u2.push(e4)}if(u2.length){if(a2.lineMetrics&&s3==="LineString"){for(const e4 of u2)l2.push(O(t3.id,s3,e4,t3.tags));continue}s3!=="LineString"&&s3!=="MultiLineString"||(u2.length===1?(s3="LineString",u2=u2[0]):s3="MultiLineString"),s3!=="Point"&&s3!=="MultiPoint"||(s3=u2.length===3?"Point":"MultiPoint"),l2.push(O(t3.id,s3,u2,t3.tags))}}return l2.length?l2:null}__name(Z,"Z");function N(e2,t2,o2,i2,r2){for(let s2=0;s2<e2.length;s2+=3){const n2=e2[s2+r2];n2>=o2&&n2<=i2&&Y2(t2,e2[s2],e2[s2+1],e2[s2+2])}}__name(N,"N");function J(e2,t2,o2,i2,r2,s2,n2){let a2=R(e2);const l2=r2===0?V:q2;let c3,u2,h3=e2.start;for(let d4=0;d4<e2.length-3;d4+=3){const f3=e2[d4],g3=e2[d4+1],p4=e2[d4+2],m2=e2[d4+3],y2=e2[d4+4],v2=r2===0?f3:g3,w2=r2===0?m2:y2;let x2=!1;n2&&(c3=Math.sqrt(Math.pow(f3-m2,2)+Math.pow(g3-y2,2))),v2<o2?w2>o2&&(u2=l2(a2,f3,g3,m2,y2,o2),n2&&(a2.start=h3+c3*u2)):v2>i2?w2<i2&&(u2=l2(a2,f3,g3,m2,y2,i2),n2&&(a2.start=h3+c3*u2)):Y2(a2,f3,g3,p4),w2<o2&&v2>=o2&&(u2=l2(a2,f3,g3,m2,y2,o2),x2=!0),w2>i2&&v2<=i2&&(u2=l2(a2,f3,g3,m2,y2,i2),x2=!0),!s2&&x2&&(n2&&(a2.end=h3+c3*u2),t2.push(a2),a2=R(e2)),n2&&(h3+=c3)}let d3=e2.length-3;const f2=e2[d3],g2=e2[d3+1],p3=r2===0?f2:g2;p3>=o2&&p3<=i2&&Y2(a2,f2,g2,e2[d3+2]),d3=a2.length-3,s2&&d3>=3&&(a2[d3]!==a2[0]||a2[d3+1]!==a2[1])&&Y2(a2,a2[0],a2[1],a2[2]),a2.length&&t2.push(a2)}__name(J,"J");function R(e2){const t2=[];return t2.size=e2.size,t2.start=e2.start,t2.end=e2.end,t2}__name(R,"R");function W(e2,t2,o2,i2,r2,s2){for(const n2 of e2)J(n2,t2,o2,i2,r2,s2,!1)}__name(W,"W");function Y2(e2,t2,o2,i2){e2.push(t2,o2,i2)}__name(Y2,"Y");function V(e2,t2,o2,i2,r2,s2){const n2=(s2-t2)/(i2-t2);return Y2(e2,s2,o2+(r2-o2)*n2,1),n2}__name(V,"V");function q2(e2,t2,o2,i2,r2,s2){const n2=(s2-o2)/(r2-o2);return Y2(e2,t2+(i2-t2)*n2,s2,1),n2}__name(q2,"q");function H(e2,t2){const o2=[];for(let i2=0;i2<e2.length;i2++){const r2=e2[i2],s2=r2.type;let n2;if(s2==="Point"||s2==="MultiPoint"||s2==="LineString")n2=X(r2.geometry,t2);else if(s2==="MultiLineString"||s2==="Polygon"){n2=[];for(const e3 of r2.geometry)n2.push(X(e3,t2))}else if(s2==="MultiPolygon"){n2=[];for(const e3 of r2.geometry){const o3=[];for(const i3 of e3)o3.push(X(i3,t2));n2.push(o3)}}o2.push(O(r2.id,s2,n2,r2.tags))}return o2}__name(H,"H");function X(e2,t2){const o2=[];o2.size=e2.size,e2.start!==void 0&&(o2.start=e2.start,o2.end=e2.end);for(let i2=0;i2<e2.length;i2+=3)o2.push(e2[i2]+t2,e2[i2+1],e2[i2+2]);return o2}__name(X,"X");function B2(e2,t2){if(e2.transformed)return e2;const o2=1<<e2.z,i2=e2.x,r2=e2.y;for(const s2 of e2.features){const e3=s2.geometry,n2=s2.type;if(s2.geometry=[],n2===1)for(let n3=0;n3<e3.length;n3+=2)s2.geometry.push($(e3[n3],e3[n3+1],t2,o2,i2,r2));else for(let n3=0;n3<e3.length;n3++){const a2=[];for(let s3=0;s3<e3[n3].length;s3+=2)a2.push($(e3[n3][s3],e3[n3][s3+1],t2,o2,i2,r2));s2.geometry.push(a2)}}return e2.transformed=!0,e2}__name(B2,"B");function $(e2,t2,o2,i2,r2,s2){return[Math.round(o2*(e2*i2-r2)),Math.round(o2*(t2*i2-s2))]}__name($,"$");function U(e2,t2,o2,i2,r2){const s2=t2===r2.maxZoom?0:r2.tolerance/((1<<t2)*r2.extent),n2={features:[],numPoints:0,numSimplified:0,numFeatures:e2.length,source:null,x:o2,y:i2,z:t2,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const t3 of e2)K(n2,t3,s2,r2);return n2}__name(U,"U");function K(e2,t2,o2,i2){const r2=t2.geometry,s2=t2.type,n2=[];if(e2.minX=Math.min(e2.minX,t2.minX),e2.minY=Math.min(e2.minY,t2.minY),e2.maxX=Math.max(e2.maxX,t2.maxX),e2.maxY=Math.max(e2.maxY,t2.maxY),s2==="Point"||s2==="MultiPoint")for(let t3=0;t3<r2.length;t3+=3)n2.push(r2[t3],r2[t3+1]),e2.numPoints++,e2.numSimplified++;else if(s2==="LineString")Q2(n2,r2,e2,o2,!1,!1);else if(s2==="MultiLineString"||s2==="Polygon")for(let t3=0;t3<r2.length;t3++)Q2(n2,r2[t3],e2,o2,s2==="Polygon",t3===0);else if(s2==="MultiPolygon")for(let t3=0;t3<r2.length;t3++){const i3=r2[t3];for(let t4=0;t4<i3.length;t4++)Q2(n2,i3[t4],e2,o2,!0,t4===0)}if(n2.length){let o3=t2.tags||null;if(s2==="LineString"&&i2.lineMetrics){o3={};for(const e3 in t2.tags)o3[e3]=t2.tags[e3];o3.mapbox_clip_start=r2.start/r2.size,o3.mapbox_clip_end=r2.end/r2.size}const a2={geometry:n2,type:s2==="Polygon"||s2==="MultiPolygon"?3:s2==="LineString"||s2==="MultiLineString"?2:1,tags:o3};t2.id!==null&&(a2.id=t2.id),e2.features.push(a2)}}__name(K,"K");function Q2(e2,t2,o2,i2,r2,s2){const n2=i2*i2;if(i2>0&&t2.size<(r2?n2:i2))return void(o2.numPoints+=t2.length/3);const a2=[];for(let e3=0;e3<t2.length;e3+=3)(i2===0||t2[e3+2]>n2)&&(o2.numSimplified++,a2.push(t2[e3],t2[e3+1])),o2.numPoints++;r2&&function(e3,t3){let o3=0;for(let t4=0,i3=e3.length,r3=i3-2;t4<i3;r3=t4,t4+=2)o3+=(e3[t4]-e3[r3])*(e3[t4+1]+e3[r3+1]);if(o3>0===t3)for(let t4=0,o4=e3.length;t4<o4/2;t4+=2){const i3=e3[t4],r3=e3[t4+1];e3[t4]=e3[o4-2-t4],e3[t4+1]=e3[o4-1-t4],e3[o4-2-t4]=i3,e3[o4-1-t4]=r3}}(a2,s2),e2.push(a2)}__name(Q2,"Q");const ee2={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_te=class _te{constructor(e2,t2){const o2=(t2=this.options=function(e3,t3){for(const o3 in t3)e3[o3]=t3[o3];return e3}(Object.create(ee2),t2)).debug;if(o2&&console.time("preprocess data"),t2.maxZoom<0||t2.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t2.promoteId&&t2.generateId)throw new Error("promoteId and generateId cannot be used together.");let i2=function(e3,t3){const o3=[];if(e3.type==="FeatureCollection")for(let i3=0;i3<e3.features.length;i3++)F(o3,e3.features[i3],t3,i3);else F(o3,e3.type==="Feature"?e3:{geometry:e3},t3);return o3}(e2,t2);this.tiles={},this.tileCoords=[],o2&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t2.indexMaxZoom,t2.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i2=function(e3,t3){const o3=t3.buffer/t3.extent;let i3=e3;const r2=Z(e3,1,-1-o3,o3,0,-1,2,t3),s2=Z(e3,1,1-o3,2+o3,0,-1,2,t3);return(r2||s2)&&(i3=Z(e3,1,-o3,1+o3,0,-1,2,t3)||[],r2&&(i3=H(r2,1).concat(i3)),s2&&(i3=i3.concat(H(s2,-1)))),i3}(i2,t2),i2.length&&this.splitTile(i2,0,0,0),o2&&(i2.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(e2,t2,o2,i2,r2,s2,n2){const a2=[e2,t2,o2,i2],l2=this.options,c3=l2.debug;for(;a2.length;){i2=a2.pop(),o2=a2.pop(),t2=a2.pop(),e2=a2.pop();const u2=1<<t2,h3=oe(t2,o2,i2);let d3=this.tiles[h3];if(!d3&&(c3>1&&console.time("creation"),d3=this.tiles[h3]=U(e2,t2,o2,i2,l2),this.tileCoords.push({z:t2,x:o2,y:i2}),c3)){c3>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t2,o2,i2,d3.numFeatures,d3.numPoints,d3.numSimplified),console.timeEnd("creation"));const e3="z".concat(t2);this.stats[e3]=(this.stats[e3]||0)+1,this.total++}if(d3.source=e2,r2==null){if(t2===l2.indexMaxZoom||d3.numPoints<=l2.indexMaxPoints)continue}else{if(t2===l2.maxZoom||t2===r2)continue;if(r2!=null){const e3=r2-t2;if(o2!==s2>>e3||i2!==n2>>e3)continue}}if(d3.source=null,e2.length===0)continue;c3>1&&console.time("clipping");const f2=.5*l2.buffer/l2.extent,g2=.5-f2,p3=.5+f2,m2=1+f2;let y2=null,v2=null,w2=null,x2=null,b2=Z(e2,u2,o2-f2,o2+p3,0,d3.minX,d3.maxX,l2),S2=Z(e2,u2,o2+g2,o2+m2,0,d3.minX,d3.maxX,l2);e2=null,b2&&(y2=Z(b2,u2,i2-f2,i2+p3,1,d3.minY,d3.maxY,l2),v2=Z(b2,u2,i2+g2,i2+m2,1,d3.minY,d3.maxY,l2),b2=null),S2&&(w2=Z(S2,u2,i2-f2,i2+p3,1,d3.minY,d3.maxY,l2),x2=Z(S2,u2,i2+g2,i2+m2,1,d3.minY,d3.maxY,l2),S2=null),c3>1&&console.timeEnd("clipping"),a2.push(y2||[],t2+1,2*o2,2*i2),a2.push(v2||[],t2+1,2*o2,2*i2+1),a2.push(w2||[],t2+1,2*o2+1,2*i2),a2.push(x2||[],t2+1,2*o2+1,2*i2+1)}}getTile(e2,t2,o2){e2=+e2,t2=+t2,o2=+o2;const i2=this.options,{extent:r2,debug:s2}=i2;if(e2<0||e2>24)return null;const n2=1<<e2,a2=oe(e2,t2=t2+n2&n2-1,o2);if(this.tiles[a2])return B2(this.tiles[a2],r2);s2>1&&console.log("drilling down to z%d-%d-%d",e2,t2,o2);let l2,c3=e2,u2=t2,h3=o2;for(;!l2&&c3>0;)c3--,u2>>=1,h3>>=1,l2=this.tiles[oe(c3,u2,h3)];return l2&&l2.source?(s2>1&&(console.log("found parent tile z%d-%d-%d",c3,u2,h3),console.time("drilling down")),this.splitTile(l2.source,c3,u2,h3,e2,t2,o2),s2>1&&console.timeEnd("drilling down"),this.tiles[a2]?B2(this.tiles[a2],r2):null):null}};__name(_te,"te");let te=_te;function oe(e2,t2,o2){return 32*((1<<e2)*o2+t2)+e2}__name(oe,"oe");function ie(e2,t2){return t2?e2.properties[t2]:e2.id}__name(ie,"ie");function re(e2,t2){if(e2==null)return!0;if(e2.type==="Feature")return ie(e2,t2)!=null;if(e2.type==="FeatureCollection"){const o2=new Set;for(const i2 of e2.features){const e3=ie(i2,t2);if(e3==null||o2.has(e3))return!1;o2.add(e3)}return!0}return!1}__name(re,"re");function se(e2,t2){const o2=new Map;if(e2!=null)if(e2.type==="Feature")o2.set(ie(e2,t2),e2);else for(const i2 of e2.features)o2.set(ie(i2,t2),i2);return o2}__name(se,"se");const _ne=class _ne extends s{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(t2,o2){return e._(this,void 0,void 0,function*(){const e2=t2.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const o3=this._geoJSONIndex.getTile(e2.z,e2.x,e2.y);if(!o3)return null;const i2=new f(o3.features);let r2=w(i2);return r2.byteOffset===0&&r2.byteLength===r2.buffer.byteLength||(r2=new Uint8Array(r2)),{vectorTile:i2,rawData:r2.buffer}})}loadData(t2){return e._(this,void 0,void 0,function*(){var o2;(o2=this._pendingRequest)===null||o2===void 0||o2.abort();const i2=!!(t2&&t2.request&&t2.request.collectResourceTiming)&&new e.cM(t2.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(t2,this._pendingRequest),this._geoJSONIndex=t2.cluster?new _(function({superclusterOptions:t3,clusterProperties:o4}){if(!o4||!t3)return t3;const i3={},r3={},s2={accumulated:null,zoom:0},n2={properties:null},a2=Object.keys(o4);for(const t4 of a2){const[s3,n3]=o4[t4],a3=e.cT(n3),l2=e.cT(typeof s3=="string"?[s3,["accumulated"],["get",t4]]:s3);i3[t4]=a3.value,r3[t4]=l2.value}return t3.map=e2=>{n2.properties=e2;const t4={};for(const e3 of a2)t4[e3]=i3[e3].evaluate(s2,n2);return t4},t3.reduce=(e2,t4)=>{n2.properties=t4;for(const t5 of a2)s2.accumulated=e2[t5],e2[t5]=r3[t5].evaluate(s2,n2)},t3}(t2)).load((yield this._pendingData).features):(r2=yield this._pendingData,new te(r2,t2.geojsonVtOptions)),this.loaded={};const o3={};if(i2){const e2=i2.finish();e2&&(o3.resourceTiming={},o3.resourceTiming[t2.source]=JSON.parse(JSON.stringify(e2)))}return o3}catch(t3){if(delete this._pendingRequest,e.cx(t3))return{abandoned:!0};throw t3}var r2})}getData(){return e._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(e2){const t2=this.loaded;return t2&&t2[e2.uid]?super.reloadTile(e2):this.loadTile(e2)}loadAndProcessGeoJSON(t2,o2){return e._(this,void 0,void 0,function*(){let i2=yield this.loadGeoJSON(t2,o2);if(delete this._pendingRequest,typeof i2!="object")throw new Error("Input data given to '".concat(t2.source,"' is not a valid GeoJSON object."));if(u(i2,!0),t2.filter){const o3=e.cT(t2.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(o3.result==="error")throw new Error(o3.value.map(e2=>"".concat(e2.key,": ").concat(e2.message)).join(", "));i2={type:"FeatureCollection",features:i2.features.filter(e2=>o3.value.evaluate({zoom:0},e2))}}return i2})}loadGeoJSON(t2,o2){return e._(this,void 0,void 0,function*(){const{promoteId:i2}=t2;if(t2.request){const r2=yield e.j(t2.request,o2);return this._dataUpdateable=re(r2.data,i2)?se(r2.data,i2):void 0,r2.data}if(typeof t2.data=="string")try{const e2=JSON.parse(t2.data);return this._dataUpdateable=re(e2,i2)?se(e2,i2):void 0,e2}catch(e2){throw new Error("Input data given to '".concat(t2.source,"' is not a valid GeoJSON object."))}if(!t2.dataDiff)throw new Error("Input data given to '".concat(t2.source,"' is not a valid GeoJSON object."));if(!this._dataUpdateable)throw new Error("Cannot update existing geojson data in ".concat(t2.source));return function(e2,t3,o3){var i3,r2,s2,n2;if(t3.removeAll&&e2.clear(),t3.remove)for(const o4 of t3.remove)e2.delete(o4);if(t3.add)for(const i4 of t3.add){const t4=ie(i4,o3);t4!=null&&e2.set(t4,i4)}if(t3.update)for(const o4 of t3.update){let t4=e2.get(o4.id);if(t4==null)continue;const a2=!o4.removeAllProperties&&(((i3=o4.removeProperties)===null||i3===void 0?void 0:i3.length)>0||((r2=o4.addOrUpdateProperties)===null||r2===void 0?void 0:r2.length)>0);if((o4.newGeometry||o4.removeAllProperties||a2)&&(t4=Object.assign({},t4),e2.set(o4.id,t4),a2&&(t4.properties=Object.assign({},t4.properties))),o4.newGeometry&&(t4.geometry=o4.newGeometry),o4.removeAllProperties)t4.properties={};else if(((s2=o4.removeProperties)===null||s2===void 0?void 0:s2.length)>0)for(const e3 of o4.removeProperties)Object.prototype.hasOwnProperty.call(t4.properties,e3)&&delete t4.properties[e3];if(((n2=o4.addOrUpdateProperties)===null||n2===void 0?void 0:n2.length)>0)for(const{key:e3,value:i4}of o4.addOrUpdateProperties)t4.properties[e3]=i4}}(this._dataUpdateable,t2.dataDiff,i2),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(t2){return e._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(e2){return this._geoJSONIndex.getClusterExpansionZoom(e2.clusterId)}getClusterChildren(e2){return this._geoJSONIndex.getChildren(e2.clusterId)}getClusterLeaves(e2){return this._geoJSONIndex.getLeaves(e2.clusterId,e2.limit,e2.offset)}};__name(_ne,"ne");let ne=_ne;const _ae=class _ae{constructor(t2){this.self=t2,this.actor=new e.J(t2),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(e2,t3)=>{if(this.externalWorkerSourceTypes[e2])throw new Error('Worker source with name "'.concat(e2,'" already registered.'));this.externalWorkerSourceTypes[e2]=t3},this.self.addProtocol=e.cz,this.self.removeProtocol=e.cA,this.self.registerRTLTextPlugin=t3=>{e.cU.setMethods(t3)},this.actor.registerMessageHandler("LDT",(e2,t3)=>this._getDEMWorkerSource(e2,t3.source).loadTile(t3)),this.actor.registerMessageHandler("RDT",(t3,o2)=>e._(this,void 0,void 0,function*(){this._getDEMWorkerSource(t3,o2.source).removeTile(o2)})),this.actor.registerMessageHandler("GCEZ",(t3,o2)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t3,o2.type,o2.source).getClusterExpansionZoom(o2)})),this.actor.registerMessageHandler("GCC",(t3,o2)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t3,o2.type,o2.source).getClusterChildren(o2)})),this.actor.registerMessageHandler("GCL",(t3,o2)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t3,o2.type,o2.source).getClusterLeaves(o2)})),this.actor.registerMessageHandler("LD",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).loadData(t3)),this.actor.registerMessageHandler("GD",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).getData()),this.actor.registerMessageHandler("LT",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).loadTile(t3)),this.actor.registerMessageHandler("RT",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).reloadTile(t3)),this.actor.registerMessageHandler("AT",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).abortTile(t3)),this.actor.registerMessageHandler("RMT",(e2,t3)=>this._getWorkerSource(e2,t3.type,t3.source).removeTile(t3)),this.actor.registerMessageHandler("RS",(t3,o2)=>e._(this,void 0,void 0,function*(){if(!this.workerSources[t3]||!this.workerSources[t3][o2.type]||!this.workerSources[t3][o2.type][o2.source])return;const e2=this.workerSources[t3][o2.type][o2.source];delete this.workerSources[t3][o2.type][o2.source],e2.removeSource!==void 0&&e2.removeSource(o2)})),this.actor.registerMessageHandler("RM",t3=>e._(this,void 0,void 0,function*(){delete this.layerIndexes[t3],delete this.availableImages[t3],delete this.workerSources[t3],delete this.demWorkerSources[t3]})),this.actor.registerMessageHandler("SR",(t3,o2)=>e._(this,void 0,void 0,function*(){this.referrer=o2})),this.actor.registerMessageHandler("SRPS",(e2,t3)=>this._syncRTLPluginState(e2,t3)),this.actor.registerMessageHandler("IS",(t3,o2)=>e._(this,void 0,void 0,function*(){this.self.importScripts(o2)})),this.actor.registerMessageHandler("SI",(e2,t3)=>this._setImages(e2,t3)),this.actor.registerMessageHandler("UL",(t3,o2)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t3).update(o2.layers,o2.removedIds)})),this.actor.registerMessageHandler("SL",(t3,o2)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t3).replace(o2)}))}_setImages(t2,o2){return e._(this,void 0,void 0,function*(){this.availableImages[t2]=o2;for(const e2 in this.workerSources[t2]){const i2=this.workerSources[t2][e2];for(const e3 in i2)i2[e3].availableImages=o2}})}_syncRTLPluginState(t2,o2){return e._(this,void 0,void 0,function*(){return yield e.cU.syncState(o2,this.self.importScripts)})}_getAvailableImages(e2){let t2=this.availableImages[e2];return t2||(t2=[]),t2}_getLayerIndex(e2){let o2=this.layerIndexes[e2];return o2||(o2=this.layerIndexes[e2]=new t),o2}_getWorkerSource(e2,t2,o2){if(this.workerSources[e2]||(this.workerSources[e2]={}),this.workerSources[e2][t2]||(this.workerSources[e2][t2]={}),!this.workerSources[e2][t2][o2]){const i2={sendAsync:__name((t3,o3)=>(t3.targetMapId=e2,this.actor.sendAsync(t3,o3)),"sendAsync")};switch(t2){case"vector":this.workerSources[e2][t2][o2]=new s(i2,this._getLayerIndex(e2),this._getAvailableImages(e2));break;case"geojson":this.workerSources[e2][t2][o2]=new ne(i2,this._getLayerIndex(e2),this._getAvailableImages(e2));break;default:this.workerSources[e2][t2][o2]=new this.externalWorkerSourceTypes[t2](i2,this._getLayerIndex(e2),this._getAvailableImages(e2))}}return this.workerSources[e2][t2][o2]}_getDEMWorkerSource(e2,t2){return this.demWorkerSources[e2]||(this.demWorkerSources[e2]={}),this.demWorkerSources[e2][t2]||(this.demWorkerSources[e2][t2]=new n),this.demWorkerSources[e2][t2]}};__name(_ae,"ae");let ae=_ae;return e.i(self)&&(self.worker=new ae(self)),ae}),define("index",["exports","./shared"],function(e,t){var i="5.6.1";function o(){var e2=new t.A(4);return t.A!=Float32Array&&(e2[1]=0,e2[2]=0),e2[0]=1,e2[3]=1,e2}__name(o,"o");let r,a;const s={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e2,i2,o2){const r2=requestAnimationFrame(e3=>{a2(),i2(e3)}),{unsubscribe:a2}=t.s(e2.signal,"abort",()=>{a2(),cancelAnimationFrame(r2),o2(t.c())},!1)},frameAsync(e2){return new Promise((t2,i2)=>{this.frame(e2,t2,i2)})},getImageData(e2,t2=0){return this.getImageCanvasContext(e2).getImageData(-t2,-t2,e2.width+2*t2,e2.height+2*t2)},getImageCanvasContext(e2){const t2=window.document.createElement("canvas"),i2=t2.getContext("2d",{willReadFrequently:!0});if(!i2)throw new Error("failed to create canvas 2d context");return t2.width=e2.width,t2.height=e2.height,i2.drawImage(e2,0,0,e2.width,e2.height),i2},resolveURL:__name(e2=>(r||(r=document.createElement("a")),r.href=e2,r.href),"resolveURL"),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(a==null&&(a=matchMedia("(prefers-reduced-motion: reduce)")),a.matches)}},_n=class _n{static testProp(e2){if(!_n.docStyle)return e2[0];for(let t2=0;t2<e2.length;t2++)if(e2[t2]in _n.docStyle)return e2[t2];return e2[0]}static create(e2,t2,i2){const o2=window.document.createElement(e2);return t2!==void 0&&(o2.className=t2),i2&&i2.appendChild(o2),o2}static createNS(e2,t2){return window.document.createElementNS(e2,t2)}static disableDrag(){_n.docStyle&&_n.selectProp&&(_n.userSelect=_n.docStyle[_n.selectProp],_n.docStyle[_n.selectProp]="none")}static enableDrag(){_n.docStyle&&_n.selectProp&&(_n.docStyle[_n.selectProp]=_n.userSelect)}static setTransform(e2,t2){e2.style[_n.transformProp]=t2}static addEventListener(e2,t2,i2,o2={}){e2.addEventListener(t2,i2,"passive"in o2?o2:o2.capture)}static removeEventListener(e2,t2,i2,o2={}){e2.removeEventListener(t2,i2,"passive"in o2?o2:o2.capture)}static suppressClickInternal(e2){e2.preventDefault(),e2.stopPropagation(),window.removeEventListener("click",_n.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",_n.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",_n.suppressClickInternal,!0)},0)}static getScale(e2){const t2=e2.getBoundingClientRect();return{x:t2.width/e2.offsetWidth||1,y:t2.height/e2.offsetHeight||1,boundingClientRect:t2}}static getPoint(e2,i2,o2){const r2=i2.boundingClientRect;return new t.P((o2.clientX-r2.left)/i2.x-e2.clientLeft,(o2.clientY-r2.top)/i2.y-e2.clientTop)}static mousePos(e2,t2){const i2=_n.getScale(e2);return _n.getPoint(e2,i2,t2)}static touchPos(e2,t2){const i2=[],o2=_n.getScale(e2);for(let r2=0;r2<t2.length;r2++)i2.push(_n.getPoint(e2,o2,t2[r2]));return i2}static mouseButton(e2){return e2.button}static remove(e2){e2.parentNode&&e2.parentNode.removeChild(e2)}static sanitize(e2){const t2=new DOMParser().parseFromString(e2,"text/html").body||document.createElement("body"),i2=t2.querySelectorAll("script");for(const e3 of i2)e3.remove();return _n.clean(t2),t2.innerHTML}static isPossiblyDangerous(e2,t2){const i2=t2.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e2)||!i2.includes("javascript:")&&!i2.includes("data:"))||!!e2.startsWith("on")||void 0}static clean(e2){const t2=e2.children;for(const e3 of t2)_n.removeAttributes(e3),_n.clean(e3)}static removeAttributes(e2){for(const{name:t2,value:i2}of e2.attributes)_n.isPossiblyDangerous(t2,i2)&&e2.removeAttribute(t2)}};__name(_n,"n");let n=_n;n.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,n.selectProp=n.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),n.transformProp=n.testProp(["transform","WebkitTransform"]);const l={supported:!1,testSupport:__name(function(e2){!u&&h2&&(d2?_(e2):c2=e2)},"testSupport")};let c2,h2,u=!1,d2=!1;function _(e2){const t2=e2.createTexture();e2.bindTexture(e2.TEXTURE_2D,t2);try{if(e2.texImage2D(e2.TEXTURE_2D,0,e2.RGBA,e2.RGBA,e2.UNSIGNED_BYTE,h2),e2.isContextLost())return;l.supported=!0}catch(e3){}e2.deleteTexture(t2),u=!0}__name(_,"_");var p2;typeof document<"u"&&(h2=document.createElement("img"),h2.onload=()=>{c2&&_(c2),c2=null,d2=!0},h2.onerror=()=>{u=!0,c2=null},h2.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e2){let i2,o2,r2,a2;e2.resetRequestQueue=()=>{i2=[],o2=0,r2=0,a2={}},e2.addThrottleControl=e3=>{const t2=r2++;return a2[t2]=e3,t2},e2.removeThrottleControl=e3=>{delete a2[e3],n2()},e2.getImage=(e3,o3,r3=!0)=>new Promise((a3,s3)=>{l.supported&&(e3.headers||(e3.headers={}),e3.headers.accept="image/webp,*/*"),t.e(e3,{type:"image"}),i2.push({abortController:o3,requestParameters:e3,supportImageRefresh:r3,state:"queued",onError:__name(e4=>{s3(e4)},"onError"),onSuccess:__name(e4=>{a3(e4)},"onSuccess")}),n2()});const s2=__name(e3=>t._(this,void 0,void 0,function*(){e3.state="running";const{requestParameters:i3,supportImageRefresh:r3,onError:a3,onSuccess:s3,abortController:l2}=e3,h3=r3===!1&&!t.i(self)&&!t.g(i3.url)&&(!i3.headers||Object.keys(i3.headers).reduce((e4,t2)=>e4&&t2==="accept",!0));o2++;const u2=h3?c3(i3,l2):t.m(i3,l2);try{const i4=yield u2;delete e3.abortController,e3.state="completed",i4.data instanceof HTMLImageElement||t.b(i4.data)?s3(i4):i4.data&&s3({data:yield(d3=i4.data,typeof createImageBitmap=="function"?t.f(d3):t.h(d3)),cacheControl:i4.cacheControl,expires:i4.expires})}catch(t2){delete e3.abortController,a3(t2)}finally{o2--,n2()}var d3}),"s"),n2=__name(()=>{const e3=(()=>{for(const e4 of Object.keys(a2))if(a2[e4]())return!0;return!1})()?t.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let t2=o2;t2<e3&&i2.length>0;t2++){const e4=i2.shift();e4.abortController.signal.aborted?t2--:s2(e4)}},"n"),c3=__name((e3,i3)=>new Promise((o3,r3)=>{const a3=new Image,s3=e3.url,n3=e3.credentials;n3&&n3==="include"?a3.crossOrigin="use-credentials":(n3&&n3==="same-origin"||!t.d(s3))&&(a3.crossOrigin="anonymous"),i3.signal.addEventListener("abort",()=>{a3.src="",r3(t.c())}),a3.fetchPriority="high",a3.onload=()=>{a3.onerror=a3.onload=null,o3({data:a3})},a3.onerror=()=>{a3.onerror=a3.onload=null,i3.signal.aborted||r3(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},a3.src=s3}),"c")}(p2||(p2={})),p2.resetRequestQueue();const _m=class _m{constructor(e2){this._transformRequestFn=e2}transformRequest(e2,t2){return this._transformRequestFn&&this._transformRequestFn(e2,t2)||{url:e2}}setTransformRequest(e2){this._transformRequestFn=e2}};__name(_m,"m");let m=_m;function f(e2){const t2=[];if(typeof e2=="string")t2.push({id:"default",url:e2});else if(e2&&e2.length>0){const i2=[];for(const{id:o2,url:r2}of e2){const e3="".concat(o2).concat(r2);i2.indexOf(e3)===-1&&(i2.push(e3),t2.push({id:o2,url:r2}))}}return t2}__name(f,"f");function g(e2,t2,i2){try{const o2=new URL(e2);return o2.pathname+="".concat(t2).concat(i2),o2.toString()}catch(t3){throw new Error('Invalid sprite URL "'.concat(e2,'", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically'))}}__name(g,"g");function v(e2){const{userImage:t2}=e2;return!!(t2&&t2.render&&t2.render())&&(e2.data.replace(new Uint8Array(t2.data.buffer)),!0)}__name(v,"v");const _b=class _b extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e2){if(this.loaded!==e2&&(this.loaded=e2,e2)){for(const{ids:e3,promiseResolve:t2}of this.requestors)t2(this._getImagesForIds(e3));this.requestors=[]}}getImage(e2){const i2=this.images[e2];if(i2&&!i2.data&&i2.spriteData){const e3=i2.spriteData;i2.data=new t.R({width:e3.width,height:e3.height},e3.context.getImageData(e3.x,e3.y,e3.width,e3.height).data),i2.spriteData=null}return i2}addImage(e2,t2){if(this.images[e2])throw new Error("Image id ".concat(e2," already exist, use updateImage instead"));this._validate(e2,t2)&&(this.images[e2]=t2)}_validate(e2,i2){let o2=!0;const r2=i2.data||i2.spriteData;return this._validateStretch(i2.stretchX,r2&&r2.width)||(this.fire(new t.k(new Error('Image "'.concat(e2,'" has invalid "stretchX" value')))),o2=!1),this._validateStretch(i2.stretchY,r2&&r2.height)||(this.fire(new t.k(new Error('Image "'.concat(e2,'" has invalid "stretchY" value')))),o2=!1),this._validateContent(i2.content,i2)||(this.fire(new t.k(new Error('Image "'.concat(e2,'" has invalid "content" value')))),o2=!1),o2}_validateStretch(e2,t2){if(!e2)return!0;let i2=0;for(const o2 of e2){if(o2[0]<i2||o2[1]<o2[0]||t2<o2[1])return!1;i2=o2[1]}return!0}_validateContent(e2,t2){if(!e2)return!0;if(e2.length!==4)return!1;const i2=t2.spriteData,o2=i2&&i2.width||t2.data.width,r2=i2&&i2.height||t2.data.height;return!(e2[0]<0||o2<e2[0]||e2[1]<0||r2<e2[1]||e2[2]<0||o2<e2[2]||e2[3]<0||r2<e2[3]||e2[2]<e2[0]||e2[3]<e2[1])}updateImage(e2,t2,i2=!0){const o2=this.getImage(e2);if(i2&&(o2.data.width!==t2.data.width||o2.data.height!==t2.data.height))throw new Error("size mismatch between old image (".concat(o2.data.width,"x").concat(o2.data.height,") and new image (").concat(t2.data.width,"x").concat(t2.data.height,")."));t2.version=o2.version+1,this.images[e2]=t2,this.updatedImages[e2]=!0}removeImage(e2){const t2=this.images[e2];delete this.images[e2],delete this.patterns[e2],t2.userImage&&t2.userImage.onRemove&&t2.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e2){return new Promise((t2,i2)=>{let o2=!0;if(!this.isLoaded())for(const t3 of e2)this.images[t3]||(o2=!1);this.isLoaded()||o2?t2(this._getImagesForIds(e2)):this.requestors.push({ids:e2,promiseResolve:t2})})}_getImagesForIds(e2){const i2={};for(const o2 of e2){let e3=this.getImage(o2);e3||(this.fire(new t.l("styleimagemissing",{id:o2})),e3=this.getImage(o2)),e3?i2[o2]={data:e3.data.clone(),pixelRatio:e3.pixelRatio,sdf:e3.sdf,version:e3.version,stretchX:e3.stretchX,stretchY:e3.stretchY,content:e3.content,textFitWidth:e3.textFitWidth,textFitHeight:e3.textFitHeight,hasRenderCallback:!!(e3.userImage&&e3.userImage.render)}:t.w('Image "'.concat(o2,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}return i2}getPixelSize(){const{width:e2,height:t2}=this.atlasImage;return{width:e2,height:t2}}getPattern(e2){const i2=this.patterns[e2],o2=this.getImage(e2);if(!o2)return null;if(i2&&i2.position.version===o2.version)return i2.position;if(i2)i2.position.version=o2.version;else{const i3={w:o2.data.width+2,h:o2.data.height+2,x:0,y:0},r2=new t.I(i3,o2);this.patterns[e2]={bin:i3,position:r2}}return this._updatePatternAtlas(),this.patterns[e2].position}bind(e2){const i2=e2.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.T(e2,this.atlasImage,i2.RGBA),this.atlasTexture.bind(i2.LINEAR,i2.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e2=[];for(const t2 in this.patterns)e2.push(this.patterns[t2].bin);const{w:i2,h:o2}=t.p(e2),r2=this.atlasImage;r2.resize({width:i2||1,height:o2||1});for(const e3 in this.patterns){const{bin:i3}=this.patterns[e3],o3=i3.x+1,a2=i3.y+1,s2=this.getImage(e3).data,n2=s2.width,l2=s2.height;t.R.copy(s2,r2,{x:0,y:0},{x:o3,y:a2},{width:n2,height:l2}),t.R.copy(s2,r2,{x:0,y:l2-1},{x:o3,y:a2-1},{width:n2,height:1}),t.R.copy(s2,r2,{x:0,y:0},{x:o3,y:a2+l2},{width:n2,height:1}),t.R.copy(s2,r2,{x:n2-1,y:0},{x:o3-1,y:a2},{width:1,height:l2}),t.R.copy(s2,r2,{x:0,y:0},{x:o3+n2,y:a2},{width:1,height:l2})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e2){for(const i2 of e2){if(this.callbackDispatchedThisFrame[i2])continue;this.callbackDispatchedThisFrame[i2]=!0;const e3=this.getImage(i2);e3||t.w('Image with ID: "'.concat(i2,'" was not found')),v(e3)&&this.updateImage(i2,e3)}}};__name(_b,"b");let b=_b;const x=1e20;function y(e2,t2,i2,o2,r2,a2,s2,n2,l2){for(let c3=t2;c3<t2+o2;c3++)w(e2,i2*a2+c3,a2,r2,s2,n2,l2);for(let c3=i2;c3<i2+r2;c3++)w(e2,c3*a2+t2,1,o2,s2,n2,l2)}__name(y,"y");function w(e2,t2,i2,o2,r2,a2,s2){a2[0]=0,s2[0]=-x,s2[1]=x,r2[0]=e2[t2];for(let n2=1,l2=0,c3=0;n2<o2;n2++){r2[n2]=e2[t2+n2*i2];const o3=n2*n2;do{const e3=a2[l2];c3=(r2[n2]-r2[e3]+o3-e3*e3)/(n2-e3)/2}while(c3<=s2[l2]&&--l2>-1);l2++,a2[l2]=n2,s2[l2]=c3,s2[l2+1]=x}for(let n2=0,l2=0;n2<o2;n2++){for(;s2[l2+1]<n2;)l2++;const o3=a2[l2],c3=n2-o3;e2[t2+n2*i2]=r2[o3]+c3*c3}}__name(w,"w");const _T=class _T{constructor(e2,t2){this.requestManager=e2,this.localIdeographFontFamily=t2,this.entries={}}setURL(e2){this.url=e2}getGlyphs(e2){return t._(this,void 0,void 0,function*(){const t2=[];for(const i3 in e2)for(const o3 of e2[i3])t2.push(this._getAndCacheGlyphsPromise(i3,o3));const i2=yield Promise.all(t2),o2={};for(const{stack:e3,id:t3,glyph:r2}of i2)o2[e3]||(o2[e3]={}),o2[e3][t3]=r2&&{id:r2.id,bitmap:r2.bitmap.clone(),metrics:r2.metrics};return o2})}_getAndCacheGlyphsPromise(e2,i2){return t._(this,void 0,void 0,function*(){let t2=this.entries[e2];t2||(t2=this.entries[e2]={glyphs:{},requests:{},ranges:{}});let o2=t2.glyphs[i2];if(o2!==void 0)return{stack:e2,id:i2,glyph:o2};if(o2=this._tinySDF(t2,e2,i2),o2)return t2.glyphs[i2]=o2,{stack:e2,id:i2,glyph:o2};const r2=Math.floor(i2/256);if(256*r2>65535)throw new Error("glyphs > 65535 not supported");if(t2.ranges[r2])return{stack:e2,id:i2,glyph:o2};if(!this.url)throw new Error("glyphsUrl is not set");if(!t2.requests[r2]){const i3=_T.loadGlyphRange(e2,r2,this.url,this.requestManager);t2.requests[r2]=i3}const a2=yield t2.requests[r2];for(const e3 in a2)this._doesCharSupportLocalGlyph(+e3)||(t2.glyphs[+e3]=a2[+e3]);return t2.ranges[r2]=!0,{stack:e2,id:i2,glyph:a2[i2]||null}})}_doesCharSupportLocalGlyph(e2){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(e2))||t.u["CJK Unified Ideographs"](e2)||t.u["Hangul Syllables"](e2)||t.u.Hiragana(e2)||t.u.Katakana(e2)||t.u["CJK Symbols and Punctuation"](e2)||t.u["Halfwidth and Fullwidth Forms"](e2))}_tinySDF(e2,i2,o2){const r2=this.localIdeographFontFamily;if(!r2||!this._doesCharSupportLocalGlyph(o2))return;let a2=e2.tinySDF;if(!a2){let t2="400";/bold/i.test(i2)?t2="900":/medium/i.test(i2)?t2="500":/light/i.test(i2)&&(t2="200"),a2=e2.tinySDF=new _T.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:r2,fontWeight:t2})}const s2=a2.draw(String.fromCharCode(o2));return{id:o2,bitmap:new t.q({width:s2.width||60,height:s2.height||60},s2.data),metrics:{width:s2.glyphWidth/2||24,height:s2.glyphHeight/2||24,left:s2.glyphLeft/2+.5||0,top:s2.glyphTop/2-27.5||-8,advance:s2.glyphAdvance/2||24,isDoubleResolution:!0}}}};__name(_T,"T");let T=_T;T.loadGlyphRange=function(e2,i2,o2,r2){return t._(this,void 0,void 0,function*(){const a2=256*i2,s2=a2+255,n2=r2.transformRequest(o2.replace("{fontstack}",e2).replace("{range}","".concat(a2,"-").concat(s2)),"Glyphs"),l2=yield t.n(n2,new AbortController);if(!l2||!l2.data)throw new Error("Could not load glyph range. range: ".concat(i2,", ").concat(a2,"-").concat(s2));const c3={};for(const e3 of t.o(l2.data))c3[e3.id]=e3;return c3})},T.TinySDF=class{constructor({fontSize:e2=24,buffer:t2=3,radius:i2=8,cutoff:o2=.25,fontFamily:r2="sans-serif",fontWeight:a2="normal",fontStyle:s2="normal"}={}){this.buffer=t2,this.cutoff=o2,this.radius=i2;const n2=this.size=e2+4*t2,l2=this._createCanvas(n2),c3=this.ctx=l2.getContext("2d",{willReadFrequently:!0});c3.font="".concat(s2," ").concat(a2," ").concat(e2,"px ").concat(r2),c3.textBaseline="alphabetic",c3.textAlign="left",c3.fillStyle="black",this.gridOuter=new Float64Array(n2*n2),this.gridInner=new Float64Array(n2*n2),this.f=new Float64Array(n2),this.z=new Float64Array(n2+1),this.v=new Uint16Array(n2)}_createCanvas(e2){const t2=document.createElement("canvas");return t2.width=t2.height=e2,t2}draw(e2){const{width:t2,actualBoundingBoxAscent:i2,actualBoundingBoxDescent:o2,actualBoundingBoxLeft:r2,actualBoundingBoxRight:a2}=this.ctx.measureText(e2),s2=Math.ceil(i2),n2=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(a2-r2))),l2=Math.min(this.size-this.buffer,s2+Math.ceil(o2)),c3=n2+2*this.buffer,h3=l2+2*this.buffer,u2=Math.max(c3*h3,0),d3=new Uint8ClampedArray(u2),_2={data:d3,width:c3,height:h3,glyphWidth:n2,glyphHeight:l2,glyphTop:s2,glyphLeft:0,glyphAdvance:t2};if(n2===0||l2===0)return _2;const{ctx:p3,buffer:m2,gridInner:f2,gridOuter:g2}=this;p3.clearRect(m2,m2,n2,l2),p3.fillText(e2,m2,m2+s2);const v2=p3.getImageData(m2,m2,n2,l2);g2.fill(x,0,u2),f2.fill(0,0,u2);for(let e3=0;e3<l2;e3++)for(let t3=0;t3<n2;t3++){const i3=v2.data[4*(e3*n2+t3)+3]/255;if(i3===0)continue;const o3=(e3+m2)*c3+t3+m2;if(i3===1)g2[o3]=0,f2[o3]=x;else{const e4=.5-i3;g2[o3]=e4>0?e4*e4:0,f2[o3]=e4<0?e4*e4:0}}y(g2,0,0,c3,h3,c3,this.f,this.v,this.z),y(f2,m2,m2,n2,l2,c3,this.f,this.v,this.z);for(let e3=0;e3<u2;e3++){const t3=Math.sqrt(g2[e3])-Math.sqrt(f2[e3]);d3[e3]=Math.round(255-255*(t3/this.radius+this.cutoff))}return _2}};const _P=class _P{constructor(){this.specification=t.v.light.position}possiblyEvaluate(e2,i2){return t.B(e2.expression.evaluate(i2))}interpolate(e2,i2,o2){return{x:t.C.number(e2.x,i2.x,o2),y:t.C.number(e2.y,i2.y,o2),z:t.C.number(e2.z,i2.z,o2)}}};__name(_P,"P");let P=_P,C;const _I=class _I extends t.E{constructor(e2){super(),C=C||new t.r({anchor:new t.D(t.v.light.anchor),position:new P,color:new t.D(t.v.light.color),intensity:new t.D(t.v.light.intensity)}),this._transitionable=new t.t(C),this.setLight(e2),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e2,i2={}){if(!this._validate(t.x,e2,i2))for(const t2 in e2){const i3=e2[t2];t2.endsWith("-transition")?this._transitionable.setTransition(t2.slice(0,-11),i3):this._transitionable.setValue(t2,i3)}}updateTransitions(e2){this._transitioning=this._transitionable.transitioned(e2,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e2){this.properties=this._transitioning.possiblyEvaluate(e2)}_validate(e2,i2,o2){return(!o2||o2.validate!==!1)&&t.y(this,e2.call(t.z,{value:i2,style:{glyphs:!0,sprite:!0},styleSpec:t.v}))}};__name(_I,"I");let I=_I;const M=new t.r({"sky-color":new t.D(t.v.sky["sky-color"]),"horizon-color":new t.D(t.v.sky["horizon-color"]),"fog-color":new t.D(t.v.sky["fog-color"]),"fog-ground-blend":new t.D(t.v.sky["fog-ground-blend"]),"horizon-fog-blend":new t.D(t.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new t.D(t.v.sky["sky-horizon-blend"]),"atmosphere-blend":new t.D(t.v.sky["atmosphere-blend"])}),_S=class _S extends t.E{constructor(e2){super(),this._transitionable=new t.t(M),this.setSky(e2),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0))}setSky(e2,i2={}){if(!this._validate(t.G,e2,i2)){e2||(e2={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const t2 in e2){const i3=e2[t2];t2.endsWith("-transition")?this._transitionable.setTransition(t2.slice(0,-11),i3):this._transitionable.setValue(t2,i3)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e2){this._transitioning=this._transitionable.transitioned(e2,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e2){this.properties=this._transitioning.possiblyEvaluate(e2)}_validate(e2,i2,o2={}){return(o2==null?void 0:o2.validate)!==!1&&t.y(this,e2.call(t.z,t.e({value:i2,style:{glyphs:!0,sprite:!0},styleSpec:t.v})))}calculateFogBlendOpacity(e2){return e2<60?0:e2<70?(e2-60)/10:1}};__name(_S,"S");let S=_S;const _E=class _E{constructor(e2,t2){this.width=e2,this.height=t2,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e2,t2){const i2=e2.join(",")+String(t2);return this.dashEntry[i2]||(this.dashEntry[i2]=this.addDash(e2,t2)),this.dashEntry[i2]}getDashRanges(e2,t2,i2){const o2=[];let r2=e2.length%2==1?-e2[e2.length-1]*i2:0,a2=e2[0]*i2,s2=!0;o2.push({left:r2,right:a2,isDash:s2,zeroLength:e2[0]===0});let n2=e2[0];for(let t3=1;t3<e2.length;t3++){s2=!s2;const l2=e2[t3];r2=n2*i2,n2+=l2,a2=n2*i2,o2.push({left:r2,right:a2,isDash:s2,zeroLength:l2===0})}return o2}addRoundDash(e2,t2,i2){const o2=t2/2;for(let t3=-i2;t3<=i2;t3++){const r2=this.width*(this.nextRow+i2+t3);let a2=0,s2=e2[a2];for(let n2=0;n2<this.width;n2++){n2/s2.right>1&&(s2=e2[++a2]);const l2=Math.abs(n2-s2.left),c3=Math.abs(n2-s2.right),h3=Math.min(l2,c3);let u2;const d3=t3/i2*(o2+1);if(s2.isDash){const e3=o2-Math.abs(d3);u2=Math.sqrt(h3*h3+e3*e3)}else u2=o2-Math.sqrt(h3*h3+d3*d3);this.data[r2+n2]=Math.max(0,Math.min(255,u2+128))}}}addRegularDash(e2){for(let t3=e2.length-1;t3>=0;--t3){const i3=e2[t3],o3=e2[t3+1];i3.zeroLength?e2.splice(t3,1):o3&&o3.isDash===i3.isDash&&(o3.left=i3.left,e2.splice(t3,1))}const t2=e2[0],i2=e2[e2.length-1];t2.isDash===i2.isDash&&(t2.left=i2.left-this.width,i2.right=t2.right+this.width);const o2=this.width*this.nextRow;let r2=0,a2=e2[r2];for(let t3=0;t3<this.width;t3++){t3/a2.right>1&&(a2=e2[++r2]);const i3=Math.abs(t3-a2.left),s2=Math.abs(t3-a2.right),n2=Math.min(i3,s2);this.data[o2+t3]=Math.max(0,Math.min(255,(a2.isDash?n2:-n2)+128))}}addDash(e2,i2){const o2=i2?7:0,r2=2*o2+1;if(this.nextRow+r2>this.height)return t.w("LineAtlas out of space"),null;let a2=0;for(let t2=0;t2<e2.length;t2++)a2+=e2[t2];if(a2!==0){const t2=this.width/a2,r3=this.getDashRanges(e2,this.width,t2);i2?this.addRoundDash(r3,t2,o2):this.addRegularDash(r3)}const s2={y:(this.nextRow+o2+.5)/this.height,height:2*o2/this.height,width:a2};return this.nextRow+=r2,this.dirty=!0,s2}bind(e2){const t2=e2.gl;this.texture?(t2.bindTexture(t2.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t2.texSubImage2D(t2.TEXTURE_2D,0,0,0,this.width,this.height,t2.ALPHA,t2.UNSIGNED_BYTE,this.data))):(this.texture=t2.createTexture(),t2.bindTexture(t2.TEXTURE_2D,this.texture),t2.texParameteri(t2.TEXTURE_2D,t2.TEXTURE_WRAP_S,t2.REPEAT),t2.texParameteri(t2.TEXTURE_2D,t2.TEXTURE_WRAP_T,t2.REPEAT),t2.texParameteri(t2.TEXTURE_2D,t2.TEXTURE_MIN_FILTER,t2.LINEAR),t2.texParameteri(t2.TEXTURE_2D,t2.TEXTURE_MAG_FILTER,t2.LINEAR),t2.texImage2D(t2.TEXTURE_2D,0,t2.ALPHA,this.width,this.height,0,t2.ALPHA,t2.UNSIGNED_BYTE,this.data))}};__name(_E,"E");let E2=_E;const R="maplibre_preloaded_worker_pool",_z=class _z{constructor(){this.active={}}acquire(e2){if(!this.workers)for(this.workers=[];this.workers.length<_z.workerCount;)this.workers.push(new Worker(t.a.WORKER_URL));return this.active[e2]=!0,this.workers.slice()}release(e2){delete this.active[e2],this.numActive()===0&&(this.workers.forEach(e3=>{e3.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[R]}numActive(){return Object.keys(this.active).length}};__name(_z,"z");let z=_z;const D=Math.floor(s.hardwareConcurrency/2);let A,L;function k(){return A||(A=new z),A}__name(k,"k"),z.workerCount=t.H(globalThis)?Math.max(Math.min(D,3),1):1;const _F=class _F{constructor(e2,i2){this.workerPool=e2,this.actors=[],this.currentActor=0,this.id=i2;const o2=this.workerPool.acquire(i2);for(let e3=0;e3<o2.length;e3++){const r2=new t.J(o2[e3],i2);r2.name="Worker ".concat(e3),this.actors.push(r2)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e2,t2){const i2=[];for(const o2 of this.actors)i2.push(o2.sendAsync({type:e2,data:t2}));return Promise.all(i2)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e2=!0){this.actors.forEach(e3=>{e3.remove()}),this.actors=[],e2&&this.workerPool.release(this.id)}registerMessageHandler(e2,t2){for(const i2 of this.actors)i2.registerMessageHandler(e2,t2)}};__name(_F,"F");let F=_F;function B2(){return L||(L=new F(k(),t.K),L.registerMessageHandler("GR",(e2,i2,o2)=>t.m(i2,o2))),L}__name(B2,"B");function O(e2,i2){const o2=t.L();return t.M(o2,o2,[1,1,0]),t.N(o2,o2,[.5*e2.width,.5*e2.height,1]),e2.calculatePosMatrix?t.O(o2,o2,e2.calculatePosMatrix(i2.toUnwrapped())):o2}__name(O,"O");function j(e2,t2,i2,o2,r2,a2,s2){var n2;const l2=function(e3,t3,i3){if(e3)for(const o3 of e3){const e4=t3[o3];if(e4&&e4.source===i3&&e4.type==="fill-extrusion")return!0}else for(const e4 in t3){const o3=t3[e4];if(o3.source===i3&&o3.type==="fill-extrusion")return!0}return!1}((n2=r2==null?void 0:r2.layers)!==null&&n2!==void 0?n2:null,t2,e2.id),c3=a2.maxPitchScaleFactor(),h3=e2.tilesIn(o2,c3,l2);h3.sort(N);const u2=[];for(const o3 of h3)u2.push({wrappedTileID:o3.tileID.wrapped().key,queryResults:o3.tile.queryRenderedFeatures(t2,i2,e2._state,o3.queryGeometry,o3.cameraQueryGeometry,o3.scale,r2,a2,c3,O(e2.transform,o3.tileID),s2?(e3,t3)=>s2(o3.tileID,e3,t3):void 0)});return function(e3,t3){for(const i3 in e3)for(const o3 of e3[i3])Z(o3,t3);return e3}(function(e3){const t3={},i3={};for(const o3 of e3){const e4=o3.queryResults,r3=o3.wrappedTileID,a3=i3[r3]=i3[r3]||{};for(const i4 in e4){const o4=e4[i4],r4=a3[i4]=a3[i4]||{},s3=t3[i4]=t3[i4]||[];for(const e5 of o4)r4[e5.featureIndex]||(r4[e5.featureIndex]=!0,s3.push(e5))}}return t3}(u2),e2)}__name(j,"j");function N(e2,t2){const i2=e2.tileID,o2=t2.tileID;return i2.overscaledZ-o2.overscaledZ||i2.canonical.y-o2.canonical.y||i2.wrap-o2.wrap||i2.canonical.x-o2.canonical.x}__name(N,"N");function Z(e2,t2){const i2=e2.feature,o2=t2.getFeatureState(i2.layer["source-layer"],i2.id);i2.source=i2.layer.source,i2.layer["source-layer"]&&(i2.sourceLayer=i2.layer["source-layer"]),i2.state=o2}__name(Z,"Z");function U(e2,i2,o2){return t._(this,void 0,void 0,function*(){let r2=e2;if(e2.url?r2=(yield t.j(i2.transformRequest(e2.url,"Source"),o2)).data:yield s.frameAsync(o2),!r2)return null;const a2=t.Q(t.e(r2,e2),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in r2&&r2.vector_layers&&(a2.vectorLayerIds=r2.vector_layers.map(e3=>e3.id)),a2})}__name(U,"U");const _G=class _G{constructor(e2,t2){e2&&(t2?this.setSouthWest(e2).setNorthEast(t2):Array.isArray(e2)&&(e2.length===4?this.setSouthWest([e2[0],e2[1]]).setNorthEast([e2[2],e2[3]]):this.setSouthWest(e2[0]).setNorthEast(e2[1])))}setNorthEast(e2){return this._ne=e2 instanceof t.S?new t.S(e2.lng,e2.lat):t.S.convert(e2),this}setSouthWest(e2){return this._sw=e2 instanceof t.S?new t.S(e2.lng,e2.lat):t.S.convert(e2),this}extend(e2){const i2=this._sw,o2=this._ne;let r2,a2;if(e2 instanceof t.S)r2=e2,a2=e2;else{if(!(e2 instanceof _G))return Array.isArray(e2)?e2.length===4||e2.every(Array.isArray)?this.extend(_G.convert(e2)):this.extend(t.S.convert(e2)):e2&&("lng"in e2||"lon"in e2)&&"lat"in e2?this.extend(t.S.convert(e2)):this;if(r2=e2._sw,a2=e2._ne,!r2||!a2)return this}return i2||o2?(i2.lng=Math.min(r2.lng,i2.lng),i2.lat=Math.min(r2.lat,i2.lat),o2.lng=Math.max(a2.lng,o2.lng),o2.lat=Math.max(a2.lat,o2.lat)):(this._sw=new t.S(r2.lng,r2.lat),this._ne=new t.S(a2.lng,a2.lat)),this}getCenter(){return new t.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.S(this.getWest(),this.getNorth())}getSouthEast(){return new t.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}isEmpty(){return!(this._sw&&this._ne)}contains(e2){const{lng:i2,lat:o2}=t.S.convert(e2);let r2=this._sw.lng<=i2&&i2<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r2=this._sw.lng>=i2&&i2>=this._ne.lng),this._sw.lat<=o2&&o2<=this._ne.lat&&r2}static convert(e2){return e2 instanceof _G?e2:e2&&new _G(e2)}static fromLngLat(e2,i2=0){const o2=360*i2/40075017,r2=o2/Math.cos(Math.PI/180*e2.lat);return new _G(new t.S(e2.lng-r2,e2.lat-o2),new t.S(e2.lng+r2,e2.lat+o2))}adjustAntiMeridian(){const e2=new t.S(this._sw.lng,this._sw.lat),i2=new t.S(this._ne.lng,this._ne.lat);return new _G(e2,e2.lng>i2.lng?new t.S(i2.lng+360,i2.lat):i2)}};__name(_G,"G");let G=_G;const _V=class _V{constructor(e2,t2,i2){this.bounds=G.convert(this.validateBounds(e2)),this.minzoom=t2||0,this.maxzoom=i2||24}validateBounds(e2){return Array.isArray(e2)&&e2.length===4?[Math.max(-180,e2[0]),Math.max(-90,e2[1]),Math.min(180,e2[2]),Math.min(90,e2[3])]:[-180,-90,180,90]}contains(e2){const i2=Math.pow(2,e2.z),o2=Math.floor(t.V(this.bounds.getWest())*i2),r2=Math.floor(t.U(this.bounds.getNorth())*i2),a2=Math.ceil(t.V(this.bounds.getEast())*i2),s2=Math.ceil(t.U(this.bounds.getSouth())*i2);return e2.x>=o2&&e2.x<a2&&e2.y>=r2&&e2.y<s2}};__name(_V,"V");let V=_V;const _$=class _$ extends t.E{constructor(e2,i2,o2,r2){if(super(),this.id=e2,this.dispatcher=o2,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.Q(i2,["url","scheme","tileSize","promoteId"])),this._options=t.e({type:"vector"},i2),this._collectResourceTiming=i2.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r2)}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e2=yield U(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e2&&(t.e(this,e2),e2.bounds&&(this.tileBounds=new V(e2.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e2){this._tileJSONRequest=null,this.fire(new t.k(e2))}})}loaded(){return this._loaded}hasTile(e2){return!this.tileBounds||this.tileBounds.contains(e2.canonical)}onAdd(e2){this.map=e2,this.load()}setSourceProperty(e2){this._tileJSONRequest&&this._tileJSONRequest.abort(),e2(),this.load()}setTiles(e2){return this.setSourceProperty(()=>{this._options.tiles=e2}),this}setUrl(e2){return this.setSourceProperty(()=>{this.url=e2,this._options.url=e2}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return t.e({},this._options)}loadTile(e2){return t._(this,void 0,void 0,function*(){const t2=e2.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i2={request:this.map._requestManager.transformRequest(t2,"Tile"),uid:e2.uid,tileID:e2.tileID,zoom:e2.tileID.overscaledZ,tileSize:this.tileSize*e2.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};i2.request.collectResourceTiming=this._collectResourceTiming;let o2="RT";if(e2.actor&&e2.state!=="expired"){if(e2.state==="loading")return new Promise((t3,i3)=>{e2.reloadPromise={resolve:t3,reject:i3}})}else e2.actor=this.dispatcher.getActor(),o2="LT";e2.abortController=new AbortController;try{const t3=yield e2.actor.sendAsync({type:o2,data:i2},e2.abortController);if(delete e2.abortController,e2.aborted)return;this._afterTileLoadWorkerResponse(e2,t3)}catch(t3){if(delete e2.abortController,e2.aborted)return;if(t3&&t3.status!==404)throw t3;this._afterTileLoadWorkerResponse(e2,null)}})}_afterTileLoadWorkerResponse(e2,t2){if(t2&&t2.resourceTiming&&(e2.resourceTiming=t2.resourceTiming),t2&&this.map._refreshExpiredTiles&&e2.setExpiryData(t2),e2.loadVectorData(t2,this.map.painter),e2.reloadPromise){const t3=e2.reloadPromise;e2.reloadPromise=null,this.loadTile(e2).then(t3.resolve).catch(t3.reject)}}abortTile(e2){return t._(this,void 0,void 0,function*(){e2.abortController&&(e2.abortController.abort(),delete e2.abortController),e2.actor&&(yield e2.actor.sendAsync({type:"AT",data:{uid:e2.uid,type:this.type,source:this.id}}))})}unloadTile(e2){return t._(this,void 0,void 0,function*(){e2.unloadVectorData(),e2.actor&&(yield e2.actor.sendAsync({type:"RMT",data:{uid:e2.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}};__name(_$,"$");let $=_$;const _q=class _q extends t.E{constructor(e2,i2,o2,r2){super(),this.id=e2,this.dispatcher=o2,this.setEventedParent(r2),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},i2),t.e(this,t.Q(i2,["url","scheme","tileSize"]))}load(){return t._(this,arguments,void 0,function*(e2=!1){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i2=yield U(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i2&&(t.e(this,i2),i2.bounds&&(this.tileBounds=new V(i2.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e2})))}catch(e3){this._tileJSONRequest=null,this.fire(new t.k(e3))}})}loaded(){return this._loaded}onAdd(e2){this.map=e2,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e2){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e2(),this.load(!0)}setTiles(e2){return this.setSourceProperty(()=>{this._options.tiles=e2}),this}setUrl(e2){return this.setSourceProperty(()=>{this.url=e2,this._options.url=e2}),this}serialize(){return t.e({},this._options)}hasTile(e2){return!this.tileBounds||this.tileBounds.contains(e2.canonical)}loadTile(e2){return t._(this,void 0,void 0,function*(){const i2=e2.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e2.abortController=new AbortController;try{const o2=yield p2.getImage(this.map._requestManager.transformRequest(i2,"Tile"),e2.abortController,this.map._refreshExpiredTiles);if(delete e2.abortController,e2.aborted)return void(e2.state="unloaded");if(o2&&o2.data){this.map._refreshExpiredTiles&&(o2.cacheControl||o2.expires)&&e2.setExpiryData({cacheControl:o2.cacheControl,expires:o2.expires});const i3=this.map.painter.context,r2=i3.gl,a2=o2.data;e2.texture=this.map.painter.getTileTexture(a2.width),e2.texture?e2.texture.update(a2,{useMipmap:!0}):(e2.texture=new t.T(i3,a2,r2.RGBA,{useMipmap:!0}),e2.texture.bind(r2.LINEAR,r2.CLAMP_TO_EDGE,r2.LINEAR_MIPMAP_NEAREST)),e2.state="loaded"}}catch(t2){if(delete e2.abortController,e2.aborted)e2.state="unloaded";else if(t2)throw e2.state="errored",t2}})}abortTile(e2){return t._(this,void 0,void 0,function*(){e2.abortController&&(e2.abortController.abort(),delete e2.abortController)})}unloadTile(e2){return t._(this,void 0,void 0,function*(){e2.texture&&this.map.painter.saveTileTexture(e2.texture)})}hasTransition(){return!1}};__name(_q,"q");let q2=_q;const _W=class _W extends q2{constructor(e2,i2,o2,r2){super(e2,i2,o2,r2),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},i2),this.encoding=i2.encoding||"mapbox",this.redFactor=i2.redFactor,this.greenFactor=i2.greenFactor,this.blueFactor=i2.blueFactor,this.baseShift=i2.baseShift}loadTile(e2){return t._(this,void 0,void 0,function*(){const i2=e2.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),o2=this.map._requestManager.transformRequest(i2,"Tile");e2.neighboringTiles=this._getNeighboringTiles(e2.tileID),e2.abortController=new AbortController;try{const i3=yield p2.getImage(o2,e2.abortController,this.map._refreshExpiredTiles);if(delete e2.abortController,e2.aborted)return void(e2.state="unloaded");if(i3&&i3.data){const o3=i3.data;this.map._refreshExpiredTiles&&(i3.cacheControl||i3.expires)&&e2.setExpiryData({cacheControl:i3.cacheControl,expires:i3.expires});const r2=t.b(o3)&&t.W()?o3:yield this.readImageNow(o3),a2={type:this.type,uid:e2.uid,source:this.id,rawImageData:r2,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e2.actor||e2.state==="expired"){e2.actor=this.dispatcher.getActor();const t2=yield e2.actor.sendAsync({type:"LDT",data:a2});e2.dem=t2,e2.needsHillshadePrepare=!0,e2.needsTerrainPrepare=!0,e2.state="loaded"}}}catch(t2){if(delete e2.abortController,e2.aborted)e2.state="unloaded";else if(t2)throw e2.state="errored",t2}})}readImageNow(e2){return t._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&t.X()){const i2=e2.width+2,o2=e2.height+2;try{return new t.R({width:i2,height:o2},yield t.Y(e2,-1,-1,i2,o2))}catch(e3){}}return s.getImageData(e2,1)})}_getNeighboringTiles(e2){const i2=e2.canonical,o2=Math.pow(2,i2.z),r2=(i2.x-1+o2)%o2,a2=i2.x===0?e2.wrap-1:e2.wrap,s2=(i2.x+1+o2)%o2,n2=i2.x+1===o2?e2.wrap+1:e2.wrap,l2={};return l2[new t.Z(e2.overscaledZ,a2,i2.z,r2,i2.y).key]={backfilled:!1},l2[new t.Z(e2.overscaledZ,n2,i2.z,s2,i2.y).key]={backfilled:!1},i2.y>0&&(l2[new t.Z(e2.overscaledZ,a2,i2.z,r2,i2.y-1).key]={backfilled:!1},l2[new t.Z(e2.overscaledZ,e2.wrap,i2.z,i2.x,i2.y-1).key]={backfilled:!1},l2[new t.Z(e2.overscaledZ,n2,i2.z,s2,i2.y-1).key]={backfilled:!1}),i2.y+1<o2&&(l2[new t.Z(e2.overscaledZ,a2,i2.z,r2,i2.y+1).key]={backfilled:!1},l2[new t.Z(e2.overscaledZ,e2.wrap,i2.z,i2.x,i2.y+1).key]={backfilled:!1},l2[new t.Z(e2.overscaledZ,n2,i2.z,s2,i2.y+1).key]={backfilled:!1}),l2}unloadTile(e2){return t._(this,void 0,void 0,function*(){e2.demTexture&&this.map.painter.saveTileTexture(e2.demTexture),e2.fbo&&(e2.fbo.destroy(),delete e2.fbo),e2.dem&&delete e2.dem,delete e2.neighboringTiles,e2.state="unloaded",e2.actor&&(yield e2.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e2.uid,source:this.id}}))})}};__name(_W,"W");let W=_W;const _H=class _H extends t.E{constructor(e2,i2,o2,r2){super(),this.id=e2,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=o2.getActor(),this.setEventedParent(r2),this._data=i2.data,this._options=t.e({},i2),this._collectResourceTiming=i2.collectResourceTiming,i2.maxzoom!==void 0&&(this.maxzoom=i2.maxzoom),i2.type&&(this.type=i2.type),i2.attribution&&(this.attribution=i2.attribution),this.promoteId=i2.promoteId,i2.clusterMaxZoom!==void 0&&this.maxzoom<=i2.clusterMaxZoom&&t.w('The maxzoom value "'.concat(this.maxzoom,'" is expected to be greater than the clusterMaxZoom value "').concat(i2.clusterMaxZoom,'".')),this.workerOptions=t.e({source:this.id,cluster:i2.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(i2.buffer!==void 0?i2.buffer:128),tolerance:this._pixelsToTileUnits(i2.tolerance!==void 0?i2.tolerance:.375),extent:t.$,maxZoom:this.maxzoom,lineMetrics:i2.lineMetrics||!1,generateId:i2.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(i2.clusterMaxZoom),minPoints:Math.max(2,i2.clusterMinPoints||2),extent:t.$,radius:this._pixelsToTileUnits(i2.clusterRadius||50),log:!1,generateId:i2.generateId||!1},clusterProperties:i2.clusterProperties,filter:i2.filter},i2.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e2){return e2*(t.$/this.tileSize)}_getClusterMaxZoom(e2){const i2=e2?Math.round(e2):this.maxzoom-1;return Number.isInteger(e2)||e2===void 0||t.w("Integer expected for option 'clusterMaxZoom': provided value \"".concat(e2,'" rounded to "').concat(i2,'"')),i2}load(){return t._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e2){this.map=e2,this.load()}setData(e2){return this._data=e2,this._updateWorkerData(),this}updateData(e2){return this._updateWorkerData(e2),this}getData(){return t._(this,void 0,void 0,function*(){const e2=t.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e2})})}getCoordinatesFromGeometry(e2){return e2.type==="GeometryCollection"?e2.geometries.map(e3=>e3.coordinates).flat(1/0):e2.coordinates.flat(1/0)}getBounds(){return t._(this,void 0,void 0,function*(){const e2=new G,t2=yield this.getData();let i2;switch(t2.type){case"FeatureCollection":i2=t2.features.map(e3=>this.getCoordinatesFromGeometry(e3.geometry)).flat(1/0);break;case"Feature":i2=this.getCoordinatesFromGeometry(t2.geometry);break;default:i2=this.getCoordinatesFromGeometry(t2)}if(i2.length==0)return e2;for(let t3=0;t3<i2.length-1;t3+=2)e2.extend([i2[t3],i2[t3+1]]);return e2})}setClusterOptions(e2){return this.workerOptions.cluster=e2.cluster,e2&&(e2.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e2.clusterRadius)),e2.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(e2.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(e2){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e2,source:this.id}})}getClusterChildren(e2){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e2,source:this.id}})}getClusterLeaves(e2,t2,i2){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e2,limit:t2,offset:i2}})}_updateWorkerData(e2){return t._(this,void 0,void 0,function*(){const i2=t.e({type:this.type},this.workerOptions);e2?i2.dataDiff=e2:typeof this._data=="string"?(i2.request=this.map._requestManager.transformRequest(s.resolveURL(this._data),"Source"),i2.request.collectResourceTiming=this._collectResourceTiming):i2.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new t.l("dataloading",{dataType:"source"}));try{const e3=yield this.actor.sendAsync({type:"LD",data:i2});if(this._pendingLoads--,this._removed||e3.abandoned)return void this.fire(new t.l("dataabort",{dataType:"source"}));let o2=null;e3.resourceTiming&&e3.resourceTiming[this.id]&&(o2=e3.resourceTiming[this.id].slice(0));const r2={dataType:"source"};this._collectResourceTiming&&o2&&o2.length>0&&t.e(r2,{resourceTiming:o2}),this.fire(new t.l("data",Object.assign(Object.assign({},r2),{sourceDataType:"metadata"}))),this.fire(new t.l("data",Object.assign(Object.assign({},r2),{sourceDataType:"content"})))}catch(e3){if(this._pendingLoads--,this._removed)return void this.fire(new t.l("dataabort",{dataType:"source"}));this.fire(new t.k(e3))}})}loaded(){return this._pendingLoads===0}loadTile(e2){return t._(this,void 0,void 0,function*(){const t2=e2.actor?"RT":"LT";e2.actor=this.actor;const i2={type:this.type,uid:e2.uid,tileID:e2.tileID,zoom:e2.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};e2.abortController=new AbortController;const o2=yield this.actor.sendAsync({type:t2,data:i2},e2.abortController);delete e2.abortController,e2.unloadVectorData(),e2.aborted||e2.loadVectorData(o2,this.map.painter,t2==="RT")})}abortTile(e2){return t._(this,void 0,void 0,function*(){e2.abortController&&(e2.abortController.abort(),delete e2.abortController),e2.aborted=!0})}unloadTile(e2){return t._(this,void 0,void 0,function*(){e2.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e2.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return t.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}};__name(_H,"H");let H=_H;const _X=class _X extends t.E{constructor(e2,t2,i2,o2){super(),this.flippedWindingOrder=!1,this.id=e2,this.dispatcher=i2,this.coordinates=t2.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o2),this.options=t2}load(e2){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const t2=yield p2.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,t2&&t2.data&&(this.image=t2.data,e2&&(this.coordinates=e2),this._finishLoading())}catch(e3){this._request=null,this._loaded=!0,this.fire(new t.k(e3))}})}loaded(){return this._loaded}updateImage(e2){return e2.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e2.url,this.load(e2.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e2){this.map=e2,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e2){this.coordinates=e2;const i2=e2.map(t.a0.fromLngLat);var o2;return this.tileID=function(e3){const i3=t.a1.fromPoints(e3),o3=i3.width(),r2=i3.height(),a2=Math.max(o3,r2),s2=Math.max(0,Math.floor(-Math.log(a2)/Math.LN2)),n2=Math.pow(2,s2);return new t.a3(s2,Math.floor((i3.minX+i3.maxX)/2*n2),Math.floor((i3.minY+i3.maxY)/2*n2))}(i2),this.terrainTileRanges=this._getOverlappingTileRanges(i2),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=i2.map(e3=>this.tileID.getTilePoint(e3)._round()),this.flippedWindingOrder=((o2=this.tileCoords)[1].x-o2[0].x)*(o2[2].y-o2[0].y)-(o2[1].y-o2[0].y)*(o2[2].x-o2[0].x)<0,this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const e2=this.map.painter.context,i2=e2.gl;this.texture||(this.texture=new t.T(e2,this.image,i2.RGBA),this.texture.bind(i2.LINEAR,i2.CLAMP_TO_EDGE));let o2=!1;for(const e3 in this.tiles){const t2=this.tiles[e3];t2.state!=="loaded"&&(t2.state="loaded",t2.texture=this.texture,o2=!0)}o2&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e2){return t._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e2.tileID.canonical)?(this.tiles[String(e2.tileID.wrap)]=e2,e2.buckets={}):e2.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e2){const{minX:i2,minY:o2,maxX:r2,maxY:a2}=t.a1.fromPoints(e2),s2={};for(let e3=0;e3<=t.a2;e3++){const t2=Math.pow(2,e3),n2=Math.floor(i2*t2),l2=Math.floor(o2*t2),c3=Math.floor(r2*t2),h3=Math.floor(a2*t2);s2[e3]={minTileX:n2,minTileY:l2,maxTileX:c3,maxTileY:h3}}return s2}};__name(_X,"X");let X=_X;const _K=class _K extends X{constructor(e2,t2,i2,o2){super(e2,t2,i2,o2),this.roundZoom=!0,this.type="video",this.options=t2}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1;const e2=this.options;this.urls=[];for(const t2 of e2.urls)this.urls.push(this.map._requestManager.transformRequest(t2,"Source").url);try{const e3=yield t.a4(this.urls);if(this._loaded=!0,!e3)return;this.video=e3,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(e3){this.fire(new t.k(e3))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e2){if(this.video){const i2=this.video.seekable;e2<i2.start(0)||e2>i2.end(0)?this.fire(new t.k(new t.a5("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(i2.start(0)," and ").concat(i2.end(0),"-second mark.")))):this.video.currentTime=e2}}getVideo(){return this.video}onAdd(e2){this.map||(this.map=e2,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const e2=this.map.painter.context,i2=e2.gl;this.texture?this.video.paused||(this.texture.bind(i2.LINEAR,i2.CLAMP_TO_EDGE),i2.texSubImage2D(i2.TEXTURE_2D,0,0,0,i2.RGBA,i2.UNSIGNED_BYTE,this.video)):(this.texture=new t.T(e2,this.video,i2.RGBA),this.texture.bind(i2.LINEAR,i2.CLAMP_TO_EDGE));let o2=!1;for(const e3 in this.tiles){const t2=this.tiles[e3];t2.state!=="loaded"&&(t2.state="loaded",t2.texture=this.texture,o2=!0)}o2&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}};__name(_K,"K");let K=_K;const _Y=class _Y extends X{constructor(e2,i2,o2,r2){super(e2,i2,o2,r2),i2.coordinates?Array.isArray(i2.coordinates)&&i2.coordinates.length===4&&!i2.coordinates.some(e3=>!Array.isArray(e3)||e3.length!==2||e3.some(e4=>typeof e4!="number"))||this.fire(new t.k(new t.a5("sources.".concat(e2),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.k(new t.a5("sources.".concat(e2),null,'missing required property "coordinates"'))),i2.animate&&typeof i2.animate!="boolean"&&this.fire(new t.k(new t.a5("sources.".concat(e2),null,'optional "animate" property must be a boolean value'))),i2.canvas?typeof i2.canvas=="string"||i2.canvas instanceof HTMLCanvasElement||this.fire(new t.k(new t.a5("sources.".concat(e2),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.k(new t.a5("sources.".concat(e2),null,'missing required property "canvas"'))),this.options=i2,this.animate=i2.animate===void 0||i2.animate}load(){return t._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e2){this.map=e2,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e2=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e2=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e2=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const i2=this.map.painter.context,o2=i2.gl;this.texture?(e2||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.T(i2,this.canvas,o2.RGBA,{premultiply:!0});let r2=!1;for(const e3 in this.tiles){const t2=this.tiles[e3];t2.state!=="loaded"&&(t2.state="loaded",t2.texture=this.texture,r2=!0)}r2&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e2 of[this.canvas.width,this.canvas.height])if(isNaN(e2)||e2<=0)return!0;return!1}};__name(_Y,"Y");let Y2=_Y;const Q2={},J=__name(e2=>{switch(e2){case"geojson":return H;case"image":return X;case"raster":return q2;case"raster-dem":return W;case"vector":return $;case"video":return K;case"canvas":return Y2}return Q2[e2]},"J"),ee2="RTLPluginLoaded",_te=class _te extends t.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=B2()}_syncState(e2){return this.status=e2,this.dispatcher.broadcast("SRPS",{pluginStatus:e2,pluginURL:this.url}).catch(e3=>{throw this.status="error",e3})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e2){return t._(this,arguments,void 0,function*(e3,t2=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=s.resolveURL(e3),!this.url)throw new Error("requested url ".concat(e3," is invalid"));if(this.status==="unavailable"){if(!t2)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return t._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new t.l(ee2))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}};__name(_te,"te");let te=_te,ie=null;function oe(){return ie||(ie=new te),ie}__name(oe,"oe");const _re=class _re{constructor(e2,i2){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e2,this.uid=t.a6(),this.uses=0,this.tileSize=i2,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e2){const t2=e2+this.timeAdded;t2<this.fadeEndTime||(this.fadeEndTime=t2)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(e2){this.demTexture&&e2.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e2,i2,o2){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e2){e2.featureIndex&&(this.latestFeatureIndex=e2.featureIndex,e2.rawTileData?(this.latestRawTileData=e2.rawTileData,this.latestFeatureIndex.rawTileData=e2.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e2.collisionBoxArray,this.buckets=function(e3,t2){const i3={};if(!t2)return i3;for(const o3 of e3){const e4=o3.layerIds.map(e5=>t2.getLayer(e5)).filter(Boolean);if(e4.length!==0){o3.layers=e4,o3.stateDependentLayerIds&&(o3.stateDependentLayers=o3.stateDependentLayerIds.map(t3=>e4.filter(e5=>e5.id===t3)[0]));for(const t3 of e4)i3[t3.id]=o3}}return i3}(e2.buckets,i2==null?void 0:i2.style),this.hasSymbolBuckets=!1;for(const e3 in this.buckets){const i3=this.buckets[e3];if(i3 instanceof t.a8){if(this.hasSymbolBuckets=!0,!o2)break;i3.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e3 in this.buckets){const i3=this.buckets[e3];if(i3 instanceof t.a8&&i3.hasRTLText){this.hasRTLText=!0,oe().lazyLoad();break}}this.queryPadding=0;for(const e3 in this.buckets){const t2=this.buckets[e3];this.queryPadding=Math.max(this.queryPadding,i2.style.getLayer(e3).queryRadius(t2))}e2.imageAtlas&&(this.imageAtlas=e2.imageAtlas),e2.glyphAtlasImage&&(this.glyphAtlasImage=e2.glyphAtlasImage)}else this.collisionBoxArray=new t.a7}unloadVectorData(){for(const e2 in this.buckets)this.buckets[e2].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e2){return this.buckets[e2.id]}upload(e2){for(const t2 in this.buckets){const i3=this.buckets[t2];i3.uploadPending()&&i3.upload(e2)}const i2=e2.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new t.T(e2,this.imageAtlas.image,i2.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new t.T(e2,this.glyphAtlasImage,i2.ALPHA),this.glyphAtlasImage=null)}prepare(e2){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e2,this.imageAtlasTexture)}queryRenderedFeatures(e2,t2,i2,o2,r2,a2,s2,n2,l2,c3,h3){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:o2,cameraQueryGeometry:r2,scale:a2,tileSize:this.tileSize,pixelPosMatrix:c3,transform:n2,params:s2,queryPadding:this.queryPadding*l2,getElevation:h3},e2,t2,i2):{}}querySourceFeatures(e2,i2){const o2=this.latestFeatureIndex;if(!o2||!o2.rawTileData)return;const r2=o2.loadVTLayers(),a2=i2&&i2.sourceLayer?i2.sourceLayer:"",s2=r2._geojsonTileLayer||r2[a2];if(!s2)return;const n2=t.a9(i2&&i2.filter),{z:l2,x:c3,y:h3}=this.tileID.canonical,u2={z:l2,x:c3,y:h3};for(let i3=0;i3<s2.length;i3++){const r3=s2.feature(i3);if(n2.needGeometry){const e3=t.aa(r3,!0);if(!n2.filter(new t.F(this.tileID.overscaledZ),e3,this.tileID.canonical))continue}else if(!n2.filter(new t.F(this.tileID.overscaledZ),r3))continue;const d3=o2.getId(r3,a2),_2=new t.ab(r3,l2,c3,h3,d3);_2.tile=u2,e2.push(_2)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e2){const i2=this.expirationTime;if(e2.cacheControl){const i3=t.ac(e2.cacheControl);i3["max-age"]&&(this.expirationTime=Date.now()+1e3*i3["max-age"])}else e2.expires&&(this.expirationTime=new Date(e2.expires).getTime());if(this.expirationTime){const e3=Date.now();let t2=!1;if(this.expirationTime>e3)t2=!1;else if(i2)if(this.expirationTime<i2)t2=!0;else{const o2=this.expirationTime-i2;o2?this.expirationTime=e3+Math.max(o2,3e4):t2=!0}else t2=!0;t2?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e2,t2){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e2).length===0)return;const i2=this.latestFeatureIndex.loadVTLayers();for(const o2 in this.buckets){if(!t2.style.hasLayer(o2))continue;const r2=this.buckets[o2],a2=r2.layers[0].sourceLayer||"_geojsonTileLayer",s2=i2[a2],n2=e2[a2];if(!s2||!n2||Object.keys(n2).length===0)continue;r2.update(n2,s2,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l2=t2&&t2.style&&t2.style.getLayer(o2);l2&&(this.queryPadding=Math.max(this.queryPadding,l2.queryRadius(r2)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<s.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e2){this.symbolFadeHoldUntil=s.now()+e2}setDependencies(e2,t2){const i2={};for(const e3 of t2)i2[e3]=!0;this.dependencies[e2]=i2}hasDependency(e2,t2){for(const i2 of e2){const e3=this.dependencies[i2];if(e3){for(const i3 of t2)if(e3[i3])return!0}}return!1}};__name(_re,"re");let re=_re;const _ae=class _ae{constructor(e2,t2){this.max=e2,this.onRemove=t2,this.reset()}reset(){for(const e2 in this.data)for(const t2 of this.data[e2])t2.timeout&&clearTimeout(t2.timeout),this.onRemove(t2.value);return this.data={},this.order=[],this}add(e2,t2,i2){const o2=e2.wrapped().key;this.data[o2]===void 0&&(this.data[o2]=[]);const r2={value:t2,timeout:void 0};if(i2!==void 0&&(r2.timeout=setTimeout(()=>{this.remove(e2,r2)},i2)),this.data[o2].push(r2),this.order.push(o2),this.order.length>this.max){const e3=this._getAndRemoveByKey(this.order[0]);e3&&this.onRemove(e3)}return this}has(e2){return e2.wrapped().key in this.data}getAndRemove(e2){return this.has(e2)?this._getAndRemoveByKey(e2.wrapped().key):null}_getAndRemoveByKey(e2){const t2=this.data[e2].shift();return t2.timeout&&clearTimeout(t2.timeout),this.data[e2].length===0&&delete this.data[e2],this.order.splice(this.order.indexOf(e2),1),t2.value}getByKey(e2){const t2=this.data[e2];return t2?t2[0].value:null}get(e2){return this.has(e2)?this.data[e2.wrapped().key][0].value:null}remove(e2,t2){if(!this.has(e2))return this;const i2=e2.wrapped().key,o2=t2===void 0?0:this.data[i2].indexOf(t2),r2=this.data[i2][o2];return this.data[i2].splice(o2,1),r2.timeout&&clearTimeout(r2.timeout),this.data[i2].length===0&&delete this.data[i2],this.onRemove(r2.value),this.order.splice(this.order.indexOf(i2),1),this}setMaxSize(e2){for(this.max=e2;this.order.length>this.max;){const e3=this._getAndRemoveByKey(this.order[0]);e3&&this.onRemove(e3)}return this}filter(e2){const t2=[];for(const i2 in this.data)for(const o2 of this.data[i2])e2(o2.value)||t2.push(o2);for(const e3 of t2)this.remove(e3.value.tileID,e3)}};__name(_ae,"ae");let ae=_ae;const _se=class _se{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e2,i2,o2){const r2=String(i2);if(this.stateChanges[e2]=this.stateChanges[e2]||{},this.stateChanges[e2][r2]=this.stateChanges[e2][r2]||{},t.e(this.stateChanges[e2][r2],o2),this.deletedStates[e2]===null){this.deletedStates[e2]={};for(const t2 in this.state[e2])t2!==r2&&(this.deletedStates[e2][t2]=null)}else if(this.deletedStates[e2]&&this.deletedStates[e2][r2]===null){this.deletedStates[e2][r2]={};for(const t2 in this.state[e2][r2])o2[t2]||(this.deletedStates[e2][r2][t2]=null)}else for(const t2 in o2)this.deletedStates[e2]&&this.deletedStates[e2][r2]&&this.deletedStates[e2][r2][t2]===null&&delete this.deletedStates[e2][r2][t2]}removeFeatureState(e2,t2,i2){if(this.deletedStates[e2]===null)return;const o2=String(t2);if(this.deletedStates[e2]=this.deletedStates[e2]||{},i2&&t2!==void 0)this.deletedStates[e2][o2]!==null&&(this.deletedStates[e2][o2]=this.deletedStates[e2][o2]||{},this.deletedStates[e2][o2][i2]=null);else if(t2!==void 0)if(this.stateChanges[e2]&&this.stateChanges[e2][o2])for(i2 in this.deletedStates[e2][o2]={},this.stateChanges[e2][o2])this.deletedStates[e2][o2][i2]=null;else this.deletedStates[e2][o2]=null;else this.deletedStates[e2]=null}getState(e2,i2){const o2=String(i2),r2=t.e({},(this.state[e2]||{})[o2],(this.stateChanges[e2]||{})[o2]);if(this.deletedStates[e2]===null)return{};if(this.deletedStates[e2]){const t2=this.deletedStates[e2][i2];if(t2===null)return{};for(const e3 in t2)delete r2[e3]}return r2}initializeTileState(e2,t2){e2.setFeatureState(this.state,t2)}coalesceChanges(e2,i2){const o2={};for(const e3 in this.stateChanges){this.state[e3]=this.state[e3]||{};const i3={};for(const o3 in this.stateChanges[e3])this.state[e3][o3]||(this.state[e3][o3]={}),t.e(this.state[e3][o3],this.stateChanges[e3][o3]),i3[o3]=this.state[e3][o3];o2[e3]=i3}for(const e3 in this.deletedStates){this.state[e3]=this.state[e3]||{};const i3={};if(this.deletedStates[e3]===null)for(const t2 in this.state[e3])i3[t2]={},this.state[e3][t2]={};else for(const t2 in this.deletedStates[e3]){if(this.deletedStates[e3][t2]===null)this.state[e3][t2]={};else for(const i4 of Object.keys(this.deletedStates[e3][t2]))delete this.state[e3][t2][i4];i3[t2]=this.state[e3][t2]}o2[e3]=o2[e3]||{},t.e(o2[e3],i3)}if(this.stateChanges={},this.deletedStates={},Object.keys(o2).length!==0)for(const t2 in e2)e2[t2].setFeatureState(o2,i2)}};__name(_se,"se");let se=_se;const ne=89.25;function le(e2,i2){const o2=t.ag(i2.lat,-t.ah,t.ah);return new t.P(t.V(i2.lng)*e2,t.U(o2)*e2)}__name(le,"le");function ce(e2,i2){return new t.a0(i2.x/e2,i2.y/e2).toLngLat()}__name(ce,"ce");function he(e2){return e2.cameraToCenterDistance*Math.min(.85*Math.tan(t.ad(90-e2.pitch)),Math.tan(t.ad(ne-e2.pitch)))}__name(he,"he");function ue(e2,i2){const o2=e2.canonical,r2=i2/t.ae(o2.z),a2=o2.x+Math.pow(2,o2.z)*e2.wrap,s2=t.af(new Float64Array(16));return t.M(s2,s2,[a2*r2,o2.y*r2,0]),t.N(s2,s2,[r2/t.$,r2/t.$,1]),s2}__name(ue,"ue");function de(e2,i2,o2,r2,a2){const s2=t.a0.fromLngLat(e2,i2),n2=a2*t.ai(1,e2.lat),l2=n2*Math.cos(t.ad(o2)),c3=Math.sqrt(n2*n2-l2*l2),h3=c3*Math.sin(t.ad(-r2)),u2=c3*Math.cos(t.ad(-r2));return new t.a0(s2.x+h3,s2.y+u2,s2.z+l2)}__name(de,"de");function _e(e2,t2,i2){const o2=t2.intersectsFrustum(e2);if(!i2||o2===0)return o2;const r2=t2.intersectsPlane(i2);return r2===0?0:o2===2&&r2===2?2:1}__name(_e,"_e");function pe(e2,t2,i2){let o2=0;const r2=(i2-t2)/10;for(let a2=0;a2<10;a2++)o2+=r2*Math.pow(Math.cos(t2+(a2+.5)/10*(i2-t2)),e2);return o2}__name(pe,"pe");function me(e2,i2){return function(o2,r2,a2,s2,n2){const l2=2*((e2-1)/t.aj(Math.cos(t.ad(ne-n2))/Math.cos(t.ad(ne)))-1),c3=Math.acos(a2/s2),h3=2*pe(l2-1,0,t.ad(n2/2)),u2=Math.min(t.ad(ne),c3+t.ad(n2/2)),d3=pe(l2-1,Math.min(u2,c3-t.ad(n2/2)),u2),_2=Math.atan(r2/a2),p3=Math.hypot(r2,a2);let m2=o2;return m2+=t.aj(s2/p3/Math.max(.5,Math.cos(t.ad(n2/2)))),m2+=l2*t.aj(Math.cos(_2))/2,m2-=t.aj(Math.max(1,d3/h3/i2))/2,m2}}__name(me,"me");const fe=me(9.314,3);function ge(e2,i2){const o2=(i2.roundZoom?Math.round:Math.floor)(e2.zoom+t.aj(e2.tileSize/i2.tileSize));return Math.max(0,o2)}__name(ge,"ge");function ve(e2,i2){const o2=e2.getCameraFrustum(),r2=e2.getClippingPlane(),a2=e2.screenPointToMercatorCoordinate(e2.getCameraPoint()),s2=t.a0.fromLngLat(e2.center,e2.elevation);a2.z=s2.z+Math.cos(e2.pitchInRadians)*e2.cameraToCenterDistance/e2.worldSize;const n2=e2.getCoveringTilesDetailsProvider(),l2=n2.allowVariableZoom(e2,i2),c3=ge(e2,i2),h3=i2.minzoom||0,u2=i2.maxzoom!==void 0?i2.maxzoom:e2.maxZoom,d3=Math.min(Math.max(0,c3),u2),_2=Math.pow(2,d3),p3=[_2*a2.x,_2*a2.y,0],m2=[_2*s2.x,_2*s2.y,0],f2=Math.hypot(s2.x-a2.x,s2.y-a2.y),g2=Math.abs(s2.z-a2.z),v2=Math.hypot(f2,g2),b2=__name(e3=>({zoom:0,x:0,y:0,wrap:e3,fullyVisible:!1}),"b"),x2=[],y2=[];if(e2.renderWorldCopies&&n2.allowWorldCopies())for(let e3=1;e3<=3;e3++)x2.push(b2(-e3)),x2.push(b2(e3));for(x2.push(b2(0));x2.length>0;){const _3=x2.pop(),f3=_3.x,b3=_3.y;let w2=_3.fullyVisible;const T2={x:f3,y:b3,z:_3.zoom},P2=n2.getTileBoundingVolume(T2,_3.wrap,e2.elevation,i2);if(!w2){const e3=_e(o2,P2,r2);if(e3===0)continue;w2=e3===2}const C2=n2.distanceToTile2d(a2.x,a2.y,T2,P2);let I2=c3;l2&&(I2=(i2.calculateTileZoom||fe)(e2.zoom+t.aj(e2.tileSize/i2.tileSize),C2,g2,v2,e2.fov)),I2=(i2.roundZoom?Math.round:Math.floor)(I2),I2=Math.max(0,I2);const M2=Math.min(I2,u2);if(_3.wrap=n2.getWrap(s2,T2,_3.wrap),_3.zoom>=M2){if(_3.zoom<h3)continue;const e3=d3-_3.zoom,o3=p3[0]-.5-(f3<<e3),r3=p3[1]-.5-(b3<<e3),a3=i2.reparseOverscaled?Math.max(_3.zoom,I2):_3.zoom;y2.push({tileID:new t.Z(_3.zoom===u2?a3:_3.zoom,_3.wrap,_3.zoom,f3,b3),distanceSq:t.ak([m2[0]-.5-f3,m2[1]-.5-b3]),tileDistanceToCamera:Math.sqrt(o3*o3+r3*r3)})}else for(let e3=0;e3<4;e3++)x2.push({zoom:_3.zoom+1,x:(f3<<1)+e3%2,y:(b3<<1)+(e3>>1),wrap:_3.wrap,fullyVisible:w2})}return y2.sort((e3,t2)=>e3.distanceSq-t2.distanceSq).map(e3=>e3.tileID)}__name(ve,"ve");const be=t.a1.fromPoints([new t.P(0,0),new t.P(t.$,t.$)]),_xe=class _xe extends t.E{constructor(e2,t2,i2){super(),this.id=e2,this.dispatcher=i2,this.on("data",e3=>this._dataHandler(e3)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((e3,t3,i3,o2)=>{const r2=new(J(t3.type))(e3,t3,i3,o2);if(r2.id!==e3)throw new Error("Expected Source id to be ".concat(e3," instead of ").concat(r2.id));return r2})(e2,t2,i2,this),this._tiles={},this._cache=new ae(0,e3=>this._unloadTile(e3)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new se,this._didEmitContent=!1,this._updated=!1}onAdd(e2){this.map=e2,this._maxTileCacheSize=e2?e2._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e2?e2._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e2)}onRemove(e2){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e2)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e2 in this._tiles){const t2=this._tiles[e2];if(t2.state!=="loaded"&&t2.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e2=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e2&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e2,i2,o2){return t._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e2),this._tileLoaded(e2,i2,o2)}catch(i3){e2.state="errored",i3.status!==404?this._source.fire(new t.k(i3,{tile:e2})):this.update(this.transform,this.terrain)}})}_unloadTile(e2){this._source.unloadTile&&this._source.unloadTile(e2)}_abortTile(e2){this._source.abortTile&&this._source.abortTile(e2),this._source.fire(new t.l("dataabort",{tile:e2,coord:e2.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e2){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t2 in this._tiles){const i2=this._tiles[t2];i2.upload(e2),i2.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e2=>e2.tileID).sort(ye).map(e2=>e2.key)}getRenderableIds(e2){const i2=[];for(const t2 in this._tiles)this._isIdRenderable(t2,e2)&&i2.push(this._tiles[t2]);return e2?i2.sort((e3,i3)=>{const o2=e3.tileID,r2=i3.tileID,a2=new t.P(o2.canonical.x,o2.canonical.y)._rotate(-this.transform.bearingInRadians),s2=new t.P(r2.canonical.x,r2.canonical.y)._rotate(-this.transform.bearingInRadians);return o2.overscaledZ-r2.overscaledZ||s2.y-a2.y||s2.x-a2.x}).map(e3=>e3.tileID.key):i2.map(e3=>e3.tileID).sort(ye).map(e3=>e3.key)}hasRenderableParent(e2){const t2=this.findLoadedParent(e2,0);return!!t2&&this._isIdRenderable(t2.tileID.key)}_isIdRenderable(e2,t2){return this._tiles[e2]&&this._tiles[e2].hasData()&&!this._coveredTiles[e2]&&(t2||!this._tiles[e2].holdingForFade())}reload(e2){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t2 in this._tiles)e2?this._reloadTile(t2,"expired"):this._tiles[t2].state!=="errored"&&this._reloadTile(t2,"reloading")}}_reloadTile(e2,i2){return t._(this,void 0,void 0,function*(){const t2=this._tiles[e2];t2&&(t2.state!=="loading"&&(t2.state=i2),yield this._loadTile(t2,e2,i2))})}_tileLoaded(e2,i2,o2){e2.timeAdded=s.now(),o2==="expired"&&(e2.refreshedUponExpiration=!0),this._setTileReloadTimer(i2,e2),this.getSource().type==="raster-dem"&&e2.dem&&this._backfillDEM(e2),this._state.initializeTileState(e2,this.map?this.map.painter:null),e2.aborted||this._source.fire(new t.l("data",{dataType:"source",tile:e2,coord:e2.tileID}))}_backfillDEM(e2){const t2=this.getRenderableIds();for(let o2=0;o2<t2.length;o2++){const r2=t2[o2];if(e2.neighboringTiles&&e2.neighboringTiles[r2]){const t3=this.getTileByID(r2);i2(e2,t3),i2(t3,e2)}}function i2(e3,t3){e3.needsHillshadePrepare=!0,e3.needsTerrainPrepare=!0;let i3=t3.tileID.canonical.x-e3.tileID.canonical.x;const o2=t3.tileID.canonical.y-e3.tileID.canonical.y,r2=Math.pow(2,e3.tileID.canonical.z),a2=t3.tileID.key;i3===0&&o2===0||Math.abs(o2)>1||(Math.abs(i3)>1&&(Math.abs(i3+r2)===1?i3+=r2:Math.abs(i3-r2)===1&&(i3-=r2)),t3.dem&&e3.dem&&(e3.dem.backfillBorder(t3.dem,i3,o2),e3.neighboringTiles&&e3.neighboringTiles[a2]&&(e3.neighboringTiles[a2].backfilled=!0)))}__name(i2,"i")}getTile(e2){return this.getTileByID(e2.key)}getTileByID(e2){return this._tiles[e2]}_retainLoadedChildren(e2,t2,i2,o2){for(const r2 in this._tiles){let a2=this._tiles[r2];if(o2[r2]||!a2.hasData()||a2.tileID.overscaledZ<=t2||a2.tileID.overscaledZ>i2)continue;let s2=a2.tileID;for(;a2&&a2.tileID.overscaledZ>t2+1;){const e3=a2.tileID.scaledTo(a2.tileID.overscaledZ-1);a2=this._tiles[e3.key],a2&&a2.hasData()&&(s2=e3)}let n2=s2;for(;n2.overscaledZ>t2;)if(n2=n2.scaledTo(n2.overscaledZ-1),e2[n2.key]||e2[n2.canonical.key]){o2[s2.key]=s2;break}}}findLoadedParent(e2,t2){if(e2.key in this._loadedParentTiles){const i2=this._loadedParentTiles[e2.key];return i2&&i2.tileID.overscaledZ>=t2?i2:null}for(let i2=e2.overscaledZ-1;i2>=t2;i2--){const t3=e2.scaledTo(i2),o2=this._getLoadedTile(t3);if(o2)return o2}}findLoadedSibling(e2){return this._getLoadedTile(e2)}_getLoadedTile(e2){const t2=this._tiles[e2.key];return t2&&t2.hasData()?t2:this._cache.getByKey(e2.wrapped().key)}updateCacheSize(e2){const i2=Math.ceil(e2.width/this._source.tileSize)+1,o2=Math.ceil(e2.height/this._source.tileSize)+1,r2=Math.floor(i2*o2*(this._maxTileCacheZoomLevels===null?t.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),a2=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,r2):r2;this._cache.setMaxSize(a2)}handleWrapJump(e2){const t2=Math.round((e2-(this._prevLng===void 0?e2:this._prevLng))/360);if(this._prevLng=e2,t2){const e3={};for(const i2 in this._tiles){const o2=this._tiles[i2];o2.tileID=o2.tileID.unwrapTo(o2.tileID.wrap+t2),e3[o2.tileID.key]=o2}this._tiles=e3;for(const e4 in this._timers)clearTimeout(this._timers[e4]),delete this._timers[e4];for(const e4 in this._tiles)this._setTileReloadTimer(e4,this._tiles[e4])}}_updateCoveredAndRetainedTiles(e2,t2,i2,o2,r2,a2){const n2={},l2={},c3=Object.keys(e2),h3=s.now();for(const i3 of c3){const o3=e2[i3],r3=this._tiles[i3];if(!r3||r3.fadeEndTime!==0&&r3.fadeEndTime<=h3)continue;const a3=this.findLoadedParent(o3,t2),s2=this.findLoadedSibling(o3),c4=a3||s2||null;c4&&(this._addTile(c4.tileID),n2[c4.tileID.key]=c4.tileID),l2[i3]=o3}this._retainLoadedChildren(l2,o2,i2,e2);for(const t3 in n2)e2[t3]||(this._coveredTiles[t3]=!0,e2[t3]=n2[t3]);if(a2){const t3={},i3={};for(const e3 of r2)this._tiles[e3.key].hasData()?t3[e3.key]=e3:i3[e3.key]=e3;for(const o3 in i3){const r3=i3[o3].children(this._source.maxzoom);this._tiles[r3[0].key]&&this._tiles[r3[1].key]&&this._tiles[r3[2].key]&&this._tiles[r3[3].key]&&(t3[r3[0].key]=e2[r3[0].key]=r3[0],t3[r3[1].key]=e2[r3[1].key]=r3[1],t3[r3[2].key]=e2[r3[2].key]=r3[2],t3[r3[3].key]=e2[r3[3].key]=r3[3],delete i3[o3])}for(const o3 in i3){const r3=i3[o3],a3=this.findLoadedParent(r3,this._source.minzoom),s2=this.findLoadedSibling(r3),n3=a3||s2||null;if(n3){t3[n3.tileID.key]=e2[n3.tileID.key]=n3.tileID;for(const e3 in t3)t3[e3].isChildOf(n3.tileID)&&delete t3[e3]}}for(const e3 in this._tiles)t3[e3]||(this._coveredTiles[e3]=!0)}}update(e2,i2){if(!this._sourceLoaded||this._paused)return;let o2;this.transform=e2,this.terrain=i2,this.updateCacheSize(e2),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o2=e2.getVisibleUnwrappedCoordinates(this._source.tileID).map(e3=>new t.Z(e3.canonical.z,e3.wrap,e3.canonical.z,e3.canonical.x,e3.canonical.y)):(o2=ve(e2,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:i2,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(o2=o2.filter(e3=>this._source.hasTile(e3)))):o2=[];const r2=ge(e2,this._source),a2=Math.max(r2-_xe.maxOverzooming,this._source.minzoom),s2=Math.max(r2+_xe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e3={};for(const t2 of o2)if(t2.canonical.z>this._source.minzoom){const i3=t2.scaledTo(t2.canonical.z-1);e3[i3.key]=i3;const o3=t2.scaledTo(Math.max(this._source.minzoom,Math.min(t2.canonical.z,5)));e3[o3.key]=o3}o2=o2.concat(Object.values(e3))}const n2=o2.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,n2&&this.fire(new t.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l2=this._updateRetainedTiles(o2,r2);we(this._source.type)&&this._updateCoveredAndRetainedTiles(l2,a2,s2,r2,o2,i2);for(const e3 in l2)this._tiles[e3].clearFadeHold();const c3=t.al(this._tiles,l2);for(const e3 of c3){const t2=this._tiles[e3];t2.hasSymbolBuckets&&!t2.holdingForFade()?t2.setHoldDuration(this.map._fadeDuration):t2.hasSymbolBuckets&&!t2.symbolFadeFinished()||this._removeTile(e3)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e2 in this._tiles)this._tiles[e2].holdingForFade()&&this._removeTile(e2)}_updateRetainedTiles(e2,t2){var i2;const o2={},r2={},a2=Math.max(t2-_xe.maxOverzooming,this._source.minzoom),s2=Math.max(t2+_xe.maxUnderzooming,this._source.minzoom),n2={};for(const i3 of e2){const e3=this._addTile(i3);o2[i3.key]=i3,e3.hasData()||t2<this._source.maxzoom&&(n2[i3.key]=i3)}this._retainLoadedChildren(n2,t2,s2,o2);for(const s3 of e2){let e3=this._tiles[s3.key];if(e3.hasData())continue;if(t2+1>this._source.maxzoom){const e4=s3.children(this._source.maxzoom)[0],t3=this.getTile(e4);if(t3&&t3.hasData()){o2[e4.key]=e4;continue}}else{const e4=s3.children(this._source.maxzoom);if(o2[e4[0].key]&&o2[e4[1].key]&&o2[e4[2].key]&&o2[e4[3].key])continue}let n3=e3.wasRequested();for(let t3=s3.overscaledZ-1;t3>=a2;--t3){const a3=s3.scaledTo(t3);if(r2[a3.key])break;if(r2[a3.key]=!0,e3=this.getTile(a3),!e3&&n3&&(e3=this._addTile(a3)),e3){const t4=e3.hasData();if((t4||!(!((i2=this.map)===null||i2===void 0)&&i2.cancelPendingTileRequestsWhileZooming)||n3)&&(o2[a3.key]=a3),n3=e3.wasRequested(),t4)break}}}return o2}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e2 in this._tiles){const t2=[];let i2,o2=this._tiles[e2].tileID;for(;o2.overscaledZ>0;){if(o2.key in this._loadedParentTiles){i2=this._loadedParentTiles[o2.key];break}t2.push(o2.key);const e3=o2.scaledTo(o2.overscaledZ-1);if(i2=this._getLoadedTile(e3),i2)break;o2=e3}for(const e3 of t2)this._loadedParentTiles[e3]=i2}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e2 in this._tiles){const t2=this._tiles[e2].tileID,i2=this._getLoadedTile(t2);this._loadedSiblingTiles[t2.key]=i2}}_addTile(e2){let i2=this._tiles[e2.key];if(i2)return i2;i2=this._cache.getAndRemove(e2),i2&&(this._setTileReloadTimer(e2.key,i2),i2.tileID=e2,this._state.initializeTileState(i2,this.map?this.map.painter:null),this._cacheTimers[e2.key]&&(clearTimeout(this._cacheTimers[e2.key]),delete this._cacheTimers[e2.key],this._setTileReloadTimer(e2.key,i2)));const o2=i2;return i2||(i2=new re(e2,this._source.tileSize*e2.overscaleFactor()),this._loadTile(i2,e2.key,i2.state)),i2.uses++,this._tiles[e2.key]=i2,o2||this._source.fire(new t.l("dataloading",{tile:i2,coord:i2.tileID,dataType:"source"})),i2}_setTileReloadTimer(e2,t2){e2 in this._timers&&(clearTimeout(this._timers[e2]),delete this._timers[e2]);const i2=t2.getExpiryTimeout();i2&&(this._timers[e2]=setTimeout(()=>{this._reloadTile(e2,"expired"),delete this._timers[e2]},i2))}refreshTiles(e2){for(const t2 in this._tiles)(this._isIdRenderable(t2)||this._tiles[t2].state=="errored")&&e2.some(e3=>e3.equals(this._tiles[t2].tileID.canonical))&&this._reloadTile(t2,"expired")}_removeTile(e2){const t2=this._tiles[e2];t2&&(t2.uses--,delete this._tiles[e2],this._timers[e2]&&(clearTimeout(this._timers[e2]),delete this._timers[e2]),t2.uses>0||(t2.hasData()&&t2.state!=="reloading"?this._cache.add(t2.tileID,t2,t2.getExpiryTimeout()):(t2.aborted=!0,this._abortTile(t2),this._unloadTile(t2))))}_dataHandler(e2){const t2=e2.sourceDataType;e2.dataType==="source"&&t2==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&e2.dataType==="source"&&t2==="content"&&(this.reload(e2.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e2 in this._tiles)this._removeTile(e2);this._cache.reset()}tilesIn(e2,i2,o2){const r2=[],a2=this.transform;if(!a2)return r2;const s2=a2.getCoveringTilesDetailsProvider().allowWorldCopies(),n2=o2?a2.getCameraQueryGeometry(e2):e2,l2=__name(e3=>a2.screenPointToMercatorCoordinate(e3,this.terrain),"l"),c3=this.transformBbox(e2,l2,!s2),h3=this.transformBbox(n2,l2,!s2),u2=this.getIds(),d3=t.a1.fromPoints(h3);for(let e3=0;e3<u2.length;e3++){const o3=this._tiles[u2[e3]];if(o3.holdingForFade())continue;const n3=s2?[o3.tileID]:[o3.tileID.unwrapTo(-1),o3.tileID.unwrapTo(0)],l3=Math.pow(2,a2.zoom-o3.tileID.overscaledZ),_2=i2*o3.queryPadding*t.$/o3.tileSize/l3;for(const e4 of n3){const i3=d3.map(i4=>e4.getTilePoint(new t.a0(i4.x,i4.y)));if(i3.expandBy(_2),i3.intersects(be)){const t2=c3.map(t3=>e4.getTilePoint(t3)),i4=h3.map(t3=>e4.getTilePoint(t3));r2.push({tile:o3,tileID:s2?e4:e4.unwrapTo(0),queryGeometry:t2,cameraQueryGeometry:i4,scale:l3})}}}return r2}transformBbox(e2,i2,o2){let r2=e2.map(i2);if(o2){const o3=t.a1.fromPoints(e2);o3.shrinkBy(.001*Math.min(o3.width(),o3.height()));const a2=o3.map(i2);t.a1.fromPoints(r2).covers(a2)||(r2=r2.map(e3=>e3.x>.5?new t.a0(e3.x-1,e3.y,e3.z):e3))}return r2}getVisibleCoordinates(e2){const t2=this.getRenderableIds(e2).map(e3=>this._tiles[e3].tileID);return this.transform&&this.transform.populateCache(t2),t2}hasTransition(){if(this._source.hasTransition())return!0;if(we(this._source.type)){const e2=s.now();for(const t2 in this._tiles)if(this._tiles[t2].fadeEndTime>=e2)return!0}return!1}setFeatureState(e2,t2,i2){this._state.updateState(e2=e2||"_geojsonTileLayer",t2,i2)}removeFeatureState(e2,t2,i2){this._state.removeFeatureState(e2=e2||"_geojsonTileLayer",t2,i2)}getFeatureState(e2,t2){return this._state.getState(e2=e2||"_geojsonTileLayer",t2)}setDependencies(e2,t2,i2){const o2=this._tiles[e2];o2&&o2.setDependencies(t2,i2)}reloadTilesForDependencies(e2,t2){for(const i2 in this._tiles)this._tiles[i2].hasDependency(e2,t2)&&this._reloadTile(i2,"reloading");this._cache.filter(i2=>!i2.hasDependency(e2,t2))}};__name(_xe,"xe");let xe=_xe;function ye(e2,t2){const i2=Math.abs(2*e2.wrap)-+(e2.wrap<0),o2=Math.abs(2*t2.wrap)-+(t2.wrap<0);return e2.overscaledZ-t2.overscaledZ||o2-i2||t2.canonical.y-e2.canonical.y||t2.canonical.x-e2.canonical.x}__name(ye,"ye");function we(e2){return e2==="raster"||e2==="image"||e2==="video"}__name(we,"we"),xe.maxOverzooming=10,xe.maxUnderzooming=3;const _Te=class _Te{constructor(e2,t2){this.reset(e2,t2)}reset(e2,t2){this.points=e2||[],this._distances=[0];for(let e3=1;e3<this.points.length;e3++)this._distances[e3]=this._distances[e3-1]+this.points[e3].dist(this.points[e3-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t2||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e2){if(this.points.length===1)return this.points[0];e2=t.ag(e2,0,1);let i2=1,o2=this._distances[i2];const r2=e2*this.paddedLength+this.padding;for(;o2<r2&&i2<this._distances.length;)o2=this._distances[++i2];const a2=i2-1,s2=this._distances[a2],n2=o2-s2,l2=n2>0?(r2-s2)/n2:0;return this.points[a2].mult(1-l2).add(this.points[i2].mult(l2))}};__name(_Te,"Te");let Te2=_Te;function Pe2(e2,t2){let i2=!0;return e2==="always"||e2!=="never"&&t2!=="never"||(i2=!1),i2}__name(Pe2,"Pe");const _Ce=class _Ce{constructor(e2,t2,i2){const o2=this.boxCells=[],r2=this.circleCells=[];this.xCellCount=Math.ceil(e2/i2),this.yCellCount=Math.ceil(t2/i2);for(let e3=0;e3<this.xCellCount*this.yCellCount;e3++)o2.push([]),r2.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e2,this.height=t2,this.xScale=this.xCellCount/e2,this.yScale=this.yCellCount/t2,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e2,t2,i2,o2,r2){this._forEachCell(t2,i2,o2,r2,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e2),this.bboxes.push(t2),this.bboxes.push(i2),this.bboxes.push(o2),this.bboxes.push(r2)}insertCircle(e2,t2,i2,o2){this._forEachCell(t2-o2,i2-o2,t2+o2,i2+o2,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e2),this.circles.push(t2),this.circles.push(i2),this.circles.push(o2)}_insertBoxCell(e2,t2,i2,o2,r2,a2){this.boxCells[r2].push(a2)}_insertCircleCell(e2,t2,i2,o2,r2,a2){this.circleCells[r2].push(a2)}_query(e2,t2,i2,o2,r2,a2,s2){if(i2<0||e2>this.width||o2<0||t2>this.height)return[];const n2=[];if(e2<=0&&t2<=0&&this.width<=i2&&this.height<=o2){if(r2)return[{key:null,x1:e2,y1:t2,x2:i2,y2:o2}];for(let e3=0;e3<this.boxKeys.length;e3++)n2.push({key:this.boxKeys[e3],x1:this.bboxes[4*e3],y1:this.bboxes[4*e3+1],x2:this.bboxes[4*e3+2],y2:this.bboxes[4*e3+3]});for(let e3=0;e3<this.circleKeys.length;e3++){const t3=this.circles[3*e3],i3=this.circles[3*e3+1],o3=this.circles[3*e3+2];n2.push({key:this.circleKeys[e3],x1:t3-o3,y1:i3-o3,x2:t3+o3,y2:i3+o3})}}else this._forEachCell(e2,t2,i2,o2,this._queryCell,n2,{hitTest:r2,overlapMode:a2,seenUids:{box:{},circle:{}}},s2);return n2}query(e2,t2,i2,o2){return this._query(e2,t2,i2,o2,!1,null)}hitTest(e2,t2,i2,o2,r2,a2){return this._query(e2,t2,i2,o2,!0,r2,a2).length>0}hitTestCircle(e2,t2,i2,o2,r2){const a2=e2-i2,s2=e2+i2,n2=t2-i2,l2=t2+i2;if(s2<0||a2>this.width||l2<0||n2>this.height)return!1;const c3=[];return this._forEachCell(a2,n2,s2,l2,this._queryCellCircle,c3,{hitTest:!0,overlapMode:o2,circle:{x:e2,y:t2,radius:i2},seenUids:{box:{},circle:{}}},r2),c3.length>0}_queryCell(e2,t2,i2,o2,r2,a2,s2,n2){const{seenUids:l2,hitTest:c3,overlapMode:h3}=s2,u2=this.boxCells[r2];if(u2!==null){const r3=this.bboxes;for(const s3 of u2)if(!l2.box[s3]){l2.box[s3]=!0;const u3=4*s3,d4=this.boxKeys[s3];if(e2<=r3[u3+2]&&t2<=r3[u3+3]&&i2>=r3[u3+0]&&o2>=r3[u3+1]&&(!n2||n2(d4))&&(!c3||!Pe2(h3,d4.overlapMode))&&(a2.push({key:d4,x1:r3[u3],y1:r3[u3+1],x2:r3[u3+2],y2:r3[u3+3]}),c3))return!0}}const d3=this.circleCells[r2];if(d3!==null){const r3=this.circles;for(const s3 of d3)if(!l2.circle[s3]){l2.circle[s3]=!0;const u3=3*s3,d4=this.circleKeys[s3];if(this._circleAndRectCollide(r3[u3],r3[u3+1],r3[u3+2],e2,t2,i2,o2)&&(!n2||n2(d4))&&(!c3||!Pe2(h3,d4.overlapMode))){const e3=r3[u3],t3=r3[u3+1],i3=r3[u3+2];if(a2.push({key:d4,x1:e3-i3,y1:t3-i3,x2:e3+i3,y2:t3+i3}),c3)return!0}}}return!1}_queryCellCircle(e2,t2,i2,o2,r2,a2,s2,n2){const{circle:l2,seenUids:c3,overlapMode:h3}=s2,u2=this.boxCells[r2];if(u2!==null){const e3=this.bboxes;for(const t3 of u2)if(!c3.box[t3]){c3.box[t3]=!0;const i3=4*t3,o3=this.boxKeys[t3];if(this._circleAndRectCollide(l2.x,l2.y,l2.radius,e3[i3+0],e3[i3+1],e3[i3+2],e3[i3+3])&&(!n2||n2(o3))&&!Pe2(h3,o3.overlapMode))return a2.push(!0),!0}}const d3=this.circleCells[r2];if(d3!==null){const e3=this.circles;for(const t3 of d3)if(!c3.circle[t3]){c3.circle[t3]=!0;const i3=3*t3,o3=this.circleKeys[t3];if(this._circlesCollide(e3[i3],e3[i3+1],e3[i3+2],l2.x,l2.y,l2.radius)&&(!n2||n2(o3))&&!Pe2(h3,o3.overlapMode))return a2.push(!0),!0}}}_forEachCell(e2,t2,i2,o2,r2,a2,s2,n2){const l2=this._convertToXCellCoord(e2),c3=this._convertToYCellCoord(t2),h3=this._convertToXCellCoord(i2),u2=this._convertToYCellCoord(o2);for(let d3=l2;d3<=h3;d3++)for(let l3=c3;l3<=u2;l3++)if(r2.call(this,e2,t2,i2,o2,this.xCellCount*l3+d3,a2,s2,n2))return}_convertToXCellCoord(e2){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e2*this.xScale)))}_convertToYCellCoord(e2){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e2*this.yScale)))}_circlesCollide(e2,t2,i2,o2,r2,a2){const s2=o2-e2,n2=r2-t2,l2=i2+a2;return l2*l2>s2*s2+n2*n2}_circleAndRectCollide(e2,t2,i2,o2,r2,a2,s2){const n2=(a2-o2)/2,l2=Math.abs(e2-(o2+n2));if(l2>n2+i2)return!1;const c3=(s2-r2)/2,h3=Math.abs(t2-(r2+c3));if(h3>c3+i2)return!1;if(l2<=n2||h3<=c3)return!0;const u2=l2-n2,d3=h3-c3;return u2*u2+d3*d3<=i2*i2}};__name(_Ce,"Ce");let Ce=_Ce;function Ie(e2,i2,r2){const a2=t.L();if(!e2){const{vecSouth:e3,vecEast:t2}=Se(i2),r3=o();r3[0]=t2[0],r3[1]=t2[1],r3[2]=e3[0],r3[3]=e3[1],s2=r3,(d3=(l2=(n2=r3)[0])*(u2=n2[3])-(h3=n2[2])*(c3=n2[1]))&&(s2[0]=u2*(d3=1/d3),s2[1]=-c3*d3,s2[2]=-h3*d3,s2[3]=l2*d3),a2[0]=r3[0],a2[1]=r3[1],a2[4]=r3[2],a2[5]=r3[3]}var s2,n2,l2,c3,h3,u2,d3;return t.N(a2,a2,[1/r2,1/r2,1]),a2}__name(Ie,"Ie");function Me(e2,i2,o2,r2){if(e2){const e3=t.L();if(!i2){const{vecSouth:t2,vecEast:i3}=Se(o2);e3[0]=i3[0],e3[1]=i3[1],e3[4]=t2[0],e3[5]=t2[1]}return t.N(e3,e3,[r2,r2,1]),e3}return o2.pixelsToClipSpaceMatrix}__name(Me,"Me");function Se(e2){const i2=Math.cos(e2.rollInRadians),o2=Math.sin(e2.rollInRadians),r2=Math.cos(e2.pitchInRadians),a2=Math.cos(e2.bearingInRadians),s2=Math.sin(e2.bearingInRadians),n2=t.aq();n2[0]=-a2*r2*o2-s2*i2,n2[1]=-s2*r2*o2+a2*i2;const l2=t.ar(n2);l2<1e-9?t.as(n2):t.at(n2,n2,1/l2);const c3=t.aq();c3[0]=a2*r2*i2-s2*o2,c3[1]=s2*r2*i2+a2*o2;const h3=t.ar(c3);return h3<1e-9?t.as(c3):t.at(c3,c3,1/h3),{vecEast:c3,vecSouth:n2}}__name(Se,"Se");function Ee(e2,i2,o2,r2){let a2;r2?(a2=[e2,i2,r2(e2,i2),1],t.av(a2,a2,o2)):(a2=[e2,i2,0,1],qe(a2,a2,o2));const s2=a2[3];return{point:new t.P(a2[0]/s2,a2[1]/s2),signedDistanceFromCamera:s2,isOccluded:!1}}__name(Ee,"Ee");function Re(e2,t2){return .5+e2/t2*.5}__name(Re,"Re");function ze(e2,t2){return e2.x>=-t2[0]&&e2.x<=t2[0]&&e2.y>=-t2[1]&&e2.y<=t2[1]}__name(ze,"ze");function De(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2){const p3=o2?e2.textSizeData:e2.iconSizeData,m2=t.am(p3,i2.transform.zoom),f2=[256/i2.width*2+1,256/i2.height*2+1],g2=o2?e2.text.dynamicLayoutVertexArray:e2.icon.dynamicLayoutVertexArray;g2.clear();const v2=e2.lineVertexArray,b2=o2?e2.text.placedSymbolArray:e2.icon.placedSymbolArray,x2=i2.transform.width/i2.transform.height;let y2=!1;for(let o3=0;o3<b2.length;o3++){const w2=b2.get(o3);if(w2.hidden||w2.writingMode===t.an.vertical&&!y2){$e(w2.numGlyphs,g2);continue}y2=!1;const T2=new t.P(w2.anchorX,w2.anchorY),P2={getElevation:_2,pitchedLabelPlaneMatrix:r2,lineVertexArray:v2,pitchWithMap:s2,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:i2.transform,tileAnchorPoint:T2,unwrappedTileID:c3,width:h3,height:u2,translation:d3},C2=Ne(w2.anchorX,w2.anchorY,P2);if(!ze(C2.point,f2)){$e(w2.numGlyphs,g2);continue}const I2=Re(i2.transform.cameraToCenterDistance,C2.signedDistanceFromCamera),M2=t.ao(p3,m2,w2),S2=s2?M2*i2.transform.getPitchedTextCorrection(w2.anchorX,w2.anchorY,c3)/I2:M2*I2,E3=ke({projectionContext:P2,pitchedLabelPlaneMatrixInverse:a2,symbol:w2,fontSize:S2,flip:!1,keepUpright:n2,glyphOffsetArray:e2.glyphOffsetArray,dynamicLayoutVertexArray:g2,aspectRatio:x2,rotateToLine:l2});y2=E3.useVertical,(E3.notEnoughRoom||y2||E3.needsFlipping&&ke({projectionContext:P2,pitchedLabelPlaneMatrixInverse:a2,symbol:w2,fontSize:S2,flip:!0,keepUpright:n2,glyphOffsetArray:e2.glyphOffsetArray,dynamicLayoutVertexArray:g2,aspectRatio:x2,rotateToLine:l2}).notEnoughRoom)&&$e(w2.numGlyphs,g2)}o2?e2.text.dynamicLayoutVertexBuffer.updateData(g2):e2.icon.dynamicLayoutVertexBuffer.updateData(g2)}__name(De,"De");function Ae(e2,t2,i2,o2,r2,a2,s2,n2){const l2=a2.glyphStartIndex+a2.numGlyphs,c3=a2.lineStartIndex,h3=a2.lineStartIndex+a2.lineLength,u2=t2.getoffsetX(a2.glyphStartIndex),d3=t2.getoffsetX(l2-1),_2=Ge(e2*u2,i2,o2,r2,a2.segment,c3,h3,n2,s2);if(!_2)return null;const p3=Ge(e2*d3,i2,o2,r2,a2.segment,c3,h3,n2,s2);return p3?n2.projectionCache.anyProjectionOccluded?null:{first:_2,last:p3}:null}__name(Ae,"Ae");function Le(e2,i2,o2,r2){return e2===t.an.horizontal&&Math.abs(o2.y-i2.y)>Math.abs(o2.x-i2.x)*r2?{useVertical:!0}:(e2===t.an.vertical?i2.y<o2.y:i2.x>o2.x)?{needsFlipping:!0}:null}__name(Le,"Le");function ke(e2){const{projectionContext:i2,pitchedLabelPlaneMatrixInverse:o2,symbol:r2,fontSize:a2,flip:s2,keepUpright:n2,glyphOffsetArray:l2,dynamicLayoutVertexArray:c3,aspectRatio:h3,rotateToLine:u2}=e2,d3=a2/24,_2=r2.lineOffsetX*d3,p3=r2.lineOffsetY*d3;let m2;if(r2.numGlyphs>1){const e3=r2.glyphStartIndex+r2.numGlyphs,t2=r2.lineStartIndex,a3=r2.lineStartIndex+r2.lineLength,c4=Ae(d3,l2,_2,p3,s2,r2,u2,i2);if(!c4)return{notEnoughRoom:!0};const f2=je(c4.first.point.x,c4.first.point.y,i2,o2),g2=je(c4.last.point.x,c4.last.point.y,i2,o2);if(n2&&!s2){const e4=Le(r2.writingMode,f2,g2,h3);if(e4)return e4}m2=[c4.first];for(let o3=r2.glyphStartIndex+1;o3<e3-1;o3++){const e4=Ge(d3*l2.getoffsetX(o3),_2,p3,s2,r2.segment,t2,a3,i2,u2);if(!e4)return{notEnoughRoom:!0};m2.push(e4)}m2.push(c4.last)}else{if(n2&&!s2){const e4=Oe(i2.tileAnchorPoint.x,i2.tileAnchorPoint.y,i2).point,a3=r2.lineStartIndex+r2.segment+1,s3=new t.P(i2.lineVertexArray.getx(a3),i2.lineVertexArray.gety(a3)),n3=Oe(s3.x,s3.y,i2),l3=n3.signedDistanceFromCamera>0?n3.point:Fe(i2.tileAnchorPoint,s3,e4,1,i2),c4=je(e4.x,e4.y,i2,o2),u3=je(l3.x,l3.y,i2,o2),d4=Le(r2.writingMode,c4,u3,h3);if(d4)return d4}const e3=Ge(d3*l2.getoffsetX(r2.glyphStartIndex),_2,p3,s2,r2.segment,r2.lineStartIndex,r2.lineStartIndex+r2.lineLength,i2,u2);if(!e3||i2.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};m2=[e3]}for(const e3 of m2)t.au(c3,e3.point,e3.angle);return{}}__name(ke,"ke");function Fe(e2,t2,i2,o2,r2){const a2=e2.add(e2.sub(t2)._unit()),s2=Oe(a2.x,a2.y,r2).point,n2=i2.sub(s2);return i2.add(n2._mult(o2/n2.mag()))}__name(Fe,"Fe");function Be(e2,i2,o2){const r2=i2.projectionCache;if(r2.projections[e2])return r2.projections[e2];const a2=new t.P(i2.lineVertexArray.getx(e2),i2.lineVertexArray.gety(e2)),s2=Oe(a2.x,a2.y,i2);if(s2.signedDistanceFromCamera>0)return r2.projections[e2]=s2.point,r2.anyProjectionOccluded=r2.anyProjectionOccluded||s2.isOccluded,s2.point;const n2=e2-o2.direction;return Fe(o2.distanceFromAnchor===0?i2.tileAnchorPoint:new t.P(i2.lineVertexArray.getx(n2),i2.lineVertexArray.gety(n2)),a2,o2.previousVertex,o2.absOffsetX-o2.distanceFromAnchor+1,i2)}__name(Be,"Be");function Oe(e2,t2,i2){const o2=e2+i2.translation[0],r2=t2+i2.translation[1];let a2;return i2.pitchWithMap?(a2=Ee(o2,r2,i2.pitchedLabelPlaneMatrix,i2.getElevation),a2.isOccluded=!1):(a2=i2.transform.projectTileCoordinates(o2,r2,i2.unwrappedTileID,i2.getElevation),a2.point.x=(.5*a2.point.x+.5)*i2.width,a2.point.y=(.5*-a2.point.y+.5)*i2.height),a2}__name(Oe,"Oe");function je(e2,i2,o2,r2){if(o2.pitchWithMap){const a2=[e2,i2,0,1];return t.av(a2,a2,r2),o2.transform.projectTileCoordinates(a2[0]/a2[3],a2[1]/a2[3],o2.unwrappedTileID,o2.getElevation).point}return{x:e2/o2.width*2-1,y:1-i2/o2.height*2}}__name(je,"je");function Ne(e2,t2,i2){return i2.transform.projectTileCoordinates(e2,t2,i2.unwrappedTileID,i2.getElevation)}__name(Ne,"Ne");function Ze(e2,t2,i2){return e2._unit()._perp()._mult(t2*i2)}__name(Ze,"Ze");function Ue(e2,i2,o2,r2,a2,s2,n2,l2,c3){if(l2.projectionCache.offsets[e2])return l2.projectionCache.offsets[e2];const h3=o2.add(i2);if(e2+c3.direction<r2||e2+c3.direction>=a2)return l2.projectionCache.offsets[e2]=h3,h3;const u2=Be(e2+c3.direction,l2,c3),d3=Ze(u2.sub(o2),n2,c3.direction),_2=o2.add(d3),p3=u2.add(d3);return l2.projectionCache.offsets[e2]=t.aw(s2,h3,_2,p3)||h3,l2.projectionCache.offsets[e2]}__name(Ue,"Ue");function Ge(e2,t2,i2,o2,r2,a2,s2,n2,l2){const c3=o2?e2-t2:e2+t2;let h3=c3>0?1:-1,u2=0;o2&&(h3*=-1,u2=Math.PI),h3<0&&(u2+=Math.PI);let d3,_2=h3>0?a2+r2:a2+r2+1;n2.projectionCache.cachedAnchorPoint?d3=n2.projectionCache.cachedAnchorPoint:(d3=Oe(n2.tileAnchorPoint.x,n2.tileAnchorPoint.y,n2).point,n2.projectionCache.cachedAnchorPoint=d3);let p3,m2,f2=d3,g2=d3,v2=0,b2=0;const x2=Math.abs(c3),y2=[];let w2;for(;v2+b2<=x2;){if(_2+=h3,_2<a2||_2>=s2)return null;v2+=b2,g2=f2,m2=p3;const e3={absOffsetX:x2,direction:h3,distanceFromAnchor:v2,previousVertex:g2};if(f2=Be(_2,n2,e3),i2===0)y2.push(g2),w2=f2.sub(g2);else{let t3;const o3=f2.sub(g2);t3=o3.mag()===0?Ze(Be(_2+h3,n2,e3).sub(f2),i2,h3):Ze(o3,i2,h3),m2||(m2=g2.add(t3)),p3=Ue(_2,t3,f2,a2,s2,m2,i2,n2,e3),y2.push(m2),w2=p3.sub(m2)}b2=w2.mag()}const T2=w2._mult((x2-v2)/b2)._add(m2||g2),P2=u2+Math.atan2(f2.y-g2.y,f2.x-g2.x);return y2.push(T2),{point:T2,angle:l2?P2:0,path:y2}}__name(Ge,"Ge");const Ve=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $e(e2,t2){for(let i2=0;i2<e2;i2++){const e3=t2.length;t2.resize(e3+4),t2.float32.set(Ve,3*e3)}}__name($e,"$e");function qe(e2,t2,i2){const o2=t2[0],r2=t2[1];return e2[0]=i2[0]*o2+i2[4]*r2+i2[12],e2[1]=i2[1]*o2+i2[5]*r2+i2[13],e2[3]=i2[3]*o2+i2[7]*r2+i2[15],e2}__name(qe,"qe");const We=100,_He=class _He{constructor(e2,t2=new Ce(e2.width+200,e2.height+200,25),i2=new Ce(e2.width+200,e2.height+200,25)){this.transform=e2,this.grid=t2,this.ignoredGrid=i2,this.pitchFactor=Math.cos(e2.pitch*Math.PI/180)*e2.cameraToCenterDistance,this.screenRightBoundary=e2.width+We,this.screenBottomBoundary=e2.height+We,this.gridRightBoundary=e2.width+200,this.gridBottomBoundary=e2.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e2,t2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2){const d3=this.projectAndGetPerspectiveRatio(e2.anchorPointX+n2[0],e2.anchorPointY+n2[1],r2,c3,u2),_2=i2*d3.perspectiveRatio;let p3;if(a2||s2)p3=this._projectCollisionBox(e2,_2,o2,r2,a2,s2,n2,d3,c3,h3,u2);else{const t3=d3.x+(h3?h3.x*_2:0),i3=d3.y+(h3?h3.y*_2:0);p3={allPointsOccluded:!1,box:[t3+e2.x1*_2,i3+e2.y1*_2,t3+e2.x2*_2,i3+e2.y2*_2]}}const[m2,f2,g2,v2]=p3.box,b2=a2?p3.allPointsOccluded:d3.isOccluded;let x2=b2;return x2||(x2=d3.perspectiveRatio<this.perspectiveRatioCutoff),x2||(x2=!this.isInsideGrid(m2,f2,g2,v2)),x2||t2!=="always"&&this.grid.hitTest(m2,f2,g2,v2,t2,l2)?{box:[m2,f2,g2,v2],placeable:!1,offscreen:!1,occluded:b2}:{box:[m2,f2,g2,v2],placeable:!0,offscreen:this.isOffscreen(m2,f2,g2,v2),occluded:b2}}placeCollisionCircles(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2,p3){const m2=[],f2=new t.P(i2.anchorX,i2.anchorY),g2=this.getPerspectiveRatio(f2.x,f2.y,s2,p3),v2=(c3?a2*this.transform.getPitchedTextCorrection(i2.anchorX,i2.anchorY,s2)/g2:a2*g2)/t.aA,b2={getElevation:p3,pitchedLabelPlaneMatrix:n2,lineVertexArray:o2,pitchWithMap:c3,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:f2,unwrappedTileID:s2,width:this.transform.width,height:this.transform.height,translation:_2},x2=Ae(v2,r2,i2.lineOffsetX*v2,i2.lineOffsetY*v2,!1,i2,!1,b2);let y2=!1,w2=!1,T2=!0;if(x2){const i3=.5*u2*g2+d3,o3=new t.P(-100,-100),r3=new t.P(this.screenRightBoundary,this.screenBottomBoundary),a3=new Te2,s3=x2.first,n3=x2.last;let _3=[];for(let e3=s3.path.length-1;e3>=1;e3--)_3.push(s3.path[e3]);for(let e3=1;e3<n3.path.length;e3++)_3.push(n3.path[e3]);const p4=2.5*i3;if(c3){const e3=this.projectPathToScreenSpace(_3,b2);_3=e3.some(e4=>e4.signedDistanceFromCamera<=0)?[]:e3.map(e4=>e4.point)}let f3=[];if(_3.length>0){const e3=_3[0].clone(),i4=_3[0].clone();for(let t2=1;t2<_3.length;t2++)e3.x=Math.min(e3.x,_3[t2].x),e3.y=Math.min(e3.y,_3[t2].y),i4.x=Math.max(i4.x,_3[t2].x),i4.y=Math.max(i4.y,_3[t2].y);f3=e3.x>=o3.x&&i4.x<=r3.x&&e3.y>=o3.y&&i4.y<=r3.y?[_3]:i4.x<o3.x||e3.x>r3.x||i4.y<o3.y||e3.y>r3.y?[]:t.ax([_3],o3.x,o3.y,r3.x,r3.y)}for(const t2 of f3){a3.reset(t2,.25*i3);let o4=0;o4=a3.length<=.5*i3?1:Math.ceil(a3.paddedLength/p4)+1;for(let t3=0;t3<o4;t3++){const r4=t3/Math.max(o4-1,1),s4=a3.lerp(r4),n4=s4.x+We,c4=s4.y+We;m2.push(n4,c4,i3,0);const u3=n4-i3,d4=c4-i3,_4=n4+i3,p5=c4+i3;if(T2=T2&&this.isOffscreen(u3,d4,_4,p5),w2=w2||this.isInsideGrid(u3,d4,_4,p5),e2!=="always"&&this.grid.hitTestCircle(n4,c4,i3,e2,h3)&&(y2=!0,!l2))return{circles:[],offscreen:!1,collisionDetected:y2}}}}return{circles:!l2&&y2||!w2||g2<this.perspectiveRatioCutoff?[]:m2,offscreen:T2,collisionDetected:y2}}projectPathToScreenSpace(e2,i2){const o2=function(e3,i3){const o3=t.L();return t.ap(o3,i3.pitchedLabelPlaneMatrix),e3.map(e4=>{const t2=Ee(e4.x,e4.y,o3,i3.getElevation),r2=i3.transform.projectTileCoordinates(t2.point.x,t2.point.y,i3.unwrappedTileID,i3.getElevation);return r2.point.x=(.5*r2.point.x+.5)*i3.width,r2.point.y=(.5*-r2.point.y+.5)*i3.height,r2})}(e2,i2);return function(e3){let t2=0,i3=0,o3=0,r2=0;for(let a2=0;a2<e3.length;a2++)e3[a2].isOccluded?(o3=a2+1,r2=0):(r2++,r2>i3&&(i3=r2,t2=o3));return e3.slice(t2,t2+i3)}(o2)}queryRenderedSymbols(e2){if(e2.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const i2=[],o2=new t.a1;for(const r3 of e2){const e3=new t.P(r3.x+We,r3.y+We);o2.extend(e3),i2.push(e3)}const{minX:r2,minY:a2,maxX:s2,maxY:n2}=o2,l2=this.grid.query(r2,a2,s2,n2).concat(this.ignoredGrid.query(r2,a2,s2,n2)),c3={},h3={};for(const e3 of l2){const o3=e3.key;if(c3[o3.bucketInstanceId]===void 0&&(c3[o3.bucketInstanceId]={}),c3[o3.bucketInstanceId][o3.featureIndex])continue;const r3=[new t.P(e3.x1,e3.y1),new t.P(e3.x2,e3.y1),new t.P(e3.x2,e3.y2),new t.P(e3.x1,e3.y2)];t.ay(i2,r3)&&(c3[o3.bucketInstanceId][o3.featureIndex]=!0,h3[o3.bucketInstanceId]===void 0&&(h3[o3.bucketInstanceId]=[]),h3[o3.bucketInstanceId].push(o3.featureIndex))}return h3}insertCollisionBox(e2,t2,i2,o2,r2,a2){(i2?this.ignoredGrid:this.grid).insert({bucketInstanceId:o2,featureIndex:r2,collisionGroupID:a2,overlapMode:t2},e2[0],e2[1],e2[2],e2[3])}insertCollisionCircles(e2,t2,i2,o2,r2,a2){const s2=i2?this.ignoredGrid:this.grid,n2={bucketInstanceId:o2,featureIndex:r2,collisionGroupID:a2,overlapMode:t2};for(let t3=0;t3<e2.length;t3+=4)s2.insertCircle(n2,e2[t3],e2[t3+1],e2[t3+2])}projectAndGetPerspectiveRatio(e2,i2,o2,r2,a2){if(a2){let o3;r2?(o3=[e2,i2,r2(e2,i2),1],t.av(o3,o3,a2)):(o3=[e2,i2,0,1],qe(o3,o3,a2));const s2=o3[3];return{x:(o3[0]/s2+1)/2*this.transform.width+We,y:(-o3[1]/s2+1)/2*this.transform.height+We,perspectiveRatio:.5+this.transform.cameraToCenterDistance/s2*.5,isOccluded:!1,signedDistanceFromCamera:s2}}{const t2=this.transform.projectTileCoordinates(e2,i2,o2,r2);return{x:(t2.point.x+1)/2*this.transform.width+We,y:(1-t2.point.y)/2*this.transform.height+We,perspectiveRatio:.5+this.transform.cameraToCenterDistance/t2.signedDistanceFromCamera*.5,isOccluded:t2.isOccluded,signedDistanceFromCamera:t2.signedDistanceFromCamera}}}getPerspectiveRatio(e2,t2,i2,o2){const r2=this.transform.projectTileCoordinates(e2,t2,i2,o2);return .5+this.transform.cameraToCenterDistance/r2.signedDistanceFromCamera*.5}isOffscreen(e2,t2,i2,o2){return i2<We||e2>=this.screenRightBoundary||o2<We||t2>this.screenBottomBoundary}isInsideGrid(e2,t2,i2,o2){return i2>=0&&e2<this.gridRightBoundary&&o2>=0&&t2<this.gridBottomBoundary}getViewportMatrix(){const e2=t.af([]);return t.M(e2,e2,[-100,-100,0]),e2}_projectCollisionBox(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2){let d3=1,_2=0,p3=0,m2=1;const f2=e2.anchorPointX+n2[0],g2=e2.anchorPointY+n2[1];if(s2&&!a2){const e3=this.projectAndGetPerspectiveRatio(f2+1,g2,r2,c3,u2),t2=e3.x-l2.x,i3=Math.atan((e3.y-l2.y)/t2)+(t2<0?Math.PI:0),o3=Math.sin(i3),a3=Math.cos(i3);d3=a3,_2=o3,p3=-o3,m2=a3}else if(!s2&&a2){const e3=Se(this.transform);d3=e3.vecEast[0],_2=e3.vecEast[1],p3=e3.vecSouth[0],m2=e3.vecSouth[1]}let v2=l2.x,b2=l2.y,x2=i2;a2&&(v2=f2,b2=g2,x2=Math.pow(2,-(this.transform.zoom-o2.overscaledZ)),x2*=this.transform.getPitchedTextCorrection(f2,g2,r2),h3||(x2*=t.ag(.5+l2.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),h3&&(v2+=d3*h3.x*x2+p3*h3.y*x2,b2+=_2*h3.x*x2+m2*h3.y*x2);const y2=e2.x1*x2,w2=e2.x2*x2,T2=(y2+w2)/2,P2=e2.y1*x2,C2=e2.y2*x2,I2=(P2+C2)/2,M2=[{offsetX:y2,offsetY:P2},{offsetX:T2,offsetY:P2},{offsetX:w2,offsetY:P2},{offsetX:w2,offsetY:I2},{offsetX:w2,offsetY:C2},{offsetX:T2,offsetY:C2},{offsetX:y2,offsetY:C2},{offsetX:y2,offsetY:I2}];let S2=[];for(const{offsetX:e3,offsetY:i3}of M2)S2.push(new t.P(v2+d3*e3+p3*i3,b2+_2*e3+m2*i3));let E3=!1;if(a2){const e3=S2.map(e4=>this.projectAndGetPerspectiveRatio(e4.x,e4.y,r2,c3,u2));E3=e3.some(e4=>!e4.isOccluded),S2=e3.map(e4=>new t.P(e4.x,e4.y))}else E3=!0;return{box:t.az(S2),allPointsOccluded:!E3}}};__name(_He,"He");let He=_He;const _Xe=class _Xe{constructor(e2,t2,i2,o2){this.opacity=e2?Math.max(0,Math.min(1,e2.opacity+(e2.placed?t2:-t2))):o2&&i2?1:0,this.placed=i2}isHidden(){return this.opacity===0&&!this.placed}};__name(_Xe,"Xe");let Xe=_Xe;const _Ke=class _Ke{constructor(e2,t2,i2,o2,r2){this.text=new Xe(e2?e2.text:null,t2,i2,r2),this.icon=new Xe(e2?e2.icon:null,t2,o2,r2)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}};__name(_Ke,"Ke");let Ke=_Ke;const _Ye=class _Ye{constructor(e2,t2,i2){this.text=e2,this.icon=t2,this.skipFade=i2}};__name(_Ye,"Ye");let Ye=_Ye;const _Qe=class _Qe{constructor(e2,t2,i2,o2,r2){this.bucketInstanceId=e2,this.featureIndex=t2,this.sourceLayerIndex=i2,this.bucketIndex=o2,this.tileID=r2}};__name(_Qe,"Qe");let Qe=_Qe;const _Je=class _Je{constructor(e2){this.crossSourceCollisions=e2,this.maxGroupID=0,this.collisionGroups={}}get(e2){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e2]){const t2=++this.maxGroupID;this.collisionGroups[e2]={ID:t2,predicate:__name(e3=>e3.collisionGroupID===t2,"predicate")}}return this.collisionGroups[e2]}};__name(_Je,"Je");let Je=_Je;function et(e2,i2,o2,r2,a2){const{horizontalAlign:s2,verticalAlign:n2}=t.aG(e2);return new t.P(-(s2-.5)*i2+r2[0]*a2,-(n2-.5)*o2+r2[1]*a2)}__name(et,"et");const _tt=class _tt{constructor(e2,t2,i2,o2,r2){this.transform=e2.clone(),this.terrain=t2,this.collisionIndex=new He(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=i2,this.retainedQueryData={},this.collisionGroups=new Je(o2),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=r2,r2&&(r2.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e2){const t2=this.terrain;return t2?(i2,o2)=>t2.getElevation(e2,i2,o2):null}getBucketParts(e2,i2,o2,r2){const a2=o2.getBucket(i2),s2=o2.latestFeatureIndex;if(!a2||!s2||i2.id!==a2.layerIds[0])return;const n2=o2.collisionBoxArray,l2=a2.layers[0].layout,c3=a2.layers[0].paint,h3=Math.pow(2,this.transform.zoom-o2.tileID.overscaledZ),u2=o2.tileSize/t.$,d3=o2.tileID.toUnwrapped(),_2=l2.get("text-rotation-alignment")==="map",p3=t.aB(o2,1,this.transform.zoom),m2=t.aC(this.collisionIndex.transform,o2,c3.get("text-translate"),c3.get("text-translate-anchor")),f2=t.aC(this.collisionIndex.transform,o2,c3.get("icon-translate"),c3.get("icon-translate-anchor")),g2=Ie(_2,this.transform,p3);this.retainedQueryData[a2.bucketInstanceId]=new Qe(a2.bucketInstanceId,s2,a2.sourceLayerIndex,a2.index,o2.tileID);const v2={bucket:a2,layout:l2,translationText:m2,translationIcon:f2,unwrappedTileID:d3,pitchedLabelPlaneMatrix:g2,scale:h3,textPixelRatio:u2,holdingForFade:o2.holdingForFade(),collisionBoxArray:n2,partiallyEvaluatedTextSize:t.am(a2.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a2.sourceID)};if(r2)for(const t2 of a2.sortKeyRanges){const{sortKey:i3,symbolInstanceStart:o3,symbolInstanceEnd:r3}=t2;e2.push({sortKey:i3,symbolInstanceStart:o3,symbolInstanceEnd:r3,parameters:v2})}else e2.push({symbolInstanceStart:0,symbolInstanceEnd:a2.symbolInstances.length,parameters:v2})}attemptAnchorPlacement(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2,p3,m2,f2,g2,v2,b2,x2){const y2=t.aD[e2.textAnchor],w2=[e2.textOffset0,e2.textOffset1],T2=et(y2,o2,r2,w2,a2),P2=this.collisionIndex.placeCollisionBox(i2,d3,l2,c3,h3,n2,s2,f2,u2.predicate,b2,T2,x2);if((!v2||this.collisionIndex.placeCollisionBox(v2,d3,l2,c3,h3,n2,s2,g2,u2.predicate,b2,T2,x2).placeable)&&P2.placeable){let e3;if(this.prevPlacement&&this.prevPlacement.variableOffsets[_2.crossTileID]&&this.prevPlacement.placements[_2.crossTileID]&&this.prevPlacement.placements[_2.crossTileID].text&&(e3=this.prevPlacement.variableOffsets[_2.crossTileID].anchor),_2.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[_2.crossTileID]={textOffset:w2,width:o2,height:r2,anchor:y2,textBoxScale:a2,prevAnchor:e3},this.markUsedJustification(p3,y2,_2,m2),p3.allowVerticalPlacement&&(this.markUsedOrientation(p3,m2,_2),this.placedOrientations[_2.crossTileID]=m2),{shift:T2,placedGlyphBoxes:P2}}}placeLayerBucketPart(e2,i2,o2){const{bucket:r2,layout:a2,translationText:s2,translationIcon:n2,unwrappedTileID:l2,pitchedLabelPlaneMatrix:c3,textPixelRatio:h3,holdingForFade:u2,collisionBoxArray:d3,partiallyEvaluatedTextSize:_2,collisionGroup:p3}=e2.parameters,m2=a2.get("text-optional"),f2=a2.get("icon-optional"),g2=t.aE(a2,"text-overlap","text-allow-overlap"),v2=g2==="always",b2=t.aE(a2,"icon-overlap","icon-allow-overlap"),x2=b2==="always",y2=a2.get("text-rotation-alignment")==="map",w2=a2.get("text-pitch-alignment")==="map",T2=a2.get("icon-text-fit")!=="none",P2=a2.get("symbol-z-order")==="viewport-y",C2=v2&&(x2||!r2.hasIconData()||f2),I2=x2&&(v2||!r2.hasTextData()||m2);!r2.collisionArrays&&d3&&r2.deserializeCollisionBoxes(d3);const M2=this.retainedQueryData[r2.bucketInstanceId].tileID,S2=this._getTerrainElevationFunc(M2),E3=this.transform.getFastPathSimpleProjectionMatrix(M2),R2=__name((e3,d4,x3)=>{var P3,R3;if(i2[e3.crossTileID])return;if(u2)return void(this.placements[e3.crossTileID]=new Ye(!1,!1,!1));let z2=!1,D2=!1,A2=!0,L2=null,k2={box:null,placeable:!1,offscreen:null,occluded:!1},F2={placeable:!1},B3=null,O2=null,j2=null,N2=0,Z2=0,U2=0;d4.textFeatureIndex?N2=d4.textFeatureIndex:e3.useRuntimeCollisionCircles&&(N2=e3.featureIndex),d4.verticalTextFeatureIndex&&(Z2=d4.verticalTextFeatureIndex);const G2=d4.textBox;if(G2){const i3=__name(i4=>{let o3=t.an.horizontal;if(r2.allowVerticalPlacement&&!i4&&this.prevPlacement){const t2=this.prevPlacement.placedOrientations[e3.crossTileID];t2&&(this.placedOrientations[e3.crossTileID]=t2,o3=t2,this.markUsedOrientation(r2,o3,e3))}return o3},"i"),a3=__name((i4,o3)=>{if(r2.allowVerticalPlacement&&e3.numVerticalGlyphVertices>0&&d4.verticalTextBox){for(const e4 of r2.writingModes)if(e4===t.an.vertical?(k2=o3(),F2=k2):k2=i4(),k2&&k2.placeable)break}else k2=i4()},"a"),c4=e3.textAnchorOffsetStartIndex,u3=e3.textAnchorOffsetEndIndex;if(u3===c4){const o3=__name((t2,i4)=>{const o4=this.collisionIndex.placeCollisionBox(t2,g2,h3,M2,l2,w2,y2,s2,p3.predicate,S2,void 0,E3);return o4&&o4.placeable&&(this.markUsedOrientation(r2,i4,e3),this.placedOrientations[e3.crossTileID]=i4),o4},"o");a3(()=>o3(G2,t.an.horizontal),()=>{const i4=d4.verticalTextBox;return r2.allowVerticalPlacement&&e3.numVerticalGlyphVertices>0&&i4?o3(i4,t.an.vertical):{box:null,offscreen:null}}),i3(k2&&k2.placeable)}else{let _3=t.aD[(R3=(P3=this.prevPlacement)===null||P3===void 0?void 0:P3.variableOffsets[e3.crossTileID])===null||R3===void 0?void 0:R3.anchor];const m3=__name((t2,i4,a4)=>{const d5=t2.x2-t2.x1,m4=t2.y2-t2.y1,f4=e3.textBoxScale,v3=T2&&b2==="never"?i4:null;let x4=null,P4=g2==="never"?1:2,C3="never";_3&&P4++;for(let i5=0;i5<P4;i5++){for(let i6=c4;i6<u3;i6++){const o3=r2.textAnchorOffsets.get(i6);if(_3&&o3.textAnchor!==_3)continue;const c5=this.attemptAnchorPlacement(o3,t2,d5,m4,f4,y2,w2,h3,M2,l2,p3,C3,e3,r2,a4,s2,n2,v3,S2);if(c5&&(x4=c5.placedGlyphBoxes,x4&&x4.placeable))return z2=!0,L2=c5.shift,x4}_3?_3=null:C3=g2}return o2&&!x4&&(x4={box:this.collisionIndex.placeCollisionBox(G2,"always",h3,M2,l2,w2,y2,s2,p3.predicate,S2,void 0,E3).box,offscreen:!1,placeable:!1,occluded:!1}),x4},"m");a3(()=>m3(G2,d4.iconBox,t.an.horizontal),()=>{const i4=d4.verticalTextBox;return r2.allowVerticalPlacement&&(!k2||!k2.placeable)&&e3.numVerticalGlyphVertices>0&&i4?m3(i4,d4.verticalIconBox,t.an.vertical):{box:null,occluded:!0,offscreen:null}}),k2&&(z2=k2.placeable,A2=k2.offscreen);const f3=i3(k2&&k2.placeable);if(!z2&&this.prevPlacement){const t2=this.prevPlacement.variableOffsets[e3.crossTileID];t2&&(this.variableOffsets[e3.crossTileID]=t2,this.markUsedJustification(r2,t2.anchor,e3,f3))}}}if(B3=k2,z2=B3&&B3.placeable,A2=B3&&B3.offscreen,e3.useRuntimeCollisionCircles){const i3=r2.text.placedSymbolArray.get(e3.centerJustifiedTextSymbolIndex),n3=t.ao(r2.textSizeData,_2,i3),h4=a2.get("text-padding");O2=this.collisionIndex.placeCollisionCircles(g2,i3,r2.lineVertexArray,r2.glyphOffsetArray,n3,l2,c3,o2,w2,p3.predicate,e3.collisionCircleDiameter,h4,s2,S2),O2.circles.length&&O2.collisionDetected&&!o2&&t.w("Collisions detected, but collision boxes are not shown"),z2=v2||O2.circles.length>0&&!O2.collisionDetected,A2=A2&&O2.offscreen}if(d4.iconFeatureIndex&&(U2=d4.iconFeatureIndex),d4.iconBox){const e4=__name(e5=>this.collisionIndex.placeCollisionBox(e5,b2,h3,M2,l2,w2,y2,n2,p3.predicate,S2,T2&&L2?L2:void 0,E3),"e");F2&&F2.placeable&&d4.verticalIconBox?(j2=e4(d4.verticalIconBox),D2=j2.placeable):(j2=e4(d4.iconBox),D2=j2.placeable),A2=A2&&j2.offscreen}const V2=m2||e3.numHorizontalGlyphVertices===0&&e3.numVerticalGlyphVertices===0,$2=f2||e3.numIconVertices===0;V2||$2?$2?V2||(D2=D2&&z2):z2=D2&&z2:D2=z2=D2&&z2;const q3=D2&&j2.placeable;if(z2&&B3.placeable&&this.collisionIndex.insertCollisionBox(B3.box,g2,a2.get("text-ignore-placement"),r2.bucketInstanceId,F2&&F2.placeable&&Z2?Z2:N2,p3.ID),q3&&this.collisionIndex.insertCollisionBox(j2.box,b2,a2.get("icon-ignore-placement"),r2.bucketInstanceId,U2,p3.ID),O2&&z2&&this.collisionIndex.insertCollisionCircles(O2.circles,g2,a2.get("text-ignore-placement"),r2.bucketInstanceId,N2,p3.ID),o2&&this.storeCollisionData(r2.bucketInstanceId,x3,d4,B3,j2,O2),e3.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(r2.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[e3.crossTileID]=new Ye((z2||C2)&&!(B3!=null&&B3.occluded),(D2||I2)&&!(j2!=null&&j2.occluded),A2||r2.justReloaded),i2[e3.crossTileID]=!0},"R");if(P2){if(e2.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const t2=r2.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let e3=t2.length-1;e3>=0;--e3){const i3=t2[e3];R2(r2.symbolInstances.get(i3),r2.collisionArrays[i3],i3)}}else for(let t2=e2.symbolInstanceStart;t2<e2.symbolInstanceEnd;t2++)R2(r2.symbolInstances.get(t2),r2.collisionArrays[t2],t2);r2.justReloaded=!1}storeCollisionData(e2,t2,i2,o2,r2,a2){if(i2.textBox||i2.iconBox){let a3,s2;this.collisionBoxArrays.has(e2)?a3=this.collisionBoxArrays.get(e2):(a3=new Map,this.collisionBoxArrays.set(e2,a3)),a3.has(t2)?s2=a3.get(t2):(s2={text:null,icon:null},a3.set(t2,s2)),i2.textBox&&(s2.text=o2.box),i2.iconBox&&(s2.icon=r2.box)}if(a2){let t3=this.collisionCircleArrays[e2];t3===void 0&&(t3=this.collisionCircleArrays[e2]=[]);for(let e3=0;e3<a2.circles.length;e3+=4)t3.push(a2.circles[e3+0]-We),t3.push(a2.circles[e3+1]-We),t3.push(a2.circles[e3+2]),t3.push(a2.collisionDetected?1:0)}}markUsedJustification(e2,i2,o2,r2){let a2;a2=r2===t.an.vertical?o2.verticalPlacedTextSymbolIndex:{left:o2.leftJustifiedTextSymbolIndex,center:o2.centerJustifiedTextSymbolIndex,right:o2.rightJustifiedTextSymbolIndex}[t.aF(i2)];const s2=[o2.leftJustifiedTextSymbolIndex,o2.centerJustifiedTextSymbolIndex,o2.rightJustifiedTextSymbolIndex,o2.verticalPlacedTextSymbolIndex];for(const t2 of s2)t2>=0&&(e2.text.placedSymbolArray.get(t2).crossTileID=a2>=0&&t2!==a2?0:o2.crossTileID)}markUsedOrientation(e2,i2,o2){const r2=i2===t.an.horizontal||i2===t.an.horizontalOnly?i2:0,a2=i2===t.an.vertical?i2:0,s2=[o2.leftJustifiedTextSymbolIndex,o2.centerJustifiedTextSymbolIndex,o2.rightJustifiedTextSymbolIndex];for(const t2 of s2)e2.text.placedSymbolArray.get(t2).placedOrientation=r2;o2.verticalPlacedTextSymbolIndex&&(e2.text.placedSymbolArray.get(o2.verticalPlacedTextSymbolIndex).placedOrientation=a2)}commit(e2){this.commitTime=e2,this.zoomAtLastRecencyCheck=this.transform.zoom;const t2=this.prevPlacement;let i2=!1;this.prevZoomAdjustment=t2?t2.zoomAdjustment(this.transform.zoom):0;const o2=t2?t2.symbolFadeChange(e2):1,r2=t2?t2.opacities:{},a2=t2?t2.variableOffsets:{},s2=t2?t2.placedOrientations:{};for(const e3 in this.placements){const t3=this.placements[e3],a3=r2[e3];a3?(this.opacities[e3]=new Ke(a3,o2,t3.text,t3.icon),i2=i2||t3.text!==a3.text.placed||t3.icon!==a3.icon.placed):(this.opacities[e3]=new Ke(null,o2,t3.text,t3.icon,t3.skipFade),i2=i2||t3.text||t3.icon)}for(const e3 in r2){const t3=r2[e3];if(!this.opacities[e3]){const r3=new Ke(t3,o2,!1,!1);r3.isHidden()||(this.opacities[e3]=r3,i2=i2||t3.text.placed||t3.icon.placed)}}for(const e3 in a2)this.variableOffsets[e3]||!this.opacities[e3]||this.opacities[e3].isHidden()||(this.variableOffsets[e3]=a2[e3]);for(const e3 in s2)this.placedOrientations[e3]||!this.opacities[e3]||this.opacities[e3].isHidden()||(this.placedOrientations[e3]=s2[e3]);if(t2&&t2.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");i2?this.lastPlacementChangeTime=e2:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=t2?t2.lastPlacementChangeTime:e2)}updateLayerOpacities(e2,t2){const i2={};for(const o2 of t2){const t3=o2.getBucket(e2);t3&&o2.latestFeatureIndex&&e2.id===t3.layerIds[0]&&this.updateBucketOpacities(t3,o2.tileID,i2,o2.collisionBoxArray)}}updateBucketOpacities(e2,i2,o2,r2){e2.hasTextData()&&(e2.text.opacityVertexArray.clear(),e2.text.hasVisibleVertices=!1),e2.hasIconData()&&(e2.icon.opacityVertexArray.clear(),e2.icon.hasVisibleVertices=!1),e2.hasIconCollisionBoxData()&&e2.iconCollisionBox.collisionVertexArray.clear(),e2.hasTextCollisionBoxData()&&e2.textCollisionBox.collisionVertexArray.clear();const a2=e2.layers[0],s2=a2.layout,n2=new Ke(null,0,!1,!1,!0),l2=s2.get("text-allow-overlap"),c3=s2.get("icon-allow-overlap"),h3=a2._unevaluatedLayout.hasValue("text-variable-anchor")||a2._unevaluatedLayout.hasValue("text-variable-anchor-offset"),u2=s2.get("text-rotation-alignment")==="map",d3=s2.get("text-pitch-alignment")==="map",_2=s2.get("icon-text-fit")!=="none",p3=new Ke(null,0,l2&&(c3||!e2.hasIconData()||s2.get("icon-optional")),c3&&(l2||!e2.hasTextData()||s2.get("text-optional")),!0);!e2.collisionArrays&&r2&&(e2.hasIconCollisionBoxData()||e2.hasTextCollisionBoxData())&&e2.deserializeCollisionBoxes(r2);const m2=__name((e3,t2,i3)=>{for(let o3=0;o3<t2/4;o3++)e3.opacityVertexArray.emplaceBack(i3);e3.hasVisibleVertices=e3.hasVisibleVertices||i3!==ut},"m"),f2=this.collisionBoxArrays.get(e2.bucketInstanceId);for(let i3=0;i3<e2.symbolInstances.length;i3++){const r3=e2.symbolInstances.get(i3),{numHorizontalGlyphVertices:a3,numVerticalGlyphVertices:s3,crossTileID:l3}=r3;let c4=this.opacities[l3];o2[l3]?c4=n2:c4||(c4=p3,this.opacities[l3]=c4),o2[l3]=!0;const g2=r3.numIconVertices>0,v2=this.placedOrientations[r3.crossTileID],b2=v2===t.an.vertical,x2=v2===t.an.horizontal||v2===t.an.horizontalOnly;if(a3>0||s3>0){const t2=ht(c4.text);m2(e2.text,a3,b2?ut:t2),m2(e2.text,s3,x2?ut:t2);const i4=c4.text.isHidden();[r3.rightJustifiedTextSymbolIndex,r3.centerJustifiedTextSymbolIndex,r3.leftJustifiedTextSymbolIndex].forEach(t3=>{t3>=0&&(e2.text.placedSymbolArray.get(t3).hidden=i4||b2?1:0)}),r3.verticalPlacedTextSymbolIndex>=0&&(e2.text.placedSymbolArray.get(r3.verticalPlacedTextSymbolIndex).hidden=i4||x2?1:0);const o3=this.variableOffsets[r3.crossTileID];o3&&this.markUsedJustification(e2,o3.anchor,r3,v2);const n3=this.placedOrientations[r3.crossTileID];n3&&(this.markUsedJustification(e2,"left",r3,n3),this.markUsedOrientation(e2,n3,r3))}if(g2){const t2=ht(c4.icon),i4=!(_2&&r3.verticalPlacedIconSymbolIndex&&b2);r3.placedIconSymbolIndex>=0&&(m2(e2.icon,r3.numIconVertices,i4?t2:ut),e2.icon.placedSymbolArray.get(r3.placedIconSymbolIndex).hidden=c4.icon.isHidden()),r3.verticalPlacedIconSymbolIndex>=0&&(m2(e2.icon,r3.numVerticalIconVertices,i4?ut:t2),e2.icon.placedSymbolArray.get(r3.verticalPlacedIconSymbolIndex).hidden=c4.icon.isHidden())}const y2=f2&&f2.has(i3)?f2.get(i3):{text:null,icon:null};if(e2.hasIconCollisionBoxData()||e2.hasTextCollisionBoxData()){const o3=e2.collisionArrays[i3];if(o3){let i4=new t.P(0,0);if(o3.textBox||o3.verticalTextBox){let t2=!0;if(h3){const e3=this.variableOffsets[l3];e3?(i4=et(e3.anchor,e3.width,e3.height,e3.textOffset,e3.textBoxScale),u2&&i4._rotate(d3?-this.transform.bearingInRadians:this.transform.bearingInRadians)):t2=!1}if(o3.textBox||o3.verticalTextBox){let r4;o3.textBox&&(r4=b2),o3.verticalTextBox&&(r4=x2),it(e2.textCollisionBox.collisionVertexArray,c4.text.placed,!t2||r4,y2.text,i4.x,i4.y)}}if(o3.iconBox||o3.verticalIconBox){const t2=!!(!x2&&o3.verticalIconBox);let r4;o3.iconBox&&(r4=t2),o3.verticalIconBox&&(r4=!t2),it(e2.iconCollisionBox.collisionVertexArray,c4.icon.placed,r4,y2.icon,_2?i4.x:0,_2?i4.y:0)}}}}if(e2.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e2.bucketInstanceId]&&(this.retainedQueryData[e2.bucketInstanceId].featureSortOrder=e2.featureSortOrder),e2.hasTextData()&&e2.text.opacityVertexBuffer&&e2.text.opacityVertexBuffer.updateData(e2.text.opacityVertexArray),e2.hasIconData()&&e2.icon.opacityVertexBuffer&&e2.icon.opacityVertexBuffer.updateData(e2.icon.opacityVertexArray),e2.hasIconCollisionBoxData()&&e2.iconCollisionBox.collisionVertexBuffer&&e2.iconCollisionBox.collisionVertexBuffer.updateData(e2.iconCollisionBox.collisionVertexArray),e2.hasTextCollisionBoxData()&&e2.textCollisionBox.collisionVertexBuffer&&e2.textCollisionBox.collisionVertexBuffer.updateData(e2.textCollisionBox.collisionVertexArray),e2.text.opacityVertexArray.length!==e2.text.layoutVertexArray.length/4)throw new Error("bucket.text.opacityVertexArray.length (= ".concat(e2.text.opacityVertexArray.length,") !== bucket.text.layoutVertexArray.length (= ").concat(e2.text.layoutVertexArray.length,") / 4"));if(e2.icon.opacityVertexArray.length!==e2.icon.layoutVertexArray.length/4)throw new Error("bucket.icon.opacityVertexArray.length (= ".concat(e2.icon.opacityVertexArray.length,") !== bucket.icon.layoutVertexArray.length (= ").concat(e2.icon.layoutVertexArray.length,") / 4"));e2.bucketInstanceId in this.collisionCircleArrays&&(e2.collisionCircleArray=this.collisionCircleArrays[e2.bucketInstanceId],delete this.collisionCircleArrays[e2.bucketInstanceId])}symbolFadeChange(e2){return this.fadeDuration===0?1:(e2-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e2){return Math.max(0,(this.transform.zoom-e2)/1.5)}hasTransitions(e2){return this.stale||e2-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e2,t2){const i2=this.zoomAtLastRecencyCheck===t2?1-this.zoomAdjustment(t2):1;return this.zoomAtLastRecencyCheck=t2,this.commitTime+this.fadeDuration*i2>e2}setStale(){this.stale=!0}};__name(_tt,"tt");let tt2=_tt;function it(e2,t2,i2,o2,r2,a2){o2&&o2.length!==0||(o2=[0,0,0,0]);const s2=o2[0]-We,n2=o2[1]-We,l2=o2[2]-We,c3=o2[3]-We;e2.emplaceBack(t2?1:0,i2?1:0,r2||0,a2||0,s2,n2),e2.emplaceBack(t2?1:0,i2?1:0,r2||0,a2||0,l2,n2),e2.emplaceBack(t2?1:0,i2?1:0,r2||0,a2||0,l2,c3),e2.emplaceBack(t2?1:0,i2?1:0,r2||0,a2||0,s2,c3)}__name(it,"it");const ot=Math.pow(2,25),rt=Math.pow(2,24),at=Math.pow(2,17),st=Math.pow(2,16),nt=Math.pow(2,9),lt=Math.pow(2,8),ct=Math.pow(2,1);function ht(e2){if(e2.opacity===0&&!e2.placed)return 0;if(e2.opacity===1&&e2.placed)return 4294967295;const t2=e2.placed?1:0,i2=Math.floor(127*e2.opacity);return i2*ot+t2*rt+i2*at+t2*st+i2*nt+t2*lt+i2*ct+t2}__name(ht,"ht");const ut=0,_dt=class _dt{constructor(e2){this._sortAcrossTiles=e2.layout.get("symbol-z-order")!=="viewport-y"&&!e2.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e2,t2,i2,o2,r2){const a2=this._bucketParts;for(;this._currentTileIndex<e2.length;)if(t2.getBucketParts(a2,o2,e2[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r2())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a2.sort((e3,t3)=>e3.sortKey-t3.sortKey));this._currentPartIndex<a2.length;)if(t2.placeLayerBucketPart(a2[this._currentPartIndex],this._seenCrossTileIDs,i2),this._currentPartIndex++,r2())return!0;return!1}};__name(_dt,"dt");let dt2=_dt;const __t=class __t{constructor(e2,t2,i2,o2,r2,a2,s2,n2){this.placement=new tt2(e2,t2,a2,s2,n2),this._currentPlacementIndex=i2.length-1,this._forceFullPlacement=o2,this._showCollisionBoxes=r2,this._done=!1}isDone(){return this._done}continuePlacement(e2,t2,i2){const o2=s.now(),r2=__name(()=>!this._forceFullPlacement&&s.now()-o2>2,"r");for(;this._currentPlacementIndex>=0;){const o3=t2[e2[this._currentPlacementIndex]],a2=this.placement.collisionIndex.transform.zoom;if(o3.type==="symbol"&&(!o3.minzoom||o3.minzoom<=a2)&&(!o3.maxzoom||o3.maxzoom>a2)){if(this._inProgressLayer||(this._inProgressLayer=new dt2(o3)),this._inProgressLayer.continuePlacement(i2[o3.source],this.placement,this._showCollisionBoxes,o3,r2))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e2){return this.placement.commit(e2),this.placement}};__name(__t,"_t");let _t=__t;const pt2=512/t.$/2,_mt=class _mt{constructor(e2,i2,o2){this.tileID=e2,this.bucketInstanceId=o2,this._symbolsByKey={};const r2=new Map;for(let e3=0;e3<i2.length;e3++){const t2=i2.get(e3),o3=t2.key,a2=r2.get(o3);a2?a2.push(t2):r2.set(o3,[t2])}for(const[e3,i3]of r2){const o3={positions:i3.map(e4=>({x:Math.floor(e4.anchorX*pt2),y:Math.floor(e4.anchorY*pt2)})),crossTileIDs:i3.map(e4=>e4.crossTileID)};if(o3.positions.length>128){const e4=new t.aH(o3.positions.length,16,Uint16Array);for(const{x:t2,y:i4}of o3.positions)e4.add(t2,i4);e4.finish(),delete o3.positions,o3.index=e4}this._symbolsByKey[e3]=o3}}getScaledCoordinates(e2,i2){const{x:o2,y:r2,z:a2}=this.tileID.canonical,{x:s2,y:n2,z:l2}=i2.canonical,c3=pt2/Math.pow(2,l2-a2),h3=(n2*t.$+e2.anchorY)*c3,u2=r2*t.$*pt2;return{x:Math.floor((s2*t.$+e2.anchorX)*c3-o2*t.$*pt2),y:Math.floor(h3-u2)}}findMatches(e2,t2,i2){const o2=this.tileID.canonical.z<t2.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t2.canonical.z);for(let r2=0;r2<e2.length;r2++){const a2=e2.get(r2);if(a2.crossTileID)continue;const s2=this._symbolsByKey[a2.key];if(!s2)continue;const n2=this.getScaledCoordinates(a2,t2);if(s2.index){const e3=s2.index.range(n2.x-o2,n2.y-o2,n2.x+o2,n2.y+o2).sort();for(const t3 of e3){const e4=s2.crossTileIDs[t3];if(!i2[e4]){i2[e4]=!0,a2.crossTileID=e4;break}}}else if(s2.positions)for(let e3=0;e3<s2.positions.length;e3++){const t3=s2.positions[e3],r3=s2.crossTileIDs[e3];if(Math.abs(t3.x-n2.x)<=o2&&Math.abs(t3.y-n2.y)<=o2&&!i2[r3]){i2[r3]=!0,a2.crossTileID=r3;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e2})=>e2)}};__name(_mt,"mt");let mt=_mt;const _ft=class _ft{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}};__name(_ft,"ft");let ft=_ft;const _gt=class _gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e2){const t2=Math.round((e2-this.lng)/360);if(t2!==0)for(const e3 in this.indexes){const i2=this.indexes[e3],o2={};for(const e4 in i2){const r2=i2[e4];r2.tileID=r2.tileID.unwrapTo(r2.tileID.wrap+t2),o2[r2.tileID.key]=r2}this.indexes[e3]=o2}this.lng=e2}addBucket(e2,t2,i2){if(this.indexes[e2.overscaledZ]&&this.indexes[e2.overscaledZ][e2.key]){if(this.indexes[e2.overscaledZ][e2.key].bucketInstanceId===t2.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e2.overscaledZ,this.indexes[e2.overscaledZ][e2.key])}for(let e3=0;e3<t2.symbolInstances.length;e3++)t2.symbolInstances.get(e3).crossTileID=0;this.usedCrossTileIDs[e2.overscaledZ]||(this.usedCrossTileIDs[e2.overscaledZ]={});const o2=this.usedCrossTileIDs[e2.overscaledZ];for(const i3 in this.indexes){const r2=this.indexes[i3];if(Number(i3)>e2.overscaledZ)for(const i4 in r2){const a2=r2[i4];a2.tileID.isChildOf(e2)&&a2.findMatches(t2.symbolInstances,e2,o2)}else{const a2=r2[e2.scaledTo(Number(i3)).key];a2&&a2.findMatches(t2.symbolInstances,e2,o2)}}for(let e3=0;e3<t2.symbolInstances.length;e3++){const r2=t2.symbolInstances.get(e3);r2.crossTileID||(r2.crossTileID=i2.generate(),o2[r2.crossTileID]=!0)}return this.indexes[e2.overscaledZ]===void 0&&(this.indexes[e2.overscaledZ]={}),this.indexes[e2.overscaledZ][e2.key]=new mt(e2,t2.symbolInstances,t2.bucketInstanceId),!0}removeBucketCrossTileIDs(e2,t2){for(const i2 of t2.getCrossTileIDsLists())for(const t3 of i2)delete this.usedCrossTileIDs[e2][t3]}removeStaleBuckets(e2){let t2=!1;for(const i2 in this.indexes){const o2=this.indexes[i2];for(const r2 in o2)e2[o2[r2].bucketInstanceId]||(this.removeBucketCrossTileIDs(i2,o2[r2]),delete o2[r2],t2=!0)}return t2}};__name(_gt,"gt");let gt=_gt;const _vt=class _vt{constructor(){this.layerIndexes={},this.crossTileIDs=new ft,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e2,t2,i2){let o2=this.layerIndexes[e2.id];o2===void 0&&(o2=this.layerIndexes[e2.id]=new gt);let r2=!1;const a2={};o2.handleWrapJump(i2);for(const i3 of t2){const t3=i3.getBucket(e2);t3&&e2.id===t3.layerIds[0]&&(t3.bucketInstanceId||(t3.bucketInstanceId=++this.maxBucketInstanceId),o2.addBucket(i3.tileID,t3,this.crossTileIDs)&&(r2=!0),a2[t3.bucketInstanceId]=!0)}return o2.removeStaleBuckets(a2)&&(r2=!0),r2}pruneUnusedLayers(e2){const t2={};e2.forEach(e3=>{t2[e3]=!0});for(const e3 in this.layerIndexes)t2[e3]||delete this.layerIndexes[e3]}};__name(_vt,"vt");let vt2=_vt;var bt="void main() {fragColor=vec4(1.0);}";const xt={prelude:yt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nout highp vec4 fragColor;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c\n);}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\n#ifdef GLOBE\nif ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}\n#endif\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;"),projectionMercator:yt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:yt("","#define GLOBE_RADIUS 6371008.8\nuniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos\n);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); \nif (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len\n);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}"),background:yt("uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:yt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:yt("in vec3 v_data;in float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {\n#ifdef GLOBE\nvec3 center_vector=projectToSphere(circle_center);\n#endif\nfloat angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {\n#ifdef GLOBE\nvec4 projected_center=interpolateProjection(circle_center,center_vector,ele);\n#else\nvec4 projected_center=projectTileWithElevation(circle_center,ele);\n#endif\ncorner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}\n#ifdef GLOBE\nvec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);\n#else\ngl_Position=projectTileWithElevation(corner_position,ele);\n#endif\n} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:yt(bt,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:yt("uniform highp float u_intensity;in vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);\n#ifdef GLOBE\nvec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);\n#else\ngl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));\n#endif\n}"),heatmapTexture:yt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:yt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:yt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else\n{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:yt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:yt(bt,"in vec2 a_pos;void main() {\n#ifdef GLOBE\ngl_Position=projectTileFor3D(a_pos,0.0);\n#else\ngl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);\n#endif\n}"),fill:yt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nfragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_fill_translate;in vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);}"),fillOutline:yt("in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillOutlinePattern:yt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillPattern:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:yt("in vec4 v_color;void main() {fragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\nout vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);\n#ifdef GLOBE\nmat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);\n#endif\ndirectional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:yt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\n#ifdef GLOBE\nout vec3 v_sphere_pos;\n#endif\nout vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nvec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:yt("uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];\n#define PI 3.141592653589793\n#define STANDARD 0\n#define COMBINED 1\n#define IGOR 2\n#define MULTIDIRECTIONAL 3\n#define BASIC 4\nfloat get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else\n{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else\n{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:yt("uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:yt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:yt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:yt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:yt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;\n#ifdef GLOBE\nif (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}\n#endif\nv_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:yt("uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:yt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:yt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:yt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:yt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:yt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:yt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:yt("in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758\n);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}","in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:yt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function yt(e2,t2){const i2=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o2=t2.match(/in ([\w]+) ([\w]+)/g),r2=e2.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a2=t2.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),s2=a2?a2.concat(r2):r2,n2={};return{fragmentSource:e2=e2.replace(i2,(e3,t3,i3,o3,r3)=>(n2[r3]=!0,t3==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\nin ").concat(i3," ").concat(o3," ").concat(r3,";\n#else\nuniform ").concat(i3," ").concat(o3," u_").concat(r3,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(r3,"\n    ").concat(i3," ").concat(o3," ").concat(r3," = u_").concat(r3,";\n#endif\n"))),vertexSource:t2=t2.replace(i2,(e3,t3,i3,o3,r3)=>{const a3=o3==="float"?"vec2":"vec4",s3=r3.match(/color/)?"color":a3;return n2[r3]?t3==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\nuniform lowp float u_").concat(r3,"_t;\nin ").concat(i3," ").concat(a3," a_").concat(r3,";\nout ").concat(i3," ").concat(o3," ").concat(r3,";\n#else\nuniform ").concat(i3," ").concat(o3," u_").concat(r3,";\n#endif\n"):s3==="vec4"?"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\n    ").concat(r3," = a_").concat(r3,";\n#else\n    ").concat(i3," ").concat(o3," ").concat(r3," = u_").concat(r3,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\n    ").concat(r3," = unpack_mix_").concat(s3,"(a_").concat(r3,", u_").concat(r3,"_t);\n#else\n    ").concat(i3," ").concat(o3," ").concat(r3," = u_").concat(r3,";\n#endif\n"):t3==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\nuniform lowp float u_").concat(r3,"_t;\nin ").concat(i3," ").concat(a3," a_").concat(r3,";\n#else\nuniform ").concat(i3," ").concat(o3," u_").concat(r3,";\n#endif\n"):s3==="vec4"?"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\n    ").concat(i3," ").concat(o3," ").concat(r3," = a_").concat(r3,";\n#else\n    ").concat(i3," ").concat(o3," ").concat(r3," = u_").concat(r3,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r3,"\n    ").concat(i3," ").concat(o3," ").concat(r3," = unpack_mix_").concat(s3,"(a_").concat(r3,", u_").concat(r3,"_t);\n#else\n    ").concat(i3," ").concat(o3," ").concat(r3," = u_").concat(r3,";\n#endif\n")}),staticAttributes:o2,staticUniforms:s2}}__name(yt,"yt");const _wt=class _wt{constructor(e2,t2,i2){this.vertexBuffer=e2,this.indexBuffer=t2,this.segments=i2}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}};__name(_wt,"wt");let wt=_wt;var Tt=t.aI([{name:"a_pos",type:"Int16",components:2}]);const Pt="#define PROJECTION_MERCATOR",Ct="mercator",_It=class _It{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Ct}get shaderDefine(){return Pt}get shaderPreludeCode(){return xt.projectionMercator}get vertexShaderPreludeCode(){return xt.projectionMercator.vertexSource}get subdivisionGranularity(){return t.aJ.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e2){}getMeshFromTileID(e2,i2,o2,r2,a2){if(this._cachedMesh)return this._cachedMesh;const s2=new t.aK;s2.emplaceBack(0,0),s2.emplaceBack(t.$,0),s2.emplaceBack(0,t.$),s2.emplaceBack(t.$,t.$);const n2=e2.createVertexBuffer(s2,Tt.members),l2=t.aL.simpleSegment(0,0,4,2),c3=new t.aM;c3.emplaceBack(1,0,2),c3.emplaceBack(1,2,3);const h3=e2.createIndexBuffer(c3);return this._cachedMesh=new wt(n2,h3,l2),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e2){}};__name(_It,"It");let It=_It;const _Mt=class _Mt{constructor(e2=0,t2=0,i2=0,o2=0){if(isNaN(e2)||e2<0||isNaN(t2)||t2<0||isNaN(i2)||i2<0||isNaN(o2)||o2<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e2,this.bottom=t2,this.left=i2,this.right=o2}interpolate(e2,i2,o2){return i2.top!=null&&e2.top!=null&&(this.top=t.C.number(e2.top,i2.top,o2)),i2.bottom!=null&&e2.bottom!=null&&(this.bottom=t.C.number(e2.bottom,i2.bottom,o2)),i2.left!=null&&e2.left!=null&&(this.left=t.C.number(e2.left,i2.left,o2)),i2.right!=null&&e2.right!=null&&(this.right=t.C.number(e2.right,i2.right,o2)),this}getCenter(e2,i2){const o2=t.ag((this.left+e2-this.right)/2,0,e2),r2=t.ag((this.top+i2-this.bottom)/2,0,i2);return new t.P(o2,r2)}equals(e2){return this.top===e2.top&&this.bottom===e2.bottom&&this.left===e2.left&&this.right===e2.right}clone(){return new _Mt(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}};__name(_Mt,"Mt");let Mt2=_Mt;function St(e2,t2){if(!e2.renderWorldCopies||e2.lngRange)return;const i2=t2.lng-e2.center.lng;t2.lng+=i2>180?-360:i2<-180?360:0}__name(St,"St");function Et(e2){return Math.max(0,Math.floor(e2))}__name(Et,"Et");const _Rt=class _Rt{constructor(e2,i2,o2,r2,a2,s2){this._callbacks=e2,this._tileSize=512,this._renderWorldCopies=s2===void 0||!!s2,this._minZoom=i2||0,this._maxZoom=o2||22,this._minPitch=r2==null?0:r2,this._maxPitch=a2==null?60:a2,this.setMaxBounds(),this._width=0,this._height=0,this._center=new t.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Et(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Mt2,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e2,i2,o2){this._latRange=e2.latRange,this._lngRange=e2.lngRange,this._width=e2.width,this._height=e2.height,this._center=e2.center,this._elevation=e2.elevation,this._minElevationForCurrentTile=e2.minElevationForCurrentTile,this._zoom=e2.zoom,this._tileZoom=Et(this._zoom),this._scale=t.ae(this._zoom),this._bearingInRadians=e2.bearingInRadians,this._fovInRadians=e2.fovInRadians,this._pitchInRadians=e2.pitchInRadians,this._rollInRadians=e2.rollInRadians,this._unmodified=e2.unmodified,this._edgeInsets=new Mt2(e2.padding.top,e2.padding.bottom,e2.padding.left,e2.padding.right),this._minZoom=e2.minZoom,this._maxZoom=e2.maxZoom,this._minPitch=e2.minPitch,this._maxPitch=e2.maxPitch,this._renderWorldCopies=e2.renderWorldCopies,this._cameraToCenterDistance=e2.cameraToCenterDistance,this._nearZ=e2.nearZ,this._farZ=e2.farZ,this._autoCalculateNearFarZ=!o2&&e2.autoCalculateNearFarZ,i2&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e2){this._minElevationForCurrentTile=e2}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e2){this._minZoom!==e2&&(this._minZoom=e2,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e2){this._maxZoom!==e2&&(this._maxZoom=e2,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e2){this._minPitch!==e2&&(this._minPitch=e2,this.setPitch(Math.max(this.pitch,e2)))}get maxPitch(){return this._maxPitch}setMaxPitch(e2){this._maxPitch!==e2&&(this._maxPitch=e2,this.setPitch(Math.min(this.pitch,e2)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e2){e2===void 0?e2=!0:e2===null&&(e2=!1),this._renderWorldCopies=e2}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e2){const i2=t.aN(e2,-180,180)*Math.PI/180;var r2,a2,s2,n2,l2,c3,h3,u2,d3;this._bearingInRadians!==i2&&(this._unmodified=!1,this._bearingInRadians=i2,this._calcMatrices(),this._rotationMatrix=o(),r2=this._rotationMatrix,s2=-this._bearingInRadians,n2=(a2=this._rotationMatrix)[0],l2=a2[1],c3=a2[2],h3=a2[3],u2=Math.sin(s2),d3=Math.cos(s2),r2[0]=n2*d3+c3*u2,r2[1]=l2*d3+h3*u2,r2[2]=n2*-u2+c3*d3,r2[3]=l2*-u2+h3*d3)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e2){const i2=t.ag(e2,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==i2&&(this._unmodified=!1,this._pitchInRadians=i2,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e2){const t2=e2/180*Math.PI;this._rollInRadians!==t2&&(this._unmodified=!1,this._rollInRadians=t2,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return t.aO(this._fovInRadians)}setFov(e2){e2=t.ag(e2,.1,150),this.fov!==e2&&(this._unmodified=!1,this._fovInRadians=t.ad(e2),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e2){const i2=this.getConstrained(this._center,e2).zoom;this._zoom!==i2&&(this._unmodified=!1,this._zoom=i2,this._tileZoom=Math.max(0,Math.floor(i2)),this._scale=t.ae(i2),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e2){e2.lat===this._center.lat&&e2.lng===this._center.lng||(this._unmodified=!1,this._center=e2,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e2){e2!==this._elevation&&(this._elevation=e2,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e2){this._edgeInsets.equals(e2)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e2,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e2,t2){this._autoCalculateNearFarZ=!1,this._nearZ=e2,this._farZ=t2,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e2){return this._edgeInsets.equals(e2)}interpolatePadding(e2,t2,i2){this._unmodified=!1,this._edgeInsets.interpolate(e2,t2,i2),this._constrain(),this._calcMatrices()}resize(e2,t2,i2=!0){this._width=e2,this._height=t2,i2&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new G([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e2){e2?(this._lngRange=[e2.getWest(),e2.getEast()],this._latRange=[e2.getSouth(),e2.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-t.ah,t.ah])}getConstrained(e2,t2){return this._callbacks.getConstrained(e2,t2)}getCameraQueryGeometry(e2,i2){if(i2.length===1)return[i2[0],e2];{const{minX:o2,minY:r2,maxX:a2,maxY:s2}=t.a1.fromPoints(i2).extend(e2);return[new t.P(o2,r2),new t.P(a2,r2),new t.P(a2,s2),new t.P(o2,s2),new t.P(o2,r2)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e2=this._unmodified,{center:t2,zoom:i2}=this.getConstrained(this.center,this.zoom);this.setCenter(t2),this.setZoom(i2),this._unmodified=e2,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e2=t.af(new Float64Array(16));t.N(e2,e2,[this._width/2,-this._height/2,1]),t.M(e2,e2,[1,-1,0]),this._clipSpaceToPixelsMatrix=e2,e2=t.af(new Float64Array(16)),t.N(e2,e2,[1,-1,1]),t.M(e2,e2,[-1,-1,0]),t.N(e2,e2,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e2,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e2,i2,o2,r2){const a2=o2!==void 0?o2:this.bearing,s2=r2=r2!==void 0?r2:this.pitch,n2=t.a0.fromLngLat(e2,i2),l2=-Math.cos(t.ad(s2)),c3=Math.sin(t.ad(s2)),h3=c3*Math.sin(t.ad(a2)),u2=-c3*Math.cos(t.ad(a2));let d3=this.elevation;const _2=i2-d3;let p3;l2*_2>=0||Math.abs(l2)<.1?(p3=1e4,d3=i2+p3*l2):p3=-_2/l2;let m2,f2,g2=t.aP(1,n2.y),v2=0;do{if(v2+=1,v2>10)break;f2=p3/g2,m2=new t.a0(n2.x+h3*f2,n2.y+u2*f2),g2=1/m2.meterInMercatorCoordinateUnits()}while(Math.abs(p3-f2*g2)>1e-12);return{center:m2.toLngLat(),elevation:d3,zoom:t.aj(this.height/2/Math.tan(this.fovInRadians/2)/f2/this.tileSize)}}recalculateZoomAndCenter(e2){if(this.elevation-e2==0)return;const i2=t.ai(1,this.center.lat)*this.worldSize,o2=this.cameraToCenterDistance/i2,r2=t.a0.fromLngLat(this.center,this.elevation),a2=de(this.center,this.elevation,this.pitch,this.bearing,o2);this._elevation=e2;const s2=this.calculateCenterFromCameraLngLatAlt(a2.toLngLat(),t.aP(a2.z,r2.y),this.bearing,this.pitch);this._elevation=s2.elevation,this._center=s2.center,this.setZoom(s2.zoom)}getCameraPoint(){const e2=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(e2*Math.sin(this.rollInRadians),e2*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e2=t.ai(1,this.center.lat)*this.worldSize;return de(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e2).toLngLat()}getMercatorTileCoordinates(e2){if(!e2)return[0,0,1,1];const i2=e2.canonical.z>=0?1<<e2.canonical.z:Math.pow(2,e2.canonical.z);return[e2.canonical.x/i2,e2.canonical.y/i2,1/i2/t.$,1/i2/t.$]}};__name(_Rt,"Rt");let Rt=_Rt;const _zt=class _zt{constructor(e2,i2){this.min=e2,this.max=i2,this.center=t.aQ([],t.aR([],this.min,this.max),.5)}quadrant(e2){const i2=[e2%2==0,e2<2],o2=t.aS(this.min),r2=t.aS(this.max);for(let e3=0;e3<i2.length;e3++)o2[e3]=i2[e3]?this.min[e3]:this.center[e3],r2[e3]=i2[e3]?this.center[e3]:this.max[e3];return r2[2]=this.max[2],new _zt(o2,r2)}distanceX(e2){return Math.max(Math.min(this.max[0],e2[0]),this.min[0])-e2[0]}distanceY(e2){return Math.max(Math.min(this.max[1],e2[1]),this.min[1])-e2[1]}intersectsFrustum(e2){let t2=!0;for(let i2=0;i2<e2.planes.length;i2++){const o2=this.intersectsPlane(e2.planes[i2]);if(o2===0)return 0;o2===1&&(t2=!1)}return t2?2:e2.aabb.min[0]>this.max[0]||e2.aabb.min[1]>this.max[1]||e2.aabb.min[2]>this.max[2]||e2.aabb.max[0]<this.min[0]||e2.aabb.max[1]<this.min[1]||e2.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e2){let t2=e2[3],i2=e2[3];for(let o2=0;o2<3;o2++)e2[o2]>0?(t2+=e2[o2]*this.min[o2],i2+=e2[o2]*this.max[o2]):(i2+=e2[o2]*this.min[o2],t2+=e2[o2]*this.max[o2]);return t2>=0?2:i2<0?0:1}};__name(_zt,"zt");let zt2=_zt;const _Dt=class _Dt{distanceToTile2d(e2,t2,i2,o2){const r2=o2.distanceX([e2,t2]),a2=o2.distanceY([e2,t2]);return Math.hypot(r2,a2)}getWrap(e2,t2,i2){return i2}getTileBoundingVolume(e2,i2,o2,r2){var a2,s2;let n2=o2,l2=o2;if(r2!=null&&r2.terrain){const c4=new t.Z(e2.z,i2,e2.z,e2.x,e2.y),h3=r2.terrain.getMinMaxElevation(c4);n2=(a2=h3.minElevation)!==null&&a2!==void 0?a2:o2,l2=(s2=h3.maxElevation)!==null&&s2!==void 0?s2:o2}const c3=1<<e2.z;return new zt2([i2+e2.x/c3,e2.y/c3,n2],[i2+(e2.x+1)/c3,(e2.y+1)/c3,l2])}allowVariableZoom(e2,i2){const o2=e2.fov*(Math.abs(Math.cos(e2.rollInRadians))*e2.height+Math.abs(Math.sin(e2.rollInRadians))*e2.width)/e2.height,r2=t.ag(78.5-o2/2,0,60);return!!i2.terrain||e2.pitch>r2}allowWorldCopies(){return!0}prepareNextFrame(){}};__name(_Dt,"Dt");let Dt=_Dt;const _At=class _At{constructor(e2,t2,i2){this.points=e2,this.planes=t2,this.aabb=i2}static fromInvProjectionMatrix(e2,i2=1,o2=0,r2,a2){const s2=a2?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],n2=Math.pow(2,o2),l2=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(o3=>function(e3,i3,o4,r3){const a3=t.av([],e3,i3),s3=1/a3[3]/o4*r3;return t.aX(a3,a3,[s3,s3,1/a3[3],s3])}(o3,e2,i2,n2));r2&&function(e3,i3,o3,r3){const a3=r3?4:0,s3=r3?0:4;let n3=0;const l3=[],c4=[];for(let i4=0;i4<4;i4++){const o4=t.aT([],e3[i4+s3],e3[i4+a3]),r4=t.aY(o4);t.aQ(o4,o4,1/r4),l3.push(r4),c4.push(o4)}for(let i4=0;i4<4;i4++){const r4=t.aZ(e3[i4+a3],c4[i4],o3);n3=r4!==null&&r4>=0?Math.max(n3,r4):Math.max(n3,l3[i4])}const h4=function(e4,i4){const o4=t.aT([],e4[i4[0]],e4[i4[1]]),r4=t.aT([],e4[i4[2]],e4[i4[1]]),a4=[0,0,0,0];return t.aU(a4,t.aV([],o4,r4)),a4[3]=-t.aW(a4,e4[i4[0]]),a4}(e3,i3),u3=function(e4,i4){const o4=t.a_(e4),r4=t.a$([],e4,1/o4),a4=t.aT([],i4,t.aQ([],r4,t.aW(i4,r4))),s4=t.a_(a4);if(s4>0){const e5=Math.sqrt(1-r4[3]*r4[3]),o5=t.aQ([],r4,-r4[3]),n4=t.aR([],o5,t.aQ([],a4,e5/s4));return t.b0(i4,n4)}return null}(o3,h4);if(u3!==null){const e4=u3/t.aW(c4[0],h4);n3=Math.min(n3,e4)}for(let t2=0;t2<4;t2++){const i4=Math.min(n3,l3[t2]);e3[t2+s3]=[e3[t2+a3][0]+c4[t2][0]*i4,e3[t2+a3][1]+c4[t2][1]*i4,e3[t2+a3][2]+c4[t2][2]*i4,1]}}(l2,s2[0],r2,a2);const c3=s2.map(e3=>{const i3=t.aT([],l2[e3[0]],l2[e3[1]]),o3=t.aT([],l2[e3[2]],l2[e3[1]]),r3=t.aU([],t.aV([],i3,o3)),a3=-t.aW(r3,l2[e3[1]]);return r3.concat(a3)}),h3=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],u2=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const e3 of l2)for(let t2=0;t2<3;t2++)h3[t2]=Math.min(h3[t2],e3[t2]),u2[t2]=Math.max(u2[t2],e3[t2]);return new _At(l2,c3,new zt2(h3,u2))}};__name(_At,"At");let At=_At;const _Lt=class _Lt{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e2){this._helper.setMinZoom(e2)}setMaxZoom(e2){this._helper.setMaxZoom(e2)}setMinPitch(e2){this._helper.setMinPitch(e2)}setMaxPitch(e2){this._helper.setMaxPitch(e2)}setRenderWorldCopies(e2){this._helper.setRenderWorldCopies(e2)}setBearing(e2){this._helper.setBearing(e2)}setPitch(e2){this._helper.setPitch(e2)}setRoll(e2){this._helper.setRoll(e2)}setFov(e2){this._helper.setFov(e2)}setZoom(e2){this._helper.setZoom(e2)}setCenter(e2){this._helper.setCenter(e2)}setElevation(e2){this._helper.setElevation(e2)}setMinElevationForCurrentTile(e2){this._helper.setMinElevationForCurrentTile(e2)}setPadding(e2){this._helper.setPadding(e2)}interpolatePadding(e2,t2,i2){return this._helper.interpolatePadding(e2,t2,i2)}isPaddingEqual(e2){return this._helper.isPaddingEqual(e2)}resize(e2,t2,i2=!0){this._helper.resize(e2,t2,i2)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e2){this._helper.setMaxBounds(e2)}overrideNearFarZ(e2,t2){this._helper.overrideNearFarZ(e2,t2)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e2){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e2)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e2,t2){}constructor(e2,t2,i2,o2,r2){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Rt({calcMatrices:__name(()=>{this._calcMatrices()},"calcMatrices"),getConstrained:__name((e3,t3)=>this.getConstrained(e3,t3),"getConstrained")},e2,t2,i2,o2,r2),this._coveringTilesDetailsProvider=new Dt}clone(){const e2=new _Lt;return e2.apply(this),e2}apply(e2,t2,i2){this._helper.apply(e2,t2,i2)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e2){const i2=[new t.b1(0,e2)];if(this._helper._renderWorldCopies){const o2=this.screenPointToMercatorCoordinate(new t.P(0,0)),r2=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,0)),a2=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,this._helper._height)),s2=this.screenPointToMercatorCoordinate(new t.P(0,this._helper._height)),n2=Math.floor(Math.min(o2.x,r2.x,a2.x,s2.x)),l2=Math.floor(Math.max(o2.x,r2.x,a2.x,s2.x)),c3=1;for(let o3=n2-c3;o3<=l2+c3;o3++)o3!==0&&i2.push(new t.b1(o3,e2))}return i2}getCameraFrustum(){return At.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e2){const t2=this.screenPointToLocation(this.centerPoint,e2),i2=e2?e2.getElevationForLngLatZoom(t2,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(i2)}setLocationAtPoint(e2,i2){const o2=t.ai(this.elevation,this.center.lat),r2=this.screenPointToMercatorCoordinateAtZ(i2,o2),a2=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,o2),s2=t.a0.fromLngLat(e2),n2=new t.a0(s2.x-(r2.x-a2.x),s2.y-(r2.y-a2.y));this.setCenter(n2==null?void 0:n2.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e2,i2){return i2?this.coordinatePoint(t.a0.fromLngLat(e2),i2.getElevationForLngLatZoom(e2,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(t.a0.fromLngLat(e2))}screenPointToLocation(e2,t2){var i2;return(i2=this.screenPointToMercatorCoordinate(e2,t2))===null||i2===void 0?void 0:i2.toLngLat()}screenPointToMercatorCoordinate(e2,t2){if(t2){const i2=t2.pointCoordinate(e2);if(i2!=null)return i2}return this.screenPointToMercatorCoordinateAtZ(e2)}screenPointToMercatorCoordinateAtZ(e2,i2){const o2=i2||0,r2=[e2.x,e2.y,0,1],a2=[e2.x,e2.y,1,1];t.av(r2,r2,this._pixelMatrixInverse),t.av(a2,a2,this._pixelMatrixInverse);const s2=r2[3],n2=a2[3],l2=r2[1]/s2,c3=a2[1]/n2,h3=r2[2]/s2,u2=a2[2]/n2,d3=h3===u2?0:(o2-h3)/(u2-h3);return new t.a0(t.C.number(r2[0]/s2,a2[0]/n2,d3)/this.worldSize,t.C.number(l2,c3,d3)/this.worldSize,o2)}coordinatePoint(e2,i2=0,o2=this._pixelMatrix){const r2=[e2.x*this.worldSize,e2.y*this.worldSize,i2,1];return t.av(r2,r2,o2),new t.P(r2[0]/r2[3],r2[1]/r2[3])}getBounds(){const e2=Math.max(0,this._helper._height/2-he(this));return new G().extend(this.screenPointToLocation(new t.P(0,e2))).extend(this.screenPointToLocation(new t.P(this._helper._width,e2))).extend(this.screenPointToLocation(new t.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new t.P(0,this._helper._height)))}isPointOnMapSurface(e2,t2){return t2?t2.pointCoordinate(e2)!=null:e2.y>this.height/2-he(this)}calculatePosMatrix(e2,i2=!1,o2){var r2;const a2=(r2=e2.key)!==null&&r2!==void 0?r2:t.b2(e2.wrap,e2.canonical.z,e2.canonical.z,e2.canonical.x,e2.canonical.y),s2=i2?this._alignedPosMatrixCache:this._posMatrixCache;if(s2.has(a2)){const e3=s2.get(a2);return o2?e3.f32:e3.f64}const n2=ue(e2,this.worldSize);t.O(n2,i2?this._alignedProjMatrix:this._viewProjMatrix,n2);const l2={f64:n2,f32:new Float32Array(n2)};return s2.set(a2,l2),o2?l2.f32:l2.f64}calculateFogMatrix(e2){const i2=e2.key,o2=this._fogMatrixCacheF32;if(o2.has(i2))return o2.get(i2);const r2=ue(e2,this.worldSize);return t.O(r2,this._fogMatrix,r2),o2.set(i2,new Float32Array(r2)),o2.get(i2)}getConstrained(e2,i2){i2=t.ag(+i2,this.minZoom,this.maxZoom);const o2={center:new t.S(e2.lng,e2.lat),zoom:i2};let r2=this._helper._lngRange;if(!this._helper._renderWorldCopies&&r2===null){const e3=179.9999999999;r2=[-e3,e3]}const a2=this.tileSize*t.ae(o2.zoom);let s2=0,n2=a2,l2=0,c3=a2,h3=0,u2=0;const{x:d3,y:_2}=this.size;if(this._helper._latRange){const e3=this._helper._latRange;s2=t.U(e3[1])*a2,n2=t.U(e3[0])*a2,n2-s2<_2&&(h3=_2/(n2-s2))}r2&&(l2=t.aN(t.V(r2[0])*a2,0,a2),c3=t.aN(t.V(r2[1])*a2,0,a2),c3<l2&&(c3+=a2),c3-l2<d3&&(u2=d3/(c3-l2)));const{x:p3,y:m2}=le(a2,e2);let f2,g2;const v2=Math.max(u2||0,h3||0);if(v2){const e3=new t.P(u2?(c3+l2)/2:p3,h3?(n2+s2)/2:m2);return o2.center=ce(a2,e3).wrap(),o2.zoom+=t.aj(v2),o2}if(this._helper._latRange){const e3=_2/2;m2-e3<s2&&(g2=s2+e3),m2+e3>n2&&(g2=n2-e3)}if(r2){const e3=(l2+c3)/2;let i3=p3;this._helper._renderWorldCopies&&(i3=t.aN(p3,e3-a2/2,e3+a2/2));const o3=d3/2;i3-o3<l2&&(f2=l2+o3),i3+o3>c3&&(f2=c3-o3)}if(f2!==void 0||g2!==void 0){const e3=new t.P(f2!=null?f2:p3,g2!=null?g2:m2);o2.center=ce(a2,e3).wrap()}return o2}calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2){return this._helper.calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2)}_calculateNearFarZIfNeeded(e2,i2,o2){if(!this._helper.autoCalculateNearFarZ)return;const r2=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),a2=e2-r2*this._helper._pixelPerMeter/Math.cos(i2),s2=r2<0?a2:e2,n2=Math.PI/2+this.pitchInRadians,l2=t.ad(this.fov)*(Math.abs(Math.cos(t.ad(this.roll)))*this.height+Math.abs(Math.sin(t.ad(this.roll)))*this.width)/this.height*(.5+o2.y/this.height),c3=Math.sin(l2)*s2/Math.sin(t.ag(Math.PI-n2-l2,.01,Math.PI-.01)),h3=he(this),u2=Math.atan(h3/this._helper.cameraToCenterDistance),d3=t.ad(.75),_2=u2>d3?2*u2*(.5+o2.y/(2*h3)):d3,p3=Math.sin(_2)*s2/Math.sin(t.ag(Math.PI-n2-_2,.01,Math.PI-.01)),m2=Math.min(c3,p3);this._helper._farZ=1.01*(Math.cos(Math.PI/2-i2)*m2+s2),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e2=this.centerOffset,i2=le(this.worldSize,this.center),o2=i2.x,r2=i2.y;this._helper._pixelPerMeter=t.ai(1,this.center.lat)*this.worldSize;const a2=t.ad(Math.min(this.pitch,ne)),s2=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(a2));let n2;this._calculateNearFarZIfNeeded(s2,a2,e2),n2=new Float64Array(16),t.b3(n2,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),t.ap(this._invProjMatrix,n2),n2[8]=2*-e2.x/this._helper._width,n2[9]=2*e2.y/this._helper._height,this._projectionMatrix=t.b4(n2),t.N(n2,n2,[1,-1,1]),t.M(n2,n2,[0,0,-this._helper.cameraToCenterDistance]),t.b5(n2,n2,-this.rollInRadians),t.b6(n2,n2,this.pitchInRadians),t.b5(n2,n2,-this.bearingInRadians),t.M(n2,n2,[-o2,-r2,0]),this._mercatorMatrix=t.N([],n2,[this.worldSize,this.worldSize,this.worldSize]),t.N(n2,n2,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,n2),t.M(n2,n2,[0,0,-this.elevation]),this._viewProjMatrix=n2,this._invViewProjMatrix=t.ap([],n2);const l2=[0,0,-1,1];t.av(l2,l2,this._invViewProjMatrix),this._cameraPosition=[l2[0]/l2[3],l2[1]/l2[3],l2[2]/l2[3]],this._fogMatrix=new Float64Array(16),t.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,s2,this._helper._farZ),this._fogMatrix[8]=2*-e2.x/this.width,this._fogMatrix[9]=2*e2.y/this.height,t.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),t.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),t.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),t.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),t.M(this._fogMatrix,this._fogMatrix,[-o2,-r2,0]),t.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),t.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=t.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,n2);const c3=this._helper._width%2/2,h3=this._helper._height%2/2,u2=Math.cos(this.bearingInRadians),d3=Math.sin(-this.bearingInRadians),_2=o2-Math.round(o2)+u2*c3+d3*h3,p3=r2-Math.round(r2)+u2*h3+d3*c3,m2=new Float64Array(n2);if(t.M(m2,m2,[_2>.5?_2-1:_2,p3>.5?p3-1:p3,0]),this._alignedProjMatrix=m2,n2=t.ap(new Float64Array(16),this._pixelMatrix),!n2)throw new Error("failed to invert matrix");this._pixelMatrixInverse=n2,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e2=this.screenPointToMercatorCoordinate(new t.P(0,0)),i2=[e2.x*this.worldSize,e2.y*this.worldSize,0,1];return t.av(i2,i2,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e2=t.ai(1,this.center.lat)*this.worldSize;return de(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e2).toLngLat()}lngLatToCameraDepth(e2,i2){const o2=t.a0.fromLngLat(e2),r2=[o2.x*this.worldSize,o2.y*this.worldSize,i2,1];return t.av(r2,r2,this._viewProjMatrix),r2[2]/r2[3]}getProjectionData(e2){const{overscaledTileID:i2,aligned:o2,applyTerrainMatrix:r2}=e2,a2=this._helper.getMercatorTileCoordinates(i2),s2=i2?this.calculatePosMatrix(i2,o2,!0):null;let n2;return n2=i2&&i2.terrainRttPosMatrix32f&&r2?i2.terrainRttPosMatrix32f:s2||t.b7(),{mainMatrix:n2,tileMercatorCoords:a2,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:n2}}isLocationOccluded(e2){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e2,t2,i2){return 1}transformLightDirection(e2){return t.aS(e2)}getRayDirectionFromPixel(e2){throw new Error("Not implemented.")}projectTileCoordinates(e2,i2,o2,r2){const a2=this.calculatePosMatrix(o2);let s2;r2?(s2=[e2,i2,r2(e2,i2),1],t.av(s2,s2,a2)):(s2=[e2,i2,0,1],qe(s2,s2,a2));const n2=s2[3];return{point:new t.P(s2[0]/n2,s2[1]/n2),signedDistanceFromCamera:n2,isOccluded:!1}}populateCache(e2){for(const t2 of e2)this.calculatePosMatrix(t2)}getMatrixForModel(e2,i2){const o2=t.a0.fromLngLat(e2,i2),r2=o2.meterInMercatorCoordinateUnits(),a2=t.b8();return t.M(a2,a2,[o2.x,o2.y,o2.z]),t.b5(a2,a2,Math.PI),t.b6(a2,a2,Math.PI/2),t.N(a2,a2,[-r2,r2,r2]),a2}getProjectionDataForCustomLayer(e2=!0){const i2=new t.Z(0,0,0,0,0),o2=this.getProjectionData({overscaledTileID:i2,applyGlobeMatrix:e2}),r2=ue(i2,this.worldSize);t.O(r2,this._viewProjMatrix,r2),o2.tileMercatorCoords=[0,0,1,1];const a2=[t.$,t.$,this.worldSize/this._helper.pixelsPerMeter],s2=t.b9();return t.N(s2,r2,a2),o2.fallbackMatrix=s2,o2.mainMatrix=s2,o2}getFastPathSimpleProjectionMatrix(e2){return this.calculatePosMatrix(e2)}};__name(_Lt,"Lt");let Lt2=_Lt;function kt2(){t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}__name(kt2,"kt");function Ft(e2){if(e2.useSlerp)if(e2.k<1){const i2=t.ba(e2.startEulerAngles.roll,e2.startEulerAngles.pitch,e2.startEulerAngles.bearing),o2=t.ba(e2.endEulerAngles.roll,e2.endEulerAngles.pitch,e2.endEulerAngles.bearing),r2=new Float64Array(4);t.bb(r2,i2,o2,e2.k);const a2=t.bc(r2);e2.tr.setRoll(a2.roll),e2.tr.setPitch(a2.pitch),e2.tr.setBearing(a2.bearing)}else e2.tr.setRoll(e2.endEulerAngles.roll),e2.tr.setPitch(e2.endEulerAngles.pitch),e2.tr.setBearing(e2.endEulerAngles.bearing);else e2.tr.setRoll(t.C.number(e2.startEulerAngles.roll,e2.endEulerAngles.roll,e2.k)),e2.tr.setPitch(t.C.number(e2.startEulerAngles.pitch,e2.endEulerAngles.pitch,e2.k)),e2.tr.setBearing(t.C.number(e2.startEulerAngles.bearing,e2.endEulerAngles.bearing,e2.k))}__name(Ft,"Ft");function Bt2(e2,i2,o2,r2,a2){const s2=a2.padding,n2=le(a2.worldSize,o2.getNorthWest()),l2=le(a2.worldSize,o2.getNorthEast()),c3=le(a2.worldSize,o2.getSouthEast()),h3=le(a2.worldSize,o2.getSouthWest()),u2=t.ad(-r2),d3=n2.rotate(u2),_2=l2.rotate(u2),p3=c3.rotate(u2),m2=h3.rotate(u2),f2=new t.P(Math.max(d3.x,_2.x,m2.x,p3.x),Math.max(d3.y,_2.y,m2.y,p3.y)),g2=new t.P(Math.min(d3.x,_2.x,m2.x,p3.x),Math.min(d3.y,_2.y,m2.y,p3.y)),v2=f2.sub(g2),b2=(a2.width-(s2.left+s2.right+i2.left+i2.right))/v2.x,x2=(a2.height-(s2.top+s2.bottom+i2.top+i2.bottom))/v2.y;if(x2<0||b2<0)return void kt2();const y2=Math.min(t.aj(a2.scale*Math.min(b2,x2)),e2.maxZoom),w2=t.P.convert(e2.offset),T2=new t.P((i2.left-i2.right)/2,(i2.top-i2.bottom)/2).rotate(t.ad(r2)),P2=w2.add(T2).mult(a2.scale/t.ae(y2));return{center:ce(a2.worldSize,n2.add(c3).div(2).sub(P2)),zoom:y2,bearing:r2}}__name(Bt2,"Bt");const _Ot=class _Ot{get useGlobeControls(){return!1}handlePanInertia(e2,t2){return{easingOffset:e2,easingCenter:t2.center}}handleMapControlsRollPitchBearingZoom(e2,t2){e2.bearingDelta&&t2.setBearing(t2.bearing+e2.bearingDelta),e2.pitchDelta&&t2.setPitch(t2.pitch+e2.pitchDelta),e2.rollDelta&&t2.setRoll(t2.roll+e2.rollDelta),e2.zoomDelta&&t2.setZoom(t2.zoom+e2.zoomDelta)}handleMapControlsPan(e2,t2,i2){e2.around.distSqr(t2.centerPoint)<.01||t2.setLocationAtPoint(i2,e2.around)}cameraForBoxAndBearing(e2,t2,i2,o2,r2){return Bt2(e2,t2,i2,o2,r2)}handleJumpToCenterZoom(e2,i2){e2.zoom!==(i2.zoom!==void 0?+i2.zoom:e2.zoom)&&e2.setZoom(+i2.zoom),i2.center!==void 0&&e2.setCenter(t.S.convert(i2.center))}handleEaseTo(e2,i2){const o2=e2.zoom,r2=e2.padding,a2={roll:e2.roll,pitch:e2.pitch,bearing:e2.bearing},s2={roll:i2.roll===void 0?e2.roll:i2.roll,pitch:i2.pitch===void 0?e2.pitch:i2.pitch,bearing:i2.bearing===void 0?e2.bearing:i2.bearing},n2=i2.zoom!==void 0,l2=!e2.isPaddingEqual(i2.padding);let c3=!1;const h3=n2?+i2.zoom:e2.zoom;let u2=e2.centerPoint.add(i2.offsetAsPoint);const d3=e2.screenPointToLocation(u2),{center:_2,zoom:p3}=e2.getConstrained(t.S.convert(i2.center||d3),h3!=null?h3:o2);St(e2,_2);const m2=le(e2.worldSize,d3),f2=le(e2.worldSize,_2).sub(m2),g2=t.ae(p3-o2);return c3=p3!==o2,{easeFunc:__name(n3=>{if(c3&&e2.setZoom(t.C.number(o2,p3,n3)),t.bd(a2,s2)||Ft({startEulerAngles:a2,endEulerAngles:s2,tr:e2,k:n3,useSlerp:a2.roll!=s2.roll}),l2&&(e2.interpolatePadding(r2,i2.padding,n3),u2=e2.centerPoint.add(i2.offsetAsPoint)),i2.around)e2.setLocationAtPoint(i2.around,i2.aroundPoint);else{const i3=t.ae(e2.zoom-o2),r3=p3>o2?Math.min(2,g2):Math.max(.5,g2),a3=Math.pow(r3,1-n3),s3=ce(e2.worldSize,m2.add(f2.mult(n3*a3)).mult(i3));e2.setLocationAtPoint(e2.renderWorldCopies?s3.wrap():s3,u2)}},"easeFunc"),isZooming:c3,elevationCenter:_2}}handleFlyTo(e2,i2){const o2=i2.zoom!==void 0,r2=e2.zoom,a2=e2.getConstrained(t.S.convert(i2.center||i2.locationAtOffset),o2?+i2.zoom:r2),s2=a2.center,n2=a2.zoom;St(e2,s2);const l2=le(e2.worldSize,i2.locationAtOffset),c3=le(e2.worldSize,s2).sub(l2),h3=c3.mag(),u2=t.ae(n2-r2);let d3;if(i2.minZoom!==void 0){const o3=Math.min(+i2.minZoom,r2,n2),a3=e2.getConstrained(s2,o3).zoom;d3=t.ae(a3-r2)}return{easeFunc:__name((i3,o3,a3,h4)=>{e2.setZoom(i3===1?n2:r2+t.aj(o3));const u3=i3===1?s2:ce(e2.worldSize,l2.add(c3.mult(a3)).mult(o3));e2.setLocationAtPoint(e2.renderWorldCopies?u3.wrap():u3,h4)},"easeFunc"),scaleOfZoom:u2,targetCenter:s2,scaleOfMinZoom:d3,pixelPathLength:h3}}};__name(_Ot,"Ot");let Ot=_Ot;const _jt=class _jt{constructor(e2,t2,i2){this.blendFunction=e2,this.blendColor=t2,this.mask=i2}};__name(_jt,"jt");let jt=_jt;jt.Replace=[1,0],jt.disabled=new jt(jt.Replace,t.be.transparent,[!1,!1,!1,!1]),jt.unblended=new jt(jt.Replace,t.be.transparent,[!0,!0,!0,!0]),jt.alphaBlended=new jt([1,771],t.be.transparent,[!0,!0,!0,!0]);const Nt=2305,_Zt=class _Zt{constructor(e2,t2,i2){this.enable=e2,this.mode=t2,this.frontFace=i2}};__name(_Zt,"Zt");let Zt=_Zt;Zt.disabled=new Zt(!1,1029,Nt),Zt.backCCW=new Zt(!0,1029,Nt),Zt.frontCCW=new Zt(!0,1028,Nt);const _Ut=class _Ut{constructor(e2,t2,i2){this.func=e2,this.mask=t2,this.range=i2}};__name(_Ut,"Ut");let Ut=_Ut;Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);const Gt2=7680,_Vt=class _Vt{constructor(e2,t2,i2,o2,r2,a2){this.test=e2,this.ref=t2,this.mask=i2,this.fail=o2,this.depthFail=r2,this.pass=a2}};__name(_Vt,"Vt");let Vt=_Vt;Vt.disabled=new Vt({func:519,mask:0},0,0,Gt2,Gt2,Gt2);const $t=new WeakMap;function qt2(e2){var t2;if($t.has(e2))return $t.get(e2);{const i2=(t2=e2.getParameter(e2.VERSION))===null||t2===void 0?void 0:t2.startsWith("WebGL 2.0");return $t.set(e2,i2),i2}}__name(qt2,"qt");const _Wt=class _Wt{get awaitingQuery(){return!!this._readbackQueue}constructor(e2){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e2;const i2=e2.context,o2=i2.gl;this._texFormat=o2.RGBA,this._texType=o2.UNSIGNED_BYTE;const r2=new t.aK;r2.emplaceBack(-1,-1),r2.emplaceBack(2,-1),r2.emplaceBack(-1,2);const a2=new t.aM;a2.emplaceBack(0,1,2),this._fullscreenTriangle=new wt(i2.createVertexBuffer(r2,Tt.members),i2.createIndexBuffer(a2),t.aL.simpleSegment(0,0,r2.length,a2.length)),this._resultBuffer=new Uint8Array(4),i2.activeTexture.set(o2.TEXTURE1);const s2=o2.createTexture();o2.bindTexture(o2.TEXTURE_2D,s2),o2.texParameteri(o2.TEXTURE_2D,o2.TEXTURE_WRAP_S,o2.CLAMP_TO_EDGE),o2.texParameteri(o2.TEXTURE_2D,o2.TEXTURE_WRAP_T,o2.CLAMP_TO_EDGE),o2.texParameteri(o2.TEXTURE_2D,o2.TEXTURE_MIN_FILTER,o2.NEAREST),o2.texParameteri(o2.TEXTURE_2D,o2.TEXTURE_MAG_FILTER,o2.NEAREST),o2.texImage2D(o2.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=i2.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(s2),qt2(o2)&&(this._pbo=o2.createBuffer(),o2.bindBuffer(o2.PIXEL_PACK_BUFFER,this._pbo),o2.bufferData(o2.PIXEL_PACK_BUFFER,4,o2.STREAM_READ),o2.bindBuffer(o2.PIXEL_PACK_BUFFER,null))}destroy(){const e2=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e2.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e2,t2){const i2=this._updateCount;return this._readbackQueue?i2>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():i2>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e2,t2),this._updateCount++,this._measuredError}_bindFramebuffer(){const e2=this._cachedRenderContext.context,t2=e2.gl;e2.activeTexture.set(t2.TEXTURE1),t2.bindTexture(t2.TEXTURE_2D,this._fbo.colorAttachment.get()),e2.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e2,i2){const o2=this._cachedRenderContext.context,r2=o2.gl;if(this._bindFramebuffer(),o2.viewport.set([0,0,this._texWidth,this._texHeight]),o2.clear({color:t.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(o2,r2.TRIANGLES,Ut.disabled,Vt.disabled,jt.unblended,Zt.disabled,((e3,t2)=>({u_input:e3,u_output_expected:t2}))(e2,i2),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&qt2(r2)){r2.bindBuffer(r2.PIXEL_PACK_BUFFER,this._pbo),r2.readBuffer(r2.COLOR_ATTACHMENT0),r2.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),r2.bindBuffer(r2.PIXEL_PACK_BUFFER,null);const e3=r2.fenceSync(r2.SYNC_GPU_COMMANDS_COMPLETE,0);r2.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:e3}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e2=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&qt2(e2)){const i2=e2.clientWaitSync(this._readbackQueue.sync,0,0);if(i2===e2.WAIT_FAILED)return t.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(i2===e2.TIMEOUT_EXPIRED)return;e2.bindBuffer(e2.PIXEL_PACK_BUFFER,this._pbo),e2.getBufferSubData(e2.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e2.bindBuffer(e2.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e2.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=_Wt._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e2){let t2=0;return t2+=e2[0]/256,t2+=e2[1]/65536,t2+=e2[2]/16777216,e2[3]<127&&(t2=-t2),t2/128}};__name(_Wt,"Wt");let Wt2=_Wt;const Ht2=t.$/128;function Xt(e2,i2){const o2=e2.granularity!==void 0?Math.max(e2.granularity,1):1,r2=o2+(e2.generateBorders?2:0),a2=o2+(e2.extendToNorthPole||e2.generateBorders?1:0)+(e2.extendToSouthPole||e2.generateBorders?1:0),s2=r2+1,n2=a2+1,l2=e2.generateBorders?-1:0,c3=e2.generateBorders||e2.extendToNorthPole?-1:0,h3=o2+(e2.generateBorders?1:0),u2=o2+(e2.generateBorders||e2.extendToSouthPole?1:0),d3=s2*n2,_2=r2*a2*6,p3=s2*n2>65536;if(p3&&i2==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const m2=p3||i2==="32bit",f2=new Int16Array(2*d3);let g2=0;for(let i3=c3;i3<=u2;i3++)for(let r3=l2;r3<=h3;r3++){let a3=r3/o2*t.$;r3===-1&&(a3=-Ht2),r3===o2+1&&(a3=t.$+Ht2);let s3=i3/o2*t.$;i3===-1&&(s3=e2.extendToNorthPole?t.bg:-Ht2),i3===o2+1&&(s3=e2.extendToSouthPole?t.bh:t.$+Ht2),f2[g2++]=a3,f2[g2++]=s3}const v2=m2?new Uint32Array(_2):new Uint16Array(_2);let b2=0;for(let e3=0;e3<a2;e3++)for(let t2=0;t2<r2;t2++){const i3=t2+1+e3*s2,o3=t2+(e3+1)*s2,r3=t2+1+(e3+1)*s2;v2[b2++]=t2+e3*s2,v2[b2++]=o3,v2[b2++]=i3,v2[b2++]=i3,v2[b2++]=o3,v2[b2++]=r3}return{vertices:f2.buffer.slice(0),indices:v2.buffer.slice(0),uses32bitIndices:m2}}__name(Xt,"Xt");const Kt=new t.aJ({fill:new t.bi(128,2),line:new t.bi(512,0),tile:new t.bi(128,32),stencil:new t.bi(128,1),circle:3}),_Yt=class _Yt{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return xt.projectionGlobe}get vertexShaderPreludeCode(){return xt.projectionMercator.vertexSource}get subdivisionGranularity(){return Kt}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e2){this._errorMeasurement||(this._errorMeasurement=new Wt2(e2));const i2=t.U(this._errorQueryLatitudeDegrees),o2=2*Math.atan(Math.exp(Math.PI-i2*Math.PI*2))-.5*Math.PI,r2=this._errorMeasurement.updateErrorLoop(i2,o2),a2=s.now();r2!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=r2,this._errorMeasurementLastChangeTime=a2);const n2=Math.min(Math.max((a2-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=t.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,t.bk(n2))}_getMeshKey(e2){return"".concat(e2.granularity.toString(36),"_").concat(e2.generateBorders?"b":"").concat(e2.extendToNorthPole?"n":"").concat(e2.extendToSouthPole?"s":"")}getMeshFromTileID(e2,t2,i2,o2,r2){const a2=(r2==="stencil"?Kt.stencil:Kt.tile).getGranularityForZoomLevel(t2.z);return this._getMesh(e2,{granularity:a2,generateBorders:i2,extendToNorthPole:t2.y===0&&o2,extendToSouthPole:t2.y===(1<<t2.z)-1&&o2})}_getMesh(e2,i2){const o2=this._getMeshKey(i2);if(o2 in this._tileMeshCache)return this._tileMeshCache[o2];const r2=function(e3,i3){const o3=Xt(i3,"16bit"),r3=t.aK.deserialize({arrayBuffer:o3.vertices,length:o3.vertices.byteLength/2/2}),a2=t.aM.deserialize({arrayBuffer:o3.indices,length:o3.indices.byteLength/2/3});return new wt(e3.createVertexBuffer(r3,Tt.members),e3.createIndexBuffer(a2),t.aL.simpleSegment(0,0,r3.length,a2.length))}(e2,i2);return this._tileMeshCache[o2]=r2,r2}recalculate(e2){}hasTransition(){const e2=s.now();let t2=!1;return t2=t2||(e2-this._errorMeasurementLastChangeTime)/1e3<.7,t2=t2||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,t2}setErrorQueryLatitudeDegrees(e2){this._errorQueryLatitudeDegrees=e2}};__name(_Yt,"Yt");let Yt2=_Yt;const Qt=new t.r({type:new t.D(t.v.projection.type)}),_Jt=class _Jt extends t.E{constructor(e2){super(),this._transitionable=new t.t(Qt),this.setProjection(e2),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.F(0)),this._mercatorProjection=new It,this._verticalPerspectiveProjection=new Yt2}get transitionState(){const e2=this.properties.get("type");if(typeof e2=="string"&&e2==="mercator")return 0;if(typeof e2=="string"&&e2==="vertical-perspective")return 1;if(e2 instanceof t.bl){if(e2.from==="vertical-perspective"&&e2.to==="mercator")return 1-e2.transition;if(e2.from==="mercator"&&e2.to==="vertical-perspective")return e2.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e2){this._mercatorProjection.updateGPUdependent(e2),this._verticalPerspectiveProjection.updateGPUdependent(e2)}getMeshFromTileID(e2,t2,i2,o2,r2){return this.currentProjection.getMeshFromTileID(e2,t2,i2,o2,r2)}setProjection(e2){this._transitionable.setValue("type",(e2==null?void 0:e2.type)||"mercator")}updateTransitions(e2){this._transitioning=this._transitionable.transitioned(e2,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e2){this.properties=this._transitioning.possiblyEvaluate(e2)}setErrorQueryLatitudeDegrees(e2){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e2),this._mercatorProjection.setErrorQueryLatitudeDegrees(e2)}};__name(_Jt,"Jt");let Jt2=_Jt;function ei(e2){const t2=oi(e2.worldSize,e2.center.lat);return 2*Math.PI*t2}__name(ei,"ei");function ti(e2,i2,o2,r2,a2){const s2=1/(1<<a2),n2=i2/t.$*s2+r2*s2,l2=t.bn((e2/t.$*s2+o2*s2)*Math.PI*2+Math.PI,2*Math.PI),c3=2*Math.atan(Math.exp(Math.PI-n2*Math.PI*2))-.5*Math.PI,h3=Math.cos(c3),u2=new Float64Array(3);return u2[0]=Math.sin(l2)*h3,u2[1]=Math.sin(c3),u2[2]=Math.cos(l2)*h3,u2}__name(ti,"ti");function ii(e2){return function(e3,t2){const i2=Math.cos(t2),o2=new Float64Array(3);return o2[0]=Math.sin(e3)*i2,o2[1]=Math.sin(t2),o2[2]=Math.cos(e3)*i2,o2}(e2.lng*Math.PI/180,e2.lat*Math.PI/180)}__name(ii,"ii");function oi(e2,t2){return e2/(2*Math.PI)/Math.cos(t2*Math.PI/180)}__name(oi,"oi");function ri(e2){const i2=Math.asin(e2[1])/Math.PI*180,o2=Math.sqrt(e2[0]*e2[0]+e2[2]*e2[2]);if(o2>1e-6){const r2=e2[0]/o2,a2=Math.acos(e2[2]/o2),s2=(r2>0?a2:-a2)/Math.PI*180;return new t.S(t.aN(s2,-180,180),i2)}return new t.S(0,i2)}__name(ri,"ri");function ai2(e2){return Math.cos(e2*Math.PI/180)}__name(ai2,"ai");function si2(e2,i2){const o2=ai2(e2),r2=ai2(i2);return t.aj(r2/o2)}__name(si2,"si");function ni(e2,i2){const o2=e2.rotate(i2.bearingInRadians),r2=i2.zoom+si2(i2.center.lat,0),a2=t.bj(1/ai2(i2.center.lat),1/ai2(Math.min(Math.abs(i2.center.lat),60)),t.bm(r2,7,3,0,1)),s2=360/ei({worldSize:i2.worldSize,center:{lat:i2.center.lat}});return new t.S(i2.center.lng-o2.x*s2*a2,t.ag(i2.center.lat+o2.y*s2,-t.ah,t.ah))}__name(ni,"ni");function li(e2){const t2=.5*e2,i2=Math.sin(t2),o2=Math.cos(t2);return Math.log(i2+o2)-Math.log(o2-i2)}__name(li,"li");function ci2(e2,i2,o2,r2){const a2=e2.lat+o2*r2;if(Math.abs(o2)>1){const s2=(Math.sign(e2.lat+o2)!==Math.sign(e2.lat)?-Math.abs(e2.lat):Math.abs(e2.lat))*Math.PI/180,n2=Math.abs(e2.lat+o2)*Math.PI/180,l2=li(s2+r2*(n2-s2)),c3=li(s2),h3=li(n2);return new t.S(e2.lng+i2*((l2-c3)/(h3-c3)),a2)}return new t.S(e2.lng+i2*r2,a2)}__name(ci2,"ci");const _hi=class _hi{constructor(e2){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=e2}swapBuffers(){if(!this._hadAnyChanges)return;const e2=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e2,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(e2,t2,i2,o2){const r2="".concat(e2.z,"_").concat(e2.x,"_").concat(e2.y,"_").concat(o2!=null&&o2.terrain?"t":""),a2=this._cache.get(r2);if(a2)return a2;const s2=this._cachePrevious.get(r2);if(s2)return this._cache.set(r2,s2),s2;const n2=this._boundingVolumeFactory(e2,t2,i2,o2);return this._cache.set(r2,n2),this._hadAnyChanges=!0,n2}};__name(_hi,"hi");let hi=_hi;const _ui=class _ui{constructor(e2,t2,i2,o2){this.min=i2,this.max=o2,this.points=e2,this.planes=t2}static fromAabb(e2,t2){const i2=[];for(let o2=0;o2<8;o2++)i2.push([1&~o2?e2[0]:t2[0],(o2>>1&1)==1?t2[1]:e2[1],(o2>>2&1)==1?t2[2]:e2[2]]);return new _ui(i2,[[-1,0,0,t2[0]],[1,0,0,-e2[0]],[0,-1,0,t2[1]],[0,1,0,-e2[1]],[0,0,-1,t2[2]],[0,0,1,-e2[2]]],e2,t2)}static fromCenterSizeAngles(e2,i2,o2){const r2=t.bq([],o2[0],o2[1],o2[2]),a2=t.br([],[i2[0],0,0],r2),s2=t.br([],[0,i2[1],0],r2),n2=t.br([],[0,0,i2[2]],r2),l2=[...e2],c3=[...e2];for(let t2=0;t2<8;t2++)for(let i3=0;i3<3;i3++){const o3=e2[i3]+a2[i3]*(1&~t2?-1:1)+s2[i3]*((t2>>1&1)==1?1:-1)+n2[i3]*((t2>>2&1)==1?1:-1);l2[i3]=Math.min(l2[i3],o3),c3[i3]=Math.max(c3[i3],o3)}const h3=[];for(let i3=0;i3<8;i3++){const o3=[...e2];t.aR(o3,o3,t.aQ([],a2,1&~i3?-1:1)),t.aR(o3,o3,t.aQ([],s2,(i3>>1&1)==1?1:-1)),t.aR(o3,o3,t.aQ([],n2,(i3>>2&1)==1?1:-1)),h3.push(o3)}return new _ui(h3,[[...a2,-t.aW(a2,h3[0])],[...s2,-t.aW(s2,h3[0])],[...n2,-t.aW(n2,h3[0])],[-a2[0],-a2[1],-a2[2],-t.aW(a2,h3[7])],[-s2[0],-s2[1],-s2[2],-t.aW(s2,h3[7])],[-n2[0],-n2[1],-n2[2],-t.aW(n2,h3[7])]],l2,c3)}intersectsFrustum(e2){let t2=!0;const i2=this.points.length,o2=this.planes.length,r2=e2.planes.length,a2=e2.points.length;for(let o3=0;o3<r2;o3++){const r3=e2.planes[o3];let a3=0;for(let e3=0;e3<i2;e3++){const t3=this.points[e3];r3[0]*t3[0]+r3[1]*t3[1]+r3[2]*t3[2]+r3[3]>=0&&a3++}if(a3===0)return 0;a3<i2&&(t2=!1)}if(t2)return 2;for(let t3=0;t3<o2;t3++){const i3=this.planes[t3];let o3=0;for(let t4=0;t4<a2;t4++){const r3=e2.points[t4];i3[0]*r3[0]+i3[1]*r3[1]+i3[2]*r3[2]+i3[3]>=0&&o3++}if(o3===0)return 0}return 1}intersectsPlane(e2){const t2=this.points.length;let i2=0;for(let o2=0;o2<t2;o2++){const t3=this.points[o2];e2[0]*t3[0]+e2[1]*t3[1]+e2[2]*t3[2]+e2[3]>=0&&i2++}return i2===t2?2:i2===0?0:1}};__name(_ui,"ui");let ui2=_ui;function di(e2,t2,i2){const o2=e2-t2;return o2<0?-o2:Math.max(0,o2-i2)}__name(di,"di");function _i(e2,t2,i2,o2,r2){const a2=e2-i2;let s2;return s2=a2<0?Math.min(-a2,1+a2-r2):a2>1?Math.min(Math.max(a2-r2,0),1-a2):0,Math.max(s2,di(t2,o2,r2))}__name(_i,"_i");const _pi=class _pi{constructor(){this._boundingVolumeCache=new hi(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(e2,t2,i2,o2){const r2=1<<i2.z,a2=1/r2,s2=i2.x/r2,n2=i2.y/r2;let l2=2;return l2=Math.min(l2,_i(e2,t2,s2,n2,a2)),l2=Math.min(l2,_i(e2,t2,s2+.5,-n2-a2,a2)),l2=Math.min(l2,_i(e2,t2,s2+.5,2-n2-a2,a2)),l2}getWrap(e2,t2,i2){const o2=1<<t2.z,r2=1/o2,a2=t2.x/o2,s2=di(e2.x,a2,r2),n2=di(e2.x,a2-1,r2),l2=di(e2.x,a2+1,r2),c3=Math.min(s2,n2,l2);return c3===l2?1:c3===n2?-1:0}allowVariableZoom(e2,t2){return ge(e2,t2)>4}allowWorldCopies(){return!1}getTileBoundingVolume(e2,t2,i2,o2){return this._boundingVolumeCache.getTileBoundingVolume(e2,t2,i2,o2)}_computeTileBoundingVolume(e2,i2,o2,r2){var a2,s2;let n2=o2,l2=o2;if(r2!=null&&r2.terrain){const c3=new t.Z(e2.z,i2,e2.z,e2.x,e2.y),h3=r2.terrain.getMinMaxElevation(c3);n2=(a2=h3.minElevation)!==null&&a2!==void 0?a2:o2,l2=(s2=h3.maxElevation)!==null&&s2!==void 0?s2:o2}if(n2/=t.bt,l2/=t.bt,n2+=1,l2+=1,e2.z<=0)return ui2.fromAabb([-l2,-l2,-l2],[l2,l2,l2]);if(e2.z===1)return ui2.fromAabb([e2.x===0?-l2:0,e2.y===0?0:-l2,-l2],[e2.x===0?0:l2,e2.y===0?l2:0,l2]);{const i3=[ti(0,0,e2.x,e2.y,e2.z),ti(t.$,0,e2.x,e2.y,e2.z),ti(t.$,t.$,e2.x,e2.y,e2.z),ti(0,t.$,e2.x,e2.y,e2.z)],o3=[];for(const e3 of i3)o3.push(t.aQ([],e3,l2));if(l2!==n2)for(const e3 of i3)o3.push(t.aQ([],e3,n2));e2.y===0&&o3.push([0,1,0]),e2.y===(1<<e2.z)-1&&o3.push([0,-1,0]);const r3=[1,1,1],a3=[-1,-1,-1];for(const e3 of o3)for(let t2=0;t2<3;t2++)r3[t2]=Math.min(r3[t2],e3[t2]),a3[t2]=Math.max(a3[t2],e3[t2]);const s3=ti(t.$/2,t.$/2,e2.x,e2.y,e2.z),c3=t.aV([],[0,1,0],s3);t.aU(c3,c3);const h3=t.aV([],s3,c3);t.aU(h3,h3);const u2=t.aV([],i3[2],i3[1]);t.aU(u2,u2);const d3=t.aV([],i3[0],i3[3]);t.aU(d3,d3),o3.push(t.aQ([],s3,l2)),e2.y>=(1<<e2.z)/2&&o3.push(t.aQ([],ti(t.$/2,0,e2.x,e2.y,e2.z),l2)),e2.y<(1<<e2.z)/2&&o3.push(t.aQ([],ti(t.$/2,t.$,e2.x,e2.y,e2.z),l2));const _2=mi(s3,o3),p3=mi(h3,o3),m2=[-s3[0],-s3[1],-s3[2],_2.max],f2=[s3[0],s3[1],s3[2],-_2.min],g2=[-h3[0],-h3[1],-h3[2],p3.max],v2=[h3[0],h3[1],h3[2],-p3.min],b2=[...u2,0],x2=[...d3,0],y2=[];return e2.y===0?y2.push(t.bs(x2,b2,m2),t.bs(x2,b2,f2)):y2.push(t.bs(g2,b2,m2),t.bs(g2,b2,f2),t.bs(g2,x2,m2),t.bs(g2,x2,f2)),e2.y===(1<<e2.z)-1?y2.push(t.bs(x2,b2,m2),t.bs(x2,b2,f2)):y2.push(t.bs(v2,b2,m2),t.bs(v2,b2,f2),t.bs(v2,x2,m2),t.bs(v2,x2,f2)),new ui2(y2,[m2,f2,g2,v2,b2,x2],r3,a3)}}};__name(_pi,"pi");let pi2=_pi;function mi(e2,i2){let o2=1/0,r2=-1/0;for(const a2 of i2){const i3=t.aW(e2,a2);o2=Math.min(o2,i3),r2=Math.max(r2,i3)}return{min:o2,max:r2}}__name(mi,"mi");const _fi=class _fi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e2){this._helper.setMinZoom(e2)}setMaxZoom(e2){this._helper.setMaxZoom(e2)}setMinPitch(e2){this._helper.setMinPitch(e2)}setMaxPitch(e2){this._helper.setMaxPitch(e2)}setRenderWorldCopies(e2){this._helper.setRenderWorldCopies(e2)}setBearing(e2){this._helper.setBearing(e2)}setPitch(e2){this._helper.setPitch(e2)}setRoll(e2){this._helper.setRoll(e2)}setFov(e2){this._helper.setFov(e2)}setZoom(e2){this._helper.setZoom(e2)}setCenter(e2){this._helper.setCenter(e2)}setElevation(e2){this._helper.setElevation(e2)}setMinElevationForCurrentTile(e2){this._helper.setMinElevationForCurrentTile(e2)}setPadding(e2){this._helper.setPadding(e2)}interpolatePadding(e2,t2,i2){return this._helper.interpolatePadding(e2,t2,i2)}isPaddingEqual(e2){return this._helper.isPaddingEqual(e2)}resize(e2,t2){this._helper.resize(e2,t2)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e2){this._helper.setMaxBounds(e2)}overrideNearFarZ(e2,t2){this._helper.overrideNearFarZ(e2,t2)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e2){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e2)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e2){}constructor(){this._cachedClippingPlane=t.bu(),this._projectionMatrix=t.b8(),this._globeViewProjMatrix32f=t.b7(),this._globeViewProjMatrixNoCorrection=t.b8(),this._globeViewProjMatrixNoCorrectionInverted=t.b8(),this._globeProjMatrixInverted=t.b8(),this._cameraPosition=t.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Rt({calcMatrices:__name(()=>{this._calcMatrices()},"calcMatrices"),getConstrained:__name((e2,t2)=>this.getConstrained(e2,t2),"getConstrained")}),this._coveringTilesDetailsProvider=new pi2}clone(){const e2=new _fi;return e2.apply(this),e2}apply(e2,t2){this._globeLatitudeErrorCorrectionRadians=t2||0,this._helper.apply(e2)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e2=t.bo();return e2[0]=this._cameraPosition[0],e2[1]=this._cameraPosition[1],e2[2]=this._cameraPosition[2],e2}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e2){const{overscaledTileID:t2,applyGlobeMatrix:i2}=e2,o2=this._helper.getMercatorTileCoordinates(t2);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:o2,clippingPlane:this._cachedClippingPlane,projectionTransition:i2?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e2){const i2=this.pitchInRadians,o2=this.cameraToCenterDistance/e2,r2=Math.sin(i2)*o2,a2=Math.cos(i2)*o2+1,s2=1/Math.sqrt(r2*r2+a2*a2)*1;let n2=-r2,l2=a2;const c3=Math.sqrt(n2*n2+l2*l2);n2/=c3,l2/=c3;const h3=[0,n2,l2];t.bv(h3,h3,[0,0,0],-this.bearingInRadians),t.bw(h3,h3,[0,0,0],-1*this.center.lat*Math.PI/180),t.bx(h3,h3,[0,0,0],this.center.lng*Math.PI/180);const u2=1/t.aY(h3);return t.aQ(h3,h3,u2),[...h3,-s2*u2]}isLocationOccluded(e2){return!this.isSurfacePointVisible(ii(e2))}transformLightDirection(e2){const i2=this._helper._center.lng*Math.PI/180,o2=this._helper._center.lat*Math.PI/180,r2=Math.cos(o2),a2=[Math.sin(i2)*r2,Math.sin(o2),Math.cos(i2)*r2],s2=[a2[2],0,-a2[0]],n2=[0,0,0];t.aV(n2,s2,a2),t.aU(s2,s2),t.aU(n2,n2);const l2=[0,0,0];return t.aU(l2,[s2[0]*e2[0]+n2[0]*e2[1]+a2[0]*e2[2],s2[1]*e2[0]+n2[1]*e2[1]+a2[1]*e2[2],s2[2]*e2[0]+n2[2]*e2[1]+a2[2]*e2[2]]),l2}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e2,i2,o2){const r2=function(e3,i3,o3){const r3=1/(1<<o3.z);return new t.a0(e3/t.$*r3+o3.x*r3,i3/t.$*r3+o3.y*r3)}(e2,i2,o2.canonical),a2=(s2=r2.y,[t.bn(r2.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-s2*Math.PI*2))-.5*Math.PI]);var s2;return this.getCircleRadiusCorrection()/Math.cos(a2[1])}projectTileCoordinates(e2,i2,o2,r2){const a2=o2.canonical,s2=ti(e2,i2,a2.x,a2.y,a2.z),n2=1+(r2?r2(e2,i2):0)/t.bt,l2=[s2[0]*n2,s2[1]*n2,s2[2]*n2,1];t.av(l2,l2,this._globeViewProjMatrixNoCorrection);const c3=this._cachedClippingPlane,h3=c3[0]*s2[0]+c3[1]*s2[1]+c3[2]*s2[2]+c3[3]<0;return{point:new t.P(l2[0]/l2[3],l2[1]/l2[3]),signedDistanceFromCamera:l2[3],isOccluded:h3}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e2=oi(this.worldSize,this.center.lat),i2=t.b9(),o2=t.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e2),t.b3(i2,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const r2=this.centerOffset;i2[8]=2*-r2.x/this._helper._width,i2[9]=2*r2.y/this._helper._height,this._projectionMatrix=t.b4(i2),this._globeProjMatrixInverted=t.b9(),t.ap(this._globeProjMatrixInverted,i2),t.M(i2,i2,[0,0,-this.cameraToCenterDistance]),t.b5(i2,i2,this.rollInRadians),t.b6(i2,i2,-this.pitchInRadians),t.b5(i2,i2,this.bearingInRadians),t.M(i2,i2,[0,0,-e2]);const a2=t.bo();a2[0]=e2,a2[1]=e2,a2[2]=e2,t.b6(o2,i2,this.center.lat*Math.PI/180),t.by(o2,o2,-this.center.lng*Math.PI/180),t.N(o2,o2,a2),this._globeViewProjMatrixNoCorrection=o2,t.b6(i2,i2,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),t.by(i2,i2,-this.center.lng*Math.PI/180),t.N(i2,i2,a2),this._globeViewProjMatrix32f=new Float32Array(i2),this._globeViewProjMatrixNoCorrectionInverted=t.b9(),t.ap(this._globeViewProjMatrixNoCorrectionInverted,o2);const s2=t.bo();this._cameraPosition=t.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/e2,t.bv(this._cameraPosition,this._cameraPosition,s2,-this.rollInRadians),t.bw(this._cameraPosition,this._cameraPosition,s2,this.pitchInRadians),t.bv(this._cameraPosition,this._cameraPosition,s2,-this.bearingInRadians),t.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),t.bw(this._cameraPosition,this._cameraPosition,s2,-this.center.lat*Math.PI/180),t.bx(this._cameraPosition,this._cameraPosition,s2,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e2);const n2=t.b4(this._globeViewProjMatrixNoCorrectionInverted);t.N(n2,n2,[1,1,-1]),this._cachedFrustum=At.fromInvProjectionMatrix(n2,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(e2){t.w("calculateFogMatrix is not supported on globe projection.");const i2=t.b9();return t.af(i2),i2}getVisibleUnwrappedCoordinates(e2){return[new t.b1(0,e2)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e2){e2&&t.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e2,i2){if(!this._globeViewProjMatrixNoCorrection)return 1;const o2=ii(e2);t.aQ(o2,o2,1+i2/t.bt);const r2=t.bu();return t.av(r2,[o2[0],o2[1],o2[2],1],this._globeViewProjMatrixNoCorrection),r2[2]/r2[3]}populateCache(e2){}getBounds(){const e2=.5*this.width,i2=.5*this.height,o2=[new t.P(0,0),new t.P(e2,0),new t.P(this.width,0),new t.P(this.width,i2),new t.P(this.width,this.height),new t.P(e2,this.height),new t.P(0,this.height),new t.P(0,i2)],r2=[];for(const e3 of o2)r2.push(this.unprojectScreenPoint(e3));let a2=0,s2=0,n2=0,l2=0;const c3=this.center;for(const e3 of r2){const i3=t.bz(c3.lng,e3.lng),o3=t.bz(c3.lat,e3.lat);i3<s2&&(s2=i3),i3>a2&&(a2=i3),o3<l2&&(l2=o3),o3>n2&&(n2=o3)}const h3=[c3.lng+s2,c3.lat+l2,c3.lng+a2,c3.lat+n2];return this.isSurfacePointOnScreen([0,1,0])&&(h3[3]=90,h3[0]=-180,h3[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(h3[1]=-90,h3[0]=-180,h3[2]=180),new G(h3)}getConstrained(e2,i2){const o2=t.ag(e2.lat,-t.ah,t.ah),r2=t.ag(+i2,this.minZoom+si2(0,o2),this.maxZoom);return{center:new t.S(e2.lng,o2),zoom:r2}}calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2){return this._helper.calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2)}setLocationAtPoint(e2,i2){const o2=ii(this.unprojectScreenPoint(i2)),r2=ii(e2),a2=t.bo();t.bA(a2);const s2=t.bo();t.bx(s2,o2,a2,-this.center.lng*Math.PI/180),t.bw(s2,s2,a2,this.center.lat*Math.PI/180);const n2=r2[0]*r2[0]+r2[2]*r2[2],l2=s2[0]*s2[0];if(n2<l2)return;const c3=Math.sqrt(n2-l2),h3=-c3,u2=t.bB(r2[0],r2[2],s2[0],c3),d3=t.bB(r2[0],r2[2],s2[0],h3),_2=t.bo();t.bx(_2,r2,a2,-u2);const p3=t.bB(_2[1],_2[2],s2[1],s2[2]),m2=t.bo();t.bx(m2,r2,a2,-d3);const f2=t.bB(m2[1],m2[2],s2[1],s2[2]),g2=.5*Math.PI,v2=p3>=-g2&&p3<=g2,b2=f2>=-g2&&f2<=g2;let x2,y2;if(v2&&b2){const e3=this.center.lng*Math.PI/180,i3=this.center.lat*Math.PI/180;t.bC(u2,e3)+t.bC(p3,i3)<t.bC(d3,e3)+t.bC(f2,i3)?(x2=u2,y2=p3):(x2=d3,y2=f2)}else if(v2)x2=u2,y2=p3;else{if(!b2)return;x2=d3,y2=f2}const w2=x2/Math.PI*180,T2=y2/Math.PI*180,P2=this.center.lat;this.setCenter(new t.S(w2,t.ag(T2,-90,90))),this.setZoom(this.zoom+si2(P2,this.center.lat))}locationToScreenPoint(e2,i2){const o2=ii(e2);if(i2){const r2=i2.getElevationForLngLatZoom(e2,this._helper._tileZoom);t.aQ(o2,o2,1+r2/t.bt)}return this._projectSurfacePointToScreen(o2)}_projectSurfacePointToScreen(e2){const i2=t.bu();return t.av(i2,[...e2,1],this._globeViewProjMatrixNoCorrection),i2[0]/=i2[3],i2[1]/=i2[3],new t.P((.5*i2[0]+.5)*this.width,(.5*-i2[1]+.5)*this.height)}screenPointToMercatorCoordinate(e2,i2){if(i2){const t2=i2.pointCoordinate(e2);if(t2)return t2}return t.a0.fromLngLat(this.unprojectScreenPoint(e2))}screenPointToLocation(e2,t2){var i2;return(i2=this.screenPointToMercatorCoordinate(e2,t2))===null||i2===void 0?void 0:i2.toLngLat()}isPointOnMapSurface(e2,t2){const i2=this._cameraPosition,o2=this.getRayDirectionFromPixel(e2);return!!this.rayPlanetIntersection(i2,o2)}getRayDirectionFromPixel(e2){const i2=t.bu();i2[0]=e2.x/this.width*2-1,i2[1]=-1*(e2.y/this.height*2-1),i2[2]=1,i2[3]=1,t.av(i2,i2,this._globeViewProjMatrixNoCorrectionInverted),i2[0]/=i2[3],i2[1]/=i2[3],i2[2]/=i2[3];const o2=t.bo();o2[0]=i2[0]-this._cameraPosition[0],o2[1]=i2[1]-this._cameraPosition[1],o2[2]=i2[2]-this._cameraPosition[2];const r2=t.bo();return t.aU(r2,o2),r2}isSurfacePointVisible(e2){const t2=this._cachedClippingPlane;return t2[0]*e2[0]+t2[1]*e2[1]+t2[2]*e2[2]+t2[3]>=0}isSurfacePointOnScreen(e2){if(!this.isSurfacePointVisible(e2))return!1;const i2=t.bu();return t.av(i2,[...e2,1],this._globeViewProjMatrixNoCorrection),i2[0]/=i2[3],i2[1]/=i2[3],i2[2]/=i2[3],i2[0]>-1&&i2[0]<1&&i2[1]>-1&&i2[1]<1&&i2[2]>-1&&i2[2]<1}rayPlanetIntersection(e2,i2){const o2=t.aW(e2,i2),r2=t.bo(),a2=t.bo();t.aQ(a2,i2,o2),t.aT(r2,e2,a2);const s2=1-t.aW(r2,r2);if(s2<0)return null;const n2=t.aW(e2,e2)-1,l2=-o2+(o2<0?1:-1)*Math.sqrt(s2),c3=n2/l2,h3=l2;return{tMin:Math.min(c3,h3),tMax:Math.max(c3,h3)}}unprojectScreenPoint(e2){const i2=this._cameraPosition,o2=this.getRayDirectionFromPixel(e2),r2=this.rayPlanetIntersection(i2,o2);if(r2){const e3=t.bo();t.aR(e3,i2,[o2[0]*r2.tMin,o2[1]*r2.tMin,o2[2]*r2.tMin]);const a3=t.bo();return t.aU(a3,e3),ri(a3)}const a2=this._cachedClippingPlane,s2=a2[0]*o2[0]+a2[1]*o2[1]+a2[2]*o2[2],n2=-t.b0(a2,i2)/s2,l2=t.bo();if(n2>0)t.aR(l2,i2,[o2[0]*n2,o2[1]*n2,o2[2]*n2]);else{const e3=t.bo();t.aR(e3,i2,[2*o2[0],2*o2[1],2*o2[2]]);const r3=t.b0(this._cachedClippingPlane,e3);t.aT(l2,e3,[this._cachedClippingPlane[0]*r3,this._cachedClippingPlane[1]*r3,this._cachedClippingPlane[2]*r3])}const c3=function(e3){const i3=t.bo();return i3[0]=e3[0]*-e3[3],i3[1]=e3[1]*-e3[3],i3[2]=e3[2]*-e3[3],{center:i3,radius:Math.sqrt(1-e3[3]*e3[3])}}(a2);return ri(function(e3,i3,o3){const r3=t.bo();t.aT(r3,o3,e3);const a3=t.bo();return t.bp(a3,e3,r3,i3/t.a_(r3)),a3}(c3.center,c3.radius,l2))}getMatrixForModel(e2,i2){const o2=t.S.convert(e2),r2=1/t.bt,a2=t.b8();return t.by(a2,a2,o2.lng/180*Math.PI),t.b6(a2,a2,-o2.lat/180*Math.PI),t.M(a2,a2,[0,0,1+i2/t.bt]),t.b6(a2,a2,.5*Math.PI),t.N(a2,a2,[r2,r2,r2]),a2}getProjectionDataForCustomLayer(e2=!0){const i2=this.getProjectionData({overscaledTileID:new t.Z(0,0,0,0,0),applyGlobeMatrix:e2});return i2.tileMercatorCoords=[0,0,1,1],i2}getFastPathSimpleProjectionMatrix(e2){}};__name(_fi,"fi");let fi2=_fi;const _gi=class _gi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e2){this._helper.setMinZoom(e2)}setMaxZoom(e2){this._helper.setMaxZoom(e2)}setMinPitch(e2){this._helper.setMinPitch(e2)}setMaxPitch(e2){this._helper.setMaxPitch(e2)}setRenderWorldCopies(e2){this._helper.setRenderWorldCopies(e2)}setBearing(e2){this._helper.setBearing(e2)}setPitch(e2){this._helper.setPitch(e2)}setRoll(e2){this._helper.setRoll(e2)}setFov(e2){this._helper.setFov(e2)}setZoom(e2){this._helper.setZoom(e2)}setCenter(e2){this._helper.setCenter(e2)}setElevation(e2){this._helper.setElevation(e2)}setMinElevationForCurrentTile(e2){this._helper.setMinElevationForCurrentTile(e2)}setPadding(e2){this._helper.setPadding(e2)}interpolatePadding(e2,t2,i2){return this._helper.interpolatePadding(e2,t2,i2)}isPaddingEqual(e2){return this._helper.isPaddingEqual(e2)}resize(e2,t2,i2=!0){this._helper.resize(e2,t2,i2)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e2){this._helper.setMaxBounds(e2)}overrideNearFarZ(e2,t2){this._helper.overrideNearFarZ(e2,t2)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e2){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e2)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e2,t2){this._globeness=e2,this._globeLatitudeErrorCorrectionRadians=t2,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Rt({calcMatrices:__name(()=>{this._calcMatrices()},"calcMatrices"),getConstrained:__name((e2,t2)=>this.getConstrained(e2,t2),"getConstrained")}),this._globeness=1,this._mercatorTransform=new Lt2,this._verticalPerspectiveTransform=new fi2}clone(){const e2=new _gi;return e2._globeness=this._globeness,e2._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e2.apply(this),e2}apply(e2){this._helper.apply(e2),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e2){const t2=this._mercatorTransform.getProjectionData(e2),i2=this._verticalPerspectiveTransform.getProjectionData(e2);return{mainMatrix:this.isGlobeRendering?i2.mainMatrix:t2.mainMatrix,clippingPlane:i2.clippingPlane,tileMercatorCoords:i2.tileMercatorCoords,projectionTransition:e2.applyGlobeMatrix?this._globeness:0,fallbackMatrix:t2.fallbackMatrix}}isLocationOccluded(e2){return this.currentTransform.isLocationOccluded(e2)}transformLightDirection(e2){return this.currentTransform.transformLightDirection(e2)}getPixelScale(){return t.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return t.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e2,i2,o2){const r2=this._mercatorTransform.getPitchedTextCorrection(e2,i2,o2),a2=this._verticalPerspectiveTransform.getPitchedTextCorrection(e2,i2,o2);return t.bj(r2,a2,this._globeness)}projectTileCoordinates(e2,t2,i2,o2){return this.currentTransform.projectTileCoordinates(e2,t2,i2,o2)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e2){return this.currentTransform.calculateFogMatrix(e2)}getVisibleUnwrappedCoordinates(e2){return this.currentTransform.getVisibleUnwrappedCoordinates(e2)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e2){this._mercatorTransform.recalculateZoomAndCenter(e2),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e2)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e2,t2){return this.currentTransform.lngLatToCameraDepth(e2,t2)}populateCache(e2){this._mercatorTransform.populateCache(e2),this._verticalPerspectiveTransform.populateCache(e2)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e2,t2){return this.currentTransform.getConstrained(e2,t2)}calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2){return this._helper.calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2)}setLocationAtPoint(e2,t2){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e2,t2),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e2,t2),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e2,t2){return this.currentTransform.locationToScreenPoint(e2,t2)}screenPointToMercatorCoordinate(e2,t2){return this.currentTransform.screenPointToMercatorCoordinate(e2,t2)}screenPointToLocation(e2,t2){return this.currentTransform.screenPointToLocation(e2,t2)}isPointOnMapSurface(e2,t2){return this.currentTransform.isPointOnMapSurface(e2,t2)}getRayDirectionFromPixel(e2){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e2)}getMatrixForModel(e2,t2){return this.currentTransform.getMatrixForModel(e2,t2)}getProjectionDataForCustomLayer(e2=!0){const t2=this._mercatorTransform.getProjectionDataForCustomLayer(e2);if(!this.isGlobeRendering)return t2;const i2=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e2);return i2.fallbackMatrix=t2.mainMatrix,i2}getFastPathSimpleProjectionMatrix(e2){return this.currentTransform.getFastPathSimpleProjectionMatrix(e2)}};__name(_gi,"gi");let gi=_gi;const _vi=class _vi{get useGlobeControls(){return!0}handlePanInertia(e2,i2){const o2=ni(e2,i2);return Math.abs(o2.lng-i2.center.lng)>180&&(o2.lng=i2.center.lng+179.5*Math.sign(o2.lng-i2.center.lng)),{easingCenter:o2,easingOffset:new t.P(0,0)}}handleMapControlsRollPitchBearingZoom(e2,i2){const o2=e2.around,r2=i2.screenPointToLocation(o2);e2.bearingDelta&&i2.setBearing(i2.bearing+e2.bearingDelta),e2.pitchDelta&&i2.setPitch(i2.pitch+e2.pitchDelta),e2.rollDelta&&i2.setRoll(i2.roll+e2.rollDelta);const a2=i2.zoom;e2.zoomDelta&&i2.setZoom(i2.zoom+e2.zoomDelta);const s2=i2.zoom-a2;if(s2===0)return;const n2=t.bz(i2.center.lng,r2.lng),l2=n2/(Math.abs(n2/180)+1),c3=t.bz(i2.center.lat,r2.lat),h3=i2.getRayDirectionFromPixel(o2),u2=i2.cameraPosition,d3=-1*t.aW(u2,h3),_2=t.bo();t.aR(_2,u2,[h3[0]*d3,h3[1]*d3,h3[2]*d3]);const p3=t.aY(_2)-1,m2=Math.exp(.5*-Math.max(p3-.3,0)),f2=oi(i2.worldSize,i2.center.lat)/Math.min(i2.width,i2.height),g2=t.bm(f2,.9,.5,1,.25),v2=(1-t.ae(-s2))*Math.min(m2,g2),b2=i2.center.lat,x2=i2.zoom,y2=new t.S(i2.center.lng+l2*v2,t.ag(i2.center.lat+c3*v2,-t.ah,t.ah));i2.setLocationAtPoint(r2,o2);const w2=i2.center,T2=t.bm(Math.abs(n2),45,85,0,1),P2=t.bm(f2,.75,.35,0,1),C2=Math.pow(Math.max(T2,P2),.25),I2=t.bz(w2.lng,y2.lng),M2=t.bz(w2.lat,y2.lat);i2.setCenter(new t.S(w2.lng+I2*C2,w2.lat+M2*C2).wrap()),i2.setZoom(x2+si2(b2,i2.center.lat))}handleMapControlsPan(e2,t2,i2){if(!e2.panDelta)return;const o2=t2.center.lat,r2=t2.zoom;t2.setCenter(ni(e2.panDelta,t2).wrap()),t2.setZoom(r2+si2(o2,t2.center.lat))}cameraForBoxAndBearing(e2,i2,o2,r2,a2){const s2=Bt2(e2,i2,o2,r2,a2),n2=i2.left/a2.width*2-1,l2=(a2.width-i2.right)/a2.width*2-1,c3=i2.top/a2.height*-2+1,h3=(a2.height-i2.bottom)/a2.height*-2+1,u2=t.bz(o2.getWest(),o2.getEast())<0,d3=u2?o2.getEast():o2.getWest(),_2=u2?o2.getWest():o2.getEast(),p3=Math.max(o2.getNorth(),o2.getSouth()),m2=Math.min(o2.getNorth(),o2.getSouth()),f2=d3+.5*t.bz(d3,_2),g2=p3+.5*t.bz(p3,m2),v2=a2.clone();v2.setCenter(s2.center),v2.setBearing(s2.bearing),v2.setPitch(0),v2.setRoll(0),v2.setZoom(s2.zoom);const b2=v2.modelViewProjectionMatrix,x2=[ii(o2.getNorthWest()),ii(o2.getNorthEast()),ii(o2.getSouthWest()),ii(o2.getSouthEast()),ii(new t.S(_2,g2)),ii(new t.S(d3,g2)),ii(new t.S(f2,p3)),ii(new t.S(f2,m2))],y2=ii(s2.center);let w2=Number.POSITIVE_INFINITY;for(const e3 of x2)n2<0&&(w2=_vi.getLesserNonNegativeNonNull(w2,_vi.solveVectorScale(e3,y2,b2,"x",n2))),l2>0&&(w2=_vi.getLesserNonNegativeNonNull(w2,_vi.solveVectorScale(e3,y2,b2,"x",l2))),c3>0&&(w2=_vi.getLesserNonNegativeNonNull(w2,_vi.solveVectorScale(e3,y2,b2,"y",c3))),h3<0&&(w2=_vi.getLesserNonNegativeNonNull(w2,_vi.solveVectorScale(e3,y2,b2,"y",h3)));if(Number.isFinite(w2)&&w2!==0)return s2.zoom=v2.zoom+t.aj(w2),s2;kt2()}handleJumpToCenterZoom(e2,i2){const o2=e2.center.lat,r2=e2.getConstrained(i2.center?t.S.convert(i2.center):e2.center,e2.zoom).center;e2.setCenter(r2.wrap());const a2=i2.zoom!==void 0?+i2.zoom:e2.zoom+si2(o2,r2.lat);e2.zoom!==a2&&e2.setZoom(a2)}handleEaseTo(e2,i2){const o2=e2.zoom,r2=e2.center,a2=e2.padding,s2={roll:e2.roll,pitch:e2.pitch,bearing:e2.bearing},n2={roll:i2.roll===void 0?e2.roll:i2.roll,pitch:i2.pitch===void 0?e2.pitch:i2.pitch,bearing:i2.bearing===void 0?e2.bearing:i2.bearing},l2=i2.zoom!==void 0,c3=!e2.isPaddingEqual(i2.padding);let h3=!1;const u2=i2.center?t.S.convert(i2.center):r2,d3=e2.getConstrained(u2,o2).center;St(e2,d3);const _2=e2.clone();_2.setCenter(d3),_2.setZoom(l2?+i2.zoom:o2+si2(r2.lat,u2.lat)),_2.setBearing(i2.bearing);const p3=new t.P(t.ag(e2.centerPoint.x+i2.offsetAsPoint.x,0,e2.width),t.ag(e2.centerPoint.y+i2.offsetAsPoint.y,0,e2.height));_2.setLocationAtPoint(d3,p3);const m2=(i2.offset&&i2.offsetAsPoint.mag())>0?_2.center:d3,f2=l2?+i2.zoom:o2+si2(r2.lat,m2.lat),g2=o2+si2(r2.lat,0),v2=f2+si2(m2.lat,0),b2=t.bz(r2.lng,m2.lng),x2=t.bz(r2.lat,m2.lat),y2=t.ae(v2-g2);return h3=f2!==o2,{easeFunc:__name(o3=>{if(t.bd(s2,n2)||Ft({startEulerAngles:s2,endEulerAngles:n2,tr:e2,k:o3,useSlerp:s2.roll!=n2.roll}),c3&&e2.interpolatePadding(a2,i2.padding,o3),i2.around)t.w("Easing around a point is not supported under globe projection."),e2.setLocationAtPoint(i2.around,i2.aroundPoint);else{const t2=v2>g2?Math.min(2,y2):Math.max(.5,y2),i3=Math.pow(t2,1-o3),a3=ci2(r2,b2,x2,o3*i3);e2.setCenter(a3.wrap())}if(h3){const i3=t.C.number(g2,v2,o3)+si2(0,e2.center.lat);e2.setZoom(i3)}},"easeFunc"),isZooming:h3,elevationCenter:m2}}handleFlyTo(e2,i2){const o2=i2.zoom!==void 0,r2=e2.center,a2=e2.zoom,s2=e2.padding,n2=!e2.isPaddingEqual(i2.padding),l2=e2.getConstrained(t.S.convert(i2.center||i2.locationAtOffset),a2).center,c3=o2?+i2.zoom:e2.zoom+si2(e2.center.lat,l2.lat),h3=e2.clone();h3.setCenter(l2),h3.setZoom(c3),h3.setBearing(i2.bearing);const u2=new t.P(t.ag(e2.centerPoint.x+i2.offsetAsPoint.x,0,e2.width),t.ag(e2.centerPoint.y+i2.offsetAsPoint.y,0,e2.height));h3.setLocationAtPoint(l2,u2);const d3=h3.center;St(e2,d3);const _2=function(e3,i3,o3){const r3=ii(i3),a3=ii(o3),s3=t.aW(r3,a3),n3=Math.acos(s3),l3=ei(e3);return n3/(2*Math.PI)*l3}(e2,r2,d3),p3=a2+si2(r2.lat,0),m2=c3+si2(d3.lat,0),f2=t.ae(m2-p3);let g2;if(typeof i2.minZoom=="number"){const o3=+i2.minZoom+si2(d3.lat,0),r3=Math.min(o3,p3,m2)+si2(0,d3.lat),a3=e2.getConstrained(d3,r3).zoom+si2(d3.lat,0);g2=t.ae(a3-p3)}const v2=t.bz(r2.lng,d3.lng),b2=t.bz(r2.lat,d3.lat);return{easeFunc:__name((o3,a3,l3,h4)=>{const u3=ci2(r2,v2,b2,l3);n2&&e2.interpolatePadding(s2,i2.padding,o3);const _3=o3===1?d3:u3;e2.setCenter(_3.wrap());const m3=p3+t.aj(a3);e2.setZoom(o3===1?c3:m3+si2(0,_3.lat))},"easeFunc"),scaleOfZoom:f2,targetCenter:d3,scaleOfMinZoom:g2,pixelPathLength:_2}}static solveVectorScale(e2,t2,i2,o2,r2){const a2=o2==="x"?[i2[0],i2[4],i2[8],i2[12]]:[i2[1],i2[5],i2[9],i2[13]],s2=[i2[3],i2[7],i2[11],i2[15]],n2=e2[0]*a2[0]+e2[1]*a2[1]+e2[2]*a2[2],l2=e2[0]*s2[0]+e2[1]*s2[1]+e2[2]*s2[2],c3=t2[0]*a2[0]+t2[1]*a2[1]+t2[2]*a2[2],h3=t2[0]*s2[0]+t2[1]*s2[1]+t2[2]*s2[2];return c3+r2*l2===n2+r2*h3||s2[3]*(n2-c3)+a2[3]*(h3-l2)+n2*h3==c3*l2?null:(c3+a2[3]-r2*h3-r2*s2[3])/(c3-n2-r2*h3+r2*l2)}static getLesserNonNegativeNonNull(e2,t2){return t2!==null&&t2>=0&&t2<e2?t2:e2}};__name(_vi,"vi");let vi=_vi;const _bi=class _bi{constructor(e2){this._globe=e2,this._mercatorCameraHelper=new Ot,this._verticalPerspectiveCameraHelper=new vi}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e2,t2){return this.currentHelper.handlePanInertia(e2,t2)}handleMapControlsRollPitchBearingZoom(e2,t2){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e2,t2)}handleMapControlsPan(e2,t2,i2){this.currentHelper.handleMapControlsPan(e2,t2,i2)}cameraForBoxAndBearing(e2,t2,i2,o2,r2){return this.currentHelper.cameraForBoxAndBearing(e2,t2,i2,o2,r2)}handleJumpToCenterZoom(e2,t2){this.currentHelper.handleJumpToCenterZoom(e2,t2)}handleEaseTo(e2,t2){return this.currentHelper.handleEaseTo(e2,t2)}handleFlyTo(e2,t2){return this.currentHelper.handleFlyTo(e2,t2)}};__name(_bi,"bi");let bi=_bi;const xi2=__name((e2,i2)=>t.y(e2,i2&&i2.filter(e3=>e3.identifier!=="source.canvas")),"xi"),yi=t.bD(),_wi=class _wi extends t.E{constructor(e2,i2={}){super(),this._rtlPluginLoaded=()=>{for(const e3 in this.sourceCaches){const t2=this.sourceCaches[e3].getSource().type;t2!=="vector"&&t2!=="geojson"||this.sourceCaches[e3].reload()}},this.map=e2,this.dispatcher=new F(k(),e2._getMapId()),this.dispatcher.registerMessageHandler("GG",(e3,t2)=>this.getGlyphs(e3,t2)),this.dispatcher.registerMessageHandler("GI",(e3,t2)=>this.getImages(e3,t2)),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new T(e2._requestManager,i2.localIdeographFontFamily),this.lineAtlas=new E2(256,512),this.crossTileSymbolIndex=new vt2,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",t.bF()),oe().on(ee2,this._rtlPluginLoaded),this.on("data",e3=>{if(e3.dataType!=="source"||e3.sourceDataType!=="metadata")return;const t2=this.sourceCaches[e3.sourceId];if(!t2)return;const i3=t2.getSource();if(i3&&i3.vectorLayerIds)for(const e4 in this._layers){const t3=this._layers[e4];t3.source===i3.id&&this._validateLayer(t3)}})}setGlobalStateProperty(e2,i2){var o2,r2,a2;this._checkLoaded();const s2=i2===null?(a2=(r2=(o2=this.stylesheet.state)===null||o2===void 0?void 0:o2[e2])===null||r2===void 0?void 0:r2.default)!==null&&a2!==void 0?a2:null:i2;if(t.bG(s2,this._globalState[e2]))return this;this._globalState[e2]=s2;const n2=this._findGlobalStateAffectedSources([e2]);for(const e3 in this.sourceCaches)n2.has(e3)&&(this._reloadSource(e3),this._changed=!0)}getGlobalState(){return this._globalState}setGlobalState(e2){this._checkLoaded();const i2=[];for(const o3 in e2)!t.bG(this._globalState[o3],e2[o3].default)&&(i2.push(o3),this._globalState[o3]=e2[o3].default);const o2=this._findGlobalStateAffectedSources(i2);for(const e3 in this.sourceCaches)o2.has(e3)&&(this._reloadSource(e3),this._changed=!0)}_findGlobalStateAffectedSources(e2){if(e2.length===0)return new Set;const t2=new Set;for(const i2 in this._layers){const o2=this._layers[i2],r2=o2.getLayoutAffectingGlobalStateRefs();for(const i3 of e2)r2.has(i3)&&t2.add(o2.source)}return t2}loadURL(e2,i2={},o2){this.fire(new t.l("dataloading",{dataType:"style"})),i2.validate=typeof i2.validate!="boolean"||i2.validate;const r2=this.map._requestManager.transformRequest(e2,"Style");this._loadStyleRequest=new AbortController;const a2=this._loadStyleRequest;t.j(r2,this._loadStyleRequest).then(e3=>{this._loadStyleRequest=null,this._load(e3.data,i2,o2)}).catch(e3=>{this._loadStyleRequest=null,e3&&!a2.signal.aborted&&this.fire(new t.k(e3))})}loadJSON(e2,i2={},o2){this.fire(new t.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,s.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,i2.validate=i2.validate!==!1,this._load(e2,i2,o2)}).catch(()=>{})}loadEmpty(){this.fire(new t.l("dataloading",{dataType:"style"})),this._load(yi,{validate:!1})}_load(e2,i2,o2){var r2,a2,s2;const n2=i2.transformStyle?i2.transformStyle(o2,e2):e2;if(!i2.validate||!xi2(this,t.z(n2))){this._loaded=!0,this.stylesheet=n2;for(const e3 in n2.sources)this.addSource(e3,n2.sources[e3],{validate:!1});n2.sprite?this._loadSprite(n2.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(n2.glyphs),this._createLayers(),this.light=new I(this.stylesheet.light),this._setProjectionInternal(((r2=this.stylesheet.projection)===null||r2===void 0?void 0:r2.type)||"mercator"),this.sky=new S(this.stylesheet.sky),this.map.setTerrain((a2=this.stylesheet.terrain)!==null&&a2!==void 0?a2:null),this.setGlobalState((s2=this.stylesheet.state)!==null&&s2!==void 0?s2:null),this.fire(new t.l("data",{dataType:"style"})),this.fire(new t.l("style.load"))}}_createLayers(){const e2=t.bH(this.stylesheet.layers);this.dispatcher.broadcast("SL",e2),this._order=e2.map(e3=>e3.id),this._layers={},this._serializedLayers=null;for(const i2 of e2){const e3=t.bI(i2);e3.setEventedParent(this,{layer:{id:i2.id}}),this._layers[i2.id]=e3}}_loadSprite(e2,i2=!1,o2=void 0){let r2;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(e3,i3,o3,r3){return t._(this,void 0,void 0,function*(){const a2=f(e3),n2=o3>1?"@2x":"",l2={},c3={};for(const{id:e4,url:o4}of a2){const a3=i3.transformRequest(g(o4,n2,".json"),"SpriteJSON");l2[e4]=t.j(a3,r3);const s2=i3.transformRequest(g(o4,n2,".png"),"SpriteImage");c3[e4]=p2.getImage(s2,r3)}return yield Promise.all([...Object.values(l2),...Object.values(c3)]),function(e4,i4){return t._(this,void 0,void 0,function*(){const t2={};for(const o4 in e4){t2[o4]={};const r4=s.getImageCanvasContext((yield i4[o4]).data),a3=(yield e4[o4]).data;for(const e5 in a3){const{width:i5,height:s2,x:n3,y:l3,sdf:c4,pixelRatio:h3,stretchX:u2,stretchY:d3,content:_2,textFitWidth:p3,textFitHeight:m2}=a3[e5];t2[o4][e5]={data:null,pixelRatio:h3,sdf:c4,stretchX:u2,stretchY:d3,content:_2,textFitWidth:p3,textFitHeight:m2,spriteData:{width:i5,height:s2,x:n3,y:l3,context:r4}}}}return t2})}(l2,c3)})}(e2,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(e3=>{if(this._spriteRequest=null,e3)for(const t2 in e3){this._spritesImagesIds[t2]=[];const o3=this._spritesImagesIds[t2]?this._spritesImagesIds[t2].filter(t3=>!(t3 in e3)):[];for(const e4 of o3)this.imageManager.removeImage(e4),this._changedImages[e4]=!0;for(const o4 in e3[t2]){const r3=t2==="default"?o4:"".concat(t2,":").concat(o4);this._spritesImagesIds[t2].push(r3),r3 in this.imageManager.images?this.imageManager.updateImage(r3,e3[t2][o4],!1):this.imageManager.addImage(r3,e3[t2][o4]),i2&&(this._changedImages[r3]=!0)}}}).catch(e3=>{this._spriteRequest=null,r2=e3,this.fire(new t.k(r2))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i2&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"})),o2&&o2(r2)})}_unloadSprite(){for(const e2 of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e2),this._changedImages[e2]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}_validateLayer(e2){const i2=this.sourceCaches[e2.source];if(!i2)return;const o2=e2.sourceLayer;if(!o2)return;const r2=i2.getSource();(r2.type==="geojson"||r2.vectorLayerIds&&r2.vectorLayerIds.indexOf(o2)===-1)&&this.fire(new t.k(new Error('Source layer "'.concat(o2,'" does not exist on source "').concat(r2.id,'" as specified by style layer "').concat(e2.id,'".'))))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const e2 in this.sourceCaches)if(!this.sourceCaches[e2].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e2,i2=!1){const o2=this._serializedAllLayers();if(!e2||e2.length===0)return Object.values(i2?t.bJ(o2):o2);const r2=[];for(const a2 of e2)if(o2[a2]){const e3=i2?t.bJ(o2[a2]):o2[a2];r2.push(e3)}return r2}_serializedAllLayers(){let e2=this._serializedLayers;if(e2)return e2;e2=this._serializedLayers={};const t2=Object.keys(this._layers);for(const i2 of t2){const t3=this._layers[i2];t3.type!=="custom"&&(e2[i2]=t3.serialize())}return e2}hasTransitions(){var e2,t2,i2;if(!((e2=this.light)===null||e2===void 0)&&e2.hasTransition()||!((t2=this.sky)===null||t2===void 0)&&t2.hasTransition()||!((i2=this.projection)===null||i2===void 0)&&i2.hasTransition())return!0;for(const e3 in this.sourceCaches)if(this.sourceCaches[e3].hasTransition())return!0;for(const e3 in this._layers)if(this._layers[e3].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e2){if(!this._loaded)return;const i2=this._changed;if(i2){const t2=Object.keys(this._updatedLayers),i3=Object.keys(this._removedLayers);(t2.length||i3.length)&&this._updateWorkerLayers(t2,i3);for(const e3 in this._updatedSources){const t3=this._updatedSources[e3];if(t3==="reload")this._reloadSource(e3);else{if(t3!=="clear")throw new Error("Invalid action ".concat(t3));this._clearSource(e3)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const t3 in this._updatedPaintProps)this._layers[t3].updateTransitions(e2);this.light.updateTransitions(e2),this.sky.updateTransitions(e2),this._resetUpdates()}const o2={};for(const e3 in this.sourceCaches){const t2=this.sourceCaches[e3];o2[e3]=t2.used,t2.used=!1}for(const t2 of this._order){const i3=this._layers[t2];i3.recalculate(e2,this._availableImages),!i3.isHidden(e2.zoom)&&i3.source&&(this.sourceCaches[i3.source].used=!0)}for(const e3 in o2){const i3=this.sourceCaches[e3];!!o2[e3]!=!!i3.used&&i3.fire(new t.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:e3}))}this.light.recalculate(e2),this.sky.recalculate(e2),this.projection.recalculate(e2),this.z=e2.zoom,i2&&this.fire(new t.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e2=Object.keys(this._changedImages);if(e2.length){for(const t2 in this.sourceCaches)this.sourceCaches[t2].reloadTilesForDependencies(["icons","patterns"],e2);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e2 in this.sourceCaches)this.sourceCaches[e2].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e2,t2){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e2,!1),removedIds:t2})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e2,i2={}){var o2;this._checkLoaded();const r2=this.serialize();if(e2=i2.transformStyle?i2.transformStyle(r2,e2):e2,((o2=i2.validate)===null||o2===void 0||o2)&&xi2(this,t.z(e2)))return!1;(e2=t.bJ(e2)).layers=t.bH(e2.layers);const a2=t.bK(r2,e2),s2=this._getOperationsToPerform(a2);if(s2.unimplemented.length>0)throw new Error("Unimplemented: ".concat(s2.unimplemented.join(", "),"."));if(s2.operations.length===0)return!1;for(const e3 of s2.operations)e3();return this.stylesheet=e2,this._serializedLayers=null,!0}_getOperationsToPerform(e2){const t2=[],i2=[];for(const o2 of e2)switch(o2.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":t2.push(()=>this.addLayer.apply(this,o2.args));break;case"removeLayer":t2.push(()=>this.removeLayer.apply(this,o2.args));break;case"setPaintProperty":t2.push(()=>this.setPaintProperty.apply(this,o2.args));break;case"setLayoutProperty":t2.push(()=>this.setLayoutProperty.apply(this,o2.args));break;case"setFilter":t2.push(()=>this.setFilter.apply(this,o2.args));break;case"addSource":t2.push(()=>this.addSource.apply(this,o2.args));break;case"removeSource":t2.push(()=>this.removeSource.apply(this,o2.args));break;case"setLayerZoomRange":t2.push(()=>this.setLayerZoomRange.apply(this,o2.args));break;case"setLight":t2.push(()=>this.setLight.apply(this,o2.args));break;case"setGeoJSONSourceData":t2.push(()=>this.setGeoJSONSourceData.apply(this,o2.args));break;case"setGlyphs":t2.push(()=>this.setGlyphs.apply(this,o2.args));break;case"setSprite":t2.push(()=>this.setSprite.apply(this,o2.args));break;case"setTerrain":t2.push(()=>this.map.setTerrain.apply(this,o2.args));break;case"setSky":t2.push(()=>this.setSky.apply(this,o2.args));break;case"setProjection":this.setProjection.apply(this,o2.args);break;case"setGlobalState":t2.push(()=>this.setGlobalState.apply(this,o2.args));break;case"setTransition":t2.push(()=>{});break;default:i2.push(o2.command)}return{operations:t2,unimplemented:i2}}addImage(e2,i2){if(this.getImage(e2))return this.fire(new t.k(new Error('An image named "'.concat(e2,'" already exists.'))));this.imageManager.addImage(e2,i2),this._afterImageUpdated(e2)}updateImage(e2,t2){this.imageManager.updateImage(e2,t2)}getImage(e2){return this.imageManager.getImage(e2)}removeImage(e2){if(!this.getImage(e2))return this.fire(new t.k(new Error('An image named "'.concat(e2,'" does not exist.'))));this.imageManager.removeImage(e2),this._afterImageUpdated(e2)}_afterImageUpdated(e2){this._availableImages=this.imageManager.listImages(),this._changedImages[e2]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e2,i2,o2={}){if(this._checkLoaded(),this.sourceCaches[e2]!==void 0)throw new Error('Source "'.concat(e2,'" already exists.'));if(!i2.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(i2).join(", "),"."));if(["vector","raster","geojson","video","image"].indexOf(i2.type)>=0&&this._validate(t.z.source,"sources.".concat(e2),i2,null,o2))return;this.map&&this.map._collectResourceTiming&&(i2.collectResourceTiming=!0);const r2=this.sourceCaches[e2]=new xe(e2,i2,this.dispatcher);r2.style=this,r2.setEventedParent(this,()=>({isSourceLoaded:r2.loaded(),source:r2.serialize(),sourceId:e2})),r2.onAdd(this.map),this._changed=!0}removeSource(e2){if(this._checkLoaded(),this.sourceCaches[e2]===void 0)throw new Error("There is no source with this ID");for(const i3 in this._layers)if(this._layers[i3].source===e2)return this.fire(new t.k(new Error('Source "'.concat(e2,'" cannot be removed while layer "').concat(i3,'" is using it.'))));const i2=this.sourceCaches[e2];delete this.sourceCaches[e2],delete this._updatedSources[e2],i2.fire(new t.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e2})),i2.setEventedParent(null),i2.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e2,t2){if(this._checkLoaded(),this.sourceCaches[e2]===void 0)throw new Error("There is no source with this ID=".concat(e2));const i2=this.sourceCaches[e2].getSource();if(i2.type!=="geojson")throw new Error("geojsonSource.type is ".concat(i2.type,", which is !== 'geojson"));i2.setData(t2),this._changed=!0}getSource(e2){return this.sourceCaches[e2]&&this.sourceCaches[e2].getSource()}addLayer(e2,i2,o2={}){this._checkLoaded();const r2=e2.id;if(this.getLayer(r2))return void this.fire(new t.k(new Error('Layer "'.concat(r2,'" already exists on this map.'))));let a2;if(e2.type==="custom"){if(xi2(this,t.bL(e2)))return;a2=t.bI(e2)}else{if("source"in e2&&typeof e2.source=="object"&&(this.addSource(r2,e2.source),e2=t.bJ(e2),e2=t.e(e2,{source:r2})),this._validate(t.z.layer,"layers.".concat(r2),e2,{arrayIndex:-1},o2))return;a2=t.bI(e2),this._validateLayer(a2),a2.setEventedParent(this,{layer:{id:r2}})}const s2=i2?this._order.indexOf(i2):this._order.length;if(i2&&s2===-1)this.fire(new t.k(new Error('Cannot add layer "'.concat(r2,'" before non-existing layer "').concat(i2,'".'))));else{if(this._order.splice(s2,0,r2),this._layerOrderChanged=!0,this._layers[r2]=a2,this._removedLayers[r2]&&a2.source&&a2.type!=="custom"){const e3=this._removedLayers[r2];delete this._removedLayers[r2],e3.type!==a2.type?this._updatedSources[a2.source]="clear":(this._updatedSources[a2.source]="reload",this.sourceCaches[a2.source].pause())}this._updateLayer(a2),a2.onAdd&&a2.onAdd(this.map)}}moveLayer(e2,i2){if(this._checkLoaded(),this._changed=!0,!this._layers[e2])return void this.fire(new t.k(new Error("The layer '".concat(e2,"' does not exist in the map's style and cannot be moved."))));if(e2===i2)return;const o2=this._order.indexOf(e2);this._order.splice(o2,1);const r2=i2?this._order.indexOf(i2):this._order.length;i2&&r2===-1?this.fire(new t.k(new Error('Cannot move layer "'.concat(e2,'" before non-existing layer "').concat(i2,'".')))):(this._order.splice(r2,0,e2),this._layerOrderChanged=!0)}removeLayer(e2){this._checkLoaded();const i2=this._layers[e2];if(!i2)return void this.fire(new t.k(new Error('Cannot remove non-existing layer "'.concat(e2,'".'))));i2.setEventedParent(null);const o2=this._order.indexOf(e2);this._order.splice(o2,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e2]=i2,delete this._layers[e2],this._serializedLayers&&delete this._serializedLayers[e2],delete this._updatedLayers[e2],delete this._updatedPaintProps[e2],i2.onRemove&&i2.onRemove(this.map)}getLayer(e2){return this._layers[e2]}getLayersOrder(){return[...this._order]}hasLayer(e2){return e2 in this._layers}setLayerZoomRange(e2,i2,o2){this._checkLoaded();const r2=this.getLayer(e2);r2?r2.minzoom===i2&&r2.maxzoom===o2||(i2!=null&&(r2.minzoom=i2),o2!=null&&(r2.maxzoom=o2),this._updateLayer(r2)):this.fire(new t.k(new Error('Cannot set the zoom range of non-existing layer "'.concat(e2,'".'))))}setFilter(e2,i2,o2={}){this._checkLoaded();const r2=this.getLayer(e2);if(r2){if(!t.bG(r2.filter,i2))return i2==null?(r2.setFilter(void 0),void this._updateLayer(r2)):void(this._validate(t.z.filter,"layers.".concat(r2.id,".filter"),i2,null,o2)||(r2.setFilter(t.bJ(i2)),this._updateLayer(r2)))}else this.fire(new t.k(new Error('Cannot filter non-existing layer "'.concat(e2,'".'))))}getFilter(e2){return t.bJ(this.getLayer(e2).filter)}setLayoutProperty(e2,i2,o2,r2={}){this._checkLoaded();const a2=this.getLayer(e2);a2?t.bG(a2.getLayoutProperty(i2),o2)||(a2.setLayoutProperty(i2,o2,r2),this._updateLayer(a2)):this.fire(new t.k(new Error('Cannot style non-existing layer "'.concat(e2,'".'))))}getLayoutProperty(e2,i2){const o2=this.getLayer(e2);if(o2)return o2.getLayoutProperty(i2);this.fire(new t.k(new Error('Cannot get style of non-existing layer "'.concat(e2,'".'))))}setPaintProperty(e2,i2,o2,r2={}){this._checkLoaded();const a2=this.getLayer(e2);a2?t.bG(a2.getPaintProperty(i2),o2)||(a2.setPaintProperty(i2,o2,r2)&&this._updateLayer(a2),this._changed=!0,this._updatedPaintProps[e2]=!0,this._serializedLayers=null):this.fire(new t.k(new Error('Cannot style non-existing layer "'.concat(e2,'".'))))}getPaintProperty(e2,t2){return this.getLayer(e2).getPaintProperty(t2)}setFeatureState(e2,i2){this._checkLoaded();const o2=e2.source,r2=e2.sourceLayer,a2=this.sourceCaches[o2];if(a2===void 0)return void this.fire(new t.k(new Error("The source '".concat(o2,"' does not exist in the map's style."))));const s2=a2.getSource().type;s2==="geojson"&&r2?this.fire(new t.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):s2!=="vector"||r2?(e2.id===void 0&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),a2.setFeatureState(r2,e2.id,i2)):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e2,i2){this._checkLoaded();const o2=e2.source,r2=this.sourceCaches[o2];if(r2===void 0)return void this.fire(new t.k(new Error("The source '".concat(o2,"' does not exist in the map's style."))));const a2=r2.getSource().type,s2=a2==="vector"?e2.sourceLayer:void 0;a2!=="vector"||s2?i2&&typeof e2.id!="string"&&typeof e2.id!="number"?this.fire(new t.k(new Error("A feature id is required to remove its specific state property."))):r2.removeFeatureState(s2,e2.id,i2):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e2){this._checkLoaded();const i2=e2.source,o2=e2.sourceLayer,r2=this.sourceCaches[i2];if(r2!==void 0)return r2.getSource().type!=="vector"||o2?(e2.id===void 0&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),r2.getFeatureState(o2,e2.id)):void this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.k(new Error("The source '".concat(i2,"' does not exist in the map's style."))))}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e2=t.bM(this.sourceCaches,e3=>e3.serialize()),i2=this._serializeByIds(this._order,!0),o2=this.map.getTerrain()||void 0,r2=this.stylesheet;return t.bN({version:r2.version,name:r2.name,metadata:r2.metadata,light:r2.light,sky:r2.sky,center:r2.center,zoom:r2.zoom,bearing:r2.bearing,pitch:r2.pitch,sprite:r2.sprite,glyphs:r2.glyphs,transition:r2.transition,projection:r2.projection,sources:e2,layers:i2,terrain:o2},e3=>e3!==void 0)}_updateLayer(e2){this._updatedLayers[e2.id]=!0,e2.source&&!this._updatedSources[e2.source]&&this.sourceCaches[e2.source].getSource().type!=="raster"&&(this._updatedSources[e2.source]="reload",this.sourceCaches[e2.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e2){const t2=__name(e3=>this._layers[e3].type==="fill-extrusion","t"),i2={},o2=[];for(let r3=this._order.length-1;r3>=0;r3--){const a2=this._order[r3];if(t2(a2)){i2[a2]=r3;for(const t3 of e2){const e3=t3[a2];if(e3)for(const t4 of e3)o2.push(t4)}}}o2.sort((e3,t3)=>t3.intersectionZ-e3.intersectionZ);const r2=[];for(let a2=this._order.length-1;a2>=0;a2--){const s2=this._order[a2];if(t2(s2))for(let e3=o2.length-1;e3>=0;e3--){const t3=o2[e3].feature;if(i2[t3.layer.id]<a2)break;r2.push(t3),o2.pop()}else for(const t3 of e2){const e3=t3[s2];if(e3)for(const t4 of e3)r2.push(t4.feature)}}return r2}queryRenderedFeatures(e2,i2,o2){i2&&i2.filter&&this._validate(t.z.filter,"queryRenderedFeatures.filter",i2.filter,null,i2);const r2={};if(i2&&i2.layers){if(!(Array.isArray(i2.layers)||i2.layers instanceof Set))return this.fire(new t.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const e3 of i2.layers){const i3=this._layers[e3];if(!i3)return this.fire(new t.k(new Error("The layer '".concat(e3,"' does not exist in the map's style and cannot be queried for features.")))),[];r2[i3.source]=!0}}const a2=[];i2.availableImages=this._availableImages;const s2=this._serializedAllLayers(),n2=i2.layers instanceof Set?i2.layers:Array.isArray(i2.layers)?new Set(i2.layers):null,l2=Object.assign(Object.assign({},i2),{layers:n2});for(const t2 in this.sourceCaches)i2.layers&&!r2[t2]||a2.push(j(this.sourceCaches[t2],this._layers,s2,e2,l2,o2,this.map.terrain?(e3,t3,i3)=>this.map.terrain.getElevation(e3,t3,i3):void 0));return this.placement&&a2.push(function(e3,t2,i3,o3,r3,a3,s3){const n3={},l3=a3.queryRenderedSymbols(o3),c3=[];for(const e4 of Object.keys(l3).map(Number))c3.push(s3[e4]);c3.sort(N);for(const i4 of c3){const o4=i4.featureIndex.lookupSymbolFeatures(l3[i4.bucketInstanceId],t2,i4.bucketIndex,i4.sourceLayerIndex,r3.filter,r3.layers,r3.availableImages,e3);for(const e4 in o4){const t3=n3[e4]=n3[e4]||[],r4=o4[e4];r4.sort((e5,t4)=>{const o5=i4.featureSortOrder;if(o5){const i5=o5.indexOf(e5.featureIndex);return o5.indexOf(t4.featureIndex)-i5}return t4.featureIndex-e5.featureIndex});for(const e5 of r4)t3.push(e5)}}return function(e4,t3,i4){for(const o4 in e4)for(const r4 of e4[o4])Z(r4,i4[t3[o4].source]);return e4}(n3,e3,i3)}(this._layers,s2,this.sourceCaches,e2,l2,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a2)}querySourceFeatures(e2,i2){i2&&i2.filter&&this._validate(t.z.filter,"querySourceFeatures.filter",i2.filter,null,i2);const o2=this.sourceCaches[e2];return o2?function(e3,t2){const i3=e3.getRenderableIds().map(t3=>e3.getTileByID(t3)),o3=[],r2={};for(let e4=0;e4<i3.length;e4++){const a2=i3[e4],s2=a2.tileID.canonical.key;r2[s2]||(r2[s2]=!0,a2.querySourceFeatures(o3,t2))}return o3}(o2,i2):[]}getLight(){return this.light.getLight()}setLight(e2,i2={}){this._checkLoaded();const o2=this.light.getLight();let r2=!1;for(const i3 in e2)if(!t.bG(e2[i3],o2[i3])){r2=!0;break}if(!r2)return;const a2={now:s.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e2,i2),this.light.updateTransitions(a2)}getProjection(){var e2;return(e2=this.stylesheet)===null||e2===void 0?void 0:e2.projection}setProjection(e2){if(this._checkLoaded(),this.projection){if(this.projection.name===e2.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e2,this._setProjectionInternal(e2.type)}getSky(){var e2;return(e2=this.stylesheet)===null||e2===void 0?void 0:e2.sky}setSky(e2,i2={}){this._checkLoaded();const o2=this.getSky();let r2=!1;if(!e2&&!o2)return;if(e2&&!o2)r2=!0;else if(!e2&&o2)r2=!0;else for(const i3 in e2)if(!t.bG(e2[i3],o2[i3])){r2=!0;break}if(!r2)return;const a2={now:s.now(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e2,this.sky.setSky(e2,i2),this.sky.updateTransitions(a2)}_setProjectionInternal(e2){const i2=function(e3){if(Array.isArray(e3)){const t2=new Jt2({type:e3});return{projection:t2,transform:new gi,cameraHelper:new bi(t2)}}switch(e3){case"mercator":return{projection:new It,transform:new Lt2,cameraHelper:new Ot};case"globe":{const e4=new Jt2({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:e4,transform:new gi,cameraHelper:new bi(e4)}}case"vertical-perspective":return{projection:new Yt2,transform:new fi2,cameraHelper:new vi};default:return t.w("Unknown projection name: ".concat(e3,". Falling back to mercator projection.")),{projection:new It,transform:new Lt2,cameraHelper:new Ot}}}(e2);this.projection=i2.projection,this.map.migrateProjection(i2.transform,i2.cameraHelper);for(const e3 in this.sourceCaches)this.sourceCaches[e3].reload()}_validate(e2,i2,o2,r2,a2={}){return(!a2||a2.validate!==!1)&&xi2(this,e2.call(t.z,t.e({key:i2,style:this.serialize(),value:o2,styleSpec:t.v},r2)))}_remove(e2=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),oe().off(ee2,this._rtlPluginLoaded);for(const e3 in this._layers)this._layers[e3].setEventedParent(null);for(const e3 in this.sourceCaches){const t2=this.sourceCaches[e3];t2.setEventedParent(null),t2.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e2&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e2)}_clearSource(e2){this.sourceCaches[e2].clearTiles()}_reloadSource(e2){this.sourceCaches[e2].resume(),this.sourceCaches[e2].reload()}_updateSources(e2){for(const t2 in this.sourceCaches)this.sourceCaches[t2].update(e2,this.map.terrain)}_generateCollisionBoxes(){for(const e2 in this.sourceCaches)this._reloadSource(e2)}_updatePlacement(e2,t2,i2,o2,r2=!1){let a2=!1,n2=!1;const l2={};for(const t3 of this._order){const i3=this._layers[t3];if(i3.type!=="symbol")continue;if(!l2[i3.source]){const e3=this.sourceCaches[i3.source];l2[i3.source]=e3.getRenderableIds(!0).map(t4=>e3.getTileByID(t4)).sort((e4,t4)=>t4.tileID.overscaledZ-e4.tileID.overscaledZ||(e4.tileID.isLessThan(t4.tileID)?-1:1))}const o3=this.crossTileSymbolIndex.addLayer(i3,l2[i3.source],e2.center.lng);a2=a2||o3}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((r2=r2||this._layerOrderChanged||i2===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.now(),e2.zoom))&&(this.pauseablePlacement=new _t(e2,this.map.terrain,this._order,r2,t2,i2,o2,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l2),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.now()),n2=!0),a2&&this.pauseablePlacement.placement.setStale()),n2||a2)for(const e3 of this._order){const t3=this._layers[e3];t3.type==="symbol"&&this.placement.updateLayerOpacities(t3,l2[t3.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.now())}_releaseSymbolFadeTiles(){for(const e2 in this.sourceCaches)this.sourceCaches[e2].releaseSymbolFadeTiles()}getImages(e2,i2){return t._(this,void 0,void 0,function*(){const e3=yield this.imageManager.getImages(i2.icons);this._updateTilesForChangedImages();const t2=this.sourceCaches[i2.source];return t2&&t2.setDependencies(i2.tileID.key,i2.type,i2.icons),e3})}getGlyphs(e2,i2){return t._(this,void 0,void 0,function*(){const e3=yield this.glyphManager.getGlyphs(i2.stacks),t2=this.sourceCaches[i2.source];return t2&&t2.setDependencies(i2.tileID.key,i2.type,[""]),e3})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e2,i2={}){this._checkLoaded(),e2&&this._validate(t.z.glyphs,"glyphs",e2,null,i2)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e2,this.glyphManager.entries={},this.glyphManager.setURL(e2))}addSprite(e2,i2,o2={},r2){this._checkLoaded();const a2=[{id:e2,url:i2}],s2=[...f(this.stylesheet.sprite),...a2];this._validate(t.z.sprite,"sprite",s2,null,o2)||(this.stylesheet.sprite=s2,this._loadSprite(a2,!0,r2))}removeSprite(e2){this._checkLoaded();const i2=f(this.stylesheet.sprite);if(i2.find(t2=>t2.id===e2)){if(this._spritesImagesIds[e2])for(const t2 of this._spritesImagesIds[e2])this.imageManager.removeImage(t2),this._changedImages[t2]=!0;i2.splice(i2.findIndex(t2=>t2.id===e2),1),this.stylesheet.sprite=i2.length>0?i2:void 0,delete this._spritesImagesIds[e2],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}else this.fire(new t.k(new Error('Sprite "'.concat(e2,"\" doesn't exists on this map."))))}getSprite(){return f(this.stylesheet.sprite)}setSprite(e2,i2={},o2){this._checkLoaded(),e2&&this._validate(t.z.sprite,"sprite",e2,null,i2)||(this.stylesheet.sprite=e2,e2?this._loadSprite(e2,!0,o2):(this._unloadSprite(),o2&&o2(null)))}};__name(_wi,"wi");let wi=_wi;var Ti2=t.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const _Pi=class _Pi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e2,t2,i2,o2,r2,a2,s2,n2,l2){this.context=e2;let c3=this.boundPaintVertexBuffers.length!==o2.length;for(let e3=0;!c3&&e3<o2.length;e3++)this.boundPaintVertexBuffers[e3]!==o2[e3]&&(c3=!0);!this.vao||this.boundProgram!==t2||this.boundLayoutVertexBuffer!==i2||c3||this.boundIndexBuffer!==r2||this.boundVertexOffset!==a2||this.boundDynamicVertexBuffer!==s2||this.boundDynamicVertexBuffer2!==n2||this.boundDynamicVertexBuffer3!==l2?this.freshBind(t2,i2,o2,r2,a2,s2,n2,l2):(e2.bindVertexArray.set(this.vao),s2&&s2.bind(),r2&&r2.dynamicDraw&&r2.bind(),n2&&n2.bind(),l2&&l2.bind())}freshBind(e2,t2,i2,o2,r2,a2,s2,n2){const l2=e2.numAttributes,c3=this.context,h3=c3.gl;this.vao&&this.destroy(),this.vao=c3.createVertexArray(),c3.bindVertexArray.set(this.vao),this.boundProgram=e2,this.boundLayoutVertexBuffer=t2,this.boundPaintVertexBuffers=i2,this.boundIndexBuffer=o2,this.boundVertexOffset=r2,this.boundDynamicVertexBuffer=a2,this.boundDynamicVertexBuffer2=s2,this.boundDynamicVertexBuffer3=n2,t2.enableAttributes(h3,e2);for(const t3 of i2)t3.enableAttributes(h3,e2);a2&&a2.enableAttributes(h3,e2),s2&&s2.enableAttributes(h3,e2),n2&&n2.enableAttributes(h3,e2),t2.bind(),t2.setVertexAttribPointers(h3,e2,r2);for(const t3 of i2)t3.bind(),t3.setVertexAttribPointers(h3,e2,r2);a2&&(a2.bind(),a2.setVertexAttribPointers(h3,e2,r2)),o2&&o2.bind(),s2&&(s2.bind(),s2.setVertexAttribPointers(h3,e2,r2)),n2&&(n2.bind(),n2.setVertexAttribPointers(h3,e2,r2)),c3.currentNumAttributes=l2}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}};__name(_Pi,"Pi");let Pi2=_Pi;const Ci=__name((e2,i2,o2,r2,a2)=>({u_texture:0,u_ele_delta:e2,u_fog_matrix:i2,u_fog_color:o2?o2.properties.get("fog-color"):t.be.white,u_fog_ground_blend:o2?o2.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:a2?0:o2?o2.calculateFogBlendOpacity(r2):0,u_horizon_color:o2?o2.properties.get("horizon-color"):t.be.white,u_horizon_fog_blend:o2?o2.properties.get("horizon-fog-blend"):1,u_is_globe_mode:a2?1:0}),"Ci"),Ii={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Mi(e2){const t2=[];for(let i2=0;i2<e2.length;i2++){if(e2[i2]===null)continue;const o2=e2[i2].split(" ");t2.push(o2.pop())}return t2}__name(Mi,"Mi");const _Si=class _Si{constructor(e2,i2,o2,r2,a2,s2,n2,l2,c3=[]){const h3=e2.gl;this.program=h3.createProgram();const u2=Mi(i2.staticAttributes),d3=o2?o2.getBinderAttributes():[],_2=u2.concat(d3),p3=xt.prelude.staticUniforms?Mi(xt.prelude.staticUniforms):[],m2=n2.staticUniforms?Mi(n2.staticUniforms):[],f2=i2.staticUniforms?Mi(i2.staticUniforms):[],g2=o2?o2.getBinderUniforms():[],v2=p3.concat(m2).concat(f2).concat(g2),b2=[];for(const e3 of v2)b2.indexOf(e3)<0&&b2.push(e3);const x2=o2?o2.defines():[];qt2(h3)&&x2.unshift("#version 300 es"),a2&&x2.push("#define OVERDRAW_INSPECTOR;"),s2&&x2.push("#define TERRAIN3D;"),l2&&x2.push(l2),c3&&x2.push(...c3);let y2=x2.concat(xt.prelude.fragmentSource,n2.fragmentSource,i2.fragmentSource).join("\n"),w2=x2.concat(xt.prelude.vertexSource,n2.vertexSource,i2.vertexSource).join("\n");qt2(h3)||(y2=function(e3){return e3.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(y2),w2=function(e3){return e3.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(w2));const T2=h3.createShader(h3.FRAGMENT_SHADER);if(h3.isContextLost())return void(this.failedToCreate=!0);if(h3.shaderSource(T2,y2),h3.compileShader(T2),!h3.getShaderParameter(T2,h3.COMPILE_STATUS))throw new Error("Could not compile fragment shader: ".concat(h3.getShaderInfoLog(T2)));h3.attachShader(this.program,T2);const P2=h3.createShader(h3.VERTEX_SHADER);if(h3.isContextLost())return void(this.failedToCreate=!0);if(h3.shaderSource(P2,w2),h3.compileShader(P2),!h3.getShaderParameter(P2,h3.COMPILE_STATUS))throw new Error("Could not compile vertex shader: ".concat(h3.getShaderInfoLog(P2)));h3.attachShader(this.program,P2),this.attributes={};const C2={};this.numAttributes=_2.length;for(let e3=0;e3<this.numAttributes;e3++)_2[e3]&&(h3.bindAttribLocation(this.program,e3,_2[e3]),this.attributes[_2[e3]]=e3);if(h3.linkProgram(this.program),!h3.getProgramParameter(this.program,h3.LINK_STATUS))throw new Error("Program failed to link: ".concat(h3.getProgramInfoLog(this.program)));h3.deleteShader(P2),h3.deleteShader(T2);for(let e3=0;e3<b2.length;e3++){const t2=b2[e3];if(t2&&!C2[t2]){const e4=h3.getUniformLocation(this.program,t2);e4&&(C2[t2]=e4)}}this.fixedUniforms=r2(e2,C2),this.terrainUniforms=((e3,i3)=>({u_depth:new t.bO(e3,i3.u_depth),u_terrain:new t.bO(e3,i3.u_terrain),u_terrain_dim:new t.bf(e3,i3.u_terrain_dim),u_terrain_matrix:new t.bQ(e3,i3.u_terrain_matrix),u_terrain_unpack:new t.bR(e3,i3.u_terrain_unpack),u_terrain_exaggeration:new t.bf(e3,i3.u_terrain_exaggeration)}))(e2,C2),this.projectionUniforms=((e3,i3)=>({u_projection_matrix:new t.bQ(e3,i3.u_projection_matrix),u_projection_tile_mercator_coords:new t.bR(e3,i3.u_projection_tile_mercator_coords),u_projection_clipping_plane:new t.bR(e3,i3.u_projection_clipping_plane),u_projection_transition:new t.bf(e3,i3.u_projection_transition),u_projection_fallback_matrix:new t.bQ(e3,i3.u_projection_fallback_matrix)}))(e2,C2),this.binderUniforms=o2?o2.getUniforms(e2,C2):[]}draw(e2,t2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2,p3,m2,f2,g2,v2){const b2=e2.gl;if(this.failedToCreate)return;if(e2.program.set(this.program),e2.setDepthMode(i2),e2.setStencilMode(o2),e2.setColorMode(r2),e2.setCullFace(a2),n2){e2.activeTexture.set(b2.TEXTURE2),b2.bindTexture(b2.TEXTURE_2D,n2.depthTexture),e2.activeTexture.set(b2.TEXTURE3),b2.bindTexture(b2.TEXTURE_2D,n2.texture);for(const e3 in this.terrainUniforms)this.terrainUniforms[e3].set(n2[e3])}if(l2)for(const e3 in l2)this.projectionUniforms[Ii[e3]].set(l2[e3]);if(s2)for(const e3 in this.fixedUniforms)this.fixedUniforms[e3].set(s2[e3]);m2&&m2.setUniforms(e2,this.binderUniforms,_2,{zoom:p3});let x2=0;switch(t2){case b2.LINES:x2=2;break;case b2.TRIANGLES:x2=3;break;case b2.LINE_STRIP:x2=1}for(const i3 of d3.get()){const o3=i3.vaos||(i3.vaos={});(o3[c3]||(o3[c3]=new Pi2)).bind(e2,this,h3,m2?m2.getPaintVertexBuffers():[],u2,i3.vertexOffset,f2,g2,v2),b2.drawElements(t2,i3.primitiveLength*x2,b2.UNSIGNED_SHORT,i3.primitiveOffset*x2*2)}}};__name(_Si,"Si");let Si2=_Si;function Ei2(e2,i2,o2){const r2=1/t.aB(o2,1,i2.transform.tileZoom),a2=Math.pow(2,o2.tileID.overscaledZ),s2=o2.tileSize*Math.pow(2,i2.transform.tileZoom)/a2,n2=s2*(o2.tileID.canonical.x+o2.tileID.wrap*a2),l2=s2*o2.tileID.canonical.y;return{u_image:0,u_texsize:o2.imageAtlasTexture.size,u_scale:[r2,e2.fromScale,e2.toScale],u_fade:e2.t,u_pixel_coord_upper:[n2>>16,l2>>16],u_pixel_coord_lower:[65535&n2,65535&l2]}}__name(Ei2,"Ei");const Ri=__name((e2,i2,o2,r2)=>{const a2=e2.style.light,s2=a2.properties.get("position"),n2=[s2.x,s2.y,s2.z],l2=t.bU();a2.properties.get("anchor")==="viewport"&&t.bV(l2,e2.transform.bearingInRadians),t.bW(n2,n2,l2);const c3=e2.transform.transformLightDirection(n2),h3=a2.properties.get("color");return{u_lightpos:n2,u_lightpos_globe:c3,u_lightintensity:a2.properties.get("intensity"),u_lightcolor:[h3.r,h3.g,h3.b],u_vertical_gradient:+i2,u_opacity:o2,u_fill_translate:r2}},"Ri"),zi=__name((e2,i2,o2,r2,a2,s2,n2)=>t.e(Ri(e2,i2,o2,r2),Ei2(s2,e2,n2),{u_height_factor:-Math.pow(2,a2.overscaledZ)/n2.tileSize/8}),"zi"),Di=__name((e2,i2,o2,r2)=>t.e(Ei2(i2,e2,o2),{u_fill_translate:r2}),"Di"),Ai=__name((e2,t2)=>({u_world:e2,u_fill_translate:t2}),"Ai"),Li=__name((e2,i2,o2,r2,a2)=>t.e(Di(e2,i2,o2,a2),{u_world:r2}),"Li"),ki=__name((e2,i2,o2,r2,a2)=>{const s2=e2.transform;let n2,l2,c3=0;if(o2.paint.get("circle-pitch-alignment")==="map"){const e3=t.aB(i2,1,s2.zoom);n2=!0,l2=[e3,e3],c3=e3/(t.$*Math.pow(2,i2.tileID.overscaledZ))*2*Math.PI*a2}else n2=!1,l2=s2.pixelsToGLUnits;return{u_camera_to_center_distance:s2.cameraToCenterDistance,u_scale_with_map:+(o2.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+n2,u_device_pixel_ratio:e2.pixelRatio,u_extrude_scale:l2,u_globe_extrude_scale:c3,u_translate:r2}},"ki"),Fi=__name(e2=>({u_pixel_extrude_scale:[1/e2.width,1/e2.height]}),"Fi"),Bi=__name(e2=>({u_viewport_size:[e2.width,e2.height]}),"Bi"),Oi=__name((e2,t2=1)=>({u_color:e2,u_overlay:0,u_overlay_scale:t2}),"Oi"),ji=__name((e2,i2,o2,r2)=>{const a2=t.aB(e2,1,i2)/(t.$*Math.pow(2,e2.tileID.overscaledZ))*2*Math.PI*r2;return{u_extrude_scale:t.aB(e2,1,i2),u_intensity:o2,u_globe_extrude_scale:a2}},"ji"),Ni2=__name((e2,i2,o2,r2)=>{const a2=t.L();t.bX(a2,0,e2.width,e2.height,0,0,1);const s2=e2.context.gl;return{u_matrix:a2,u_world:[s2.drawingBufferWidth,s2.drawingBufferHeight],u_image:o2,u_color_ramp:r2,u_opacity:i2.paint.get("heatmap-opacity")}},"Ni"),Zi=__name((e2,t2,i2)=>{const o2=i2.paint.get("hillshade-accent-color");let r2;switch(i2.paint.get("hillshade-method")){case"basic":r2=4;break;case"combined":r2=1;break;case"igor":r2=2;break;case"multidirectional":r2=3;break;default:r2=0}const a2=i2.getIlluminationProperties();for(let t3=0;t3<a2.directionRadians.length;t3++)i2.paint.get("hillshade-illumination-anchor")==="viewport"&&(a2.directionRadians[t3]+=e2.transform.bearingInRadians);return{u_image:0,u_latrange:Gi(0,t2.tileID),u_exaggeration:i2.paint.get("hillshade-exaggeration"),u_altitudes:a2.altitudeRadians,u_azimuths:a2.directionRadians,u_accent:o2,u_method:r2,u_highlights:a2.highlightColor,u_shadows:a2.shadowColor}},"Zi"),Ui=__name((e2,i2)=>{const o2=i2.stride,r2=t.L();return t.bX(r2,0,t.$,-t.$,0,0,1),t.M(r2,r2,[0,-t.$,0]),{u_matrix:r2,u_image:1,u_dimension:[o2,o2],u_zoom:e2.overscaledZ,u_unpack:i2.getUnpackVector()}},"Ui");function Gi(e2,i2){const o2=Math.pow(2,i2.canonical.z),r2=i2.canonical.y;return[new t.a0(0,r2/o2).toLngLat().lat,new t.a0(0,(r2+1)/o2).toLngLat().lat]}__name(Gi,"Gi");const Vi2=__name((e2,t2,i2=0)=>({u_image:0,u_unpack:t2.getUnpackVector(),u_dimension:[t2.stride,t2.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:i2,u_opacity:e2.paint.get("color-relief-opacity")}),"Vi"),$i=__name((e2,i2,o2,r2)=>{const a2=e2.transform;return{u_translation:Ki(e2,i2,o2),u_ratio:r2/t.aB(i2,1,a2.zoom),u_device_pixel_ratio:e2.pixelRatio,u_units_to_pixels:[1/a2.pixelsToGLUnits[0],1/a2.pixelsToGLUnits[1]]}},"$i"),qi=__name((e2,i2,o2,r2,a2)=>t.e($i(e2,i2,o2,r2),{u_image:0,u_image_height:a2}),"qi"),Wi=__name((e2,i2,o2,r2,a2)=>{const s2=e2.transform,n2=Xi(i2,s2);return{u_translation:Ki(e2,i2,o2),u_texsize:i2.imageAtlasTexture.size,u_ratio:r2/t.aB(i2,1,s2.zoom),u_device_pixel_ratio:e2.pixelRatio,u_image:0,u_scale:[n2,a2.fromScale,a2.toScale],u_fade:a2.t,u_units_to_pixels:[1/s2.pixelsToGLUnits[0],1/s2.pixelsToGLUnits[1]]}},"Wi"),Hi=__name((e2,i2,o2,r2,a2,s2)=>{const n2=e2.lineAtlas,l2=Xi(i2,e2.transform),c3=o2.layout.get("line-cap")==="round",h3=n2.getDash(a2.from,c3),u2=n2.getDash(a2.to,c3),d3=h3.width*s2.fromScale,_2=u2.width*s2.toScale;return t.e($i(e2,i2,o2,r2),{u_patternscale_a:[l2/d3,-h3.height/2],u_patternscale_b:[l2/_2,-u2.height/2],u_sdfgamma:n2.width/(256*Math.min(d3,_2)*e2.pixelRatio)/2,u_image:0,u_tex_y_a:h3.y,u_tex_y_b:u2.y,u_mix:s2.t})},"Hi");function Xi(e2,i2){return 1/t.aB(e2,1,i2.tileZoom)}__name(Xi,"Xi");function Ki(e2,i2,o2){return t.aC(e2.transform,i2,o2.paint.get("line-translate"),o2.paint.get("line-translate-anchor"))}__name(Ki,"Ki");const Yi=__name((e2,t2,i2,o2,r2)=>{return{u_tl_parent:e2,u_scale_parent:t2,u_buffer_scale:1,u_fade_t:i2.mix,u_opacity:i2.opacity*o2.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o2.paint.get("raster-brightness-min"),u_brightness_high:o2.paint.get("raster-brightness-max"),u_saturation_factor:(s2=o2.paint.get("raster-saturation"),s2>0?1-1/(1.001-s2):-s2),u_contrast_factor:(a2=o2.paint.get("raster-contrast"),a2>0?1/(1-a2):1+a2),u_spin_weights:Qi(o2.paint.get("raster-hue-rotate")),u_coords_top:[r2[0].x,r2[0].y,r2[1].x,r2[1].y],u_coords_bottom:[r2[3].x,r2[3].y,r2[2].x,r2[2].y]};var a2,s2},"Yi");function Qi(e2){e2*=Math.PI/180;const t2=Math.sin(e2),i2=Math.cos(e2);return[(2*i2+1)/3,(-Math.sqrt(3)*t2-i2+1)/3,(Math.sqrt(3)*t2-i2+1)/3]}__name(Qi,"Qi");const Ji=__name((e2,t2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3)=>{const _2=s2.transform;return{u_is_size_zoom_constant:+(e2==="constant"||e2==="source"),u_is_size_feature_constant:+(e2==="constant"||e2==="camera"),u_size_t:t2?t2.uSizeT:0,u_size:t2?t2.uSize:0,u_camera_to_center_distance:_2.cameraToCenterDistance,u_pitch:_2.pitch/360*2*Math.PI,u_rotate_symbol:+i2,u_aspect_ratio:_2.width/_2.height,u_fade_change:s2.options.fadeDuration?s2.symbolFadeChange:1,u_label_plane_matrix:n2,u_coord_matrix:l2,u_is_text:+h3,u_pitch_with_map:+o2,u_is_along_line:r2,u_is_variable_anchor:a2,u_texsize:u2,u_texture:0,u_translation:c3,u_pitched_scale:d3}},"Ji"),eo=__name((e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2,p3)=>{const m2=n2.transform;return t.e(Ji(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,p3),{u_gamma_scale:r2?Math.cos(m2.pitch*Math.PI/180)*m2.cameraToCenterDistance:1,u_device_pixel_ratio:n2.pixelRatio,u_is_halo:1})},"eo"),to=__name((e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2)=>t.e(eo(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,!0,u2,0,_2),{u_texsize_icon:d3,u_texture_icon:1}),"to"),io=__name((e2,t2)=>({u_opacity:e2,u_color:t2}),"io"),oo=__name((e2,i2,o2,r2,a2)=>t.e(function(e3,i3,o3,r3){const a3=o3.imageManager.getPattern(e3.from.toString()),s2=o3.imageManager.getPattern(e3.to.toString()),{width:n2,height:l2}=o3.imageManager.getPixelSize(),c3=Math.pow(2,r3.tileID.overscaledZ),h3=r3.tileSize*Math.pow(2,o3.transform.tileZoom)/c3,u2=h3*(r3.tileID.canonical.x+r3.tileID.wrap*c3),d3=h3*r3.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:a3.tl,u_pattern_br_a:a3.br,u_pattern_tl_b:s2.tl,u_pattern_br_b:s2.br,u_texsize:[n2,l2],u_mix:i3.t,u_pattern_size_a:a3.displaySize,u_pattern_size_b:s2.displaySize,u_scale_a:i3.fromScale,u_scale_b:i3.toScale,u_tile_units_to_pixels:1/t.aB(r3,1,o3.transform.tileZoom),u_pixel_coord_upper:[u2>>16,d3>>16],u_pixel_coord_lower:[65535&u2,65535&d3]}}(o2,a2,i2,r2),{u_opacity:e2}),"oo"),ro=__name((e2,t2)=>{},"ro"),ao={fillExtrusion:__name((e2,i2)=>({u_lightpos:new t.bS(e2,i2.u_lightpos),u_lightpos_globe:new t.bS(e2,i2.u_lightpos_globe),u_lightintensity:new t.bf(e2,i2.u_lightintensity),u_lightcolor:new t.bS(e2,i2.u_lightcolor),u_vertical_gradient:new t.bf(e2,i2.u_vertical_gradient),u_opacity:new t.bf(e2,i2.u_opacity),u_fill_translate:new t.bT(e2,i2.u_fill_translate)}),"fillExtrusion"),fillExtrusionPattern:__name((e2,i2)=>({u_lightpos:new t.bS(e2,i2.u_lightpos),u_lightpos_globe:new t.bS(e2,i2.u_lightpos_globe),u_lightintensity:new t.bf(e2,i2.u_lightintensity),u_lightcolor:new t.bS(e2,i2.u_lightcolor),u_vertical_gradient:new t.bf(e2,i2.u_vertical_gradient),u_height_factor:new t.bf(e2,i2.u_height_factor),u_opacity:new t.bf(e2,i2.u_opacity),u_fill_translate:new t.bT(e2,i2.u_fill_translate),u_image:new t.bO(e2,i2.u_image),u_texsize:new t.bT(e2,i2.u_texsize),u_pixel_coord_upper:new t.bT(e2,i2.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e2,i2.u_pixel_coord_lower),u_scale:new t.bS(e2,i2.u_scale),u_fade:new t.bf(e2,i2.u_fade)}),"fillExtrusionPattern"),fill:__name((e2,i2)=>({u_fill_translate:new t.bT(e2,i2.u_fill_translate)}),"fill"),fillPattern:__name((e2,i2)=>({u_image:new t.bO(e2,i2.u_image),u_texsize:new t.bT(e2,i2.u_texsize),u_pixel_coord_upper:new t.bT(e2,i2.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e2,i2.u_pixel_coord_lower),u_scale:new t.bS(e2,i2.u_scale),u_fade:new t.bf(e2,i2.u_fade),u_fill_translate:new t.bT(e2,i2.u_fill_translate)}),"fillPattern"),fillOutline:__name((e2,i2)=>({u_world:new t.bT(e2,i2.u_world),u_fill_translate:new t.bT(e2,i2.u_fill_translate)}),"fillOutline"),fillOutlinePattern:__name((e2,i2)=>({u_world:new t.bT(e2,i2.u_world),u_image:new t.bO(e2,i2.u_image),u_texsize:new t.bT(e2,i2.u_texsize),u_pixel_coord_upper:new t.bT(e2,i2.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e2,i2.u_pixel_coord_lower),u_scale:new t.bS(e2,i2.u_scale),u_fade:new t.bf(e2,i2.u_fade),u_fill_translate:new t.bT(e2,i2.u_fill_translate)}),"fillOutlinePattern"),circle:__name((e2,i2)=>({u_camera_to_center_distance:new t.bf(e2,i2.u_camera_to_center_distance),u_scale_with_map:new t.bO(e2,i2.u_scale_with_map),u_pitch_with_map:new t.bO(e2,i2.u_pitch_with_map),u_extrude_scale:new t.bT(e2,i2.u_extrude_scale),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_globe_extrude_scale:new t.bf(e2,i2.u_globe_extrude_scale),u_translate:new t.bT(e2,i2.u_translate)}),"circle"),collisionBox:__name((e2,i2)=>({u_pixel_extrude_scale:new t.bT(e2,i2.u_pixel_extrude_scale)}),"collisionBox"),collisionCircle:__name((e2,i2)=>({u_viewport_size:new t.bT(e2,i2.u_viewport_size)}),"collisionCircle"),debug:__name((e2,i2)=>({u_color:new t.bP(e2,i2.u_color),u_overlay:new t.bO(e2,i2.u_overlay),u_overlay_scale:new t.bf(e2,i2.u_overlay_scale)}),"debug"),depth:ro,clippingMask:ro,heatmap:__name((e2,i2)=>({u_extrude_scale:new t.bf(e2,i2.u_extrude_scale),u_intensity:new t.bf(e2,i2.u_intensity),u_globe_extrude_scale:new t.bf(e2,i2.u_globe_extrude_scale)}),"heatmap"),heatmapTexture:__name((e2,i2)=>({u_matrix:new t.bQ(e2,i2.u_matrix),u_world:new t.bT(e2,i2.u_world),u_image:new t.bO(e2,i2.u_image),u_color_ramp:new t.bO(e2,i2.u_color_ramp),u_opacity:new t.bf(e2,i2.u_opacity)}),"heatmapTexture"),hillshade:__name((e2,i2)=>({u_image:new t.bO(e2,i2.u_image),u_latrange:new t.bT(e2,i2.u_latrange),u_exaggeration:new t.bf(e2,i2.u_exaggeration),u_altitudes:new t.bZ(e2,i2.u_altitudes),u_azimuths:new t.bZ(e2,i2.u_azimuths),u_accent:new t.bP(e2,i2.u_accent),u_method:new t.bO(e2,i2.u_method),u_shadows:new t.bY(e2,i2.u_shadows),u_highlights:new t.bY(e2,i2.u_highlights)}),"hillshade"),hillshadePrepare:__name((e2,i2)=>({u_matrix:new t.bQ(e2,i2.u_matrix),u_image:new t.bO(e2,i2.u_image),u_dimension:new t.bT(e2,i2.u_dimension),u_zoom:new t.bf(e2,i2.u_zoom),u_unpack:new t.bR(e2,i2.u_unpack)}),"hillshadePrepare"),colorRelief:__name((e2,i2)=>({u_image:new t.bO(e2,i2.u_image),u_unpack:new t.bR(e2,i2.u_unpack),u_dimension:new t.bT(e2,i2.u_dimension),u_elevation_stops:new t.bO(e2,i2.u_elevation_stops),u_color_stops:new t.bO(e2,i2.u_color_stops),u_color_ramp_size:new t.bO(e2,i2.u_color_ramp_size),u_opacity:new t.bf(e2,i2.u_opacity)}),"colorRelief"),line:__name((e2,i2)=>({u_translation:new t.bT(e2,i2.u_translation),u_ratio:new t.bf(e2,i2.u_ratio),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e2,i2.u_units_to_pixels)}),"line"),lineGradient:__name((e2,i2)=>({u_translation:new t.bT(e2,i2.u_translation),u_ratio:new t.bf(e2,i2.u_ratio),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e2,i2.u_units_to_pixels),u_image:new t.bO(e2,i2.u_image),u_image_height:new t.bf(e2,i2.u_image_height)}),"lineGradient"),linePattern:__name((e2,i2)=>({u_translation:new t.bT(e2,i2.u_translation),u_texsize:new t.bT(e2,i2.u_texsize),u_ratio:new t.bf(e2,i2.u_ratio),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_image:new t.bO(e2,i2.u_image),u_units_to_pixels:new t.bT(e2,i2.u_units_to_pixels),u_scale:new t.bS(e2,i2.u_scale),u_fade:new t.bf(e2,i2.u_fade)}),"linePattern"),lineSDF:__name((e2,i2)=>({u_translation:new t.bT(e2,i2.u_translation),u_ratio:new t.bf(e2,i2.u_ratio),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_units_to_pixels:new t.bT(e2,i2.u_units_to_pixels),u_patternscale_a:new t.bT(e2,i2.u_patternscale_a),u_patternscale_b:new t.bT(e2,i2.u_patternscale_b),u_sdfgamma:new t.bf(e2,i2.u_sdfgamma),u_image:new t.bO(e2,i2.u_image),u_tex_y_a:new t.bf(e2,i2.u_tex_y_a),u_tex_y_b:new t.bf(e2,i2.u_tex_y_b),u_mix:new t.bf(e2,i2.u_mix)}),"lineSDF"),raster:__name((e2,i2)=>({u_tl_parent:new t.bT(e2,i2.u_tl_parent),u_scale_parent:new t.bf(e2,i2.u_scale_parent),u_buffer_scale:new t.bf(e2,i2.u_buffer_scale),u_fade_t:new t.bf(e2,i2.u_fade_t),u_opacity:new t.bf(e2,i2.u_opacity),u_image0:new t.bO(e2,i2.u_image0),u_image1:new t.bO(e2,i2.u_image1),u_brightness_low:new t.bf(e2,i2.u_brightness_low),u_brightness_high:new t.bf(e2,i2.u_brightness_high),u_saturation_factor:new t.bf(e2,i2.u_saturation_factor),u_contrast_factor:new t.bf(e2,i2.u_contrast_factor),u_spin_weights:new t.bS(e2,i2.u_spin_weights),u_coords_top:new t.bR(e2,i2.u_coords_top),u_coords_bottom:new t.bR(e2,i2.u_coords_bottom)}),"raster"),symbolIcon:__name((e2,i2)=>({u_is_size_zoom_constant:new t.bO(e2,i2.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e2,i2.u_is_size_feature_constant),u_size_t:new t.bf(e2,i2.u_size_t),u_size:new t.bf(e2,i2.u_size),u_camera_to_center_distance:new t.bf(e2,i2.u_camera_to_center_distance),u_pitch:new t.bf(e2,i2.u_pitch),u_rotate_symbol:new t.bO(e2,i2.u_rotate_symbol),u_aspect_ratio:new t.bf(e2,i2.u_aspect_ratio),u_fade_change:new t.bf(e2,i2.u_fade_change),u_label_plane_matrix:new t.bQ(e2,i2.u_label_plane_matrix),u_coord_matrix:new t.bQ(e2,i2.u_coord_matrix),u_is_text:new t.bO(e2,i2.u_is_text),u_pitch_with_map:new t.bO(e2,i2.u_pitch_with_map),u_is_along_line:new t.bO(e2,i2.u_is_along_line),u_is_variable_anchor:new t.bO(e2,i2.u_is_variable_anchor),u_texsize:new t.bT(e2,i2.u_texsize),u_texture:new t.bO(e2,i2.u_texture),u_translation:new t.bT(e2,i2.u_translation),u_pitched_scale:new t.bf(e2,i2.u_pitched_scale)}),"symbolIcon"),symbolSDF:__name((e2,i2)=>({u_is_size_zoom_constant:new t.bO(e2,i2.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e2,i2.u_is_size_feature_constant),u_size_t:new t.bf(e2,i2.u_size_t),u_size:new t.bf(e2,i2.u_size),u_camera_to_center_distance:new t.bf(e2,i2.u_camera_to_center_distance),u_pitch:new t.bf(e2,i2.u_pitch),u_rotate_symbol:new t.bO(e2,i2.u_rotate_symbol),u_aspect_ratio:new t.bf(e2,i2.u_aspect_ratio),u_fade_change:new t.bf(e2,i2.u_fade_change),u_label_plane_matrix:new t.bQ(e2,i2.u_label_plane_matrix),u_coord_matrix:new t.bQ(e2,i2.u_coord_matrix),u_is_text:new t.bO(e2,i2.u_is_text),u_pitch_with_map:new t.bO(e2,i2.u_pitch_with_map),u_is_along_line:new t.bO(e2,i2.u_is_along_line),u_is_variable_anchor:new t.bO(e2,i2.u_is_variable_anchor),u_texsize:new t.bT(e2,i2.u_texsize),u_texture:new t.bO(e2,i2.u_texture),u_gamma_scale:new t.bf(e2,i2.u_gamma_scale),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_is_halo:new t.bO(e2,i2.u_is_halo),u_translation:new t.bT(e2,i2.u_translation),u_pitched_scale:new t.bf(e2,i2.u_pitched_scale)}),"symbolSDF"),symbolTextAndIcon:__name((e2,i2)=>({u_is_size_zoom_constant:new t.bO(e2,i2.u_is_size_zoom_constant),u_is_size_feature_constant:new t.bO(e2,i2.u_is_size_feature_constant),u_size_t:new t.bf(e2,i2.u_size_t),u_size:new t.bf(e2,i2.u_size),u_camera_to_center_distance:new t.bf(e2,i2.u_camera_to_center_distance),u_pitch:new t.bf(e2,i2.u_pitch),u_rotate_symbol:new t.bO(e2,i2.u_rotate_symbol),u_aspect_ratio:new t.bf(e2,i2.u_aspect_ratio),u_fade_change:new t.bf(e2,i2.u_fade_change),u_label_plane_matrix:new t.bQ(e2,i2.u_label_plane_matrix),u_coord_matrix:new t.bQ(e2,i2.u_coord_matrix),u_is_text:new t.bO(e2,i2.u_is_text),u_pitch_with_map:new t.bO(e2,i2.u_pitch_with_map),u_is_along_line:new t.bO(e2,i2.u_is_along_line),u_is_variable_anchor:new t.bO(e2,i2.u_is_variable_anchor),u_texsize:new t.bT(e2,i2.u_texsize),u_texsize_icon:new t.bT(e2,i2.u_texsize_icon),u_texture:new t.bO(e2,i2.u_texture),u_texture_icon:new t.bO(e2,i2.u_texture_icon),u_gamma_scale:new t.bf(e2,i2.u_gamma_scale),u_device_pixel_ratio:new t.bf(e2,i2.u_device_pixel_ratio),u_is_halo:new t.bO(e2,i2.u_is_halo),u_translation:new t.bT(e2,i2.u_translation),u_pitched_scale:new t.bf(e2,i2.u_pitched_scale)}),"symbolTextAndIcon"),background:__name((e2,i2)=>({u_opacity:new t.bf(e2,i2.u_opacity),u_color:new t.bP(e2,i2.u_color)}),"background"),backgroundPattern:__name((e2,i2)=>({u_opacity:new t.bf(e2,i2.u_opacity),u_image:new t.bO(e2,i2.u_image),u_pattern_tl_a:new t.bT(e2,i2.u_pattern_tl_a),u_pattern_br_a:new t.bT(e2,i2.u_pattern_br_a),u_pattern_tl_b:new t.bT(e2,i2.u_pattern_tl_b),u_pattern_br_b:new t.bT(e2,i2.u_pattern_br_b),u_texsize:new t.bT(e2,i2.u_texsize),u_mix:new t.bf(e2,i2.u_mix),u_pattern_size_a:new t.bT(e2,i2.u_pattern_size_a),u_pattern_size_b:new t.bT(e2,i2.u_pattern_size_b),u_scale_a:new t.bf(e2,i2.u_scale_a),u_scale_b:new t.bf(e2,i2.u_scale_b),u_pixel_coord_upper:new t.bT(e2,i2.u_pixel_coord_upper),u_pixel_coord_lower:new t.bT(e2,i2.u_pixel_coord_lower),u_tile_units_to_pixels:new t.bf(e2,i2.u_tile_units_to_pixels)}),"backgroundPattern"),terrain:__name((e2,i2)=>({u_texture:new t.bO(e2,i2.u_texture),u_ele_delta:new t.bf(e2,i2.u_ele_delta),u_fog_matrix:new t.bQ(e2,i2.u_fog_matrix),u_fog_color:new t.bP(e2,i2.u_fog_color),u_fog_ground_blend:new t.bf(e2,i2.u_fog_ground_blend),u_fog_ground_blend_opacity:new t.bf(e2,i2.u_fog_ground_blend_opacity),u_horizon_color:new t.bP(e2,i2.u_horizon_color),u_horizon_fog_blend:new t.bf(e2,i2.u_horizon_fog_blend),u_is_globe_mode:new t.bf(e2,i2.u_is_globe_mode)}),"terrain"),terrainDepth:__name((e2,i2)=>({u_ele_delta:new t.bf(e2,i2.u_ele_delta)}),"terrainDepth"),terrainCoords:__name((e2,i2)=>({u_texture:new t.bO(e2,i2.u_texture),u_terrain_coords_id:new t.bf(e2,i2.u_terrain_coords_id),u_ele_delta:new t.bf(e2,i2.u_ele_delta)}),"terrainCoords"),projectionErrorMeasurement:__name((e2,i2)=>({u_input:new t.bf(e2,i2.u_input),u_output_expected:new t.bf(e2,i2.u_output_expected)}),"projectionErrorMeasurement"),atmosphere:__name((e2,i2)=>({u_sun_pos:new t.bS(e2,i2.u_sun_pos),u_atmosphere_blend:new t.bf(e2,i2.u_atmosphere_blend),u_globe_position:new t.bS(e2,i2.u_globe_position),u_globe_radius:new t.bf(e2,i2.u_globe_radius),u_inv_proj_matrix:new t.bQ(e2,i2.u_inv_proj_matrix)}),"atmosphere"),sky:__name((e2,i2)=>({u_sky_color:new t.bP(e2,i2.u_sky_color),u_horizon_color:new t.bP(e2,i2.u_horizon_color),u_horizon:new t.bT(e2,i2.u_horizon),u_horizon_normal:new t.bT(e2,i2.u_horizon_normal),u_sky_horizon_blend:new t.bf(e2,i2.u_sky_horizon_blend),u_sky_blend:new t.bf(e2,i2.u_sky_blend)}),"sky")},_so=class _so{constructor(e2,t2,i2){this.context=e2;const o2=e2.gl;this.buffer=o2.createBuffer(),this.dynamicDraw=!!i2,this.context.unbindVAO(),e2.bindElementBuffer.set(this.buffer),o2.bufferData(o2.ELEMENT_ARRAY_BUFFER,t2.arrayBuffer,this.dynamicDraw?o2.DYNAMIC_DRAW:o2.STATIC_DRAW),this.dynamicDraw||delete t2.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e2){const t2=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t2.bufferSubData(t2.ELEMENT_ARRAY_BUFFER,0,e2.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}};__name(_so,"so");let so=_so;const no={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_lo=class _lo{constructor(e2,t2,i2,o2){this.length=t2.length,this.attributes=i2,this.itemSize=t2.bytesPerElement,this.dynamicDraw=o2,this.context=e2;const r2=e2.gl;this.buffer=r2.createBuffer(),e2.bindVertexBuffer.set(this.buffer),r2.bufferData(r2.ARRAY_BUFFER,t2.arrayBuffer,this.dynamicDraw?r2.DYNAMIC_DRAW:r2.STATIC_DRAW),this.dynamicDraw||delete t2.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e2){if(e2.length!==this.length)throw new Error("Length of new data is ".concat(e2.length,", which doesn't match current length of ").concat(this.length));const t2=this.context.gl;this.bind(),t2.bufferSubData(t2.ARRAY_BUFFER,0,e2.arrayBuffer)}enableAttributes(e2,t2){for(let i2=0;i2<this.attributes.length;i2++){const o2=t2.attributes[this.attributes[i2].name];o2!==void 0&&e2.enableVertexAttribArray(o2)}}setVertexAttribPointers(e2,t2,i2){for(let o2=0;o2<this.attributes.length;o2++){const r2=this.attributes[o2],a2=t2.attributes[r2.name];a2!==void 0&&e2.vertexAttribPointer(a2,r2.components,e2[no[r2.type]],!1,this.itemSize,r2.offset+this.itemSize*(i2||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}};__name(_lo,"lo");let lo=_lo;const _co=class _co{constructor(e2){this.gl=e2.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e2){}getDefault(){return this.default}setDefault(){this.set(this.default)}};__name(_co,"co");let co=_co;const _ho=class _ho extends co{getDefault(){return t.be.transparent}set(e2){const t2=this.current;(e2.r!==t2.r||e2.g!==t2.g||e2.b!==t2.b||e2.a!==t2.a||this.dirty)&&(this.gl.clearColor(e2.r,e2.g,e2.b,e2.a),this.current=e2,this.dirty=!1)}};__name(_ho,"ho");let ho=_ho;const _uo=class _uo extends co{getDefault(){return 1}set(e2){(e2!==this.current||this.dirty)&&(this.gl.clearDepth(e2),this.current=e2,this.dirty=!1)}};__name(_uo,"uo");let uo=_uo;const __o=class __o extends co{getDefault(){return 0}set(e2){(e2!==this.current||this.dirty)&&(this.gl.clearStencil(e2),this.current=e2,this.dirty=!1)}};__name(__o,"_o");let _o=__o;const _po=class _po extends co{getDefault(){return[!0,!0,!0,!0]}set(e2){const t2=this.current;(e2[0]!==t2[0]||e2[1]!==t2[1]||e2[2]!==t2[2]||e2[3]!==t2[3]||this.dirty)&&(this.gl.colorMask(e2[0],e2[1],e2[2],e2[3]),this.current=e2,this.dirty=!1)}};__name(_po,"po");let po=_po;const _mo=class _mo extends co{getDefault(){return!0}set(e2){(e2!==this.current||this.dirty)&&(this.gl.depthMask(e2),this.current=e2,this.dirty=!1)}};__name(_mo,"mo");let mo=_mo;const _fo=class _fo extends co{getDefault(){return 255}set(e2){(e2!==this.current||this.dirty)&&(this.gl.stencilMask(e2),this.current=e2,this.dirty=!1)}};__name(_fo,"fo");let fo=_fo;const _go=class _go extends co{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e2){const t2=this.current;(e2.func!==t2.func||e2.ref!==t2.ref||e2.mask!==t2.mask||this.dirty)&&(this.gl.stencilFunc(e2.func,e2.ref,e2.mask),this.current=e2,this.dirty=!1)}};__name(_go,"go");let go=_go;const _vo=class _vo extends co{getDefault(){const e2=this.gl;return[e2.KEEP,e2.KEEP,e2.KEEP]}set(e2){const t2=this.current;(e2[0]!==t2[0]||e2[1]!==t2[1]||e2[2]!==t2[2]||this.dirty)&&(this.gl.stencilOp(e2[0],e2[1],e2[2]),this.current=e2,this.dirty=!1)}};__name(_vo,"vo");let vo=_vo;const _bo=class _bo extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;e2?t2.enable(t2.STENCIL_TEST):t2.disable(t2.STENCIL_TEST),this.current=e2,this.dirty=!1}};__name(_bo,"bo");let bo=_bo;const _xo=class _xo extends co{getDefault(){return[0,1]}set(e2){const t2=this.current;(e2[0]!==t2[0]||e2[1]!==t2[1]||this.dirty)&&(this.gl.depthRange(e2[0],e2[1]),this.current=e2,this.dirty=!1)}};__name(_xo,"xo");let xo=_xo;const _yo=class _yo extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;e2?t2.enable(t2.DEPTH_TEST):t2.disable(t2.DEPTH_TEST),this.current=e2,this.dirty=!1}};__name(_yo,"yo");let yo=_yo;const _wo=class _wo extends co{getDefault(){return this.gl.LESS}set(e2){(e2!==this.current||this.dirty)&&(this.gl.depthFunc(e2),this.current=e2,this.dirty=!1)}};__name(_wo,"wo");let wo=_wo;const _To=class _To extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;e2?t2.enable(t2.BLEND):t2.disable(t2.BLEND),this.current=e2,this.dirty=!1}};__name(_To,"To");let To=_To;const _Po=class _Po extends co{getDefault(){const e2=this.gl;return[e2.ONE,e2.ZERO]}set(e2){const t2=this.current;(e2[0]!==t2[0]||e2[1]!==t2[1]||this.dirty)&&(this.gl.blendFunc(e2[0],e2[1]),this.current=e2,this.dirty=!1)}};__name(_Po,"Po");let Po=_Po;const _Co=class _Co extends co{getDefault(){return t.be.transparent}set(e2){const t2=this.current;(e2.r!==t2.r||e2.g!==t2.g||e2.b!==t2.b||e2.a!==t2.a||this.dirty)&&(this.gl.blendColor(e2.r,e2.g,e2.b,e2.a),this.current=e2,this.dirty=!1)}};__name(_Co,"Co");let Co=_Co;const _Io=class _Io extends co{getDefault(){return this.gl.FUNC_ADD}set(e2){(e2!==this.current||this.dirty)&&(this.gl.blendEquation(e2),this.current=e2,this.dirty=!1)}};__name(_Io,"Io");let Io=_Io;const _Mo=class _Mo extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;e2?t2.enable(t2.CULL_FACE):t2.disable(t2.CULL_FACE),this.current=e2,this.dirty=!1}};__name(_Mo,"Mo");let Mo=_Mo;const _So=class _So extends co{getDefault(){return this.gl.BACK}set(e2){(e2!==this.current||this.dirty)&&(this.gl.cullFace(e2),this.current=e2,this.dirty=!1)}};__name(_So,"So");let So=_So;const _Eo=class _Eo extends co{getDefault(){return this.gl.CCW}set(e2){(e2!==this.current||this.dirty)&&(this.gl.frontFace(e2),this.current=e2,this.dirty=!1)}};__name(_Eo,"Eo");let Eo=_Eo;const _Ro=class _Ro extends co{getDefault(){return null}set(e2){(e2!==this.current||this.dirty)&&(this.gl.useProgram(e2),this.current=e2,this.dirty=!1)}};__name(_Ro,"Ro");let Ro=_Ro;const _zo=class _zo extends co{getDefault(){return this.gl.TEXTURE0}set(e2){(e2!==this.current||this.dirty)&&(this.gl.activeTexture(e2),this.current=e2,this.dirty=!1)}};__name(_zo,"zo");let zo=_zo;const _Do=class _Do extends co{getDefault(){const e2=this.gl;return[0,0,e2.drawingBufferWidth,e2.drawingBufferHeight]}set(e2){const t2=this.current;(e2[0]!==t2[0]||e2[1]!==t2[1]||e2[2]!==t2[2]||e2[3]!==t2[3]||this.dirty)&&(this.gl.viewport(e2[0],e2[1],e2[2],e2[3]),this.current=e2,this.dirty=!1)}};__name(_Do,"Do");let Do=_Do;const _Ao=class _Ao extends co{getDefault(){return null}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.bindFramebuffer(t2.FRAMEBUFFER,e2),this.current=e2,this.dirty=!1}};__name(_Ao,"Ao");let Ao=_Ao;const _Lo=class _Lo extends co{getDefault(){return null}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.bindRenderbuffer(t2.RENDERBUFFER,e2),this.current=e2,this.dirty=!1}};__name(_Lo,"Lo");let Lo=_Lo;const _ko=class _ko extends co{getDefault(){return null}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.bindTexture(t2.TEXTURE_2D,e2),this.current=e2,this.dirty=!1}};__name(_ko,"ko");let ko=_ko;const _Fo=class _Fo extends co{getDefault(){return null}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.bindBuffer(t2.ARRAY_BUFFER,e2),this.current=e2,this.dirty=!1}};__name(_Fo,"Fo");let Fo=_Fo;const _Bo=class _Bo extends co{getDefault(){return null}set(e2){const t2=this.gl;t2.bindBuffer(t2.ELEMENT_ARRAY_BUFFER,e2),this.current=e2,this.dirty=!1}};__name(_Bo,"Bo");let Bo=_Bo;const _Oo=class _Oo extends co{getDefault(){return null}set(e2){var t2;if(e2===this.current&&!this.dirty)return;const i2=this.gl;qt2(i2)?i2.bindVertexArray(e2):(t2=i2.getExtension("OES_vertex_array_object"))===null||t2===void 0||t2.bindVertexArrayOES(e2),this.current=e2,this.dirty=!1}};__name(_Oo,"Oo");let Oo=_Oo;const _jo=class _jo extends co{getDefault(){return 4}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.pixelStorei(t2.UNPACK_ALIGNMENT,e2),this.current=e2,this.dirty=!1}};__name(_jo,"jo");let jo=_jo;const _No=class _No extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.pixelStorei(t2.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e2),this.current=e2,this.dirty=!1}};__name(_No,"No");let No=_No;const _Zo=class _Zo extends co{getDefault(){return!1}set(e2){if(e2===this.current&&!this.dirty)return;const t2=this.gl;t2.pixelStorei(t2.UNPACK_FLIP_Y_WEBGL,e2),this.current=e2,this.dirty=!1}};__name(_Zo,"Zo");let Zo=_Zo;const _Uo=class _Uo extends co{constructor(e2,t2){super(e2),this.context=e2,this.parent=t2}getDefault(){return null}};__name(_Uo,"Uo");let Uo=_Uo;const _Go=class _Go extends Uo{setDirty(){this.dirty=!0}set(e2){if(e2===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t2=this.gl;t2.framebufferTexture2D(t2.FRAMEBUFFER,t2.COLOR_ATTACHMENT0,t2.TEXTURE_2D,e2,0),this.current=e2,this.dirty=!1}};__name(_Go,"Go");let Go=_Go;const _Vo=class _Vo extends Uo{set(e2){if(e2===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t2=this.gl;t2.framebufferRenderbuffer(t2.FRAMEBUFFER,t2.DEPTH_ATTACHMENT,t2.RENDERBUFFER,e2),this.current=e2,this.dirty=!1}};__name(_Vo,"Vo");let Vo=_Vo;const _$o=class _$o extends Uo{set(e2){if(e2===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t2=this.gl;t2.framebufferRenderbuffer(t2.FRAMEBUFFER,t2.DEPTH_STENCIL_ATTACHMENT,t2.RENDERBUFFER,e2),this.current=e2,this.dirty=!1}};__name(_$o,"$o");let $o=_$o;const qo="Framebuffer is not complete",_Wo=class _Wo{constructor(e2,t2,i2,o2,r2){this.context=e2,this.width=t2,this.height=i2;const a2=e2.gl,s2=this.framebuffer=a2.createFramebuffer();if(this.colorAttachment=new Go(e2,s2),o2)this.depthAttachment=r2?new $o(e2,s2):new Vo(e2,s2);else if(r2)throw new Error("Stencil cannot be set without depth");if(a2.checkFramebufferStatus(a2.FRAMEBUFFER)!==a2.FRAMEBUFFER_COMPLETE)throw new Error(qo)}destroy(){const e2=this.context.gl,t2=this.colorAttachment.get();if(t2&&e2.deleteTexture(t2),this.depthAttachment){const t3=this.depthAttachment.get();t3&&e2.deleteRenderbuffer(t3)}e2.deleteFramebuffer(this.framebuffer)}};__name(_Wo,"Wo");let Wo=_Wo;const _Ho=class _Ho{constructor(e2){var t2,i2;if(this.gl=e2,this.clearColor=new ho(this),this.clearDepth=new uo(this),this.clearStencil=new _o(this),this.colorMask=new po(this),this.depthMask=new mo(this),this.stencilMask=new fo(this),this.stencilFunc=new go(this),this.stencilOp=new vo(this),this.stencilTest=new bo(this),this.depthRange=new xo(this),this.depthTest=new yo(this),this.depthFunc=new wo(this),this.blend=new To(this),this.blendFunc=new Po(this),this.blendColor=new Co(this),this.blendEquation=new Io(this),this.cullFace=new Mo(this),this.cullFaceSide=new So(this),this.frontFace=new Eo(this),this.program=new Ro(this),this.activeTexture=new zo(this),this.viewport=new Do(this),this.bindFramebuffer=new Ao(this),this.bindRenderbuffer=new Lo(this),this.bindTexture=new ko(this),this.bindVertexBuffer=new Fo(this),this.bindElementBuffer=new Bo(this),this.bindVertexArray=new Oo(this),this.pixelStoreUnpack=new jo(this),this.pixelStoreUnpackPremultiplyAlpha=new No(this),this.pixelStoreUnpackFlipY=new Zo(this),this.extTextureFilterAnisotropic=e2.getExtension("EXT_texture_filter_anisotropic")||e2.getExtension("MOZ_EXT_texture_filter_anisotropic")||e2.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e2.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e2.getParameter(e2.MAX_TEXTURE_SIZE),qt2(e2)){this.HALF_FLOAT=e2.HALF_FLOAT;const o2=e2.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(t2=e2.RGBA16F)!==null&&t2!==void 0?t2:o2==null?void 0:o2.RGBA16F_EXT,this.RGB16F=(i2=e2.RGB16F)!==null&&i2!==void 0?i2:o2==null?void 0:o2.RGB16F_EXT,e2.getExtension("EXT_color_buffer_float")}else{e2.getExtension("EXT_color_buffer_half_float"),e2.getExtension("OES_texture_half_float_linear");const t3=e2.getExtension("OES_texture_half_float");this.HALF_FLOAT=t3==null?void 0:t3.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e2,t2){return new so(this,e2,t2)}createVertexBuffer(e2,t2,i2){return new lo(this,e2,t2,i2)}createRenderbuffer(e2,t2,i2){const o2=this.gl,r2=o2.createRenderbuffer();return this.bindRenderbuffer.set(r2),o2.renderbufferStorage(o2.RENDERBUFFER,e2,t2,i2),this.bindRenderbuffer.set(null),r2}createFramebuffer(e2,t2,i2,o2){return new Wo(this,e2,t2,i2,o2)}clear({color:e2,depth:t2,stencil:i2}){const o2=this.gl;let r2=0;e2&&(r2|=o2.COLOR_BUFFER_BIT,this.clearColor.set(e2),this.colorMask.set([!0,!0,!0,!0])),t2!==void 0&&(r2|=o2.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t2),this.depthMask.set(!0)),i2!==void 0&&(r2|=o2.STENCIL_BUFFER_BIT,this.clearStencil.set(i2),this.stencilMask.set(255)),o2.clear(r2)}setCullFace(e2){e2.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e2.mode),this.frontFace.set(e2.frontFace))}setDepthMode(e2){e2.func!==this.gl.ALWAYS||e2.mask?(this.depthTest.set(!0),this.depthFunc.set(e2.func),this.depthMask.set(e2.mask),this.depthRange.set(e2.range)):this.depthTest.set(!1)}setStencilMode(e2){e2.test.func!==this.gl.ALWAYS||e2.mask?(this.stencilTest.set(!0),this.stencilMask.set(e2.mask),this.stencilOp.set([e2.fail,e2.depthFail,e2.pass]),this.stencilFunc.set({func:e2.test.func,ref:e2.ref,mask:e2.test.mask})):this.stencilTest.set(!1)}setColorMode(e2){t.bG(e2.blendFunction,jt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e2.blendFunction),this.blendColor.set(e2.blendColor)),this.colorMask.set(e2.mask)}createVertexArray(){var e2;return qt2(this.gl)?this.gl.createVertexArray():(e2=this.gl.getExtension("OES_vertex_array_object"))===null||e2===void 0?void 0:e2.createVertexArrayOES()}deleteVertexArray(e2){var t2;return qt2(this.gl)?this.gl.deleteVertexArray(e2):(t2=this.gl.getExtension("OES_vertex_array_object"))===null||t2===void 0?void 0:t2.deleteVertexArrayOES(e2)}unbindVAO(){this.bindVertexArray.set(null)}};__name(_Ho,"Ho");let Ho=_Ho,Xo;function Ko(e2,i2,o2,r2,a2){const s2=e2.context,n2=e2.transform,l2=s2.gl,c3=e2.useProgram("collisionBox"),h3=[];let u2=0,d3=0;for(let t2=0;t2<r2.length;t2++){const _3=r2[t2],p4=i2.getTile(_3).getBucket(o2);if(!p4)continue;const m3=a2?p4.textCollisionBox:p4.iconCollisionBox,f3=p4.collisionCircleArray;f3.length>0&&(h3.push({circleArray:f3,circleOffset:d3,coord:_3}),u2+=f3.length/4,d3=u2),m3&&c3.draw(s2,l2.LINES,Ut.disabled,Vt.disabled,e2.colorModeForRenderPass(),Zt.disabled,Fi(e2.transform),e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(_3),n2.getProjectionData({overscaledTileID:_3,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),o2.id,m3.layoutVertexBuffer,m3.indexBuffer,m3.segments,null,e2.transform.zoom,null,null,m3.collisionVertexBuffer)}if(!a2||!h3.length)return;const _2=e2.useProgram("collisionCircle"),p3=new t.b_;p3.resize(4*u2),p3._trim();let m2=0;for(const e3 of h3)for(let t2=0;t2<e3.circleArray.length/4;t2++){const i3=4*t2,o3=e3.circleArray[i3+0],r3=e3.circleArray[i3+1],a3=e3.circleArray[i3+2],s3=e3.circleArray[i3+3];p3.emplace(m2++,o3,r3,a3,s3,0),p3.emplace(m2++,o3,r3,a3,s3,1),p3.emplace(m2++,o3,r3,a3,s3,2),p3.emplace(m2++,o3,r3,a3,s3,3)}(!Xo||Xo.length<2*u2)&&(Xo=function(e3){const i3=2*e3,o3=new t.c0;o3.resize(i3),o3._trim();for(let e4=0;e4<i3;e4++){const t2=6*e4;o3.uint16[t2+0]=4*e4+0,o3.uint16[t2+1]=4*e4+1,o3.uint16[t2+2]=4*e4+2,o3.uint16[t2+3]=4*e4+2,o3.uint16[t2+4]=4*e4+3,o3.uint16[t2+5]=4*e4+0}return o3}(u2));const f2=s2.createIndexBuffer(Xo,!0),g2=s2.createVertexBuffer(p3,t.b$.members,!0);for(const i3 of h3){const r3=Bi(e2.transform);_2.draw(s2,l2.TRIANGLES,Ut.disabled,Vt.disabled,e2.colorModeForRenderPass(),Zt.disabled,r3,e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(i3.coord),null,o2.id,g2,f2,t.aL.simpleSegment(0,2*i3.circleOffset,i3.circleArray.length,i3.circleArray.length/2),null,e2.transform.zoom,null,null,null)}g2.destroy(),f2.destroy()}__name(Ko,"Ko");const Yo=t.af(new Float32Array(16));function Qo(e2,i2,o2,r2,a2,s2){const{horizontalAlign:n2,verticalAlign:l2}=t.aG(e2);return new t.P((-(n2-.5)*i2/a2+r2[0])*s2,(-(l2-.5)*o2/a2+r2[1])*s2)}__name(Qo,"Qo");function Jo(e2,i2,o2,r2,a2,s2){const n2=i2.tileAnchorPoint.add(new t.P(i2.translation[0],i2.translation[1]));if(i2.pitchWithMap){let e3=r2.mult(s2);o2||(e3=e3.rotate(-a2));const t2=n2.add(e3);return Ee(t2.x,t2.y,i2.pitchedLabelPlaneMatrix,i2.getElevation).point}if(o2){const t2=Oe(i2.tileAnchorPoint.x+1,i2.tileAnchorPoint.y,i2).point.sub(e2),o3=Math.atan(t2.y/t2.x)+(t2.x<0?Math.PI:0);return e2.add(r2.rotate(o3))}return e2.add(r2)}__name(Jo,"Jo");function er(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3){const _2=e2.text.placedSymbolArray,p3=e2.text.dynamicLayoutVertexArray,m2=e2.icon.dynamicLayoutVertexArray,f2={};p3.clear();for(let m3=0;m3<_2.length;m3++){const g2=_2.get(m3),v2=g2.hidden||!g2.crossTileID||e2.allowVerticalPlacement&&!g2.placedOrientation?null:r2[g2.crossTileID];if(v2){const r3=new t.P(g2.anchorX,g2.anchorY),_3={getElevation:d3,width:a2.width,height:a2.height,pitchedLabelPlaneMatrix:s2,pitchWithMap:o2,transform:a2,tileAnchorPoint:r3,translation:h3,unwrappedTileID:u2},m4=o2?Ne(r3.x,r3.y,_3):Oe(r3.x,r3.y,_3),b2=Re(a2.cameraToCenterDistance,m4.signedDistanceFromCamera);let x2=t.ao(e2.textSizeData,l2,g2)*b2/t.aA;o2&&(x2*=e2.tilePixelRatio/n2);const{width:y2,height:w2,anchor:T2,textOffset:P2,textBoxScale:C2}=v2,I2=Qo(T2,y2,w2,P2,C2,x2),M2=a2.getPitchedTextCorrection(r3.x+h3[0],r3.y+h3[1],u2),S2=Jo(m4.point,_3,i2,I2,-a2.bearingInRadians,M2),E3=e2.allowVerticalPlacement&&g2.placedOrientation===t.an.vertical?Math.PI/2:0;for(let e3=0;e3<g2.numGlyphs;e3++)t.au(p3,S2,E3);c3&&g2.associatedIconIndex>=0&&(f2[g2.associatedIconIndex]={shiftedAnchor:S2,angle:E3})}else $e(g2.numGlyphs,p3)}if(c3){m2.clear();const i3=e2.icon.placedSymbolArray;for(let e3=0;e3<i3.length;e3++){const o3=i3.get(e3);if(o3.hidden)$e(o3.numGlyphs,m2);else{const i4=f2[e3];if(i4)for(let e4=0;e4<o3.numGlyphs;e4++)t.au(m2,i4.shiftedAnchor,i4.angle);else $e(o3.numGlyphs,m2)}}e2.icon.dynamicLayoutVertexBuffer.updateData(m2)}e2.text.dynamicLayoutVertexBuffer.updateData(p3)}__name(er,"er");function tr(e2,t2,i2){return i2.iconsInText&&t2?"symbolTextAndIcon":e2?"symbolSDF":"symbolIcon"}__name(tr,"tr");function ir(e2,i2,o2,r2,a2,s2,n2,l2,c3,h3,u2,d3,_2){const p3=e2.context,m2=p3.gl,f2=e2.transform,g2=l2==="map",v2=c3==="map",b2=l2!=="viewport"&&o2.layout.get("symbol-placement")!=="point",x2=g2&&!v2&&!b2,y2=!o2.layout.get("symbol-sort-key").isConstant();let w2=!1;const T2=e2.getDepthModeForSublayer(0,Ut.ReadOnly),P2=o2._unevaluatedLayout.hasValue("text-variable-anchor")||o2._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C2=[],I2=f2.getCircleRadiusCorrection();for(const l3 of r2){const r3=i2.getTile(l3),c4=r3.getBucket(o2);if(!c4)continue;const u3=a2?c4.text:c4.icon;if(!u3||!u3.segments.get().length||!u3.hasVisibleVertices)continue;const d4=u3.programConfigurations.get(o2.id),p4=a2||c4.sdfIcons,T3=a2?c4.textSizeData:c4.iconSizeData,M2=v2||f2.pitch!==0,S2=e2.useProgram(tr(p4,a2,c4),d4),E3=t.am(T3,f2.zoom),R2=e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(l3);let z2,D2,A2,L2,k2=[0,0],F2=null;if(a2)D2=r3.glyphAtlasTexture,A2=m2.LINEAR,z2=r3.glyphAtlasTexture.size,c4.iconsInText&&(k2=r3.imageAtlasTexture.size,F2=r3.imageAtlasTexture,L2=M2||e2.options.rotating||e2.options.zooming||T3.kind==="composite"||T3.kind==="camera"?m2.LINEAR:m2.NEAREST);else{const t2=o2.layout.get("icon-size").constantOr(0)!==1||c4.iconsNeedLinear;D2=r3.imageAtlasTexture,A2=p4||e2.options.rotating||e2.options.zooming||t2||M2?m2.LINEAR:m2.NEAREST,z2=r3.imageAtlasTexture.size}const B3=t.aB(r3,1,e2.transform.zoom),O2=Ie(g2,e2.transform,B3),j2=t.L();t.ap(j2,O2);const N2=Me(v2,g2,e2.transform,B3),Z2=t.aC(f2,r3,s2,n2),U2=f2.getProjectionData({overscaledTileID:l3,applyGlobeMatrix:!_2,applyTerrainMatrix:!0}),G2=P2&&c4.hasTextData(),V2=o2.layout.get("icon-text-fit")!=="none"&&G2&&c4.hasIconData();if(b2){const t2=e2.style.map.terrain?(t3,i4)=>e2.style.map.terrain.getElevation(l3,t3,i4):null,i3=o2.layout.get("text-rotation-alignment")==="map";De(c4,e2,a2,O2,j2,v2,h3,i3,l3.toUnwrapped(),f2.width,f2.height,Z2,t2)}const $2=a2&&P2||V2,q3=b2||$2?Yo:v2?O2:e2.transform.clipSpaceToPixelsMatrix,W2=p4&&o2.paint.get(a2?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let H2;H2=p4?c4.iconsInText?to(T3.kind,E3,x2,v2,b2,$2,e2,q3,N2,Z2,z2,k2,I2):eo(T3.kind,E3,x2,v2,b2,$2,e2,q3,N2,Z2,a2,z2,0,I2):Ji(T3.kind,E3,x2,v2,b2,$2,e2,q3,N2,Z2,a2,z2,I2);const X2={program:S2,buffers:u3,uniformValues:H2,projectionData:U2,atlasTexture:D2,atlasTextureIcon:F2,atlasInterpolation:A2,atlasInterpolationIcon:L2,isSDF:p4,hasHalo:W2};if(y2&&c4.canOverlap){w2=!0;const e3=u3.segments.get();for(const i3 of e3)C2.push({segments:new t.aL([i3]),sortKey:i3.sortKey,state:X2,terrainData:R2})}else C2.push({segments:u3.segments,sortKey:0,state:X2,terrainData:R2})}w2&&C2.sort((e3,t2)=>e3.sortKey-t2.sortKey);for(const t2 of C2){const i3=t2.state;if(p3.activeTexture.set(m2.TEXTURE0),i3.atlasTexture.bind(i3.atlasInterpolation,m2.CLAMP_TO_EDGE),i3.atlasTextureIcon&&(p3.activeTexture.set(m2.TEXTURE1),i3.atlasTextureIcon&&i3.atlasTextureIcon.bind(i3.atlasInterpolationIcon,m2.CLAMP_TO_EDGE)),i3.isSDF){const r3=i3.uniformValues;i3.hasHalo&&(r3.u_is_halo=1,or(i3.buffers,t2.segments,o2,e2,i3.program,T2,u2,d3,r3,i3.projectionData,t2.terrainData)),r3.u_is_halo=0}or(i3.buffers,t2.segments,o2,e2,i3.program,T2,u2,d3,i3.uniformValues,i3.projectionData,t2.terrainData)}}__name(ir,"ir");function or(e2,t2,i2,o2,r2,a2,s2,n2,l2,c3,h3){const u2=o2.context;r2.draw(u2,u2.gl.TRIANGLES,a2,s2,n2,Zt.backCCW,l2,h3,c3,i2.id,e2.layoutVertexBuffer,e2.indexBuffer,t2,i2.paint,o2.transform.zoom,e2.programConfigurations.get(i2.id),e2.dynamicLayoutVertexBuffer,e2.opacityVertexBuffer)}__name(or,"or");function rr(e2,i2,o2,r2,a2){const s2=e2.context,n2=s2.gl,l2=Vt.disabled,c3=new jt([n2.ONE,n2.ONE],t.be.transparent,[!0,!0,!0,!0]),h3=i2.getBucket(o2);if(!h3)return;const u2=r2.key;let d3=o2.heatmapFbos.get(u2);d3||(d3=sr(s2,i2.tileSize,i2.tileSize),o2.heatmapFbos.set(u2,d3)),s2.bindFramebuffer.set(d3.framebuffer),s2.viewport.set([0,0,i2.tileSize,i2.tileSize]),s2.clear({color:t.be.transparent});const _2=h3.programConfigurations.get(o2.id),p3=e2.useProgram("heatmap",_2,!a2),m2=e2.transform.getProjectionData({overscaledTileID:i2.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f2=e2.style.map.terrain.getTerrainData(r2);p3.draw(s2,n2.TRIANGLES,Ut.disabled,l2,c3,Zt.disabled,ji(i2,e2.transform.zoom,o2.paint.get("heatmap-intensity"),1),f2,m2,o2.id,h3.layoutVertexBuffer,h3.indexBuffer,h3.segments,o2.paint,e2.transform.zoom,_2)}__name(rr,"rr");function ar(e2,t2,i2,o2,r2){const a2=e2.context,s2=a2.gl,n2=e2.transform;a2.setColorMode(e2.colorModeForRenderPass());const l2=nr(a2,t2),c3=i2.key,h3=t2.heatmapFbos.get(c3);if(!h3)return;a2.activeTexture.set(s2.TEXTURE0),s2.bindTexture(s2.TEXTURE_2D,h3.colorAttachment.get()),a2.activeTexture.set(s2.TEXTURE1),l2.bind(s2.LINEAR,s2.CLAMP_TO_EDGE);const u2=n2.getProjectionData({overscaledTileID:i2,applyTerrainMatrix:r2,applyGlobeMatrix:!o2});e2.useProgram("heatmapTexture").draw(a2,s2.TRIANGLES,Ut.disabled,Vt.disabled,e2.colorModeForRenderPass(),Zt.disabled,Ni2(e2,t2,0,1),null,u2,t2.id,e2.rasterBoundsBuffer,e2.quadTriangleIndexBuffer,e2.rasterBoundsSegments,t2.paint,n2.zoom),h3.destroy(),t2.heatmapFbos.delete(c3)}__name(ar,"ar");function sr(e2,t2,i2){var o2,r2;const a2=e2.gl,s2=a2.createTexture();a2.bindTexture(a2.TEXTURE_2D,s2),a2.texParameteri(a2.TEXTURE_2D,a2.TEXTURE_WRAP_S,a2.CLAMP_TO_EDGE),a2.texParameteri(a2.TEXTURE_2D,a2.TEXTURE_WRAP_T,a2.CLAMP_TO_EDGE),a2.texParameteri(a2.TEXTURE_2D,a2.TEXTURE_MIN_FILTER,a2.LINEAR),a2.texParameteri(a2.TEXTURE_2D,a2.TEXTURE_MAG_FILTER,a2.LINEAR);const n2=(o2=e2.HALF_FLOAT)!==null&&o2!==void 0?o2:a2.UNSIGNED_BYTE,l2=(r2=e2.RGBA16F)!==null&&r2!==void 0?r2:a2.RGBA;a2.texImage2D(a2.TEXTURE_2D,0,l2,t2,i2,0,a2.RGBA,n2,null);const c3=e2.createFramebuffer(t2,i2,!1,!1);return c3.colorAttachment.set(s2),c3}__name(sr,"sr");function nr(e2,i2){return i2.colorRampTexture||(i2.colorRampTexture=new t.T(e2,i2.colorRamp,e2.gl.RGBA)),i2.colorRampTexture}__name(nr,"nr");function lr(e2,t2,i2,o2,r2){if(!i2||!o2||!o2.imageAtlas)return;const a2=o2.imageAtlas.patternPositions;let s2=a2[i2.to.toString()],n2=a2[i2.from.toString()];if(!s2&&n2&&(s2=n2),!n2&&s2&&(n2=s2),!s2||!n2){const e3=r2.getPaintProperty(t2);s2=a2[e3],n2=a2[e3]}s2&&n2&&e2.setConstantPatternPositions(s2,n2)}__name(lr,"lr");function cr(e2,i2,o2,r2,a2,s2,n2,l2){const c3=e2.context.gl,h3="fill-pattern",u2=o2.paint.get(h3),d3=u2&&u2.constantOr(1),_2=o2.getCrossfadeParameters();let p3,m2,f2,g2,v2;const b2=e2.transform,x2=o2.paint.get("fill-translate"),y2=o2.paint.get("fill-translate-anchor");n2?(m2=d3&&!o2.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",p3=c3.LINES):(m2=d3?"fillPattern":"fill",p3=c3.TRIANGLES);const w2=u2.constantOr(null);for(const u3 of r2){const r3=i2.getTile(u3);if(d3&&!r3.patternsLoaded())continue;const T2=r3.getBucket(o2);if(!T2)continue;const P2=T2.programConfigurations.get(o2.id),C2=e2.useProgram(m2,P2),I2=e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(u3);d3&&(e2.context.activeTexture.set(c3.TEXTURE0),r3.imageAtlasTexture.bind(c3.LINEAR,c3.CLAMP_TO_EDGE),P2.updatePaintBuffers(_2)),lr(P2,h3,w2,r3,o2);const M2=b2.getProjectionData({overscaledTileID:u3,applyGlobeMatrix:!l2,applyTerrainMatrix:!0}),S2=t.aC(b2,r3,x2,y2);if(n2){g2=T2.indexBuffer2,v2=T2.segments2;const t2=[c3.drawingBufferWidth,c3.drawingBufferHeight];f2=m2==="fillOutlinePattern"&&d3?Li(e2,_2,r3,t2,S2):Ai(t2,S2)}else g2=T2.indexBuffer,v2=T2.segments,f2=d3?Di(e2,_2,r3,S2):{u_fill_translate:S2};const E3=e2.stencilModeForClipping(u3);C2.draw(e2.context,p3,a2,E3,s2,Zt.backCCW,f2,I2,M2,o2.id,T2.layoutVertexBuffer,g2,v2,o2.paint,e2.transform.zoom,P2)}}__name(cr,"cr");function hr(e2,i2,o2,r2,a2,s2,n2,l2){const c3=e2.context,h3=c3.gl,u2="fill-extrusion-pattern",d3=o2.paint.get(u2),_2=d3.constantOr(1),p3=o2.getCrossfadeParameters(),m2=o2.paint.get("fill-extrusion-opacity"),f2=d3.constantOr(null),g2=e2.transform;for(const d4 of r2){const r3=i2.getTile(d4),v2=r3.getBucket(o2);if(!v2)continue;const b2=e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(d4),x2=v2.programConfigurations.get(o2.id),y2=e2.useProgram(_2?"fillExtrusionPattern":"fillExtrusion",x2);_2&&(e2.context.activeTexture.set(h3.TEXTURE0),r3.imageAtlasTexture.bind(h3.LINEAR,h3.CLAMP_TO_EDGE),x2.updatePaintBuffers(p3));const w2=g2.getProjectionData({overscaledTileID:d4,applyGlobeMatrix:!l2,applyTerrainMatrix:!0});lr(x2,u2,f2,r3,o2);const T2=t.aC(g2,r3,o2.paint.get("fill-extrusion-translate"),o2.paint.get("fill-extrusion-translate-anchor")),P2=o2.paint.get("fill-extrusion-vertical-gradient"),C2=_2?zi(e2,P2,m2,T2,d4,p3,r3):Ri(e2,P2,m2,T2);y2.draw(c3,c3.gl.TRIANGLES,a2,s2,n2,Zt.backCCW,C2,b2,w2,o2.id,v2.layoutVertexBuffer,v2.indexBuffer,v2.segments,o2.paint,e2.transform.zoom,x2,e2.style.map.terrain&&v2.centroidVertexBuffer)}}__name(hr,"hr");function ur(e2,t2,i2,o2,r2,a2,s2,n2,l2){var c3;const h3=e2.style.projection,u2=e2.context,d3=e2.transform,_2=u2.gl,p3=["#define NUM_ILLUMINATION_SOURCES ".concat(i2.paint.get("hillshade-highlight-color").values.length)],m2=e2.useProgram("hillshade",null,!1,p3),f2=!e2.options.moving;for(const p4 of o2){const o3=t2.getTile(p4),g2=o3.fbo;if(!g2)continue;const v2=h3.getMeshFromTileID(u2,p4.canonical,n2,!0,"raster"),b2=(c3=e2.style.map.terrain)===null||c3===void 0?void 0:c3.getTerrainData(p4);u2.activeTexture.set(_2.TEXTURE0),_2.bindTexture(_2.TEXTURE_2D,g2.colorAttachment.get());const x2=d3.getProjectionData({overscaledTileID:p4,aligned:f2,applyGlobeMatrix:!l2,applyTerrainMatrix:!0});m2.draw(u2,_2.TRIANGLES,a2,r2[p4.overscaledZ],s2,Zt.backCCW,Zi(e2,o3,i2),b2,x2,i2.id,v2.vertexBuffer,v2.indexBuffer,v2.segments)}}__name(ur,"ur");function dr(e2,i2,o2,r2,a2,s2,n2,l2,c3){var h3;const u2=e2.style.projection,d3=e2.context,_2=e2.transform,p3=d3.gl,m2=e2.useProgram("colorRelief"),f2=!e2.options.moving;let g2=!0,v2=0;for(const b2 of r2){const r3=i2.getTile(b2),x2=r3.dem;if(g2){const e3=p3.getParameter(p3.MAX_TEXTURE_SIZE),{elevationTexture:t2,colorTexture:i3}=o2.getColorRampTextures(d3,e3,x2.getUnpackVector());d3.activeTexture.set(p3.TEXTURE1),t2.bind(p3.NEAREST,p3.CLAMP_TO_EDGE),d3.activeTexture.set(p3.TEXTURE4),i3.bind(p3.LINEAR,p3.CLAMP_TO_EDGE),g2=!1,v2=t2.size[0]}if(!x2||!x2.data)continue;const y2=x2.stride,w2=x2.getPixels();if(d3.activeTexture.set(p3.TEXTURE0),d3.pixelStoreUnpackPremultiplyAlpha.set(!1),r3.demTexture=r3.demTexture||e2.getTileTexture(y2),r3.demTexture){const e3=r3.demTexture;e3.update(w2,{premultiply:!1}),e3.bind(p3.LINEAR,p3.CLAMP_TO_EDGE)}else r3.demTexture=new t.T(d3,w2,p3.RGBA,{premultiply:!1}),r3.demTexture.bind(p3.LINEAR,p3.CLAMP_TO_EDGE);const T2=u2.getMeshFromTileID(d3,b2.canonical,l2,!0,"raster"),P2=(h3=e2.style.map.terrain)===null||h3===void 0?void 0:h3.getTerrainData(b2),C2=_2.getProjectionData({overscaledTileID:b2,aligned:f2,applyGlobeMatrix:!c3,applyTerrainMatrix:!0});m2.draw(d3,p3.TRIANGLES,s2,a2[b2.overscaledZ],n2,Zt.backCCW,Vi2(o2,r3.dem,v2),P2,C2,o2.id,T2.vertexBuffer,T2.indexBuffer,T2.segments)}}__name(dr,"dr");const _r=[new t.P(0,0),new t.P(t.$,0),new t.P(t.$,t.$),new t.P(0,t.$)];function pr(e2,t2,i2,o2,r2,a2,s2,n2,l2=!1,c3=!1){const h3=o2[o2.length-1].overscaledZ,u2=e2.context,d3=u2.gl,_2=e2.useProgram("raster"),p3=e2.transform,m2=e2.style.projection,f2=e2.colorModeForRenderPass(),g2=!e2.options.moving;for(const v2 of o2){const o3=e2.getDepthModeForSublayer(v2.overscaledZ-h3,i2.paint.get("raster-opacity")===1?Ut.ReadWrite:Ut.ReadOnly,d3.LESS),b2=t2.getTile(v2);b2.registerFadeDuration(i2.paint.get("raster-fade-duration"));const x2=t2.findLoadedParent(v2,0),y2=t2.findLoadedSibling(v2),w2=mr(b2,x2||y2||null,t2,i2,e2.transform,e2.style.map.terrain);let T2,P2;const C2=i2.paint.get("raster-resampling")==="nearest"?d3.NEAREST:d3.LINEAR;u2.activeTexture.set(d3.TEXTURE0),b2.texture.bind(C2,d3.CLAMP_TO_EDGE,d3.LINEAR_MIPMAP_NEAREST),u2.activeTexture.set(d3.TEXTURE1),x2?(x2.texture.bind(C2,d3.CLAMP_TO_EDGE,d3.LINEAR_MIPMAP_NEAREST),T2=Math.pow(2,x2.tileID.overscaledZ-b2.tileID.overscaledZ),P2=[b2.tileID.canonical.x*T2%1,b2.tileID.canonical.y*T2%1]):b2.texture.bind(C2,d3.CLAMP_TO_EDGE,d3.LINEAR_MIPMAP_NEAREST),b2.texture.useMipmap&&u2.extTextureFilterAnisotropic&&e2.transform.pitch>20&&d3.texParameterf(d3.TEXTURE_2D,u2.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u2.extTextureFilterAnisotropicMax);const I2=e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(v2),M2=p3.getProjectionData({overscaledTileID:v2,aligned:g2,applyGlobeMatrix:!c3,applyTerrainMatrix:!0}),S2=Yi(P2||[0,0],T2||1,w2,i2,n2),E3=m2.getMeshFromTileID(u2,v2.canonical,a2,s2,"raster");_2.draw(u2,d3.TRIANGLES,o3,r2?r2[v2.overscaledZ]:Vt.disabled,f2,l2?Zt.frontCCW:Zt.backCCW,S2,I2,M2,i2.id,E3.vertexBuffer,E3.indexBuffer,E3.segments)}}__name(pr,"pr");function mr(e2,i2,o2,r2,a2,n2){const l2=r2.paint.get("raster-fade-duration");if(!n2&&l2>0){const r3=s.now(),n3=(r3-e2.timeAdded)/l2,c3=i2?(r3-i2.timeAdded)/l2:-1,h3=o2.getSource(),u2=ge(a2,{tileSize:h3.tileSize,roundZoom:h3.roundZoom}),d3=!i2||Math.abs(i2.tileID.overscaledZ-u2)>Math.abs(e2.tileID.overscaledZ-u2),_2=d3&&e2.refreshedUponExpiration?1:t.ag(d3?n3:1-c3,0,1);return e2.refreshedUponExpiration&&n3>=1&&(e2.refreshedUponExpiration=!1),i2?{opacity:1,mix:1-_2}:{opacity:_2,mix:0}}return{opacity:1,mix:0}}__name(mr,"mr");const fr=new t.be(1,0,0,1),gr=new t.be(0,1,0,1),vr=new t.be(0,0,1,1),br=new t.be(1,0,1,1),xr=new t.be(0,1,1,1);function yr(e2,t2,i2,o2){Tr(e2,0,t2+i2/2,e2.transform.width,i2,o2)}__name(yr,"yr");function wr(e2,t2,i2,o2){Tr(e2,t2-i2/2,0,i2,e2.transform.height,o2)}__name(wr,"wr");function Tr(e2,t2,i2,o2,r2,a2){const s2=e2.context,n2=s2.gl;n2.enable(n2.SCISSOR_TEST),n2.scissor(t2*e2.pixelRatio,i2*e2.pixelRatio,o2*e2.pixelRatio,r2*e2.pixelRatio),s2.clear({color:a2}),n2.disable(n2.SCISSOR_TEST)}__name(Tr,"Tr");function Pr(e2,i2,o2){const r2=e2.context,a2=r2.gl,s2=e2.useProgram("debug"),n2=Ut.disabled,l2=Vt.disabled,c3=e2.colorModeForRenderPass(),h3="$debug",u2=e2.style.map.terrain&&e2.style.map.terrain.getTerrainData(o2);r2.activeTexture.set(a2.TEXTURE0);const d3=i2.getTileByID(o2.key).latestRawTileData,_2=Math.floor((d3&&d3.byteLength||0)/1024),p3=i2.getTile(o2).tileSize,m2=512/Math.min(p3,512)*(o2.overscaledZ/e2.transform.zoom)*.5;let f2=o2.canonical.toString();o2.overscaledZ!==o2.canonical.z&&(f2+=" => ".concat(o2.overscaledZ)),function(e3,t2){e3.initDebugOverlayCanvas();const i3=e3.debugOverlayCanvas,o3=e3.context.gl,r3=e3.debugOverlayCanvas.getContext("2d");r3.clearRect(0,0,i3.width,i3.height),r3.shadowColor="white",r3.shadowBlur=2,r3.lineWidth=1.5,r3.strokeStyle="white",r3.textBaseline="top",r3.font="bold 36px Open Sans, sans-serif",r3.fillText(t2,5,5),r3.strokeText(t2,5,5),e3.debugOverlayTexture.update(i3),e3.debugOverlayTexture.bind(o3.LINEAR,o3.CLAMP_TO_EDGE)}(e2,"".concat(f2," ").concat(_2,"kB"));const g2=e2.transform.getProjectionData({overscaledTileID:o2,applyGlobeMatrix:!0,applyTerrainMatrix:!0});s2.draw(r2,a2.TRIANGLES,n2,l2,jt.alphaBlended,Zt.disabled,Oi(t.be.transparent,m2),null,g2,h3,e2.debugBuffer,e2.quadTriangleIndexBuffer,e2.debugSegments),s2.draw(r2,a2.LINE_STRIP,n2,l2,c3,Zt.disabled,Oi(t.be.red),u2,g2,h3,e2.debugBuffer,e2.tileBorderIndexBuffer,e2.debugSegments)}__name(Pr,"Pr");function Cr(e2,t2,i2,o2){const{isRenderingGlobe:r2}=o2,a2=e2.context,s2=a2.gl,n2=e2.transform,l2=e2.colorModeForRenderPass(),c3=e2.getDepthModeFor3D(),h3=e2.useProgram("terrain");a2.bindFramebuffer.set(null),a2.viewport.set([0,0,e2.width,e2.height]);for(const o3 of i2){const i3=t2.getTerrainMesh(o3.tileID),u2=e2.renderToTexture.getTexture(o3),d3=t2.getTerrainData(o3.tileID);a2.activeTexture.set(s2.TEXTURE0),s2.bindTexture(s2.TEXTURE_2D,u2.texture);const _2=t2.getMeshFrameDelta(n2.zoom),p3=n2.calculateFogMatrix(o3.tileID.toUnwrapped()),m2=Ci(_2,p3,e2.style.sky,n2.pitch,r2),f2=n2.getProjectionData({overscaledTileID:o3.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});h3.draw(a2,s2.TRIANGLES,c3,Vt.disabled,l2,Zt.backCCW,m2,d3,f2,"terrain",i3.vertexBuffer,i3.indexBuffer,i3.segments)}}__name(Cr,"Cr");function Ir(e2,i2){if(!i2.mesh){const o2=new t.aK;o2.emplaceBack(-1,-1),o2.emplaceBack(1,-1),o2.emplaceBack(1,1),o2.emplaceBack(-1,1);const r2=new t.aM;r2.emplaceBack(0,1,2),r2.emplaceBack(0,2,3),i2.mesh=new wt(e2.createVertexBuffer(o2,Tt.members),e2.createIndexBuffer(r2),t.aL.simpleSegment(0,0,o2.length,r2.length))}return i2.mesh}__name(Ir,"Ir");const _Mr=class _Mr{constructor(e2,i2){this.context=new Ho(e2),this.transform=i2,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=xe.maxUnderzooming+xe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new vt2}resize(e2,t2,i2){if(this.width=Math.floor(e2*i2),this.height=Math.floor(t2*i2),this.pixelRatio=i2,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e3 of this.style._order)this.style._layers[e3].resize()}setup(){const e2=this.context,i2=new t.aK;i2.emplaceBack(0,0),i2.emplaceBack(t.$,0),i2.emplaceBack(0,t.$),i2.emplaceBack(t.$,t.$),this.tileExtentBuffer=e2.createVertexBuffer(i2,Tt.members),this.tileExtentSegments=t.aL.simpleSegment(0,0,4,2);const o2=new t.aK;o2.emplaceBack(0,0),o2.emplaceBack(t.$,0),o2.emplaceBack(0,t.$),o2.emplaceBack(t.$,t.$),this.debugBuffer=e2.createVertexBuffer(o2,Tt.members),this.debugSegments=t.aL.simpleSegment(0,0,4,5);const r2=new t.c5;r2.emplaceBack(0,0,0,0),r2.emplaceBack(t.$,0,t.$,0),r2.emplaceBack(0,t.$,0,t.$),r2.emplaceBack(t.$,t.$,t.$,t.$),this.rasterBoundsBuffer=e2.createVertexBuffer(r2,Ti2.members),this.rasterBoundsSegments=t.aL.simpleSegment(0,0,4,2);const a2=new t.aK;a2.emplaceBack(0,0),a2.emplaceBack(t.$,0),a2.emplaceBack(0,t.$),a2.emplaceBack(t.$,t.$),this.rasterBoundsBufferPosOnly=e2.createVertexBuffer(a2,Tt.members),this.rasterBoundsSegmentsPosOnly=t.aL.simpleSegment(0,0,4,5);const s2=new t.aK;s2.emplaceBack(0,0),s2.emplaceBack(1,0),s2.emplaceBack(0,1),s2.emplaceBack(1,1),this.viewportBuffer=e2.createVertexBuffer(s2,Tt.members),this.viewportSegments=t.aL.simpleSegment(0,0,4,2);const n2=new t.c6;n2.emplaceBack(0),n2.emplaceBack(1),n2.emplaceBack(3),n2.emplaceBack(2),n2.emplaceBack(0),this.tileBorderIndexBuffer=e2.createIndexBuffer(n2);const l2=new t.aM;l2.emplaceBack(1,0,2),l2.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e2.createIndexBuffer(l2);const c3=this.context.gl;this.stencilClearMode=new Vt({func:c3.ALWAYS,mask:0},0,255,c3.ZERO,c3.ZERO,c3.ZERO),this.tileExtentMesh=new wt(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e2=this.context,i2=e2.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const o2=t.L();t.bX(o2,0,this.width,this.height,0,0,1),t.N(o2,o2,[i2.drawingBufferWidth,i2.drawingBufferHeight,0]);const r2={mainMatrix:o2,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:o2};this.useProgram("clippingMask",null,!0).draw(e2,i2.TRIANGLES,Ut.disabled,this.stencilClearMode,jt.disabled,Zt.disabled,null,null,r2,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e2,t2,i2){if(this.currentStencilSource===e2.source||!e2.isTileClipped()||!t2||!t2.length)return;this.currentStencilSource=e2.source,this.nextStencilID+t2.length>256&&this.clearStencil();const o2=this.context;o2.setColorMode(jt.disabled),o2.setDepthMode(Ut.disabled);const r2={};for(const e3 of t2)r2[e3.key]=this.nextStencilID++;this._renderTileMasks(r2,t2,i2,!0),this._renderTileMasks(r2,t2,i2,!1),this._tileClippingMaskIDs=r2}_renderTileMasks(e2,t2,i2,o2){const r2=this.context,a2=r2.gl,s2=this.style.projection,n2=this.transform,l2=this.useProgram("clippingMask");for(const c3 of t2){const t3=e2[c3.key],h3=this.style.map.terrain&&this.style.map.terrain.getTerrainData(c3),u2=s2.getMeshFromTileID(this.context,c3.canonical,o2,!0,"stencil"),d3=n2.getProjectionData({overscaledTileID:c3,applyGlobeMatrix:!i2,applyTerrainMatrix:!0});l2.draw(r2,a2.TRIANGLES,Ut.disabled,new Vt({func:a2.ALWAYS,mask:0},t3,255,a2.KEEP,a2.KEEP,a2.REPLACE),jt.disabled,i2?Zt.disabled:Zt.backCCW,null,h3,d3,"$clipping",u2.vertexBuffer,u2.indexBuffer,u2.segments)}}_renderTilesDepthBuffer(){const e2=this.context,t2=e2.gl,i2=this.style.projection,o2=this.transform,r2=this.useProgram("depth"),a2=this.getDepthModeFor3D(),s2=ve(o2,{tileSize:o2.tileSize});for(const n2 of s2){const s3=this.style.map.terrain&&this.style.map.terrain.getTerrainData(n2),l2=i2.getMeshFromTileID(this.context,n2.canonical,!0,!0,"raster"),c3=o2.getProjectionData({overscaledTileID:n2,applyGlobeMatrix:!0,applyTerrainMatrix:!0});r2.draw(e2,t2.TRIANGLES,a2,Vt.disabled,jt.disabled,Zt.backCCW,null,s3,c3,"$clipping",l2.vertexBuffer,l2.indexBuffer,l2.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e2=this.nextStencilID++,t2=this.context.gl;return new Vt({func:t2.NOTEQUAL,mask:255},e2,255,t2.KEEP,t2.KEEP,t2.REPLACE)}stencilModeForClipping(e2){const t2=this.context.gl;return new Vt({func:t2.EQUAL,mask:255},this._tileClippingMaskIDs[e2.key],0,t2.KEEP,t2.KEEP,t2.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e2){const t2=this.context.gl,i2=e2.sort((e3,t3)=>t3.overscaledZ-e3.overscaledZ),o2=i2[i2.length-1].overscaledZ,r2=i2[0].overscaledZ-o2+1;if(r2>1){this.currentStencilSource=void 0,this.nextStencilID+r2>256&&this.clearStencil();const e3={};for(let i3=0;i3<r2;i3++)e3[i3+o2]=new Vt({func:t2.GEQUAL,mask:255},i3+this.nextStencilID,255,t2.KEEP,t2.KEEP,t2.REPLACE);return this.nextStencilID+=r2,[e3,i2]}return[{[o2]:Vt.disabled},i2]}stencilConfigForOverlapTwoPass(e2){const t2=this.context.gl,i2=e2.sort((e3,t3)=>t3.overscaledZ-e3.overscaledZ),o2=i2[i2.length-1].overscaledZ,r2=i2[0].overscaledZ-o2+1;if(this.clearStencil(),r2>1){const e3={},a2={};for(let i3=0;i3<r2;i3++)e3[i3+o2]=new Vt({func:t2.GREATER,mask:255},r2+1+i3,255,t2.KEEP,t2.KEEP,t2.REPLACE),a2[i3+o2]=new Vt({func:t2.GREATER,mask:255},1+i3,255,t2.KEEP,t2.KEEP,t2.REPLACE);return this.nextStencilID=2*r2+1,[e3,a2,i2]}return this.nextStencilID=3,[{[o2]:new Vt({func:t2.GREATER,mask:255},2,255,t2.KEEP,t2.KEEP,t2.REPLACE)},{[o2]:new Vt({func:t2.GREATER,mask:255},1,255,t2.KEEP,t2.KEEP,t2.REPLACE)},i2]}colorModeForRenderPass(){const e2=this.context.gl;return this._showOverdrawInspector?new jt([e2.CONSTANT_COLOR,e2.ONE],new t.be(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?jt.unblended:jt.alphaBlended}getDepthModeForSublayer(e2,t2,i2){if(!this.opaquePassEnabledForLayer())return Ut.disabled;const o2=1-((1+this.currentLayer)*this.numSublayers+e2)*this.depthEpsilon;return new Ut(i2||this.context.gl.LEQUAL,t2,[o2,o2])}getDepthModeFor3D(){return new Ut(this.context.gl.LEQUAL,Ut.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e2,i2){var o2,r2;this.style=e2,this.options=i2,this.lineAtlas=e2.lineAtlas,this.imageManager=e2.imageManager,this.glyphManager=e2.glyphManager,this.symbolFadeChange=e2.placement.symbolFadeChange(s.now()),this.imageManager.beginFrame();const a2=this.style._order,n2=this.style.sourceCaches,l2={},c3={},h3={},u2={isRenderingToTexture:!1,isRenderingGlobe:((o2=e2.projection)===null||o2===void 0?void 0:o2.transitionState)>0};for(const e3 in n2){const t2=n2[e3];t2.used&&t2.prepare(this.context),l2[e3]=t2.getVisibleCoordinates(!1),c3[e3]=l2[e3].slice().reverse(),h3[e3]=t2.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e3=0;e3<a2.length;e3++)if(this.style._layers[a2[e3]].is3D()){this.opaquePassCutoff=e3;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const e3 of a2){const t2=this.style._layers[e3];if(!t2.hasOffscreenPass()||t2.isHidden(this.transform.zoom))continue;const i3=c3[t2.source];(t2.type==="custom"||i3.length)&&this.renderLayer(this,n2[t2.source],t2,i3,u2)}if((r2=this.style.projection)===null||r2===void 0||r2.updateGPUdependent({context:this.context,useProgram:__name(e3=>this.useProgram(e3),"useProgram")}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:i2.showOverdrawInspector?t.be.black:t.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(e3,t2){const i3=e3.context,o3=i3.gl,r3=((e4,t3,i4)=>{const o4=Math.cos(t3.rollInRadians),r4=Math.sin(t3.rollInRadians),a4=he(t3),s3=t3.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:e4.properties.get("sky-color"),u_horizon_color:e4.properties.get("horizon-color"),u_horizon:[(t3.width/2-a4*r4)*i4,(t3.height/2+a4*o4)*i4],u_horizon_normal:[-r4,o4],u_sky_horizon_blend:e4.properties.get("sky-horizon-blend")*t3.height/2*i4,u_sky_blend:s3}})(t2,e3.style.map.transform,e3.pixelRatio),a3=new Ut(o3.LEQUAL,Ut.ReadWrite,[0,1]),s2=Vt.disabled,n3=e3.colorModeForRenderPass(),l3=e3.useProgram("sky"),c4=Ir(i3,t2);l3.draw(i3,o3.TRIANGLES,a3,s2,n3,Zt.disabled,r3,null,void 0,"sky",c4.vertexBuffer,c4.indexBuffer,c4.segments)}(this,this.style.sky),this._showOverdrawInspector=i2.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e2._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=a2.length-1;this.currentLayer>=0;this.currentLayer--){const e3=this.style._layers[a2[this.currentLayer]],t2=n2[e3.source],i3=l2[e3.source];this._renderTileClippingMasks(e3,i3,!1),this.renderLayer(this,t2,e3,i3,u2)}this.renderPass="translucent";let d3=!1;for(this.currentLayer=0;this.currentLayer<a2.length;this.currentLayer++){const e3=this.style._layers[a2[this.currentLayer]],t2=n2[e3.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e3,u2))continue;this.opaquePassEnabledForLayer()||d3||(d3=!0,u2.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const i3=(e3.type==="symbol"?h3:c3)[e3.source];this._renderTileClippingMasks(e3,l2[e3.source],!!this.renderToTexture),this.renderLayer(this,t2,e3,i3,u2)}if(u2.isRenderingGlobe&&function(e3,i3,o3){const r3=e3.context,a3=r3.gl,s2=e3.useProgram("atmosphere"),n3=new Ut(a3.LEQUAL,Ut.ReadOnly,[0,1]),l3=e3.transform,c4=function(e4,i4){const o4=e4.properties.get("position"),r4=[-o4.x,-o4.y,-o4.z],a4=t.af(new Float64Array(16));return e4.properties.get("anchor")==="map"&&(t.b5(a4,a4,i4.rollInRadians),t.b6(a4,a4,-i4.pitchInRadians),t.b5(a4,a4,i4.bearingInRadians),t.b6(a4,a4,i4.center.lat*Math.PI/180),t.by(a4,a4,-i4.center.lng*Math.PI/180)),t.c4(r4,r4,a4),r4}(o3,e3.transform),h4=l3.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),u3=i3.properties.get("atmosphere-blend")*h4.projectionTransition;if(u3===0)return;const d4=oi(l3.worldSize,l3.center.lat),_2=l3.inverseProjectionMatrix,p3=new Float64Array(4);p3[3]=1,t.av(p3,p3,l3.modelViewProjectionMatrix),p3[0]/=p3[3],p3[1]/=p3[3],p3[2]/=p3[3],p3[3]=1,t.av(p3,p3,_2),p3[0]/=p3[3],p3[1]/=p3[3],p3[2]/=p3[3],p3[3]=1;const m2=((e4,t2,i4,o4,r4)=>({u_sun_pos:e4,u_atmosphere_blend:t2,u_globe_position:i4,u_globe_radius:o4,u_inv_proj_matrix:r4}))(c4,u3,[p3[0],p3[1],p3[2]],d4,_2),f2=Ir(r3,i3);s2.draw(r3,a3.TRIANGLES,n3,Vt.disabled,jt.alphaBlended,Zt.disabled,m2,null,null,"atmosphere",f2.vertexBuffer,f2.indexBuffer,f2.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const e3=function(e4,t2){let i3=null;const o3=Object.values(e4._layers).flatMap(i4=>i4.source&&!i4.isHidden(t2)?[e4.sourceCaches[i4.source]]:[]),r3=o3.filter(e5=>e5.getSource().type==="vector"),a3=o3.filter(e5=>e5.getSource().type!=="vector"),s2=__name(e5=>{(!i3||i3.getSource().maxzoom<e5.getSource().maxzoom)&&(i3=e5)},"s");return r3.forEach(e5=>s2(e5)),i3||a3.forEach(e5=>s2(e5)),i3}(this.style,this.transform.zoom);e3&&function(e4,t2,i3){for(let o3=0;o3<i3.length;o3++)Pr(e4,t2,i3[o3])}(this,e3,e3.getVisibleCoordinates())}this.options.showPadding&&function(e3){const t2=e3.transform.padding;yr(e3,e3.transform.height-(t2.top||0),3,fr),yr(e3,t2.bottom||0,3,gr),wr(e3,t2.left||0,3,vr),wr(e3,e3.transform.width-(t2.right||0),3,br);const i3=e3.transform.centerPoint;(function(e4,t3,i4,o3){Tr(e4,t3-1,i4-10,2,20,o3),Tr(e4,t3-10,i4-1,20,2,o3)})(e3,i3.x,e3.transform.height-i3.y,xr)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e2){if(!this.style||!this.style.map||!this.style.map.terrain)return;const i2=this.terrainFacilitator.matrix,o2=this.transform.modelViewProjectionMatrix;let r2=this.terrainFacilitator.dirty;r2||(r2=e2?!t.c7(i2,o2):!t.c8(i2,o2)),r2||(r2=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),r2&&(t.c9(i2,o2),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e3,i3){const o3=e3.context,r3=o3.gl,a2=e3.transform,s2=jt.unblended,n2=new Ut(r3.LEQUAL,Ut.ReadWrite,[0,1]),l2=i3.sourceCache.getRenderableTiles(),c3=e3.useProgram("terrainDepth");o3.bindFramebuffer.set(i3.getFramebuffer("depth").framebuffer),o3.viewport.set([0,0,e3.width/devicePixelRatio,e3.height/devicePixelRatio]),o3.clear({color:t.be.transparent,depth:1});for(const e4 of l2){const t2=i3.getTerrainMesh(e4.tileID),l3=i3.getTerrainData(e4.tileID),h3=a2.getProjectionData({overscaledTileID:e4.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),u2={u_ele_delta:i3.getMeshFrameDelta(a2.zoom)};c3.draw(o3,r3.TRIANGLES,n2,Vt.disabled,s2,Zt.backCCW,u2,l3,h3,"terrain",t2.vertexBuffer,t2.indexBuffer,t2.segments)}o3.bindFramebuffer.set(null),o3.viewport.set([0,0,e3.width,e3.height])}(this,this.style.map.terrain),function(e3,i3){const o3=e3.context,r3=o3.gl,a2=e3.transform,s2=jt.unblended,n2=new Ut(r3.LEQUAL,Ut.ReadWrite,[0,1]),l2=i3.getCoordsTexture(),c3=i3.sourceCache.getRenderableTiles(),h3=e3.useProgram("terrainCoords");o3.bindFramebuffer.set(i3.getFramebuffer("coords").framebuffer),o3.viewport.set([0,0,e3.width/devicePixelRatio,e3.height/devicePixelRatio]),o3.clear({color:t.be.transparent,depth:1}),i3.coordsIndex=[];for(const e4 of c3){const t2=i3.getTerrainMesh(e4.tileID),c4=i3.getTerrainData(e4.tileID);o3.activeTexture.set(r3.TEXTURE0),r3.bindTexture(r3.TEXTURE_2D,l2.texture);const u2={u_terrain_coords_id:(255-i3.coordsIndex.length)/255,u_texture:0,u_ele_delta:i3.getMeshFrameDelta(a2.zoom)},d3=a2.getProjectionData({overscaledTileID:e4.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});h3.draw(o3,r3.TRIANGLES,n2,Vt.disabled,s2,Zt.backCCW,u2,c4,d3,"terrain",t2.vertexBuffer,t2.indexBuffer,t2.segments),i3.coordsIndex.push(e4.tileID.key)}o3.bindFramebuffer.set(null),o3.viewport.set([0,0,e3.width,e3.height])}(this,this.style.map.terrain))}renderLayer(e2,i2,o2,r2,a2){o2.isHidden(this.transform.zoom)||(o2.type==="background"||o2.type==="custom"||(r2||[]).length)&&(this.id=o2.id,t.ca(o2)?function(e3,i3,o3,r3,a3,s2){if(e3.renderPass!=="translucent")return;const{isRenderingToTexture:n2}=s2,l2=Vt.disabled,c3=e3.colorModeForRenderPass();(o3._unevaluatedLayout.hasValue("text-variable-anchor")||o3._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e4,i4,o4,r4,a4,s3,n3,l3,c4){const h3=i4.transform,u2=i4.style.map.terrain,d3=a4==="map",_2=s3==="map";for(const a5 of e4){const e5=r4.getTile(a5),s4=e5.getBucket(o4);if(!s4||!s4.text||!s4.text.segments.get().length)continue;const p3=t.am(s4.textSizeData,h3.zoom),m2=t.aB(e5,1,i4.transform.zoom),f2=Ie(d3,i4.transform,m2),g2=o4.layout.get("icon-text-fit")!=="none"&&s4.hasIconData();if(p3){const i5=Math.pow(2,h3.zoom-e5.tileID.overscaledZ),o5=u2?(e6,t2)=>u2.getElevation(a5,e6,t2):null;er(s4,d3,_2,c4,h3,f2,i5,p3,g2,t.aC(h3,e5,n3,l3),a5.toUnwrapped(),o5)}}}(r3,e3,o3,i3,o3.layout.get("text-rotation-alignment"),o3.layout.get("text-pitch-alignment"),o3.paint.get("text-translate"),o3.paint.get("text-translate-anchor"),a3),o3.paint.get("icon-opacity").constantOr(1)!==0&&ir(e3,i3,o3,r3,!1,o3.paint.get("icon-translate"),o3.paint.get("icon-translate-anchor"),o3.layout.get("icon-rotation-alignment"),o3.layout.get("icon-pitch-alignment"),o3.layout.get("icon-keep-upright"),l2,c3,n2),o3.paint.get("text-opacity").constantOr(1)!==0&&ir(e3,i3,o3,r3,!0,o3.paint.get("text-translate"),o3.paint.get("text-translate-anchor"),o3.layout.get("text-rotation-alignment"),o3.layout.get("text-pitch-alignment"),o3.layout.get("text-keep-upright"),l2,c3,n2),i3.map.showCollisionBoxes&&(Ko(e3,i3,o3,r3,!0),Ko(e3,i3,o3,r3,!1))}(e2,i2,o2,r2,this.style.placement.variableOffsets,a2):t.cb(o2)?function(e3,i3,o3,r3,a3){if(e3.renderPass!=="translucent")return;const{isRenderingToTexture:s2}=a3,n2=o3.paint.get("circle-opacity"),l2=o3.paint.get("circle-stroke-width"),c3=o3.paint.get("circle-stroke-opacity"),h3=!o3.layout.get("circle-sort-key").isConstant();if(n2.constantOr(1)===0&&(l2.constantOr(1)===0||c3.constantOr(1)===0))return;const u2=e3.context,d3=u2.gl,_2=e3.transform,p3=e3.getDepthModeForSublayer(0,Ut.ReadOnly),m2=Vt.disabled,f2=e3.colorModeForRenderPass(),g2=[],v2=_2.getCircleRadiusCorrection();for(let a4=0;a4<r3.length;a4++){const n3=r3[a4],l3=i3.getTile(n3),c4=l3.getBucket(o3);if(!c4)continue;const u3=o3.paint.get("circle-translate"),d4=o3.paint.get("circle-translate-anchor"),p4=t.aC(_2,l3,u3,d4),m3=c4.programConfigurations.get(o3.id),f3=e3.useProgram("circle",m3),b2=c4.layoutVertexBuffer,x2=c4.indexBuffer,y2=e3.style.map.terrain&&e3.style.map.terrain.getTerrainData(n3),w2={programConfiguration:m3,program:f3,layoutVertexBuffer:b2,indexBuffer:x2,uniformValues:ki(e3,l3,o3,p4,v2),terrainData:y2,projectionData:_2.getProjectionData({overscaledTileID:n3,applyGlobeMatrix:!s2,applyTerrainMatrix:!0})};if(h3){const e4=c4.segments.get();for(const i4 of e4)g2.push({segments:new t.aL([i4]),sortKey:i4.sortKey,state:w2})}else g2.push({segments:c4.segments,sortKey:0,state:w2})}h3&&g2.sort((e4,t2)=>e4.sortKey-t2.sortKey);for(const t2 of g2){const{programConfiguration:i4,program:r4,layoutVertexBuffer:a4,indexBuffer:s3,uniformValues:n3,terrainData:l3,projectionData:c4}=t2.state;r4.draw(u2,d3.TRIANGLES,p3,m2,f2,Zt.backCCW,n3,l3,c4,o3.id,a4,s3,t2.segments,o3.paint,e3.transform.zoom,i4)}}(e2,i2,o2,r2,a2):t.cc(o2)?function(e3,i3,o3,r3,a3){if(o3.paint.get("heatmap-opacity")===0)return;const s2=e3.context,{isRenderingToTexture:n2,isRenderingGlobe:l2}=a3;if(e3.style.map.terrain){for(const t2 of r3){const r4=i3.getTile(t2);i3.hasRenderableParent(t2)||(e3.renderPass==="offscreen"?rr(e3,r4,o3,t2,l2):e3.renderPass==="translucent"&&ar(e3,o3,t2,n2,l2))}s2.viewport.set([0,0,e3.width,e3.height])}else e3.renderPass==="offscreen"?function(e4,i4,o4,r4){const a4=e4.context,s3=a4.gl,n3=e4.transform,l3=Vt.disabled,c3=new jt([s3.ONE,s3.ONE],t.be.transparent,[!0,!0,!0,!0]);(function(e5,i5,o5){const r5=e5.gl;e5.activeTexture.set(r5.TEXTURE1),e5.viewport.set([0,0,i5.width/4,i5.height/4]);let a5=o5.heatmapFbos.get(t.c1);a5?(r5.bindTexture(r5.TEXTURE_2D,a5.colorAttachment.get()),e5.bindFramebuffer.set(a5.framebuffer)):(a5=sr(e5,i5.width/4,i5.height/4),o5.heatmapFbos.set(t.c1,a5))})(a4,e4,o4),a4.clear({color:t.be.transparent});for(let t2=0;t2<r4.length;t2++){const h3=r4[t2];if(i4.hasRenderableParent(h3))continue;const u2=i4.getTile(h3),d3=u2.getBucket(o4);if(!d3)continue;const _2=d3.programConfigurations.get(o4.id),p3=e4.useProgram("heatmap",_2),m2=n3.getProjectionData({overscaledTileID:h3,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),f2=n3.getCircleRadiusCorrection();p3.draw(a4,s3.TRIANGLES,Ut.disabled,l3,c3,Zt.backCCW,ji(u2,n3.zoom,o4.paint.get("heatmap-intensity"),f2),null,m2,o4.id,d3.layoutVertexBuffer,d3.indexBuffer,d3.segments,o4.paint,n3.zoom,_2)}a4.viewport.set([0,0,e4.width,e4.height])}(e3,i3,o3,r3):e3.renderPass==="translucent"&&function(e4,i4){const o4=e4.context,r4=o4.gl;o4.setColorMode(e4.colorModeForRenderPass());const a4=i4.heatmapFbos.get(t.c1);a4&&(o4.activeTexture.set(r4.TEXTURE0),r4.bindTexture(r4.TEXTURE_2D,a4.colorAttachment.get()),o4.activeTexture.set(r4.TEXTURE1),nr(o4,i4).bind(r4.LINEAR,r4.CLAMP_TO_EDGE),e4.useProgram("heatmapTexture").draw(o4,r4.TRIANGLES,Ut.disabled,Vt.disabled,e4.colorModeForRenderPass(),Zt.disabled,Ni2(e4,i4,0,1),null,null,i4.id,e4.viewportBuffer,e4.quadTriangleIndexBuffer,e4.viewportSegments,i4.paint,e4.transform.zoom))}(e3,o3)}(e2,i2,o2,r2,a2):t.cd(o2)?function(e3,i3,o3,r3,a3){if(e3.renderPass!=="translucent")return;const{isRenderingToTexture:s2}=a3,n2=o3.paint.get("line-opacity"),l2=o3.paint.get("line-width");if(n2.constantOr(1)===0||l2.constantOr(1)===0)return;const c3=e3.getDepthModeForSublayer(0,Ut.ReadOnly),h3=e3.colorModeForRenderPass(),u2=o3.paint.get("line-dasharray"),d3=o3.paint.get("line-pattern"),_2=d3.constantOr(1),p3=o3.paint.get("line-gradient"),m2=o3.getCrossfadeParameters(),f2=_2?"linePattern":u2?"lineSDF":p3?"lineGradient":"line",g2=e3.context,v2=g2.gl,b2=e3.transform;let x2=!0;for(const a4 of r3){const r4=i3.getTile(a4);if(_2&&!r4.patternsLoaded())continue;const n3=r4.getBucket(o3);if(!n3)continue;const l3=n3.programConfigurations.get(o3.id),y2=e3.context.program.get(),w2=e3.useProgram(f2,l3),T2=x2||w2.program!==y2,P2=e3.style.map.terrain&&e3.style.map.terrain.getTerrainData(a4),C2=d3.constantOr(null);if(C2&&r4.imageAtlas){const e4=r4.imageAtlas,t2=e4.patternPositions[C2.to.toString()],i4=e4.patternPositions[C2.from.toString()];t2&&i4&&l3.setConstantPatternPositions(t2,i4)}const I2=b2.getProjectionData({overscaledTileID:a4,applyGlobeMatrix:!s2,applyTerrainMatrix:!0}),M2=b2.getPixelScale(),S2=_2?Wi(e3,r4,o3,M2,m2):u2?Hi(e3,r4,o3,M2,u2,m2):p3?qi(e3,r4,o3,M2,n3.lineClipsArray.length):$i(e3,r4,o3,M2);if(_2)g2.activeTexture.set(v2.TEXTURE0),r4.imageAtlasTexture.bind(v2.LINEAR,v2.CLAMP_TO_EDGE),l3.updatePaintBuffers(m2);else if(u2&&(T2||e3.lineAtlas.dirty))g2.activeTexture.set(v2.TEXTURE0),e3.lineAtlas.bind(g2);else if(p3){const r5=n3.gradients[o3.id];let s3=r5.texture;if(o3.gradientVersion!==r5.version){let l4=256;if(o3.stepInterpolant){const o4=i3.getSource().maxzoom,r6=a4.canonical.z===o4?Math.ceil(1<<e3.transform.maxZoom-a4.canonical.z):1;l4=t.ag(t.c2(n3.maxLineLength/t.$*1024*r6),256,g2.maxTextureSize)}r5.gradient=t.c3({expression:o3.gradientExpression(),evaluationKey:"lineProgress",resolution:l4,image:r5.gradient||void 0,clips:n3.lineClipsArray}),r5.texture?r5.texture.update(r5.gradient):r5.texture=new t.T(g2,r5.gradient,v2.RGBA),r5.version=o3.gradientVersion,s3=r5.texture}g2.activeTexture.set(v2.TEXTURE0),s3.bind(o3.stepInterpolant?v2.NEAREST:v2.LINEAR,v2.CLAMP_TO_EDGE)}const E3=e3.stencilModeForClipping(a4);w2.draw(g2,v2.TRIANGLES,c3,E3,h3,Zt.disabled,S2,P2,I2,o3.id,n3.layoutVertexBuffer,n3.indexBuffer,n3.segments,o3.paint,e3.transform.zoom,l3,n3.layoutVertexBuffer2),x2=!1}}(e2,i2,o2,r2,a2):t.ce(o2)?function(e3,i3,o3,r3,a3){const s2=o3.paint.get("fill-color"),n2=o3.paint.get("fill-opacity");if(n2.constantOr(1)===0)return;const{isRenderingToTexture:l2}=a3,c3=e3.colorModeForRenderPass(),h3=o3.paint.get("fill-pattern"),u2=e3.opaquePassEnabledForLayer()&&!h3.constantOr(1)&&s2.constantOr(t.be.transparent).a===1&&n2.constantOr(0)===1?"opaque":"translucent";if(e3.renderPass===u2){const t2=e3.getDepthModeForSublayer(1,e3.renderPass==="opaque"?Ut.ReadWrite:Ut.ReadOnly);cr(e3,i3,o3,r3,t2,c3,!1,l2)}if(e3.renderPass==="translucent"&&o3.paint.get("fill-antialias")){const t2=e3.getDepthModeForSublayer(o3.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly);cr(e3,i3,o3,r3,t2,c3,!0,l2)}}(e2,i2,o2,r2,a2):t.cf(o2)?function(e3,t2,i3,o3,r3){const a3=i3.paint.get("fill-extrusion-opacity");if(a3===0)return;const{isRenderingToTexture:s2}=r3;if(e3.renderPass==="translucent"){const r4=new Ut(e3.context.gl.LEQUAL,Ut.ReadWrite,e3.depthRangeFor3D);if(a3!==1||i3.paint.get("fill-extrusion-pattern").constantOr(1))hr(e3,t2,i3,o3,r4,Vt.disabled,jt.disabled,s2),hr(e3,t2,i3,o3,r4,e3.stencilModeFor3D(),e3.colorModeForRenderPass(),s2);else{const a4=e3.colorModeForRenderPass();hr(e3,t2,i3,o3,r4,Vt.disabled,a4,s2)}}}(e2,i2,o2,r2,a2):t.cg(o2)?function(e3,i3,o3,r3,a3){if(e3.renderPass!=="offscreen"&&e3.renderPass!=="translucent")return;const{isRenderingToTexture:s2}=a3,n2=e3.context,l2=e3.style.projection.useSubdivision,c3=e3.getDepthModeForSublayer(0,Ut.ReadOnly),h3=e3.colorModeForRenderPass();if(e3.renderPass==="offscreen")(function(e4,i4,o4,r4,a4,s3,n3){const l3=e4.context,c4=l3.gl;for(const h4 of o4){const o5=i4.getTile(h4),u2=o5.dem;if(!u2||!u2.data||!o5.needsHillshadePrepare)continue;const d3=u2.dim,_2=u2.stride,p3=u2.getPixels();if(l3.activeTexture.set(c4.TEXTURE1),l3.pixelStoreUnpackPremultiplyAlpha.set(!1),o5.demTexture=o5.demTexture||e4.getTileTexture(_2),o5.demTexture){const e5=o5.demTexture;e5.update(p3,{premultiply:!1}),e5.bind(c4.NEAREST,c4.CLAMP_TO_EDGE)}else o5.demTexture=new t.T(l3,p3,c4.RGBA,{premultiply:!1}),o5.demTexture.bind(c4.NEAREST,c4.CLAMP_TO_EDGE);l3.activeTexture.set(c4.TEXTURE0);let m2=o5.fbo;if(!m2){const e5=new t.T(l3,{width:d3,height:d3,data:null},c4.RGBA);e5.bind(c4.LINEAR,c4.CLAMP_TO_EDGE),m2=o5.fbo=l3.createFramebuffer(d3,d3,!0,!1),m2.colorAttachment.set(e5.texture)}l3.bindFramebuffer.set(m2.framebuffer),l3.viewport.set([0,0,d3,d3]),e4.useProgram("hillshadePrepare").draw(l3,c4.TRIANGLES,a4,s3,n3,Zt.disabled,Ui(o5.tileID,u2),null,null,r4.id,e4.rasterBoundsBuffer,e4.quadTriangleIndexBuffer,e4.rasterBoundsSegments),o5.needsHillshadePrepare=!1}})(e3,i3,r3,o3,c3,Vt.disabled,h3),n2.viewport.set([0,0,e3.width,e3.height]);else if(e3.renderPass==="translucent")if(l2){const[t2,a4,n3]=e3.stencilConfigForOverlapTwoPass(r3);ur(e3,i3,o3,n3,t2,c3,h3,!1,s2),ur(e3,i3,o3,n3,a4,c3,h3,!0,s2)}else{const[t2,a4]=e3.getStencilConfigForOverlapAndUpdateStencilID(r3);ur(e3,i3,o3,a4,t2,c3,h3,!1,s2)}}(e2,i2,o2,r2,a2):t.ch(o2)?function(e3,t2,i3,o3,r3){if(e3.renderPass!=="translucent"||!o3.length)return;const{isRenderingToTexture:a3}=r3,s2=e3.style.projection.useSubdivision,n2=e3.getDepthModeForSublayer(0,Ut.ReadOnly),l2=e3.colorModeForRenderPass();if(s2){const[r4,s3,c3]=e3.stencilConfigForOverlapTwoPass(o3);dr(e3,t2,i3,c3,r4,n2,l2,!1,a3),dr(e3,t2,i3,c3,s3,n2,l2,!0,a3)}else{const[r4,s3]=e3.getStencilConfigForOverlapAndUpdateStencilID(o3);dr(e3,t2,i3,s3,r4,n2,l2,!1,a3)}}(e2,i2,o2,r2,a2):t.ci(o2)?function(e3,t2,i3,o3,r3){if(e3.renderPass!=="translucent"||i3.paint.get("raster-opacity")===0||!o3.length)return;const{isRenderingToTexture:a3}=r3,s2=t2.getSource(),n2=e3.style.projection.useSubdivision;if(s2 instanceof X)pr(e3,t2,i3,o3,null,!1,!1,s2.tileCoords,s2.flippedWindingOrder,a3);else if(n2){const[r4,s3,n3]=e3.stencilConfigForOverlapTwoPass(o3);pr(e3,t2,i3,n3,r4,!1,!0,_r,!1,a3),pr(e3,t2,i3,n3,s3,!0,!0,_r,!1,a3)}else{const[r4,s3]=e3.getStencilConfigForOverlapAndUpdateStencilID(o3);pr(e3,t2,i3,s3,r4,!1,!0,_r,!1,a3)}}(e2,i2,o2,r2,a2):t.cj(o2)?function(e3,t2,i3,o3,r3){const a3=i3.paint.get("background-color"),s2=i3.paint.get("background-opacity");if(s2===0)return;const{isRenderingToTexture:n2}=r3,l2=e3.context,c3=l2.gl,h3=e3.style.projection,u2=e3.transform,d3=u2.tileSize,_2=i3.paint.get("background-pattern");if(e3.isPatternMissing(_2))return;const p3=!_2&&a3.a===1&&s2===1&&e3.opaquePassEnabledForLayer()?"opaque":"translucent";if(e3.renderPass!==p3)return;const m2=Vt.disabled,f2=e3.getDepthModeForSublayer(0,p3==="opaque"?Ut.ReadWrite:Ut.ReadOnly),g2=e3.colorModeForRenderPass(),v2=e3.useProgram(_2?"backgroundPattern":"background"),b2=o3||ve(u2,{tileSize:d3,terrain:e3.style.map.terrain});_2&&(l2.activeTexture.set(c3.TEXTURE0),e3.imageManager.bind(e3.context));const x2=i3.getCrossfadeParameters();for(const t3 of b2){const o4=u2.getProjectionData({overscaledTileID:t3,applyGlobeMatrix:!n2,applyTerrainMatrix:!0}),r4=_2?oo(s2,e3,_2,{tileID:t3,tileSize:d3},x2):io(s2,a3),p4=e3.style.map.terrain&&e3.style.map.terrain.getTerrainData(t3),b3=h3.getMeshFromTileID(l2,t3.canonical,!1,!0,"raster");v2.draw(l2,c3.TRIANGLES,f2,m2,g2,Zt.backCCW,r4,p4,o4,i3.id,b3.vertexBuffer,b3.indexBuffer,b3.segments)}}(e2,0,o2,r2,a2):t.ck(o2)&&function(e3,t2,i3,o3){const{isRenderingGlobe:r3}=o3,a3=e3.context,s2=i3.implementation,n2=e3.style.projection,l2=e3.transform,c3=l2.getProjectionDataForCustomLayer(r3),h3={farZ:l2.farZ,nearZ:l2.nearZ,fov:l2.fov*Math.PI/180,modelViewProjectionMatrix:l2.modelViewProjectionMatrix,projectionMatrix:l2.projectionMatrix,shaderData:{variantName:n2.shaderVariantName,vertexShaderPrelude:"const float PI = 3.141592653589793;\nuniform mat4 u_projection_matrix;\n".concat(n2.shaderPreludeCode.vertexSource),define:n2.shaderDefine},defaultProjectionData:c3},u2=s2.renderingMode?s2.renderingMode:"2d";if(e3.renderPass==="offscreen"){const t3=s2.prerender;t3&&(e3.setCustomLayerDefaults(),a3.setColorMode(e3.colorModeForRenderPass()),t3.call(s2,a3.gl,h3),a3.setDirty(),e3.setBaseState())}else if(e3.renderPass==="translucent"){e3.setCustomLayerDefaults(),a3.setColorMode(e3.colorModeForRenderPass()),a3.setStencilMode(Vt.disabled);const t3=u2==="3d"?e3.getDepthModeFor3D():e3.getDepthModeForSublayer(0,Ut.ReadOnly);a3.setDepthMode(t3),s2.render(a3.gl,h3),a3.setDirty(),e3.setBaseState(),a3.bindFramebuffer.set(null)}}(e2,0,o2,a2))}saveTileTexture(e2){const t2=this._tileTextures[e2.size[0]];t2?t2.push(e2):this._tileTextures[e2.size[0]]=[e2]}getTileTexture(e2){const t2=this._tileTextures[e2];return t2&&t2.length>0?t2.pop():null}isPatternMissing(e2){if(!e2)return!1;if(!e2.from||!e2.to)return!0;const t2=this.imageManager.getPattern(e2.from.toString()),i2=this.imageManager.getPattern(e2.to.toString());return!t2||!i2}useProgram(e2,t2,i2=!1,o2=[]){this.cache=this.cache||{};const r2=!!this.style.map.terrain,a2=this.style.projection,s2=i2?xt.projectionMercator:a2.shaderPreludeCode,n2=i2?Pt:a2.shaderDefine,l2=e2+(t2?t2.cacheKey:"")+"/".concat(i2?Ct:a2.shaderVariantName)+(this._showOverdrawInspector?"/overdraw":"")+(r2?"/terrain":"")+(o2?"/".concat(o2.join("/")):"");return this.cache[l2]||(this.cache[l2]=new Si2(this.context,xt[e2],t2,ao[e2],this._showOverdrawInspector,r2,s2,n2,o2)),this.cache[l2]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e2=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e2.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e2,drawingBufferHeight:t2}=this.context.gl;return this.width!==e2||this.height!==t2}};__name(_Mr,"Mr");let Mr=_Mr;function Sr(e2,t2){let i2,o2=!1,r2=null,a2=null;const s2=__name(()=>{r2=null,o2&&(e2.apply(a2,i2),r2=setTimeout(s2,t2),o2=!1)},"s");return(...e3)=>(o2=!0,a2=this,i2=e3,r2||s2(),r2)}__name(Sr,"Sr");const _Er=class _Er{constructor(e2){this._getCurrentHash=()=>{const e3=window.location.hash.replace("#","");if(this._hashName){let t2;return e3.split("&").map(e4=>e4.split("=")).forEach(e4=>{e4[0]===this._hashName&&(t2=e4)}),(t2&&t2[1]||"").split("/")}return e3.split("/")},this._onHashChange=()=>{const e3=this._getCurrentHash();if(!this._isValidHash(e3))return!1;const t2=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e3[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e3[2],+e3[1]],zoom:+e3[0],bearing:t2,pitch:+(e3[4]||0)}),!0},this._updateHashUnthrottled=()=>{const e3=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,e3)},this._removeHash=()=>{const e3=this._getCurrentHash();if(e3.length===0)return;const t2=e3.join("/");let i2=t2;i2.split("&").length>0&&(i2=i2.split("&")[0]),this._hashName&&(i2="".concat(this._hashName,"=").concat(t2));let o2=window.location.hash.replace(i2,"");o2.startsWith("#&")?o2=o2.slice(0,1)+o2.slice(2):o2==="#"&&(o2="");let r2=window.location.href.replace(/(#.+)?$/,o2);r2=r2.replace("&&","&"),window.history.replaceState(window.history.state,null,r2)},this._updateHash=Sr(this._updateHashUnthrottled,300),this._hashName=e2&&encodeURIComponent(e2)}addTo(e2){return this._map=e2,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e2){const t2=this._map.getCenter(),i2=Math.round(100*this._map.getZoom())/100,o2=Math.ceil((i2*Math.LN2+Math.log(512/360/.5))/Math.LN10),r2=Math.pow(10,o2),a2=Math.round(t2.lng*r2)/r2,s2=Math.round(t2.lat*r2)/r2,n2=this._map.getBearing(),l2=this._map.getPitch();let c3="";if(c3+=e2?"/".concat(a2,"/").concat(s2,"/").concat(i2):"".concat(i2,"/").concat(s2,"/").concat(a2),(n2||l2)&&(c3+="/"+Math.round(10*n2)/10),l2&&(c3+="/".concat(Math.round(l2))),this._hashName){const e3=this._hashName;let t3=!1;const i3=window.location.hash.slice(1).split("&").map(i4=>{const o3=i4.split("=")[0];return o3===e3?(t3=!0,"".concat(o3,"=").concat(c3)):i4}).filter(e4=>e4);return t3||i3.push("".concat(e3,"=").concat(c3)),"#".concat(i3.join("&"))}return"#".concat(c3)}_isValidHash(e2){if(e2.length<3||e2.some(isNaN))return!1;try{new t.S(+e2[2],+e2[1])}catch(e3){return!1}const i2=+e2[0],o2=+(e2[3]||0),r2=+(e2[4]||0);return i2>=this._map.getMinZoom()&&i2<=this._map.getMaxZoom()&&o2>=-180&&o2<=180&&r2>=this._map.getMinPitch()&&r2<=this._map.getMaxPitch()}};__name(_Er,"Er");let Er=_Er;const Rr={linearity:.3,easing:t.cl(0,0,.3,1)},zr=t.e({deceleration:2500,maxSpeed:1400},Rr),Dr=t.e({deceleration:20,maxSpeed:1400},Rr),Ar=t.e({deceleration:1e3,maxSpeed:360},Rr),Lr=t.e({deceleration:1e3,maxSpeed:90},Rr),kr=t.e({deceleration:1e3,maxSpeed:360},Rr),_Fr=class _Fr{constructor(e2){this._map=e2,this.clear()}clear(){this._inertiaBuffer=[]}record(e2){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.now(),settings:e2})}_drainInertiaBuffer(){const e2=this._inertiaBuffer,t2=s.now();for(;e2.length>0&&t2-e2[0].time>160;)e2.shift()}_onMoveEnd(e2){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i2={zoom:0,bearing:0,pitch:0,roll:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:e3}of this._inertiaBuffer)i2.zoom+=e3.zoomDelta||0,i2.bearing+=e3.bearingDelta||0,i2.pitch+=e3.pitchDelta||0,i2.roll+=e3.rollDelta||0,e3.panDelta&&i2.pan._add(e3.panDelta),e3.around&&(i2.around=e3.around),e3.pinchAround&&(i2.pinchAround=e3.pinchAround);const o2=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r2={};if(i2.pan.mag()){const a2=Or(i2.pan.mag(),o2,t.e({},zr,e2||{})),s2=i2.pan.mult(a2.amount/i2.pan.mag()),n2=this._map.cameraHelper.handlePanInertia(s2,this._map.transform);r2.center=n2.easingCenter,r2.offset=n2.easingOffset,Br(r2,a2)}if(i2.zoom){const e3=Or(i2.zoom,o2,Dr);r2.zoom=this._map.transform.zoom+e3.amount,Br(r2,e3)}if(i2.bearing){const e3=Or(i2.bearing,o2,Ar);r2.bearing=this._map.transform.bearing+t.ag(e3.amount,-179,179),Br(r2,e3)}if(i2.pitch){const e3=Or(i2.pitch,o2,Lr);r2.pitch=this._map.transform.pitch+e3.amount,Br(r2,e3)}if(i2.roll){const e3=Or(i2.roll,o2,kr);r2.roll=this._map.transform.roll+t.ag(e3.amount,-179,179),Br(r2,e3)}if(r2.zoom||r2.bearing){const e3=i2.pinchAround===void 0?i2.around:i2.pinchAround;r2.around=e3?this._map.unproject(e3):this._map.getCenter()}return this.clear(),t.e(r2,{noMoveStart:!0})}};__name(_Fr,"Fr");let Fr=_Fr;function Br(e2,t2){(!e2.duration||e2.duration<t2.duration)&&(e2.duration=t2.duration,e2.easing=t2.easing)}__name(Br,"Br");function Or(e2,i2,o2){const{maxSpeed:r2,linearity:a2,deceleration:s2}=o2,n2=t.ag(e2*a2/(i2/1e3),-r2,r2),l2=Math.abs(n2)/(s2*a2);return{easing:o2.easing,duration:1e3*l2,amount:n2*(l2/2)}}__name(Or,"Or");const _jr=class _jr extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e2,i2,o2,r2={}){o2=o2 instanceof MouseEvent?o2:new MouseEvent(e2,o2);const a2=n.mousePos(i2.getCanvas(),o2),s2=i2.unproject(a2);super(e2,t.e({point:a2,lngLat:s2,originalEvent:o2},r2)),this._defaultPrevented=!1,this.target=i2}};__name(_jr,"jr");let jr=_jr;const _Nr=class _Nr extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e2,i2,o2){const r2=e2==="touchend"?o2.changedTouches:o2.touches,a2=n.touchPos(i2.getCanvasContainer(),r2),s2=a2.map(e3=>i2.unproject(e3)),l2=a2.reduce((e3,t2,i3,o3)=>e3.add(t2.div(o3.length)),new t.P(0,0));super(e2,{points:a2,point:l2,lngLats:s2,lngLat:i2.unproject(l2),originalEvent:o2}),this._defaultPrevented=!1}};__name(_Nr,"Nr");let Nr=_Nr;const _Zr=class _Zr extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e2,t2,i2){super(e2,{originalEvent:i2}),this._defaultPrevented=!1}};__name(_Zr,"Zr");let Zr=_Zr;const _Ur=class _Ur{constructor(e2,t2){this._map=e2,this._clickTolerance=t2.clickTolerance}reset(){delete this._mousedownPos}wheel(e2){return this._firePreventable(new Zr(e2.type,this._map,e2))}mousedown(e2,t2){return this._mousedownPos=t2,this._firePreventable(new jr(e2.type,this._map,e2))}mouseup(e2){this._map.fire(new jr(e2.type,this._map,e2))}click(e2,t2){this._mousedownPos&&this._mousedownPos.dist(t2)>=this._clickTolerance||this._map.fire(new jr(e2.type,this._map,e2))}dblclick(e2){return this._firePreventable(new jr(e2.type,this._map,e2))}mouseover(e2){this._map.fire(new jr(e2.type,this._map,e2))}mouseout(e2){this._map.fire(new jr(e2.type,this._map,e2))}touchstart(e2){return this._firePreventable(new Nr(e2.type,this._map,e2))}touchmove(e2){this._map.fire(new Nr(e2.type,this._map,e2))}touchend(e2){this._map.fire(new Nr(e2.type,this._map,e2))}touchcancel(e2){this._map.fire(new Nr(e2.type,this._map,e2))}_firePreventable(e2){if(this._map.fire(e2),e2.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}};__name(_Ur,"Ur");let Ur=_Ur;const _Gr=class _Gr{constructor(e2){this._map=e2}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e2){this._map.fire(new jr(e2.type,this._map,e2))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new jr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e2){this._delayContextMenu?this._contextMenuEvent=e2:this._ignoreContextMenu||this._map.fire(new jr(e2.type,this._map,e2)),this._map.listens("contextmenu")&&e2.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}};__name(_Gr,"Gr");let Gr=_Gr;const _Vr=class _Vr{constructor(e2){this._map=e2}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e2){return this.transform.screenPointToLocation(t.P.convert(e2),this._map.terrain)}};__name(_Vr,"Vr");let Vr=_Vr;const _$r=class _$r{constructor(e2,t2){this._map=e2,this._tr=new Vr(e2),this._el=e2.getCanvasContainer(),this._container=e2.getContainer(),this._clickTolerance=t2.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e2,t2){this.isEnabled()&&e2.shiftKey&&e2.button===0&&(n.disableDrag(),this._startPos=this._lastPos=t2,this._active=!0)}mousemoveWindow(e2,t2){if(!this._active)return;const i2=t2;if(this._lastPos.equals(i2)||!this._box&&i2.dist(this._startPos)<this._clickTolerance)return;const o2=this._startPos;this._lastPos=i2,this._box||(this._box=n.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e2));const r2=Math.min(o2.x,i2.x),a2=Math.max(o2.x,i2.x),s2=Math.min(o2.y,i2.y),l2=Math.max(o2.y,i2.y);n.setTransform(this._box,"translate(".concat(r2,"px,").concat(s2,"px)")),this._box.style.width=a2-r2+"px",this._box.style.height=l2-s2+"px"}mouseupWindow(e2,i2){if(!this._active||e2.button!==0)return;const o2=this._startPos,r2=i2;if(this.reset(),n.suppressClick(),o2.x!==r2.x||o2.y!==r2.y)return this._map.fire(new t.l("boxzoomend",{originalEvent:e2})),{cameraAnimation:__name(e3=>e3.fitScreenCoordinates(o2,r2,this._tr.bearing,{linear:!0}),"cameraAnimation")};this._fireEvent("boxzoomcancel",e2)}keydown(e2){this._active&&e2.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e2))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e2,i2){return this._map.fire(new t.l(e2,{originalEvent:i2}))}};__name(_$r,"$r");let $r=_$r;function qr(e2,t2){if(e2.length!==t2.length)throw new Error("The number of touches and points are not equal - touches ".concat(e2.length,", points ").concat(t2.length));const i2={};for(let o2=0;o2<e2.length;o2++)i2[e2[o2].identifier]=t2[o2];return i2}__name(qr,"qr");const _Wr=class _Wr{constructor(e2){this.reset(),this.numTouches=e2.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e2,i2,o2){(this.centroid||o2.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=e2.timeStamp),o2.length===this.numTouches&&(this.centroid=function(e3){const i3=new t.P(0,0);for(const t2 of e3)i3._add(t2);return i3.div(e3.length)}(i2),this.touches=qr(o2,i2)))}touchmove(e2,t2,i2){if(this.aborted||!this.centroid)return;const o2=qr(i2,t2);for(const e3 in this.touches){const t3=o2[e3];(!t3||t3.dist(this.touches[e3])>30)&&(this.aborted=!0)}}touchend(e2,t2,i2){if((!this.centroid||e2.timeStamp-this.startTime>500)&&(this.aborted=!0),i2.length===0){const e3=!this.aborted&&this.centroid;if(this.reset(),e3)return e3}}};__name(_Wr,"Wr");let Wr=_Wr;const _Hr=class _Hr{constructor(e2){this.singleTap=new Wr(e2),this.numTaps=e2.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e2,t2,i2){this.singleTap.touchstart(e2,t2,i2)}touchmove(e2,t2,i2){this.singleTap.touchmove(e2,t2,i2)}touchend(e2,t2,i2){const o2=this.singleTap.touchend(e2,t2,i2);if(o2){const t3=e2.timeStamp-this.lastTime<500,i3=!this.lastTap||this.lastTap.dist(o2)<30;if(t3&&i3||this.reset(),this.count++,this.lastTime=e2.timeStamp,this.lastTap=o2,this.count===this.numTaps)return this.reset(),o2}}};__name(_Hr,"Hr");let Hr=_Hr;const _Xr=class _Xr{constructor(e2){this._tr=new Vr(e2),this._zoomIn=new Hr({numTouches:1,numTaps:2}),this._zoomOut=new Hr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e2,t2,i2){this._zoomIn.touchstart(e2,t2,i2),this._zoomOut.touchstart(e2,t2,i2)}touchmove(e2,t2,i2){this._zoomIn.touchmove(e2,t2,i2),this._zoomOut.touchmove(e2,t2,i2)}touchend(e2,t2,i2){const o2=this._zoomIn.touchend(e2,t2,i2),r2=this._zoomOut.touchend(e2,t2,i2),a2=this._tr;return o2?(this._active=!0,e2.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:__name(t3=>t3.easeTo({duration:300,zoom:a2.zoom+1,around:a2.unproject(o2)},{originalEvent:e2}),"cameraAnimation")}):r2?(this._active=!0,e2.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:__name(t3=>t3.easeTo({duration:300,zoom:a2.zoom-1,around:a2.unproject(r2)},{originalEvent:e2}),"cameraAnimation")}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}};__name(_Xr,"Xr");let Xr=_Xr;const _Kr=class _Kr{constructor(e2){this._enabled=!!e2.enable,this._moveStateManager=e2.moveStateManager,this._clickTolerance=e2.clickTolerance||1,this._moveFunction=e2.move,this._activateOnStart=!!e2.activateOnStart,e2.assignEvents(this),this.reset()}reset(e2){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e2)}_move(...e2){const t2=this._moveFunction(...e2);if(t2.bearingDelta||t2.pitchDelta||t2.rollDelta||t2.around||t2.panDelta)return this._active=!0,t2}dragStart(e2,t2){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e2)&&(this._moveStateManager.startMove(e2),this._lastPoint=Array.isArray(t2)?t2[0]:t2,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e2,t2){if(!this.isEnabled())return;const i2=this._lastPoint;if(!i2)return;if(e2.preventDefault(),!this._moveStateManager.isValidMoveEvent(e2))return void this.reset(e2);const o2=Array.isArray(t2)?t2[0]:t2;return!this._moved&&o2.dist(i2)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=o2,this._move(i2,o2))}dragEnd(e2){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e2)&&(this._moved&&n.suppressClick(),this.reset(e2))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}};__name(_Kr,"Kr");let Kr=_Kr;const Yr=0,Qr=2,Jr={[Yr]:1,[Qr]:2},_ea=class _ea{constructor(e2){this._correctEvent=e2.checkCorrectEvent}startMove(e2){const t2=n.mouseButton(e2);this._eventButton=t2}endMove(e2){delete this._eventButton}isValidStartEvent(e2){return this._correctEvent(e2)}isValidMoveEvent(e2){return!function(e3,t2){const i2=Jr[t2];return e3.buttons===void 0||(e3.buttons&i2)!==i2}(e2,this._eventButton)}isValidEndEvent(e2){return n.mouseButton(e2)===this._eventButton}};__name(_ea,"ea");let ea=_ea;const _ta=class _ta{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e2){return e2.targetTouches.length===1}_isSameTouchEvent(e2){return e2.targetTouches[0].identifier===this._firstTouch}startMove(e2){this._firstTouch=e2.targetTouches[0].identifier}endMove(e2){delete this._firstTouch}isValidStartEvent(e2){return this._isOneFingerTouch(e2)}isValidMoveEvent(e2){return this._isOneFingerTouch(e2)&&this._isSameTouchEvent(e2)}isValidEndEvent(e2){return this._isOneFingerTouch(e2)&&this._isSameTouchEvent(e2)}};__name(_ta,"ta");let ta=_ta;const _ia=class _ia{constructor(e2=new ea({checkCorrectEvent:__name(()=>!0,"checkCorrectEvent")}),t2=new ta){this.mouseMoveStateManager=e2,this.oneFingerTouchMoveStateManager=t2}_executeRelevantHandler(e2,t2,i2){return e2 instanceof MouseEvent?t2(e2):typeof TouchEvent<"u"&&e2 instanceof TouchEvent?i2(e2):void 0}startMove(e2){this._executeRelevantHandler(e2,e3=>this.mouseMoveStateManager.startMove(e3),e3=>this.oneFingerTouchMoveStateManager.startMove(e3))}endMove(e2){this._executeRelevantHandler(e2,e3=>this.mouseMoveStateManager.endMove(e3),e3=>this.oneFingerTouchMoveStateManager.endMove(e3))}isValidStartEvent(e2){return this._executeRelevantHandler(e2,e3=>this.mouseMoveStateManager.isValidStartEvent(e3),e3=>this.oneFingerTouchMoveStateManager.isValidStartEvent(e3))}isValidMoveEvent(e2){return this._executeRelevantHandler(e2,e3=>this.mouseMoveStateManager.isValidMoveEvent(e3),e3=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(e3))}isValidEndEvent(e2){return this._executeRelevantHandler(e2,e3=>this.mouseMoveStateManager.isValidEndEvent(e3),e3=>this.oneFingerTouchMoveStateManager.isValidEndEvent(e3))}};__name(_ia,"ia");let ia=_ia;const oa=__name(e2=>{e2.mousedown=e2.dragStart,e2.mousemoveWindow=e2.dragMove,e2.mouseup=e2.dragEnd,e2.contextmenu=e3=>{e3.preventDefault()}},"oa"),_ra=class _ra{constructor(e2,t2){this._clickTolerance=e2.clickTolerance||1,this._map=t2,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0)}_shouldBePrevented(e2){return e2<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e2,t2,i2){return this._calculateTransform(e2,t2,i2)}touchmove(e2,t2,i2){if(this._active){if(!this._shouldBePrevented(i2.length))return e2.preventDefault(),this._calculateTransform(e2,t2,i2);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e2)}}touchend(e2,t2,i2){this._calculateTransform(e2,t2,i2),this._active&&this._shouldBePrevented(i2.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e2,i2,o2){o2.length>0&&(this._active=!0);const r2=qr(o2,i2),a2=new t.P(0,0),s2=new t.P(0,0);let n2=0;for(const e3 in r2){const t2=r2[e3],i3=this._touches[e3];i3&&(a2._add(t2),s2._add(t2.sub(i3)),n2++,r2[e3]=t2)}if(this._touches=r2,this._shouldBePrevented(n2)||!s2.mag())return;const l2=s2.div(n2);return this._sum._add(l2),this._sum.mag()<this._clickTolerance?void 0:{around:a2.div(n2),panDelta:l2}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}};__name(_ra,"ra");let ra=_ra;const _aa=class _aa{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e2,t2,i2){this._firstTwoTouches||i2.length<2||(this._firstTwoTouches=[i2[0].identifier,i2[1].identifier],this._start([t2[0],t2[1]]))}touchmove(e2,t2,i2){if(!this._firstTwoTouches)return;e2.preventDefault();const[o2,r2]=this._firstTwoTouches,a2=sa(i2,t2,o2),s2=sa(i2,t2,r2);if(!a2||!s2)return;const n2=this._aroundCenter?null:a2.add(s2).div(2);return this._move([a2,s2],n2,e2)}touchend(e2,t2,i2){if(!this._firstTwoTouches)return;const[o2,r2]=this._firstTwoTouches,a2=sa(i2,t2,o2),s2=sa(i2,t2,r2);a2&&s2||(this._active&&n.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e2){this._enabled=!0,this._aroundCenter=!!e2&&e2.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}};__name(_aa,"aa");let aa=_aa;function sa(e2,t2,i2){for(let o2=0;o2<e2.length;o2++)if(e2[o2].identifier===i2)return t2[o2]}__name(sa,"sa");function na(e2,t2){return Math.log(e2/t2)/Math.LN2}__name(na,"na");const _la=class _la extends aa{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e2){this._startDistance=this._distance=e2[0].dist(e2[1])}_move(e2,t2){const i2=this._distance;if(this._distance=e2[0].dist(e2[1]),this._active||!(Math.abs(na(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:na(this._distance,i2),pinchAround:t2}}};__name(_la,"la");let la=_la;function ca(e2,t2){return 180*e2.angleWith(t2)/Math.PI}__name(ca,"ca");const _ha=class _ha extends aa{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e2){this._startVector=this._vector=e2[0].sub(e2[1]),this._minDiameter=e2[0].dist(e2[1])}_move(e2,t2,i2){const o2=this._vector;if(this._vector=e2[0].sub(e2[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ca(this._vector,o2),pinchAround:t2}}_isBelowThreshold(e2){this._minDiameter=Math.min(this._minDiameter,e2.mag());const t2=25/(Math.PI*this._minDiameter)*360,i2=ca(e2,this._startVector);return Math.abs(i2)<t2}};__name(_ha,"ha");let ha=_ha;function ua(e2){return Math.abs(e2.y)>Math.abs(e2.x)}__name(ua,"ua");const _da=class _da extends aa{constructor(e2){super(),this._currentTouchCount=0,this._map=e2}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e2,t2,i2){super.touchstart(e2,t2,i2),this._currentTouchCount=i2.length}_start(e2){this._lastPoints=e2,ua(e2[0].sub(e2[1]))&&(this._valid=!1)}_move(e2,t2,i2){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const o2=e2[0].sub(this._lastPoints[0]),r2=e2[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(o2,r2,i2.timeStamp),this._valid?(this._lastPoints=e2,this._active=!0,{pitchDelta:(o2.y+r2.y)/2*-.5}):void 0}gestureBeginsVertically(e2,t2,i2){if(this._valid!==void 0)return this._valid;const o2=e2.mag()>=2,r2=t2.mag()>=2;if(!o2&&!r2)return;if(!o2||!r2)return this._firstMove===void 0&&(this._firstMove=i2),i2-this._firstMove<100&&void 0;const a2=e2.y>0==t2.y>0;return ua(e2)&&ua(t2)&&a2}};__name(_da,"da");let da=_da;const _a4={panStep:100,bearingStep:15,pitchStep:10},_pa=class _pa{constructor(e2){this._tr=new Vr(e2);const t2=_a4;this._panStep=t2.panStep,this._bearingStep=t2.bearingStep,this._pitchStep=t2.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e2){if(e2.altKey||e2.ctrlKey||e2.metaKey)return;let t2=0,i2=0,o2=0,r2=0,a2=0;switch(e2.keyCode){case 61:case 107:case 171:case 187:t2=1;break;case 189:case 109:case 173:t2=-1;break;case 37:e2.shiftKey?i2=-1:(e2.preventDefault(),r2=-1);break;case 39:e2.shiftKey?i2=1:(e2.preventDefault(),r2=1);break;case 38:e2.shiftKey?o2=1:(e2.preventDefault(),a2=-1);break;case 40:e2.shiftKey?o2=-1:(e2.preventDefault(),a2=1);break;default:return}return this._rotationDisabled&&(i2=0,o2=0),{cameraAnimation:__name(s2=>{const n2=this._tr;s2.easeTo({duration:300,easeId:"keyboardHandler",easing:ma,zoom:t2?Math.round(n2.zoom)+t2*(e2.shiftKey?2:1):n2.zoom,bearing:n2.bearing+i2*this._bearingStep,pitch:n2.pitch+o2*this._pitchStep,offset:[-r2*this._panStep,-a2*this._panStep],center:n2.center},{originalEvent:e2})},"cameraAnimation")}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}};__name(_pa,"pa");let pa=_pa;function ma(e2){return e2*(2-e2)}__name(ma,"ma");const fa=4.000244140625,ga=1/450,_va=class _va{constructor(e2,t2){this._onTimeout=e3=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e3)},this._map=e2,this._tr=new Vr(e2),this._triggerRenderFrame=t2,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=ga}setZoomRate(e2){this._defaultZoomRate=e2}setWheelZoomRate(e2){this._wheelZoomRate=e2}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e2){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e2&&e2.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e2){return!!this._map.cooperativeGestures.isEnabled()&&!(e2.ctrlKey||this._map.cooperativeGestures.isBypassed(e2))}wheel(e2){if(!this.isEnabled())return;if(this._shouldBePrevented(e2))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e2);let t2=e2.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e2.deltaY:e2.deltaY;const i2=s.now(),o2=i2-(this._lastWheelEventTime||0);this._lastWheelEventTime=i2,t2!==0&&t2%fa==0?this._type="wheel":t2!==0&&Math.abs(t2)<4?this._type="trackpad":o2>400?(this._type=null,this._lastValue=t2,this._timeout=setTimeout(this._onTimeout,40,e2)):this._type||(this._type=Math.abs(o2*t2)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t2+=this._lastValue)),e2.shiftKey&&t2&&(t2/=4),this._type&&(this._lastWheelEvent=e2,this._delta-=t2,this._active||this._start(e2)),e2.preventDefault()}_start(e2){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const i2=n.mousePos(this._map.getCanvas(),e2),o2=this._tr;this._aroundPoint=this._aroundCenter?o2.transform.locationToScreenPoint(t.S.convert(o2.center)):i2,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e2=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const t2=e2.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=t2),typeof this._targetZoom=="number"&&(this._targetZoom+=t2)}if(this._delta!==0){const i3=this._type==="wheel"&&Math.abs(this._delta)>fa?this._wheelZoomRate:this._defaultZoomRate;let o3=2/(1+Math.exp(-Math.abs(this._delta*i3)));this._delta<0&&o3!==0&&(o3=1/o3);const r3=typeof this._targetZoom!="number"?e2.scale:t.ae(this._targetZoom);this._targetZoom=e2.getConstrained(e2.getCameraLngLat(),t.aj(r3*o3)).zoom,this._type==="wheel"&&(this._startZoom=e2.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const i2=typeof this._targetZoom!="number"?e2.zoom:this._targetZoom,o2=this._startZoom,r2=this._easing;let a2,n2=!1;if(this._type==="wheel"&&o2&&r2){const e3=s.now()-this._lastWheelEventTime,l2=Math.min((e3+5)/200,1),c3=r2(l2);a2=t.C.number(o2,i2,c3),l2<1?this._frameId||(this._frameId=!0):n2=!0}else a2=i2,n2=!0;return this._active=!0,n2&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=a2,{noInertia:!0,needsRenderFrame:!n2,zoomDelta:a2-e2.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e2){let i2=t.cn;if(this._prevEase){const e3=this._prevEase,o2=(s.now()-e3.start)/e3.duration,r2=e3.easing(o2+.01)-e3.easing(o2),a2=.27/Math.sqrt(r2*r2+1e-4)*.01,n2=Math.sqrt(.0729-a2*a2);i2=t.cl(a2,n2,.25,1)}return this._prevEase={start:s.now(),duration:e2,easing:i2},i2}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}};__name(_va,"va");let va=_va;const _ba=class _ba{constructor(e2,t2){this._clickZoom=e2,this._tapZoom=t2}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}};__name(_ba,"ba");let ba=_ba;const _xa=class _xa{constructor(e2){this._tr=new Vr(e2),this.reset()}reset(){this._active=!1}dblclick(e2,t2){return e2.preventDefault(),{cameraAnimation:__name(i2=>{i2.easeTo({duration:300,zoom:this._tr.zoom+(e2.shiftKey?-1:1),around:this._tr.unproject(t2)},{originalEvent:e2})},"cameraAnimation")}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}};__name(_xa,"xa");let xa=_xa;const _ya=class _ya{constructor(){this._tap=new Hr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e2,t2,i2){if(!this._swipePoint)if(this._tapTime){const o2=t2[0],r2=e2.timeStamp-this._tapTime<500,a2=this._tapPoint.dist(o2)<30;r2&&a2?i2.length>0&&(this._swipePoint=o2,this._swipeTouch=i2[0].identifier):this.reset()}else this._tap.touchstart(e2,t2,i2)}touchmove(e2,t2,i2){if(this._tapTime){if(this._swipePoint){if(i2[0].identifier!==this._swipeTouch)return;const o2=t2[0],r2=o2.y-this._swipePoint.y;return this._swipePoint=o2,e2.preventDefault(),this._active=!0,{zoomDelta:r2/128}}}else this._tap.touchmove(e2,t2,i2)}touchend(e2,t2,i2){if(this._tapTime)this._swipePoint&&i2.length===0&&this.reset();else{const o2=this._tap.touchend(e2,t2,i2);o2&&(this._tapTime=e2.timeStamp,this._tapPoint=o2)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}};__name(_ya,"ya");let ya=_ya;const _wa=class _wa{constructor(e2,t2,i2){this._el=e2,this._mousePan=t2,this._touchPan=i2}enable(e2){this._inertiaOptions=e2||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}};__name(_wa,"wa");let wa=_wa;const _Ta=class _Ta{constructor(e2,t2,i2,o2){this._pitchWithRotate=e2.pitchWithRotate,this._rollEnabled=e2.rollEnabled,this._mouseRotate=t2,this._mousePitch=i2,this._mouseRoll=o2}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}};__name(_Ta,"Ta");let Ta=_Ta;const _Pa=class _Pa{constructor(e2,t2,i2,o2){this._el=e2,this._touchZoom=t2,this._touchRotate=i2,this._tapDragZoom=o2,this._rotationDisabled=!1,this._enabled=!0}enable(e2){this._touchZoom.enable(e2),this._rotationDisabled||this._touchRotate.enable(e2),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}};__name(_Pa,"Pa");let Pa=_Pa;const _Ca=class _Ca{constructor(e2,t2){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=e2,this._options=t2,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e2=this._map.getCanvasContainer();e2.classList.add("maplibregl-cooperative-gestures"),this._container=n.create("div","maplibregl-cooperative-gesture-screen",e2);let t2=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(t2=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const i2=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),o2=document.createElement("div");o2.className="maplibregl-desktop-message",o2.textContent=t2,this._container.appendChild(o2);const r2=document.createElement("div");r2.className="maplibregl-mobile-message",r2.textContent=i2,this._container.appendChild(r2),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(n.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e2){return e2[this._bypassKey]}notifyGestureBlocked(e2,i2){this._enabled&&(this._map.fire(new t.l("cooperativegestureprevented",{gestureType:e2,originalEvent:i2})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}};__name(_Ca,"Ca");let Ca=_Ca;const Ia=__name(e2=>e2.zoom||e2.drag||e2.roll||e2.pitch||e2.rotate,"Ia"),_Ma=class _Ma extends t.l{};__name(_Ma,"Ma");let Ma=_Ma;function Sa(e2){return e2.panDelta&&e2.panDelta.mag()||e2.zoomDelta||e2.bearingDelta||e2.pitchDelta||e2.rollDelta}__name(Sa,"Sa");const _Ea=class _Ea{constructor(e2,i2){this.handleWindowEvent=e3=>{this.handleEvent(e3,"".concat(e3.type,"Window"))},this.handleEvent=(e3,i3)=>{if(e3.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const o3=e3.type==="renderFrame"?void 0:e3,r2={needsRenderFrame:!1},a2={},s2={};for(const{handlerName:l3,handler:c4,allowed:h3}of this._handlers){if(!c4.isEnabled())continue;let u2;if(this._blockedByActive(s2,h3,l3))c4.reset();else if(c4[i3||e3.type]){if(t.co(e3,i3||e3.type)){const t2=n.mousePos(this._map.getCanvas(),e3);u2=c4[i3||e3.type](e3,t2)}else if(t.cp(e3,i3||e3.type)){const t2=this._getMapTouches(e3.touches),o4=n.touchPos(this._map.getCanvas(),t2);u2=c4[i3||e3.type](e3,o4,t2)}else t.cq(i3||e3.type)||(u2=c4[i3||e3.type](e3));this.mergeHandlerResult(r2,a2,u2,l3,o3),u2&&u2.needsRenderFrame&&this._triggerRenderFrame()}(u2||c4.isActive())&&(s2[l3]=c4)}const l2={};for(const e4 in this._previousActiveHandlers)s2[e4]||(l2[e4]=o3);this._previousActiveHandlers=s2,(Object.keys(l2).length||Sa(r2))&&(this._changes.push([r2,a2,l2]),this._triggerRenderFrame()),(Object.keys(s2).length||Sa(r2))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:c3}=r2;c3&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],c3(this._map))},this._map=e2,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Fr(e2),this._bearingSnap=i2.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i2);const o2=this._el;this._listeners=[[o2,"touchstart",{passive:!0}],[o2,"touchmove",{passive:!1}],[o2,"touchend",void 0],[o2,"touchcancel",void 0],[o2,"mousedown",void 0],[o2,"mousemove",void 0],[o2,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[o2,"mouseover",void 0],[o2,"mouseout",void 0],[o2,"dblclick",void 0],[o2,"click",void 0],[o2,"keydown",{capture:!1}],[o2,"keyup",void 0],[o2,"wheel",{passive:!1}],[o2,"contextmenu",void 0],[window,"blur",void 0]];for(const[e3,t2,i3]of this._listeners)n.addEventListener(e3,t2,e3===document?this.handleWindowEvent:this.handleEvent,i3)}destroy(){for(const[e2,t2,i2]of this._listeners)n.removeEventListener(e2,t2,e2===document?this.handleWindowEvent:this.handleEvent,i2)}_addDefaultHandlers(e2){const i2=this._map,o2=i2.getCanvasContainer();this._add("mapEvent",new Ur(i2,e2));const r2=i2.boxZoom=new $r(i2,e2);this._add("boxZoom",r2),e2.interactive&&e2.boxZoom&&r2.enable();const a2=i2.cooperativeGestures=new Ca(i2,e2.cooperativeGestures);this._add("cooperativeGestures",a2),e2.cooperativeGestures&&a2.enable();const s2=new Xr(i2),l2=new xa(i2);i2.doubleClickZoom=new ba(l2,s2),this._add("tapZoom",s2),this._add("clickZoom",l2),e2.interactive&&e2.doubleClickZoom&&i2.doubleClickZoom.enable();const c3=new ya;this._add("tapDragZoom",c3);const h3=i2.touchPitch=new da(i2);this._add("touchPitch",h3),e2.interactive&&e2.touchPitch&&i2.touchPitch.enable(e2.touchPitch);const u2=__name(()=>i2.project(i2.getCenter()),"u"),d3=function({enable:e3,clickTolerance:i3,aroundCenter:o3=!0,minPixelCenterThreshold:r3=100,rotateDegreesPerPixelMoved:a3=.8},s3){const l3=new ea({checkCorrectEvent:__name(e4=>n.mouseButton(e4)===0&&e4.ctrlKey||n.mouseButton(e4)===2&&!e4.ctrlKey,"checkCorrectEvent")});return new Kr({clickTolerance:i3,move:__name((e4,i4)=>{const n2=s3();if(o3&&Math.abs(n2.y-e4.y)>r3)return{bearingDelta:t.cm(new t.P(e4.x,i4.y),i4,n2)};let l4=(i4.x-e4.x)*a3;return o3&&i4.y<n2.y&&(l4=-l4),{bearingDelta:l4}},"move"),moveStateManager:l3,enable:e3,assignEvents:oa})}(e2,u2),_2=function({enable:e3,clickTolerance:t2,pitchDegreesPerPixelMoved:i3=-.5}){const o3=new ea({checkCorrectEvent:__name(e4=>n.mouseButton(e4)===0&&e4.ctrlKey||n.mouseButton(e4)===2,"checkCorrectEvent")});return new Kr({clickTolerance:t2,move:__name((e4,t3)=>({pitchDelta:(t3.y-e4.y)*i3}),"move"),moveStateManager:o3,enable:e3,assignEvents:oa})}(e2),p3=function({enable:e3,clickTolerance:t2,rollDegreesPerPixelMoved:i3=.3},o3){const r3=new ea({checkCorrectEvent:__name(e4=>n.mouseButton(e4)===2&&e4.ctrlKey,"checkCorrectEvent")});return new Kr({clickTolerance:t2,move:__name((e4,t3)=>{const r4=o3();let a3=(t3.x-e4.x)*i3;return t3.y<r4.y&&(a3=-a3),{rollDelta:a3}},"move"),moveStateManager:r3,enable:e3,assignEvents:oa})}(e2,u2);i2.dragRotate=new Ta(e2,d3,_2,p3),this._add("mouseRotate",d3,["mousePitch"]),this._add("mousePitch",_2,["mouseRotate","mouseRoll"]),this._add("mouseRoll",p3,["mousePitch"]),e2.interactive&&e2.dragRotate&&i2.dragRotate.enable();const m2=function({enable:e3,clickTolerance:t2}){const i3=new ea({checkCorrectEvent:__name(e4=>n.mouseButton(e4)===0&&!e4.ctrlKey,"checkCorrectEvent")});return new Kr({clickTolerance:t2,move:__name((e4,t3)=>({around:t3,panDelta:t3.sub(e4)}),"move"),activateOnStart:!0,moveStateManager:i3,enable:e3,assignEvents:oa})}(e2),f2=new ra(e2,i2);i2.dragPan=new wa(o2,m2,f2),this._add("mousePan",m2),this._add("touchPan",f2,["touchZoom","touchRotate"]),e2.interactive&&e2.dragPan&&i2.dragPan.enable(e2.dragPan);const g2=new ha,v2=new la;i2.touchZoomRotate=new Pa(o2,v2,g2,c3),this._add("touchRotate",g2,["touchPan","touchZoom"]),this._add("touchZoom",v2,["touchPan","touchRotate"]),e2.interactive&&e2.touchZoomRotate&&i2.touchZoomRotate.enable(e2.touchZoomRotate);const b2=i2.scrollZoom=new va(i2,()=>this._triggerRenderFrame());this._add("scrollZoom",b2,["mousePan"]),e2.interactive&&e2.scrollZoom&&i2.scrollZoom.enable(e2.scrollZoom);const x2=i2.keyboard=new pa(i2);this._add("keyboard",x2),e2.interactive&&e2.keyboard&&i2.keyboard.enable(),this._add("blockableMapEvent",new Gr(i2))}_add(e2,t2,i2){this._handlers.push({handlerName:e2,handler:t2,allowed:i2}),this._handlersById[e2]=t2}stop(e2){if(!this._updatingCamera){for(const{handler:e3}of this._handlers)e3.reset();this._inertia.clear(),this._fireEvents({},{},e2),this._changes=[]}}isActive(){for(const{handler:e2}of this._handlers)if(e2.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ia(this._eventsInProgress)||this.isZooming()}_blockedByActive(e2,t2,i2){for(const o2 in e2)if(o2!==i2&&(!t2||t2.indexOf(o2)<0))return!0;return!1}_getMapTouches(e2){const t2=[];for(const i2 of e2)this._el.contains(i2.target)&&t2.push(i2);return t2}mergeHandlerResult(e2,i2,o2,r2,a2){if(!o2)return;t.e(e2,o2);const s2={handlerName:r2,originalEvent:o2.originalEvent||a2};o2.zoomDelta!==void 0&&(i2.zoom=s2),o2.panDelta!==void 0&&(i2.drag=s2),o2.rollDelta!==void 0&&(i2.roll=s2),o2.pitchDelta!==void 0&&(i2.pitch=s2),o2.bearingDelta!==void 0&&(i2.rotate=s2)}_applyChanges(){const e2={},i2={},o2={};for(const[r2,a2,s2]of this._changes)r2.panDelta&&(e2.panDelta=(e2.panDelta||new t.P(0,0))._add(r2.panDelta)),r2.zoomDelta&&(e2.zoomDelta=(e2.zoomDelta||0)+r2.zoomDelta),r2.bearingDelta&&(e2.bearingDelta=(e2.bearingDelta||0)+r2.bearingDelta),r2.pitchDelta&&(e2.pitchDelta=(e2.pitchDelta||0)+r2.pitchDelta),r2.rollDelta&&(e2.rollDelta=(e2.rollDelta||0)+r2.rollDelta),r2.around!==void 0&&(e2.around=r2.around),r2.pinchAround!==void 0&&(e2.pinchAround=r2.pinchAround),r2.noInertia&&(e2.noInertia=r2.noInertia),t.e(i2,a2),t.e(o2,s2);this._updateMapTransform(e2,i2,o2),this._changes=[]}_updateMapTransform(e2,t2,i2){const o2=this._map,r2=o2._getTransformForUpdate(),a2=o2.terrain;if(!(Sa(e2)||a2&&this._terrainMovement))return this._fireEvents(t2,i2,!0);o2._stop(!0);let{panDelta:s2,zoomDelta:n2,bearingDelta:l2,pitchDelta:c3,rollDelta:h3,around:u2,pinchAround:d3}=e2;d3!==void 0&&(u2=d3),u2=u2||o2.transform.centerPoint,a2&&!r2.isPointOnMapSurface(u2)&&(u2=r2.centerPoint);const _2={panDelta:s2,zoomDelta:n2,rollDelta:h3,pitchDelta:c3,bearingDelta:l2,around:u2};this._map.cameraHelper.useGlobeControls&&!r2.isPointOnMapSurface(u2)&&(u2=r2.centerPoint);const p3=u2.distSqr(r2.centerPoint)<.01?r2.center:r2.screenPointToLocation(s2?u2.sub(s2):u2);a2?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(_2,r2),this._terrainMovement||!t2.drag&&!t2.zoom?t2.drag&&this._terrainMovement?r2.setCenter(r2.screenPointToLocation(r2.centerPoint.sub(s2))):this._map.cameraHelper.handleMapControlsPan(_2,r2,p3):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(_2,r2,p3))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(_2,r2),this._map.cameraHelper.handleMapControlsPan(_2,r2,p3)),o2._applyUpdatedTransform(r2),this._map._update(),e2.noInertia||this._inertia.record(e2),this._fireEvents(t2,i2,!0)}_fireEvents(e2,i2,o2){const r2=Ia(this._eventsInProgress),a2=Ia(e2),n2={};for(const t2 in e2){const{originalEvent:i3}=e2[t2];this._eventsInProgress[t2]||(n2["".concat(t2,"start")]=i3),this._eventsInProgress[t2]=e2[t2]}!r2&&a2&&this._fireEvent("movestart",a2.originalEvent);for(const e3 in n2)this._fireEvent(e3,n2[e3]);a2&&this._fireEvent("move",a2.originalEvent);for(const t2 in e2){const{originalEvent:i3}=e2[t2];this._fireEvent(t2,i3)}const l2={};let c3;for(const e3 in this._eventsInProgress){const{handlerName:t2,originalEvent:o3}=this._eventsInProgress[e3];this._handlersById[t2].isActive()||(delete this._eventsInProgress[e3],c3=i2[t2]||o3,l2["".concat(e3,"end")]=c3)}for(const e3 in l2)this._fireEvent(e3,l2[e3]);const h3=Ia(this._eventsInProgress),u2=(r2||a2)&&!h3;if(u2&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const e3=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&e3.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(e3)}if(o2&&u2){this._updatingCamera=!0;const e3=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i3=__name(e4=>e4!==0&&-this._bearingSnap<e4&&e4<this._bearingSnap,"i");!e3||!e3.essential&&s.prefersReducedMotion?(this._map.fire(new t.l("moveend",{originalEvent:c3})),i3(this._map.getBearing())&&this._map.resetNorth()):(i3(e3.bearing||this._map.getBearing())&&(e3.bearing=0),e3.freezeElevation=!0,this._map.easeTo(e3,{originalEvent:c3})),this._updatingCamera=!1}}_fireEvent(e2,i2){this._map.fire(new t.l(e2,i2?{originalEvent:i2}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e2=>{delete this._frameId,this.handleEvent(new Ma("renderFrame",{timeStamp:e2})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}};__name(_Ea,"Ea");let Ea=_Ea;const _Ra=class _Ra extends t.E{constructor(e2,t2,i2){super(),this._renderFrameCallback=()=>{const e3=Math.min((s.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e3)),e3<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e2,this._bearingSnap=i2.bearingSnap,this.cameraHelper=t2,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e2,t2){e2.apply(this.transform),this.transform=e2,this.cameraHelper=t2}getCenter(){return new t.S(this.transform.center.lng,this.transform.center.lat)}setCenter(e2,t2){return this.jumpTo({center:e2},t2)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e2,t2){return this.jumpTo({elevation:e2},t2),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e2){this._centerClampedToGround=e2}panBy(e2,i2,o2){return e2=t.P.convert(e2).mult(-1),this.panTo(this.transform.center,t.e({offset:e2},i2),o2)}panTo(e2,i2,o2){return this.easeTo(t.e({center:e2},i2),o2)}getZoom(){return this.transform.zoom}setZoom(e2,t2){return this.jumpTo({zoom:e2},t2),this}zoomTo(e2,i2,o2){return this.easeTo(t.e({zoom:e2},i2),o2)}zoomIn(e2,t2){return this.zoomTo(this.getZoom()+1,e2,t2),this}zoomOut(e2,t2){return this.zoomTo(this.getZoom()-1,e2,t2),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e2,i2){return e2!=this.transform.fov&&(this.transform.setFov(e2),this.fire(new t.l("movestart",i2)).fire(new t.l("move",i2)).fire(new t.l("moveend",i2))),this}getBearing(){return this.transform.bearing}setBearing(e2,t2){return this.jumpTo({bearing:e2},t2),this}getPadding(){return this.transform.padding}setPadding(e2,t2){return this.jumpTo({padding:e2},t2),this}rotateTo(e2,i2,o2){return this.easeTo(t.e({bearing:e2},i2),o2)}resetNorth(e2,i2){return this.rotateTo(0,t.e({duration:1e3},e2),i2),this}resetNorthPitch(e2,i2){return this.easeTo(t.e({bearing:0,pitch:0,roll:0,duration:1e3},e2),i2),this}snapToNorth(e2,t2){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e2,t2):this}getPitch(){return this.transform.pitch}setPitch(e2,t2){return this.jumpTo({pitch:e2},t2),this}getRoll(){return this.transform.roll}setRoll(e2,t2){return this.jumpTo({roll:e2},t2),this}cameraForBounds(e2,t2){e2=G.convert(e2).adjustAntiMeridian();const i2=t2&&t2.bearing||0;return this._cameraForBoxAndBearing(e2.getNorthWest(),e2.getSouthEast(),i2,t2)}_cameraForBoxAndBearing(e2,i2,o2,r2){const a2={top:0,bottom:0,right:0,left:0};if(typeof(r2=t.e({padding:a2,offset:[0,0],maxZoom:this.transform.maxZoom},r2)).padding=="number"){const e3=r2.padding;r2.padding={top:e3,bottom:e3,right:e3,left:e3}}const s2=t.e(a2,r2.padding);r2.padding=s2;const n2=this.transform,l2=new G(e2,i2);return this.cameraHelper.cameraForBoxAndBearing(r2,s2,l2,o2,n2)}fitBounds(e2,t2,i2){return this._fitInternal(this.cameraForBounds(e2,t2),t2,i2)}fitScreenCoordinates(e2,i2,o2,r2,a2){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(t.P.convert(e2)),this.transform.screenPointToLocation(t.P.convert(i2)),o2,r2),r2,a2)}_fitInternal(e2,i2,o2){return e2?(delete(i2=t.e(e2,i2)).padding,i2.linear?this.easeTo(i2,o2):this.flyTo(i2,o2)):this}jumpTo(e2,i2){this.stop();const o2=this._getTransformForUpdate();let r2=!1,a2=!1,s2=!1;const n2=o2.zoom;this.cameraHelper.handleJumpToCenterZoom(o2,e2);const l2=o2.zoom!==n2;return"elevation"in e2&&o2.elevation!==+e2.elevation&&o2.setElevation(+e2.elevation),"bearing"in e2&&o2.bearing!==+e2.bearing&&(r2=!0,o2.setBearing(+e2.bearing)),"pitch"in e2&&o2.pitch!==+e2.pitch&&(a2=!0,o2.setPitch(+e2.pitch)),"roll"in e2&&o2.roll!==+e2.roll&&(s2=!0,o2.setRoll(+e2.roll)),e2.padding==null||o2.isPaddingEqual(e2.padding)||o2.setPadding(e2.padding),this._applyUpdatedTransform(o2),this.fire(new t.l("movestart",i2)).fire(new t.l("move",i2)),l2&&this.fire(new t.l("zoomstart",i2)).fire(new t.l("zoom",i2)).fire(new t.l("zoomend",i2)),r2&&this.fire(new t.l("rotatestart",i2)).fire(new t.l("rotate",i2)).fire(new t.l("rotateend",i2)),a2&&this.fire(new t.l("pitchstart",i2)).fire(new t.l("pitch",i2)).fire(new t.l("pitchend",i2)),s2&&this.fire(new t.l("rollstart",i2)).fire(new t.l("roll",i2)).fire(new t.l("rollend",i2)),this.fire(new t.l("moveend",i2))}calculateCameraOptionsFromTo(e2,i2,o2,r2=0){const a2=t.a0.fromLngLat(e2,i2),s2=t.a0.fromLngLat(o2,r2),n2=s2.x-a2.x,l2=s2.y-a2.y,c3=s2.z-a2.z,h3=Math.hypot(n2,l2,c3);if(h3===0)throw new Error("Can't calculate camera options with same From and To");const u2=Math.hypot(n2,l2),d3=t.aj(this.transform.cameraToCenterDistance/h3/this.transform.tileSize),_2=180*Math.atan2(n2,-l2)/Math.PI;let p3=180*Math.acos(u2/h3)/Math.PI;return p3=c3<0?90-p3:90+p3,{center:s2.toLngLat(),elevation:r2,zoom:d3,pitch:p3,bearing:_2}}calculateCameraOptionsFromCameraLngLatAltRotation(e2,t2,i2,o2,r2){const a2=this.transform.calculateCenterFromCameraLngLatAlt(e2,t2,i2,o2);return{center:a2.center,elevation:a2.elevation,zoom:a2.zoom,bearing:i2,pitch:o2,roll:r2}}easeTo(e2,i2){this._stop(!1,e2.easeId),((e2=t.e({offset:[0,0],duration:500,easing:t.cn},e2)).animate===!1||!e2.essential&&s.prefersReducedMotion)&&(e2.duration=0);const o2=this._getTransformForUpdate(),r2=this.getBearing(),a2=o2.pitch,n2=o2.roll,l2="bearing"in e2?this._normalizeBearing(e2.bearing,r2):r2,c3="pitch"in e2?+e2.pitch:a2,h3="roll"in e2?this._normalizeBearing(e2.roll,n2):n2,u2="padding"in e2?e2.padding:o2.padding,d3=t.P.convert(e2.offset);let _2,p3;e2.around&&(_2=t.S.convert(e2.around),p3=o2.locationToScreenPoint(_2));const m2={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},f2=this.cameraHelper.handleEaseTo(o2,{bearing:l2,pitch:c3,roll:h3,padding:u2,around:_2,aroundPoint:p3,offsetAsPoint:d3,offset:e2.offset,zoom:e2.zoom,center:e2.center});return this._rotating=this._rotating||r2!==l2,this._pitching=this._pitching||c3!==a2,this._rolling=this._rolling||h3!==n2,this._padding=!o2.isPaddingEqual(u2),this._zooming=this._zooming||f2.isZooming,this._easeId=e2.easeId,this._prepareEase(i2,e2.noMoveStart,m2),this.terrain&&this._prepareElevation(f2.elevationCenter),this._ease(t2=>{f2.easeFunc(t2),this.terrain&&!e2.freezeElevation&&this._updateElevation(t2),this._applyUpdatedTransform(o2),this._fireMoveEvents(i2)},t2=>{this.terrain&&e2.freezeElevation&&this._finalizeElevation(),this._afterEase(i2,t2)},e2),this}_prepareEase(e2,i2,o2={}){this._moving=!0,i2||o2.moving||this.fire(new t.l("movestart",e2)),this._zooming&&!o2.zooming&&this.fire(new t.l("zoomstart",e2)),this._rotating&&!o2.rotating&&this.fire(new t.l("rotatestart",e2)),this._pitching&&!o2.pitching&&this.fire(new t.l("pitchstart",e2)),this._rolling&&!o2.rolling&&this.fire(new t.l("rollstart",e2))}_prepareElevation(e2){this._elevationCenter=e2,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e2,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e2){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const i2=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e2<1&&i2!==this._elevationTarget){const t2=this._elevationTarget-this._elevationStart;this._elevationStart+=e2*(t2-(i2-(t2*e2+this._elevationStart))/(1-e2)),this._elevationTarget=i2}this.transform.setElevation(t.C.number(this._elevationStart,this._elevationTarget,e2))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e2){if(!this.terrain&&e2.elevation>=0&&e2.pitch<=90)return{};const t2=e2.getCameraLngLat(),i2=e2.getCameraAltitude(),o2=this.terrain?this.terrain.getElevationForLngLatZoom(t2,e2.zoom):0;if(i2<o2){const i3=this.calculateCameraOptionsFromTo(t2,o2,e2.center,e2.elevation);return{pitch:i3.pitch,zoom:i3.zoom}}return{}}_applyUpdatedTransform(e2){const t2=[];if(t2.push(e3=>this._elevateCameraIfInsideTerrain(e3)),this.transformCameraUpdate&&t2.push(e3=>this.transformCameraUpdate(e3)),!t2.length)return;const i2=e2.clone();for(const e3 of t2){const t3=i2.clone(),{center:o2,zoom:r2,roll:a2,pitch:s2,bearing:n2,elevation:l2}=e3(t3);o2&&t3.setCenter(o2),l2!==void 0&&t3.setElevation(l2),r2!==void 0&&t3.setZoom(r2),a2!==void 0&&t3.setRoll(a2),s2!==void 0&&t3.setPitch(s2),n2!==void 0&&t3.setBearing(n2),i2.apply(t3)}this.transform.apply(i2)}_fireMoveEvents(e2){this.fire(new t.l("move",e2)),this._zooming&&this.fire(new t.l("zoom",e2)),this._rotating&&this.fire(new t.l("rotate",e2)),this._pitching&&this.fire(new t.l("pitch",e2)),this._rolling&&this.fire(new t.l("roll",e2))}_afterEase(e2,i2){if(this._easeId&&i2&&this._easeId===i2)return;delete this._easeId;const o2=this._zooming,r2=this._rotating,a2=this._pitching,s2=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,o2&&this.fire(new t.l("zoomend",e2)),r2&&this.fire(new t.l("rotateend",e2)),a2&&this.fire(new t.l("pitchend",e2)),s2&&this.fire(new t.l("rollend",e2)),this.fire(new t.l("moveend",e2))}flyTo(e2,i2){if(!e2.essential&&s.prefersReducedMotion){const o3=t.Q(e2,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(o3,i2)}this.stop(),e2=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.cn},e2);const o2=this._getTransformForUpdate(),r2=o2.bearing,a2=o2.pitch,n2=o2.roll,l2=o2.padding,c3="bearing"in e2?this._normalizeBearing(e2.bearing,r2):r2,h3="pitch"in e2?+e2.pitch:a2,u2="roll"in e2?this._normalizeBearing(e2.roll,n2):n2,d3="padding"in e2?e2.padding:o2.padding,_2=t.P.convert(e2.offset);let p3=o2.centerPoint.add(_2);const m2=o2.screenPointToLocation(p3),f2=this.cameraHelper.handleFlyTo(o2,{bearing:c3,pitch:h3,roll:u2,padding:d3,locationAtOffset:m2,offsetAsPoint:_2,center:e2.center,minZoom:e2.minZoom,zoom:e2.zoom});let g2=e2.curve;const v2=Math.max(o2.width,o2.height),b2=v2/f2.scaleOfZoom,x2=f2.pixelPathLength;typeof f2.scaleOfMinZoom=="number"&&(g2=Math.sqrt(v2/f2.scaleOfMinZoom/x2*2));const y2=g2*g2;function w2(e3){const t2=(b2*b2-v2*v2+(e3?-1:1)*y2*y2*x2*x2)/(2*(e3?b2:v2)*y2*x2);return Math.log(Math.sqrt(t2*t2+1)-t2)}__name(w2,"w");function T2(e3){return(Math.exp(e3)-Math.exp(-e3))/2}__name(T2,"T");function P2(e3){return(Math.exp(e3)+Math.exp(-e3))/2}__name(P2,"P");const C2=w2(!1);let I2=__name(function(e3){return P2(C2)/P2(C2+g2*e3)},"I"),M2=__name(function(e3){return v2*((P2(C2)*(T2(t2=C2+g2*e3)/P2(t2))-T2(C2))/y2)/x2;var t2},"M"),S2=(w2(!0)-C2)/g2;if(Math.abs(x2)<2e-6||!isFinite(S2)){if(Math.abs(v2-b2)<1e-6)return this.easeTo(e2,i2);const t2=b2<v2?-1:1;S2=Math.abs(Math.log(b2/v2))/g2,M2=__name(()=>0,"M"),I2=__name(e3=>Math.exp(t2*g2*e3),"I")}return e2.duration="duration"in e2?+e2.duration:1e3*S2/("screenSpeed"in e2?+e2.screenSpeed/g2:+e2.speed),e2.maxDuration&&e2.duration>e2.maxDuration&&(e2.duration=0),this._zooming=!0,this._rotating=r2!==c3,this._pitching=h3!==a2,this._rolling=u2!==n2,this._padding=!o2.isPaddingEqual(d3),this._prepareEase(i2,!1),this.terrain&&this._prepareElevation(f2.targetCenter),this._ease(s2=>{const m3=s2*S2,g3=1/I2(m3),v3=M2(m3);this._rotating&&o2.setBearing(t.C.number(r2,c3,s2)),this._pitching&&o2.setPitch(t.C.number(a2,h3,s2)),this._rolling&&o2.setRoll(t.C.number(n2,u2,s2)),this._padding&&(o2.interpolatePadding(l2,d3,s2),p3=o2.centerPoint.add(_2)),f2.easeFunc(s2,g3,v3,p3),this.terrain&&!e2.freezeElevation&&this._updateElevation(s2),this._applyUpdatedTransform(o2),this._fireMoveEvents(i2)},()=>{this.terrain&&e2.freezeElevation&&this._finalizeElevation(),this._afterEase(i2)},e2),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e2,t2){var i2;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e3=this._onEaseEnd;delete this._onEaseEnd,e3.call(this,t2)}return e2||(i2=this.handlers)===null||i2===void 0||i2.stop(!1),this}_ease(e2,t2,i2){i2.animate===!1||i2.duration===0?(e2(1),t2()):(this._easeStart=s.now(),this._easeOptions=i2,this._onEaseFrame=e2,this._onEaseEnd=t2,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e2,i2){e2=t.aN(e2,-180,180);const o2=Math.abs(e2-i2);return Math.abs(e2-360-i2)<o2&&(e2-=360),Math.abs(e2+360-i2)<o2&&(e2+=360),e2}queryTerrainElevation(e2){return this.terrain?this.terrain.getElevationForLngLatZoom(t.S.convert(e2),this.transform.tileZoom):null}};__name(_Ra,"Ra");let Ra=_Ra;const za={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'},_Da=class _Da{constructor(e2=za){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e3=>{!e3||e3.sourceDataType!=="metadata"&&e3.sourceDataType!=="visibility"&&e3.dataType!=="style"&&e3.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e2}getDefaultPosition(){return"bottom-right"}onAdd(e2){return this._map=e2,this._compact=this.options.compact,this._container=n.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=n.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e2,t2){const i2=this._map._getUIString("AttributionControl.".concat(t2));e2.title=i2,e2.setAttribute("aria-label",i2)}_updateAttributions(){if(!this._map.style)return;let e2=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e2=e2.concat(this.options.customAttribution.map(e3=>typeof e3!="string"?"":e3)):typeof this.options.customAttribution=="string"&&e2.push(this.options.customAttribution)),this._map.style.stylesheet){const e3=this._map.style.stylesheet;this.styleOwner=e3.owner,this.styleId=e3.id}const t2=this._map.style.sourceCaches;for(const i3 in t2){const o2=t2[i3];if(o2.used||o2.usedForTerrain){const t3=o2.getSource();t3.attribution&&e2.indexOf(t3.attribution)<0&&e2.push(t3.attribution)}}e2=e2.filter(e3=>String(e3).trim()),e2.sort((e3,t3)=>e3.length-t3.length),e2=e2.filter((t3,i3)=>{for(let o2=i3+1;o2<e2.length;o2++)if(e2[o2].indexOf(t3)>=0)return!1;return!0});const i2=e2.join(" | ");i2!==this._attribHTML&&(this._attribHTML=i2,e2.length?(this._innerContainer.innerHTML=n.sanitize(i2),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}};__name(_Da,"Da");let Da=_Da;const _Aa=class _Aa{constructor(e2={}){this._updateCompact=()=>{const e3=this._container.children;if(e3.length){const t2=e3[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&t2.classList.add("maplibregl-compact"):t2.classList.remove("maplibregl-compact")}},this.options=e2}getDefaultPosition(){return"bottom-left"}onAdd(e2){this._map=e2,this._compact=this.options&&this.options.compact,this._container=n.create("div","maplibregl-ctrl");const t2=n.create("a","maplibregl-ctrl-logo");return t2.target="_blank",t2.rel="noopener nofollow",t2.href="https://maplibre.org/",t2.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t2.setAttribute("rel","noopener nofollow"),this._container.appendChild(t2),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){n.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}};__name(_Aa,"Aa");let Aa=_Aa;const _La=class _La{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e2){const t2=++this._id;return this._queue.push({callback:e2,id:t2,cancelled:!1}),t2}remove(e2){const t2=this._currentlyRunning,i2=t2?this._queue.concat(t2):this._queue;for(const t3 of i2)if(t3.id===e2)return void(t3.cancelled=!0)}run(e2=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t2=this._currentlyRunning=this._queue;this._queue=[];for(const i2 of t2)if(!i2.cancelled&&(i2.callback(e2),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}};__name(_La,"La");let La=_La;var ka=t.aI([{name:"a_pos3d",type:"Int16",components:3}]);const _Fa=class _Fa extends t.E{constructor(e2){super(),this._lastTilesetChange=s.now(),this.sourceCache=e2,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e2._source.tileSize*2**this.deltaZoom,e2.usedForTerrain=!0,e2.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e2,i2){this.sourceCache.update(e2,i2),this._renderableTilesKeys=[];const o2={};for(const r2 of ve(e2,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:i2,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))o2[r2.key]=!0,this._renderableTilesKeys.push(r2.key),this._tiles[r2.key]||(r2.terrainRttPosMatrix32f=new Float64Array(16),t.bX(r2.terrainRttPosMatrix32f,0,t.$,t.$,0,0,1),this._tiles[r2.key]=new re(r2,this.tileSize),this._lastTilesetChange=s.now());for(const e3 in this._tiles)o2[e3]||delete this._tiles[e3]}freeRtt(e2){for(const t2 in this._tiles){const i2=this._tiles[t2];(!e2||i2.tileID.equals(e2)||i2.tileID.isChildOf(e2)||e2.isChildOf(i2.tileID))&&(i2.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e2=>this.getTileByID(e2))}getTileByID(e2){return this._tiles[e2]}getTerrainCoords(e2,t2){return t2?this._getTerrainCoordsForTileRanges(e2,t2):this._getTerrainCoordsForRegularTile(e2)}_getTerrainCoordsForRegularTile(e2){const i2={};for(const o2 of this._renderableTilesKeys){const r2=this._tiles[o2].tileID,a2=e2.clone(),s2=t.b9();if(r2.canonical.equals(e2.canonical))t.bX(s2,0,t.$,t.$,0,0,1);else if(r2.canonical.isChildOf(e2.canonical)){const i3=r2.canonical.z-e2.canonical.z,o3=r2.canonical.x-(r2.canonical.x>>i3<<i3),a3=r2.canonical.y-(r2.canonical.y>>i3<<i3),n2=t.$>>i3;t.bX(s2,0,n2,n2,0,0,1),t.M(s2,s2,[-o3*n2,-a3*n2,0])}else{if(!e2.canonical.isChildOf(r2.canonical))continue;{const i3=e2.canonical.z-r2.canonical.z,o3=e2.canonical.x-(e2.canonical.x>>i3<<i3),a3=e2.canonical.y-(e2.canonical.y>>i3<<i3),n2=t.$>>i3;t.bX(s2,0,t.$,t.$,0,0,1),t.M(s2,s2,[o3*n2,a3*n2,0]),t.N(s2,s2,[1/2**i3,1/2**i3,0])}}a2.terrainRttPosMatrix32f=new Float32Array(s2),i2[o2]=a2}return i2}_getTerrainCoordsForTileRanges(e2,i2){const o2={};for(const r2 of this._renderableTilesKeys){const a2=this._tiles[r2].tileID;if(!this._isWithinTileRanges(a2,i2))continue;const s2=e2.clone(),n2=t.b9();if(a2.canonical.z===e2.canonical.z){const i3=e2.canonical.x-a2.canonical.x,o3=e2.canonical.y-a2.canonical.y;t.bX(n2,0,t.$,t.$,0,0,1),t.M(n2,n2,[i3*t.$,o3*t.$,0])}else if(a2.canonical.z>e2.canonical.z){const i3=a2.canonical.z-e2.canonical.z,o3=a2.canonical.x-(a2.canonical.x>>i3<<i3),r3=a2.canonical.y-(a2.canonical.y>>i3<<i3),s3=e2.canonical.x-(a2.canonical.x>>i3),l2=e2.canonical.y-(a2.canonical.y>>i3),c3=t.$>>i3;t.bX(n2,0,c3,c3,0,0,1),t.M(n2,n2,[-o3*c3+s3*t.$,-r3*c3+l2*t.$,0])}else{const i3=e2.canonical.z-a2.canonical.z,o3=e2.canonical.x-(e2.canonical.x>>i3<<i3),r3=e2.canonical.y-(e2.canonical.y>>i3<<i3),s3=(e2.canonical.x>>i3)-a2.canonical.x,l2=(e2.canonical.y>>i3)-a2.canonical.y,c3=t.$<<i3;t.bX(n2,0,c3,c3,0,0,1),t.M(n2,n2,[o3*t.$+s3*c3,r3*t.$+l2*c3,0])}s2.terrainRttPosMatrix32f=new Float32Array(n2),o2[r2]=s2}return o2}getSourceTile(e2,t2){const i2=this.sourceCache._source;let o2=e2.overscaledZ-this.deltaZoom;if(o2>i2.maxzoom&&(o2=i2.maxzoom),o2<i2.minzoom)return null;this._sourceTileCache[e2.key]||(this._sourceTileCache[e2.key]=e2.scaledTo(o2).key);let r2=this.sourceCache.getTileByID(this._sourceTileCache[e2.key]);if((!r2||!r2.dem)&&t2)for(;o2>=i2.minzoom&&(!r2||!r2.dem);)r2=this.sourceCache.getTileByID(e2.scaledTo(o2--).key);return r2}anyTilesAfterTime(e2=Date.now()){return this._lastTilesetChange>=e2}_isWithinTileRanges(e2,t2){return t2[e2.canonical.z]&&e2.canonical.x>=t2[e2.canonical.z].minTileX&&e2.canonical.x<=t2[e2.canonical.z].maxTileX&&e2.canonical.y>=t2[e2.canonical.z].minTileY&&e2.canonical.y<=t2[e2.canonical.z].maxTileY}};__name(_Fa,"Fa");let Fa=_Fa;const _Ba=class _Ba{constructor(e2,t2,i2){this._meshCache={},this.painter=e2,this.sourceCache=new Fa(t2),this.options=i2,this.exaggeration=typeof i2.exaggeration=="number"?i2.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e2,i2,o2,r2=t.$){var a2;if(!(i2>=0&&i2<r2&&o2>=0&&o2<r2))return 0;const s2=this.getTerrainData(e2),n2=(a2=s2.tile)===null||a2===void 0?void 0:a2.dem;if(!n2)return 0;const l2=t.cr([],[i2/r2*t.$,o2/r2*t.$],s2.u_terrain_matrix),c3=[l2[0]*n2.dim,l2[1]*n2.dim],h3=Math.floor(c3[0]),u2=Math.floor(c3[1]),d3=c3[0]-h3,_2=c3[1]-u2;return n2.get(h3,u2)*(1-d3)*(1-_2)+n2.get(h3+1,u2)*d3*(1-_2)+n2.get(h3,u2+1)*(1-d3)*_2+n2.get(h3+1,u2+1)*d3*_2}getElevationForLngLatZoom(e2,i2){if(!t.cs(i2,e2.wrap()))return 0;const{tileID:o2,mercatorX:r2,mercatorY:a2}=this._getOverscaledTileIDFromLngLatZoom(e2,i2);return this.getElevation(o2,r2%t.$,a2%t.$,t.$)}getElevation(e2,i2,o2,r2=t.$){return this.getDEMElevation(e2,i2,o2,r2)*this.exaggeration}getTerrainData(e2){if(!this._emptyDemTexture){const e3=this.painter.context,i3=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new t.T(e3,i3,e3.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new t.T(e3,new t.R({width:1,height:1}),e3.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e3.gl.NEAREST,e3.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.af([])}const i2=this.sourceCache.getSourceTile(e2,!0);if(i2&&i2.dem&&(!i2.demTexture||i2.needsTerrainPrepare)){const e3=this.painter.context;i2.demTexture=this.painter.getTileTexture(i2.dem.stride),i2.demTexture?i2.demTexture.update(i2.dem.getPixels(),{premultiply:!1}):i2.demTexture=new t.T(e3,i2.dem.getPixels(),e3.gl.RGBA,{premultiply:!1}),i2.demTexture.bind(e3.gl.NEAREST,e3.gl.CLAMP_TO_EDGE),i2.needsTerrainPrepare=!1}const o2=i2&&i2+i2.tileID.key+e2.key;if(o2&&!this._demMatrixCache[o2]){const o3=this.sourceCache.sourceCache._source.maxzoom;let r2=e2.canonical.z-i2.tileID.canonical.z;e2.overscaledZ>e2.canonical.z&&(e2.canonical.z>=o3?r2=e2.canonical.z-o3:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const a2=e2.canonical.x-(e2.canonical.x>>r2<<r2),s2=e2.canonical.y-(e2.canonical.y>>r2<<r2),n2=t.ct(new Float64Array(16),[1/(t.$<<r2),1/(t.$<<r2),0]);t.M(n2,n2,[a2*t.$,s2*t.$,0]),this._demMatrixCache[e2.key]={matrix:n2,coord:e2}}return{u_depth:2,u_terrain:3,u_terrain_dim:i2&&i2.dem&&i2.dem.dim||1,u_terrain_matrix:o2?this._demMatrixCache[e2.key].matrix:this._emptyDemMatrix,u_terrain_unpack:i2&&i2.dem&&i2.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(i2&&i2.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:i2}}getFramebuffer(e2){const i2=this.painter,o2=i2.width/devicePixelRatio,r2=i2.height/devicePixelRatio;return!this._fbo||this._fbo.width===o2&&this._fbo.height===r2||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new t.T(i2.context,{width:o2,height:r2,data:null},i2.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(i2.context.gl.NEAREST,i2.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new t.T(i2.context,{width:o2,height:r2,data:null},i2.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(i2.context.gl.NEAREST,i2.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=i2.context.createFramebuffer(o2,r2,!0,!1),this._fbo.depthAttachment.set(i2.context.createRenderbuffer(i2.context.gl.DEPTH_COMPONENT16,o2,r2))),this._fbo.colorAttachment.set(e2==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e2=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const i2=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e3=0,t2=0;e3<this._coordsTextureSize;e3++)for(let o3=0;o3<this._coordsTextureSize;o3++,t2+=4)i2[t2+0]=255&o3,i2[t2+1]=255&e3,i2[t2+2]=o3>>8<<4|e3>>8,i2[t2+3]=0;const o2=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(i2.buffer)),r2=new t.T(e2,o2,e2.gl.RGBA,{premultiply:!1});return r2.bind(e2.gl.NEAREST,e2.gl.CLAMP_TO_EDGE),this._coordsTexture=r2,r2}pointCoordinate(e2){this.painter.maybeDrawDepthAndCoords(!0);const i2=new Uint8Array(4),o2=this.painter.context,r2=o2.gl,a2=Math.round(e2.x*this.painter.pixelRatio/devicePixelRatio),s2=Math.round(e2.y*this.painter.pixelRatio/devicePixelRatio),n2=Math.round(this.painter.height/devicePixelRatio);o2.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),r2.readPixels(a2,n2-s2-1,1,1,r2.RGBA,r2.UNSIGNED_BYTE,i2),o2.bindFramebuffer.set(null);const l2=i2[0]+(i2[2]>>4<<8),c3=i2[1]+((15&i2[2])<<8),h3=this.coordsIndex[255-i2[3]],u2=h3&&this.sourceCache.getTileByID(h3);if(!u2)return null;const d3=this._coordsTextureSize,_2=(1<<u2.tileID.canonical.z)*d3;return new t.a0((u2.tileID.canonical.x*d3+l2)/_2+u2.tileID.wrap,(u2.tileID.canonical.y*d3+c3)/_2,this.getElevation(u2.tileID,l2,c3,d3))}depthAtPoint(e2){const t2=new Uint8Array(4),i2=this.painter.context,o2=i2.gl;return i2.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),o2.readPixels(e2.x,this.painter.height/devicePixelRatio-e2.y-1,1,1,o2.RGBA,o2.UNSIGNED_BYTE,t2),i2.bindFramebuffer.set(null),(t2[0]/16777216+t2[1]/65536+t2[2]/256+t2[3])/256}getTerrainMesh(e2){var i2;const o2=((i2=this.painter.style.projection)===null||i2===void 0?void 0:i2.transitionState)>0,r2=o2&&e2.canonical.y===0,a2=o2&&e2.canonical.y===(1<<e2.canonical.z)-1,s2="m_".concat(r2?"n":"","_").concat(a2?"s":"");if(this._meshCache[s2])return this._meshCache[s2];const n2=this.painter.context,l2=new t.cu,c3=new t.aM,h3=this.meshSize,u2=t.$/h3,d3=h3*h3;for(let e3=0;e3<=h3;e3++)for(let t2=0;t2<=h3;t2++)l2.emplaceBack(t2*u2,e3*u2,0);for(let e3=0;e3<d3;e3+=h3+1)for(let t2=0;t2<h3;t2++)c3.emplaceBack(t2+e3,h3+t2+e3+1,h3+t2+e3+2),c3.emplaceBack(t2+e3,h3+t2+e3+2,t2+e3+1);const _2=l2.length,p3=_2+(h3+1),m2=(h3+1)*h3,f2=r2?t.bg:0,g2=r2?0:1,v2=a2?t.bh:t.$,b2=a2?0:1;for(let e3=0;e3<=h3;e3++)l2.emplaceBack(e3*u2,f2,g2);for(let e3=0;e3<=h3;e3++)l2.emplaceBack(e3*u2,v2,b2);for(let e3=0;e3<h3;e3++)c3.emplaceBack(m2+e3,p3+e3,p3+e3+1),c3.emplaceBack(m2+e3,p3+e3+1,m2+e3+1),c3.emplaceBack(0+e3,_2+e3+1,_2+e3),c3.emplaceBack(0+e3,0+e3+1,_2+e3+1);const x2=l2.length,y2=x2+2*(h3+1);for(const e3 of[0,1])for(let i3=0;i3<=h3;i3++)for(const o3 of[0,1])l2.emplaceBack(e3*t.$,i3*u2,o3);for(let e3=0;e3<2*h3;e3+=2)c3.emplaceBack(x2+e3,x2+e3+1,x2+e3+3),c3.emplaceBack(x2+e3,x2+e3+3,x2+e3+2),c3.emplaceBack(y2+e3,y2+e3+3,y2+e3+1),c3.emplaceBack(y2+e3,y2+e3+2,y2+e3+3);const w2=new wt(n2.createVertexBuffer(l2,ka.members),n2.createIndexBuffer(c3),t.aL.simpleSegment(0,0,l2.length,c3.length));return this._meshCache[s2]=w2,w2}getMeshFrameDelta(e2){return 2*Math.PI*t.bt/Math.pow(2,Math.max(e2,0))/5}getMinTileElevationForLngLatZoom(e2,t2){var i2;const{tileID:o2}=this._getOverscaledTileIDFromLngLatZoom(e2,t2);return(i2=this.getMinMaxElevation(o2).minElevation)!==null&&i2!==void 0?i2:0}getMinMaxElevation(e2){const t2=this.getTerrainData(e2).tile,i2={minElevation:null,maxElevation:null};return t2&&t2.dem&&(i2.minElevation=t2.dem.min*this.exaggeration,i2.maxElevation=t2.dem.max*this.exaggeration),i2}_getOverscaledTileIDFromLngLatZoom(e2,i2){const o2=t.a0.fromLngLat(e2.wrap()),r2=(1<<i2)*t.$,a2=o2.x*r2,s2=o2.y*r2,n2=Math.floor(a2/t.$),l2=Math.floor(s2/t.$);return{tileID:new t.Z(i2,0,i2,n2,l2),mercatorX:a2,mercatorY:s2}}};__name(_Ba,"Ba");let Ba=_Ba;const _Oa=class _Oa{constructor(e2,t2,i2){this._context=e2,this._size=t2,this._tileSize=i2,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e2 of this._objects)e2.texture.destroy(),e2.fbo.destroy()}_createObject(e2){const i2=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),o2=new t.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return o2.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),i2.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),i2.colorAttachment.set(o2.texture),{id:e2,fbo:i2,texture:o2,stamp:-1,inUse:!1}}getObjectForId(e2){return this._objects[e2]}useObject(e2){e2.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(t2=>e2.id!==t2),this._recentlyUsed.push(e2.id)}stampObject(e2){e2.stamp=++this._stamp}getOrCreateFreeObject(){for(const e3 of this._recentlyUsed)if(!this._objects[e3].inUse)return this._objects[e3];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e2=this._createObject(this._objects.length);return this._objects.push(e2),e2}freeObject(e2){e2.inUse=!1}freeAllObjects(){for(const e2 of this._objects)this.freeObject(e2)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(e2=>!e2.inUse)===!1}};__name(_Oa,"Oa");let Oa=_Oa;const ja={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0},_Na=class _Na{constructor(e2,t2){this.painter=e2,this.terrain=t2,this.pool=new Oa(e2.context,30,t2.sourceCache.tileSize*t2.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e2){return this.pool.getObjectForId(e2.rtt[this._stacks.length-1].id).texture}prepareForRender(e2,t2){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e2._order.filter(i2=>!e2._layers[i2].isHidden(t2)),this._coordsAscending={};for(const t3 in e2.sourceCaches){this._coordsAscending[t3]={};const i2=e2.sourceCaches[t3].getVisibleCoordinates(),o2=e2.sourceCaches[t3].getSource(),r2=o2 instanceof X?o2.terrainTileRanges:null;for(const e3 of i2){const i3=this.terrain.sourceCache.getTerrainCoords(e3,r2);for(const e4 in i3)this._coordsAscending[t3][e4]||(this._coordsAscending[t3][e4]=[]),this._coordsAscending[t3][e4].push(i3[e4])}}this._coordsAscendingStr={};for(const t3 of e2._order){const i2=e2._layers[t3],o2=i2.source;if(ja[i2.type]&&!this._coordsAscendingStr[o2]){this._coordsAscendingStr[o2]={};for(const e3 in this._coordsAscending[o2])this._coordsAscendingStr[o2][e3]=this._coordsAscending[o2][e3].map(e4=>e4.key).sort().join()}}for(const e3 of this._renderableTiles)for(const t3 in this._coordsAscendingStr){const i2=this._coordsAscendingStr[t3][e3.tileID.key];i2&&i2!==e3.rttCoords[t3]&&(e3.rtt=[])}}renderLayer(e2,i2){if(e2.isHidden(this.painter.transform.zoom))return!1;const o2=Object.assign(Object.assign({},i2),{isRenderingToTexture:!0}),r2=e2.type,a2=this.painter,s2=this._renderableLayerIds[this._renderableLayerIds.length-1]===e2.id;if(ja[r2]&&(this._prevType&&ja[this._prevType]||this._stacks.push([]),this._prevType=r2,this._stacks[this._stacks.length-1].push(e2.id),!s2))return!0;if(ja[this._prevType]||ja[r2]&&s2){this._prevType=r2;const e3=this._stacks.length-1,i3=this._stacks[e3]||[];for(const r3 of this._renderableTiles){if(this.pool.isFull()&&(Cr(this.painter,this.terrain,this._rttTiles,o2),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(r3),r3.rtt[e3]){const t2=this.pool.getObjectForId(r3.rtt[e3].id);if(t2.stamp===r3.rtt[e3].stamp){this.pool.useObject(t2);continue}}const s3=this.pool.getOrCreateFreeObject();this.pool.useObject(s3),this.pool.stampObject(s3),r3.rtt[e3]={id:s3.id,stamp:s3.stamp},a2.context.bindFramebuffer.set(s3.fbo.framebuffer),a2.context.clear({color:t.be.transparent,stencil:0}),a2.currentStencilSource=void 0;for(let e4=0;e4<i3.length;e4++){const t2=a2.style._layers[i3[e4]],n2=t2.source?this._coordsAscending[t2.source][r3.tileID.key]:[r3.tileID];a2.context.viewport.set([0,0,s3.fbo.width,s3.fbo.height]),a2._renderTileClippingMasks(t2,n2,!0),a2.renderLayer(a2,a2.style.sourceCaches[t2.source],t2,n2,o2),t2.source&&(r3.rttCoords[t2.source]=this._coordsAscendingStr[t2.source][r3.tileID.key])}}return Cr(this.painter,this.terrain,this._rttTiles,o2),this._rttTiles=[],this.pool.freeAllObjects(),ja[r2]}return!1}};__name(_Na,"Na");let Na=_Na;const Za={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ua=i,Ga={hash:!1,interactive:!0,bearingSnap:7,attributionControl:za,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},Va={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0},_$a=class _$a{constructor(e2,i2,o2=!1){this.mousedown=e3=>{this.startMove(e3,n.mousePos(this.element,e3)),n.addEventListener(window,"mousemove",this.mousemove),n.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=e3=>{this.move(e3,n.mousePos(this.element,e3))},this.mouseup=e3=>{this._rotatePitchHanlder.dragEnd(e3),this.offTemp()},this.touchstart=e3=>{e3.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e3.targetTouches)[0],this.startMove(e3,this._startPos),n.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.addEventListener(window,"touchend",this.touchend))},this.touchmove=e3=>{e3.targetTouches.length!==1?this.reset():(this._lastPos=n.touchPos(this.element,e3.targetTouches)[0],this.move(e3,this._lastPos))},this.touchend=e3=>{e3.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=i2;const r2=new ia;this._rotatePitchHanlder=new Kr({clickTolerance:3,move:__name((e3,r3)=>{const a2=i2.getBoundingClientRect(),s2=new t.P((a2.bottom-a2.top)/2,(a2.right-a2.left)/2);return{bearingDelta:t.cm(new t.P(e3.x,r3.y),r3,s2),pitchDelta:o2?-.5*(r3.y-e3.y):void 0}},"move"),moveStateManager:r2,enable:!0,assignEvents:__name(()=>{},"assignEvents")}),this.map=e2,n.addEventListener(i2,"mousedown",this.mousedown),n.addEventListener(i2,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(i2,"touchcancel",this.reset)}startMove(e2,t2){this._rotatePitchHanlder.dragStart(e2,t2),n.disableDrag()}move(e2,t2){const i2=this.map,{bearingDelta:o2,pitchDelta:r2}=this._rotatePitchHanlder.dragMove(e2,t2)||{};o2&&i2.setBearing(i2.getBearing()+o2),r2&&i2.setPitch(i2.getPitch()+r2)}off(){const e2=this.element;n.removeEventListener(e2,"mousedown",this.mousedown),n.removeEventListener(e2,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend),n.removeEventListener(e2,"touchcancel",this.reset),this.offTemp()}offTemp(){n.enableDrag(),n.removeEventListener(window,"mousemove",this.mousemove),n.removeEventListener(window,"mouseup",this.mouseup),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend)}};__name(_$a,"$a");let $a=_$a,qa;function Wa(e2,i2,o2,r2=!1){if(r2||!o2.getCoveringTilesDetailsProvider().allowWorldCopies())return e2==null?void 0:e2.wrap();const a2=new t.S(e2.lng,e2.lat);if(e2=new t.S(e2.lng,e2.lat),i2){const r3=new t.S(e2.lng-360,e2.lat),a3=new t.S(e2.lng+360,e2.lat),s2=o2.locationToScreenPoint(e2).distSqr(i2);o2.locationToScreenPoint(r3).distSqr(i2)<s2?e2=r3:o2.locationToScreenPoint(a3).distSqr(i2)<s2&&(e2=a3)}for(;Math.abs(e2.lng-o2.center.lng)>180;){const t2=o2.locationToScreenPoint(e2);if(t2.x>=0&&t2.y>=0&&t2.x<=o2.width&&t2.y<=o2.height)break;e2.lng>o2.center.lng?e2.lng-=360:e2.lng+=360}return e2.lng!==a2.lng&&o2.isPointOnMapSurface(o2.locationToScreenPoint(e2))?e2:a2}__name(Wa,"Wa");const Ha={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Xa(e2,t2,i2){const o2=e2.classList;for(const e3 in Ha)o2.remove("maplibregl-".concat(i2,"-anchor-").concat(e3));o2.add("maplibregl-".concat(i2,"-anchor-").concat(t2))}__name(Xa,"Xa");const _Ka=class _Ka extends t.E{constructor(e2){if(super(),this._onKeyPress=e3=>{const t2=e3.code,i2=e3.charCode||e3.keyCode;t2!=="Space"&&t2!=="Enter"&&i2!==32&&i2!==13||this.togglePopup()},this._onMapClick=e3=>{const t2=e3.originalEvent.target,i2=this._element;this._popup&&(t2===i2||i2.contains(t2))&&this.togglePopup()},this._update=e3=>{if(!this._map)return;const t2=this._map.loaded()&&!this._map.isMoving();((e3==null?void 0:e3.type)==="terrain"||(e3==null?void 0:e3.type)==="render"&&!t2)&&this._map.once("render",this._update),this._lngLat=Wa(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let i2="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?i2="rotateZ(".concat(this._rotation,"deg)"):this._rotationAlignment==="map"&&(i2="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));let o2="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?o2="rotateX(0deg)":this._pitchAlignment==="map"&&(o2="rotateX(".concat(this._map.getPitch(),"deg)")),this._subpixelPositioning||e3&&e3.type!=="moveend"||(this._pos=this._pos.round()),n.setTransform(this._element,"".concat(Ha[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(o2," ").concat(i2)),s.frameAsync(new AbortController).then(()=>{this._updateOpacity(e3&&e3.type==="moveend")}).catch(()=>{})},this._onMove=e3=>{if(!this._isDragging){const t2=this._clickTolerance||this._map._clickTolerance;this._isDragging=e3.point.dist(this._pointerdownPos)>=t2}this._isDragging&&(this._pos=e3.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new t.l("dragstart"))),this.fire(new t.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new t.l("dragend")),this._state="inactive"},this._addDragHandler=e3=>{this._element.contains(e3.originalEvent.target)&&(e3.preventDefault(),this._positionDelta=e3.point.sub(this._pos).add(this._offset),this._pointerdownPos=e3.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e2&&e2.anchor||"center",this._color=e2&&e2.color||"#3FB1CE",this._scale=e2&&e2.scale||1,this._draggable=e2&&e2.draggable||!1,this._clickTolerance=e2&&e2.clickTolerance||0,this._subpixelPositioning=e2&&e2.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e2&&e2.rotation||0,this._rotationAlignment=e2&&e2.rotationAlignment||"auto",this._pitchAlignment=e2&&e2.pitchAlignment&&e2.pitchAlignment!=="auto"?e2.pitchAlignment:this._rotationAlignment,this.setOpacity(e2==null?void 0:e2.opacity,e2==null?void 0:e2.opacityWhenCovered),e2&&e2.element)this._element=e2.element,this._offset=t.P.convert(e2&&e2.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");const i2=n.createNS("http://www.w3.org/2000/svg","svg"),o2=41,r2=27;i2.setAttributeNS(null,"display","block"),i2.setAttributeNS(null,"height","".concat(o2,"px")),i2.setAttributeNS(null,"width","".concat(r2,"px")),i2.setAttributeNS(null,"viewBox","0 0 ".concat(r2," ").concat(o2));const a2=n.createNS("http://www.w3.org/2000/svg","g");a2.setAttributeNS(null,"stroke","none"),a2.setAttributeNS(null,"stroke-width","1"),a2.setAttributeNS(null,"fill","none"),a2.setAttributeNS(null,"fill-rule","evenodd");const s2=n.createNS("http://www.w3.org/2000/svg","g");s2.setAttributeNS(null,"fill-rule","nonzero");const l2=n.createNS("http://www.w3.org/2000/svg","g");l2.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l2.setAttributeNS(null,"fill","#000000");const c3=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e3 of c3){const t2=n.createNS("http://www.w3.org/2000/svg","ellipse");t2.setAttributeNS(null,"opacity","0.04"),t2.setAttributeNS(null,"cx","10.5"),t2.setAttributeNS(null,"cy","5.80029008"),t2.setAttributeNS(null,"rx",e3.rx),t2.setAttributeNS(null,"ry",e3.ry),l2.appendChild(t2)}const h3=n.createNS("http://www.w3.org/2000/svg","g");h3.setAttributeNS(null,"fill",this._color);const u2=n.createNS("http://www.w3.org/2000/svg","path");u2.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h3.appendChild(u2);const d3=n.createNS("http://www.w3.org/2000/svg","g");d3.setAttributeNS(null,"opacity","0.25"),d3.setAttributeNS(null,"fill","#000000");const _2=n.createNS("http://www.w3.org/2000/svg","path");_2.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d3.appendChild(_2);const p3=n.createNS("http://www.w3.org/2000/svg","g");p3.setAttributeNS(null,"transform","translate(6.0, 7.0)"),p3.setAttributeNS(null,"fill","#FFFFFF");const m2=n.createNS("http://www.w3.org/2000/svg","g");m2.setAttributeNS(null,"transform","translate(8.0, 8.0)");const f2=n.createNS("http://www.w3.org/2000/svg","circle");f2.setAttributeNS(null,"fill","#000000"),f2.setAttributeNS(null,"opacity","0.25"),f2.setAttributeNS(null,"cx","5.5"),f2.setAttributeNS(null,"cy","5.5"),f2.setAttributeNS(null,"r","5.4999962");const g2=n.createNS("http://www.w3.org/2000/svg","circle");g2.setAttributeNS(null,"fill","#FFFFFF"),g2.setAttributeNS(null,"cx","5.5"),g2.setAttributeNS(null,"cy","5.5"),g2.setAttributeNS(null,"r","5.4999962"),m2.appendChild(f2),m2.appendChild(g2),s2.appendChild(l2),s2.appendChild(h3),s2.appendChild(d3),s2.appendChild(p3),s2.appendChild(m2),i2.appendChild(s2),i2.setAttributeNS(null,"height",o2*this._scale+"px"),i2.setAttributeNS(null,"width",r2*this._scale+"px"),this._element.appendChild(i2),this._offset=t.P.convert(e2&&e2.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",e3=>{e3.preventDefault()}),this._element.addEventListener("mousedown",e3=>{e3.preventDefault()}),Xa(this._element,this._anchor,"marker"),e2&&e2.className)for(const t2 of e2.className.split(" "))this._element.classList.add(t2);this._popup=null}addTo(e2){return this.remove(),this._map=e2,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e2._getUIString("Marker.Title")),e2.getCanvasContainer().appendChild(this._element),e2.on("move",this._update),e2.on("moveend",this._update),e2.on("terrain",this._update),e2.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e2){return this._lngLat=t.S.convert(e2),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e2){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e2){if(!("offset"in e2.options)){const o2=Math.abs(13.5)/Math.SQRT2;e2.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[o2,-1*(38.1-13.5+o2)],"bottom-right":[-o2,-1*(38.1-13.5+o2)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=e2,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e2){return this._subpixelPositioning=e2,this}getPopup(){return this._popup}togglePopup(){const e2=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e2?(e2.isOpen()?e2.remove():(e2.setLngLat(this._lngLat),e2.addTo(this._map)),this):this}_updateOpacity(e2=!1){var i2,o2;const r2=(i2=this._map)===null||i2===void 0?void 0:i2.terrain,a2=this._map.transform.isLocationOccluded(this._lngLat);if(!r2||a2){const e3=a2?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==e3&&(this._element.style.opacity=e3))}if(e2)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const s2=this._map,n2=s2.terrain.depthAtPoint(this._pos),l2=s2.terrain.getElevationForLngLatZoom(this._lngLat,s2.transform.tileZoom);if(s2.transform.lngLatToCameraDepth(this._lngLat,l2)-n2<.006)return void(this._element.style.opacity=this._opacity);const c3=-this._offset.y/s2.transform.pixelsPerMeter,h3=Math.sin(s2.getPitch()*Math.PI/180)*c3,u2=s2.terrain.depthAtPoint(new t.P(this._pos.x,this._pos.y-this._offset.y)),d3=s2.transform.lngLatToCameraDepth(this._lngLat,l2+h3)-u2>.006;!((o2=this._popup)===null||o2===void 0)&&o2.isOpen()&&d3&&this._popup.remove(),this._element.style.opacity=d3?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e2){return this._offset=t.P.convert(e2),this._update(),this}addClassName(e2){this._element.classList.add(e2)}removeClassName(e2){this._element.classList.remove(e2)}toggleClassName(e2){return this._element.classList.toggle(e2)}setDraggable(e2){return this._draggable=!!e2,this._map&&(e2?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e2){return this._rotation=e2||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e2){return this._rotationAlignment=e2||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e2){return this._pitchAlignment=e2&&e2!=="auto"?e2:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e2,t2){return(this._opacity===void 0||e2===void 0&&t2===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),e2!==void 0&&(this._opacity=e2),t2!==void 0&&(this._opacityWhenCovered=t2),this._map&&this._updateOpacity(!0),this}};__name(_Ka,"Ka");let Ka=_Ka;const Ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Qa=0,Ja=!1;const es={maxWidth:100,unit:"metric"};function ts(e2,t2,i2){const o2=i2&&i2.maxWidth||100,r2=e2._container.clientHeight/2,a2=e2._container.clientWidth/2,s2=e2.unproject([a2-o2/2,r2]),n2=e2.unproject([a2+o2/2,r2]),l2=Math.round(e2.project(n2).x-e2.project(s2).x),c3=Math.min(o2,l2,e2._container.clientWidth),h3=s2.distanceTo(n2);if(i2&&i2.unit==="imperial"){const i3=3.2808*h3;i3>5280?is(t2,c3,i3/5280,e2._getUIString("ScaleControl.Miles")):is(t2,c3,i3,e2._getUIString("ScaleControl.Feet"))}else i2&&i2.unit==="nautical"?is(t2,c3,h3/1852,e2._getUIString("ScaleControl.NauticalMiles")):h3>=1e3?is(t2,c3,h3/1e3,e2._getUIString("ScaleControl.Kilometers")):is(t2,c3,h3,e2._getUIString("ScaleControl.Meters"))}__name(ts,"ts");function is(e2,t2,i2,o2){const r2=function(e3){const t3=Math.pow(10,"".concat(Math.floor(e3)).length-1);let i3=e3/t3;return i3=i3>=10?10:i3>=5?5:i3>=3?3:i3>=2?2:i3>=1?1:function(e4){const t4=Math.pow(10,Math.ceil(-Math.log(e4)/Math.LN10));return Math.round(e4*t4)/t4}(i3),t3*i3}(i2);e2.style.width=t2*(r2/i2)+"px",e2.innerHTML="".concat(r2,"&nbsp;").concat(o2)}__name(is,"is");const os={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},rs=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function as(e2){if(e2){if(typeof e2=="number"){const i2=Math.round(Math.abs(e2)/Math.SQRT2);return{center:new t.P(0,0),top:new t.P(0,e2),"top-left":new t.P(i2,i2),"top-right":new t.P(-i2,i2),bottom:new t.P(0,-e2),"bottom-left":new t.P(i2,-i2),"bottom-right":new t.P(-i2,-i2),left:new t.P(e2,0),right:new t.P(-e2,0)}}if(e2 instanceof t.P||Array.isArray(e2)){const i2=t.P.convert(e2);return{center:i2,top:i2,"top-left":i2,"top-right":i2,bottom:i2,"bottom-left":i2,"bottom-right":i2,left:i2,right:i2}}return{center:t.P.convert(e2.center||[0,0]),top:t.P.convert(e2.top||[0,0]),"top-left":t.P.convert(e2["top-left"]||[0,0]),"top-right":t.P.convert(e2["top-right"]||[0,0]),bottom:t.P.convert(e2.bottom||[0,0]),"bottom-left":t.P.convert(e2["bottom-left"]||[0,0]),"bottom-right":t.P.convert(e2["bottom-right"]||[0,0]),left:t.P.convert(e2.left||[0,0]),right:t.P.convert(e2.right||[0,0])}}return as(new t.P(0,0))}__name(as,"as");const ss=i;e.AJAXError=t.cy,e.Event=t.l,e.Evented=t.E,e.LngLat=t.S,e.MercatorCoordinate=t.a0,e.Point=t.P,e.addProtocol=t.cz,e.config=t.a,e.removeProtocol=t.cA,e.AttributionControl=Da,e.BoxZoomHandler=$r,e.CanvasSource=Y2,e.CooperativeGesturesHandler=Ca,e.DoubleClickZoomHandler=ba,e.DragPanHandler=wa,e.DragRotateHandler=Ta,e.EdgeInsets=Mt2,e.FullscreenControl=class extends t.E{constructor(e2={}){super(),this._onFullscreenChange=()=>{var e3;let t2=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((e3=t2==null?void 0:t2.shadowRoot)===null||e3===void 0)&&e3.fullscreenElement;)t2=t2.shadowRoot.fullscreenElement;t2===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,e2&&e2.container&&(e2.container instanceof HTMLElement?this._container=e2.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e2){return this._map=e2,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){n.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const e2=this._fullscreenButton=n.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);n.create("span","maplibregl-ctrl-icon",e2).setAttribute("aria-hidden","true"),e2.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const e2=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e2),this._fullscreenButton.title=e2}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new t.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},e.GeoJSONSource=H,e.GeolocateControl=class extends t.E{constructor(e2){super(),this._onSuccess=e3=>{if(this._map){if(this._isOutOfMapMaxBounds(e3))return this._setErrorState(),this.fire(new t.l("outofmaxbounds",e3)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e3,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(e3),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(e3),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.l("geolocate",e3)),this._finish()}},this._updateCamera=e3=>{const i2=new t.S(e3.coords.longitude,e3.coords.latitude),o2=e3.coords.accuracy,r2=this._map.getBearing(),a2=t.e({bearing:r2},this.options.fitBoundsOptions),s2=G.fromLngLat(i2,o2);this._map.fitBounds(s2,a2,{geolocateSource:!0})},this._updateMarker=e3=>{if(e3){const i2=new t.S(e3.coords.longitude,e3.coords.latitude);this._accuracyCircleMarker.setLngLat(i2).addTo(this._map),this._userLocationDotMarker.setLngLat(i2).addTo(this._map),this._accuracy=e3.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e3=>{if(this._map){if(e3.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e4=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e4,this._geolocateButton.setAttribute("aria-label",e4),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(e3.code===3&&Ja)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.l("error",e3)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e3=>e3.preventDefault()),this._geolocateButton=n.create("button","maplibregl-ctrl-geolocate",this._container),n.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e3=>{if(this._map){if(e3===!1){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");const e4=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e4,this._geolocateButton.setAttribute("aria-label",e4)}else{const e4=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=e4,this._geolocateButton.setAttribute("aria-label",e4)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ka({element:this._dotElement}),this._circleElement=n.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ka({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e4=>{e4.geolocateSource||this._watchState!=="ACTIVE_LOCK"||e4.originalEvent&&e4.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.l("trackuserlocationend")),this.fire(new t.l("userlocationlostfocus")))})}},this.options=t.e({},Ya,e2)}onAdd(e2){return this._map=e2,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return t._(this,arguments,void 0,function*(e3=!1){if(qa!==void 0&&!e3)return qa;if(window.navigator.permissions===void 0)return qa=!!window.navigator.geolocation,qa;try{qa=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(e4){qa=!!window.navigator.geolocation}return qa})}().then(e3=>this._finishSetupUI(e3)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Qa=0,Ja=!1}_isOutOfMapMaxBounds(e2){const t2=this._map.getMaxBounds(),i2=e2.coords;return t2&&(i2.longitude<t2.getWest()||i2.longitude>t2.getEast()||i2.latitude<t2.getSouth()||i2.latitude>t2.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}}_updateCircleRadius(){const e2=this._map.getBounds(),t2=e2.getSouthEast(),i2=e2.getNorthEast(),o2=t2.distanceTo(i2),r2=Math.ceil(this._accuracy/(o2/this._map._container.clientHeight)*2);this._circleElement.style.width="".concat(r2,"px"),this._circleElement.style.height="".concat(r2,"px")}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Qa--,Ja=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.l("trackuserlocationstart")),this.fire(new t.l("userlocationfocus"));break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let e2;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Qa++,Qa>1?(e2={maximumAge:6e5,timeout:0},Ja=!0):(e2=this.options.positionOptions,Ja=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e2)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},e.GlobeControl=class{constructor(){this._toggleProjection=()=>{var e2;const t2=(e2=this._map.getProjection())===null||e2===void 0?void 0:e2.type;this._map.setProjection(t2!=="mercator"&&t2?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var e2;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((e2=this._map.getProjection())===null||e2===void 0?void 0:e2.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(e2){return this._map=e2,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=n.create("button","maplibregl-ctrl-globe",this._container),n.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){n.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},e.Hash=Er,e.ImageSource=X,e.KeyboardHandler=pa,e.LngLatBounds=G,e.LogoControl=Aa,e.Map=class extends Ra{constructor(e2){var i2,o2;t.cv.mark(t.cw.create);const r2=Object.assign(Object.assign(Object.assign({},Ga),e2),{canvasContextAttributes:Object.assign(Object.assign({},Ga.canvasContextAttributes),e2.canvasContextAttributes)});if(r2.minZoom!=null&&r2.maxZoom!=null&&r2.minZoom>r2.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(r2.minPitch!=null&&r2.maxPitch!=null&&r2.minPitch>r2.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(r2.minPitch!=null&&r2.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(r2.maxPitch!=null&&r2.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const a2=new Lt2,s2=new Ot;if(r2.minZoom!==void 0&&a2.setMinZoom(r2.minZoom),r2.maxZoom!==void 0&&a2.setMaxZoom(r2.maxZoom),r2.minPitch!==void 0&&a2.setMinPitch(r2.minPitch),r2.maxPitch!==void 0&&a2.setMaxPitch(r2.maxPitch),r2.renderWorldCopies!==void 0&&a2.setRenderWorldCopies(r2.renderWorldCopies),super(a2,s2,{bearingSnap:r2.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new La,this._controls=[],this._mapId=t.a6(),this._contextLost=e3=>{e3.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new t.l("webglcontextlost",{originalEvent:e3}))},this._contextRestored=e3=>{this._setupPainter(),this.resize(),this._update(),this.fire(new t.l("webglcontextrestored",{originalEvent:e3}))},this._onMapScroll=e3=>{if(e3.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=r2.interactive,this._maxTileCacheSize=r2.maxTileCacheSize,this._maxTileCacheZoomLevels=r2.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},r2.canvasContextAttributes),this._trackResize=r2.trackResize===!0,this._bearingSnap=r2.bearingSnap,this._centerClampedToGround=r2.centerClampedToGround,this._refreshExpiredTiles=r2.refreshExpiredTiles===!0,this._fadeDuration=r2.fadeDuration,this._crossSourceCollisions=r2.crossSourceCollisions===!0,this._collectResourceTiming=r2.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Za),r2.locale),this._clickTolerance=r2.clickTolerance,this._overridePixelRatio=r2.pixelRatio,this._maxCanvasSize=r2.maxCanvasSize,this.transformCameraUpdate=r2.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=r2.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=p2.addThrottleControl(()=>this.isMoving()),this._requestManager=new m(r2.transformRequest),typeof r2.container=="string"){if(this._container=document.getElementById(r2.container),!this._container)throw new Error("Container '".concat(r2.container,"' not found."))}else{if(!(r2.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=r2.container}if(r2.maxBounds&&this.setMaxBounds(r2.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let e3=!1;const t2=Sr(e4=>{this._trackResize&&!this._removed&&(this.resize(e4),this.redraw())},50);this._resizeObserver=new ResizeObserver(i3=>{e3?t2(i3):e3=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Ea(this,r2),this._hash=r2.hash&&new Er(typeof r2.hash=="string"&&r2.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:r2.center,elevation:r2.elevation,zoom:r2.zoom,bearing:r2.bearing,pitch:r2.pitch,roll:r2.roll}),r2.bounds&&(this.resize(),this.fitBounds(r2.bounds,t.e({},r2.fitBoundsOptions,{duration:0}))));const n2=typeof r2.style=="string"||((o2=(i2=r2.style)===null||i2===void 0?void 0:i2.projection)===null||o2===void 0?void 0:o2.type)!=="globe";this.resize(null,n2),this._localIdeographFontFamily=r2.localIdeographFontFamily,this._validateStyle=r2.validateStyle,r2.style&&this.setStyle(r2.style,{localIdeographFontFamily:r2.localIdeographFontFamily}),r2.attributionControl&&this.addControl(new Da(typeof r2.attributionControl=="boolean"?void 0:r2.attributionControl)),r2.maplibreLogo&&this.addControl(new Aa,r2.logoPosition),this.on("style.load",()=>{if(n2||this._resizeTransform(),this.transform.unmodified){const e3=t.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(e3)}}),this.on("data",e3=>{this._update(e3.dataType==="style"),this.fire(new t.l("".concat(e3.dataType,"data"),e3))}),this.on("dataloading",e3=>{this.fire(new t.l("".concat(e3.dataType,"dataloading"),e3))}),this.on("dataabort",e3=>{this.fire(new t.l("sourcedataabort",e3))})}_getMapId(){return this._mapId}setGlobalStateProperty(e2,t2){return this.style.setGlobalStateProperty(e2,t2),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(e2,i2){if(i2===void 0&&(i2=e2.getDefaultPosition?e2.getDefaultPosition():"top-right"),!e2||!e2.onAdd)return this.fire(new t.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o2=e2.onAdd(this);this._controls.push(e2);const r2=this._controlPositions[i2];return i2.indexOf("bottom")!==-1?r2.insertBefore(o2,r2.firstChild):r2.appendChild(o2),this}removeControl(e2){if(!e2||!e2.onRemove)return this.fire(new t.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i2=this._controls.indexOf(e2);return i2>-1&&this._controls.splice(i2,1),e2.onRemove(this),this}hasControl(e2){return this._controls.indexOf(e2)>-1}calculateCameraOptionsFromTo(e2,t2,i2,o2){return o2==null&&this.terrain&&(o2=this.terrain.getElevationForLngLatZoom(i2,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e2,t2,i2,o2)}resize(e2,i2=!0){const[o2,r2]=this._containerDimensions(),a2=this._getClampedPixelRatio(o2,r2);if(this._resizeCanvas(o2,r2,a2),this.painter.resize(o2,r2,a2),this.painter.overLimit()){const e3=this.painter.context.gl;this._maxCanvasSize=[e3.drawingBufferWidth,e3.drawingBufferHeight];const t2=this._getClampedPixelRatio(o2,r2);this._resizeCanvas(o2,r2,t2),this.painter.resize(o2,r2,t2)}this._resizeTransform(i2);const s2=!this._moving;return s2&&(this.stop(),this.fire(new t.l("movestart",e2)).fire(new t.l("move",e2))),this.fire(new t.l("resize",e2)),s2&&this.fire(new t.l("moveend",e2)),this}_resizeTransform(e2=!0){var t2;const[i2,o2]=this._containerDimensions();this.transform.resize(i2,o2,e2),(t2=this._requestedCameraState)===null||t2===void 0||t2.resize(i2,o2,e2)}_getClampedPixelRatio(e2,t2){const{0:i2,1:o2}=this._maxCanvasSize,r2=this.getPixelRatio(),a2=e2*r2,s2=t2*r2;return Math.min(a2>i2?i2/a2:1,s2>o2?o2/s2:1)*r2}getPixelRatio(){var e2;return(e2=this._overridePixelRatio)!==null&&e2!==void 0?e2:devicePixelRatio}setPixelRatio(e2){this._overridePixelRatio=e2,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e2){return this.transform.setMaxBounds(G.convert(e2)),this._update()}setMinZoom(e2){if((e2=e2==null?-2:e2)>=-2&&e2<=this.transform.maxZoom)return this.transform.setMinZoom(e2),this._update(),this.getZoom()<e2&&this.setZoom(e2),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e2){if((e2=e2==null?22:e2)>=this.transform.minZoom)return this.transform.setMaxZoom(e2),this._update(),this.getZoom()>e2&&this.setZoom(e2),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e2){if((e2=e2==null?0:e2)<0)throw new Error("minPitch must be greater than or equal to 0");if(e2>=0&&e2<=this.transform.maxPitch)return this.transform.setMinPitch(e2),this._update(),this.getPitch()<e2&&this.setPitch(e2),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e2){if((e2=e2==null?60:e2)>180)throw new Error("maxPitch must be less than or equal to 180");if(e2>=this.transform.minPitch)return this.transform.setMaxPitch(e2),this._update(),this.getPitch()>e2&&this.setPitch(e2),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e2){return this.transform.setRenderWorldCopies(e2),this._update()}project(e2){return this.transform.locationToScreenPoint(t.S.convert(e2),this.style&&this.terrain)}unproject(e2){return this.transform.screenPointToLocation(t.P.convert(e2),this.terrain)}isMoving(){var e2;return this._moving||((e2=this.handlers)===null||e2===void 0?void 0:e2.isMoving())}isZooming(){var e2;return this._zooming||((e2=this.handlers)===null||e2===void 0?void 0:e2.isZooming())}isRotating(){var e2;return this._rotating||((e2=this.handlers)===null||e2===void 0?void 0:e2.isRotating())}_createDelegatedListener(e2,t2,i2){if(e2==="mouseenter"||e2==="mouseover"){let o2=!1;return{layers:t2,listener:i2,delegates:{mousemove:__name(r3=>{const a2=t2.filter(e3=>this.getLayer(e3)),s2=a2.length!==0?this.queryRenderedFeatures(r3.point,{layers:a2}):[];s2.length?o2||(o2=!0,i2.call(this,new jr(e2,this,r3.originalEvent,{features:s2}))):o2=!1},"r"),mouseout:__name(()=>{o2=!1},"mouseout")}}}if(e2==="mouseleave"||e2==="mouseout"){let o2=!1;return{layers:t2,listener:i2,delegates:{mousemove:__name(r3=>{const a3=t2.filter(e3=>this.getLayer(e3));(a3.length!==0?this.queryRenderedFeatures(r3.point,{layers:a3}):[]).length?o2=!0:o2&&(o2=!1,i2.call(this,new jr(e2,this,r3.originalEvent)))},"r"),mouseout:__name(t3=>{o2&&(o2=!1,i2.call(this,new jr(e2,this,t3.originalEvent)))},"a")}}}{const o2=__name(e3=>{const o3=t2.filter(e4=>this.getLayer(e4)),r2=o3.length!==0?this.queryRenderedFeatures(e3.point,{layers:o3}):[];r2.length&&(e3.features=r2,i2.call(this,e3),delete e3.features)},"o");return{layers:t2,listener:i2,delegates:{[e2]:o2}}}}_saveDelegatedListener(e2,t2){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e2]=this._delegatedListeners[e2]||[],this._delegatedListeners[e2].push(t2)}_removeDelegatedListener(e2,t2,i2){if(!this._delegatedListeners||!this._delegatedListeners[e2])return;const o2=this._delegatedListeners[e2];for(let e3=0;e3<o2.length;e3++){const r2=o2[e3];if(r2.listener===i2&&r2.layers.length===t2.length&&r2.layers.every(e4=>t2.includes(e4))){for(const e4 in r2.delegates)this.off(e4,r2.delegates[e4]);return void o2.splice(e3,1)}}}on(e2,t2,i2){if(i2===void 0)return super.on(e2,t2);const o2=typeof t2=="string"?[t2]:t2,r2=this._createDelegatedListener(e2,o2,i2);this._saveDelegatedListener(e2,r2);for(const e3 in r2.delegates)this.on(e3,r2.delegates[e3]);return{unsubscribe:__name(()=>{this._removeDelegatedListener(e2,o2,i2)},"unsubscribe")}}once(e2,t2,i2){if(i2===void 0)return super.once(e2,t2);const o2=typeof t2=="string"?[t2]:t2,r2=this._createDelegatedListener(e2,o2,i2);for(const t3 in r2.delegates){const a2=r2.delegates[t3];r2.delegates[t3]=(...t4)=>{this._removeDelegatedListener(e2,o2,i2),a2(...t4)}}this._saveDelegatedListener(e2,r2);for(const e3 in r2.delegates)this.once(e3,r2.delegates[e3]);return this}off(e2,t2,i2){return i2===void 0?super.off(e2,t2):(this._removeDelegatedListener(e2,typeof t2=="string"?[t2]:t2,i2),this)}queryRenderedFeatures(e2,i2){if(!this.style)return[];let o2;const r2=e2 instanceof t.P||Array.isArray(e2),a2=r2?e2:[[0,0],[this.transform.width,this.transform.height]];if(i2=i2||(r2?{}:e2)||{},a2 instanceof t.P||typeof a2[0]=="number")o2=[t.P.convert(a2)];else{const e3=t.P.convert(a2[0]),i3=t.P.convert(a2[1]);o2=[e3,new t.P(i3.x,e3.y),i3,new t.P(e3.x,i3.y),e3]}return this.style.queryRenderedFeatures(o2,i2,this.transform)}querySourceFeatures(e2,t2){return this.style.querySourceFeatures(e2,t2)}setStyle(e2,i2){return(i2=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i2)).diff!==!1&&i2.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e2?(this._diffStyle(e2,i2),this):(this._localIdeographFontFamily=i2.localIdeographFontFamily,this._updateStyle(e2,i2))}setTransformRequest(e2){return this._requestManager.setTransformRequest(e2),this}_getUIString(e2){const t2=this._locale[e2];if(t2==null)throw new Error("Missing UI string '".concat(e2,"'"));return t2}_updateStyle(e2,t2){var i2,o2;if(t2.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(e2,t2));const r2=this.style&&t2.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e2)),e2?(this.style=new wi(this,t2||{}),this.style.setEventedParent(this,{style:this.style}),typeof e2=="string"?this.style.loadURL(e2,t2,r2):this.style.loadJSON(e2,t2,r2),this):((o2=(i2=this.style)===null||i2===void 0?void 0:i2.projection)===null||o2===void 0||o2.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new wi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e2,i2){if(typeof e2=="string"){const o2=this._requestManager.transformRequest(e2,"Style");t.j(o2,new AbortController).then(e3=>{this._updateDiff(e3.data,i2)}).catch(e3=>{e3&&this.fire(new t.k(e3))})}else typeof e2=="object"&&this._updateDiff(e2,i2)}_updateDiff(e2,i2){try{this.style.setState(e2,i2)&&this._update(!0)}catch(o2){t.w("Unable to perform style diff: ".concat(o2.message||o2.error||o2,".  Rebuilding the style from scratch.")),this._updateStyle(e2,i2)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(e2,t2){return this._lazyInitEmptyStyle(),this.style.addSource(e2,t2),this._update(!0)}isSourceLoaded(e2){const i2=this.style&&this.style.sourceCaches[e2];if(i2!==void 0)return i2.loaded();this.fire(new t.k(new Error("There is no source with ID '".concat(e2,"'"))))}setTerrain(e2){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e2){const i2=this.style.sourceCaches[e2.source];if(!i2)throw new Error("cannot load terrain, because there exists no source with ID: ".concat(e2.source));this.terrain===null&&i2.reload();for(const i3 in this.style._layers){const o2=this.style._layers[i3];o2.type==="hillshade"&&o2.source===e2.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),o2.type==="color-relief"&&o2.source===e2.source&&t.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ba(this.painter,i2,e2),this.painter.renderToTexture=new Na(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=t2=>{var i3;t2.dataType==="style"?this.terrain.sourceCache.freeRtt():t2.dataType==="source"&&t2.tile&&(t2.sourceId!==e2.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((i3=t2.source)===null||i3===void 0?void 0:i3.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(t2.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new t.l("terrain",{terrain:e2})),this}getTerrain(){var e2,t2;return(t2=(e2=this.terrain)===null||e2===void 0?void 0:e2.options)!==null&&t2!==void 0?t2:null}areTilesLoaded(){const e2=this.style&&this.style.sourceCaches;for(const t2 in e2){const i2=e2[t2]._tiles;for(const e3 in i2){const t3=i2[e3];if(t3.state!=="loaded"&&t3.state!=="errored")return!1}}return!0}removeSource(e2){return this.style.removeSource(e2),this._update(!0)}getSource(e2){return this.style.getSource(e2)}setSourceTileLodParams(e2,t2,i2){if(i2){const o2=this.getSource(i2);if(!o2)throw new Error('There is no source with ID "'.concat(i2,'", cannot set LOD parameters'));o2.calculateTileZoom=me(Math.max(1,e2),Math.max(1,t2))}else for(const i3 in this.style.sourceCaches)this.style.sourceCaches[i3].getSource().calculateTileZoom=me(Math.max(1,e2),Math.max(1,t2));return this._update(!0),this}refreshTiles(e2,i2){const o2=this.style.sourceCaches[e2];if(!o2)throw new Error('There is no source cache with ID "'.concat(e2,'", cannot refresh tile'));i2===void 0?o2.reload(!0):o2.refreshTiles(i2.map(e3=>new t.a3(e3.z,e3.x,e3.y)))}addImage(e2,i2,o2={}){const{pixelRatio:r2=1,sdf:a2=!1,stretchX:n2,stretchY:l2,content:c3,textFitWidth:h3,textFitHeight:u2}=o2;if(this._lazyInitEmptyStyle(),!(i2 instanceof HTMLImageElement||t.b(i2))){if(i2.width===void 0||i2.height===void 0)return this.fire(new t.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:o3,height:s2,data:d3}=i2,_2=i2;return this.style.addImage(e2,{data:new t.R({width:o3,height:s2},new Uint8Array(d3)),pixelRatio:r2,stretchX:n2,stretchY:l2,content:c3,textFitWidth:h3,textFitHeight:u2,sdf:a2,version:0,userImage:_2}),_2.onAdd&&_2.onAdd(this,e2),this}}{const{width:o3,height:d3,data:_2}=s.getImageData(i2);this.style.addImage(e2,{data:new t.R({width:o3,height:d3},_2),pixelRatio:r2,stretchX:n2,stretchY:l2,content:c3,textFitWidth:h3,textFitHeight:u2,sdf:a2,version:0})}}updateImage(e2,i2){const o2=this.style.getImage(e2);if(!o2)return this.fire(new t.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r2=i2 instanceof HTMLImageElement||t.b(i2)?s.getImageData(i2):i2,{width:a2,height:n2,data:l2}=r2;if(a2===void 0||n2===void 0)return this.fire(new t.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a2!==o2.data.width||n2!==o2.data.height)return this.fire(new t.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const c3=!(i2 instanceof HTMLImageElement||t.b(i2));return o2.data.replace(l2,c3),this.style.updateImage(e2,o2),this}getImage(e2){return this.style.getImage(e2)}hasImage(e2){return e2?!!this.style.getImage(e2):(this.fire(new t.k(new Error("Missing required image id"))),!1)}removeImage(e2){this.style.removeImage(e2)}loadImage(e2){return p2.getImage(this._requestManager.transformRequest(e2,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(e2,t2){return this._lazyInitEmptyStyle(),this.style.addLayer(e2,t2),this._update(!0)}moveLayer(e2,t2){return this.style.moveLayer(e2,t2),this._update(!0)}removeLayer(e2){return this.style.removeLayer(e2),this._update(!0)}getLayer(e2){return this.style.getLayer(e2)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e2,t2,i2){return this.style.setLayerZoomRange(e2,t2,i2),this._update(!0)}setFilter(e2,t2,i2={}){return this.style.setFilter(e2,t2,i2),this._update(!0)}getFilter(e2){return this.style.getFilter(e2)}setPaintProperty(e2,t2,i2,o2={}){return this.style.setPaintProperty(e2,t2,i2,o2),this._update(!0)}getPaintProperty(e2,t2){return this.style.getPaintProperty(e2,t2)}setLayoutProperty(e2,t2,i2,o2={}){return this.style.setLayoutProperty(e2,t2,i2,o2),this._update(!0)}getLayoutProperty(e2,t2){return this.style.getLayoutProperty(e2,t2)}setGlyphs(e2,t2={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(e2,t2),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e2,t2,i2={}){return this._lazyInitEmptyStyle(),this.style.addSprite(e2,t2,i2,e3=>{e3||this._update(!0)}),this}removeSprite(e2){return this._lazyInitEmptyStyle(),this.style.removeSprite(e2),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e2,t2={}){return this._lazyInitEmptyStyle(),this.style.setSprite(e2,t2,e3=>{e3||this._update(!0)}),this}setLight(e2,t2={}){return this._lazyInitEmptyStyle(),this.style.setLight(e2,t2),this._update(!0)}getLight(){return this.style.getLight()}setSky(e2,t2={}){return this._lazyInitEmptyStyle(),this.style.setSky(e2,t2),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(e2,t2){return this.style.setFeatureState(e2,t2),this._update()}removeFeatureState(e2,t2){return this.style.removeFeatureState(e2,t2),this._update()}getFeatureState(e2){return this.style.getFeatureState(e2)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e2=0,t2=0;return this._container&&(e2=this._container.clientWidth||400,t2=this._container.clientHeight||300),[e2,t2]}_setupContainer(){const e2=this._container;e2.classList.add("maplibregl-map");const t2=this._canvasContainer=n.create("div","maplibregl-canvas-container",e2);this._interactive&&t2.classList.add("maplibregl-interactive"),this._canvas=n.create("canvas","maplibregl-canvas",t2),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const i2=this._containerDimensions(),o2=this._getClampedPixelRatio(i2[0],i2[1]);this._resizeCanvas(i2[0],i2[1],o2);const r2=this._controlContainer=n.create("div","maplibregl-control-container",e2),a2=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e3=>{a2[e3]=n.create("div","maplibregl-ctrl-".concat(e3," "),r2)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e2,t2,i2){this._canvas.width=Math.floor(i2*e2),this._canvas.height=Math.floor(i2*t2),this._canvas.style.width="".concat(e2,"px"),this._canvas.style.height="".concat(t2,"px")}_setupPainter(){const e2=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let t2=null;this._canvas.addEventListener("webglcontextcreationerror",i3=>{t2={requestedAttributes:e2},i3&&(t2.statusMessage=i3.statusMessage,t2.type=i3.type)},{once:!0});let i2=null;if(i2=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,e2):this._canvas.getContext("webgl2",e2)||this._canvas.getContext("webgl",e2),!i2){const e3="Failed to initialize WebGL";throw t2?(t2.message=e3,new Error(JSON.stringify(t2))):new Error(e3)}this.painter=new Mr(i2,this.transform),l.testSupport(i2)}migrateProjection(e2,i2){super.migrateProjection(e2,i2),this.painter.transform=e2,this.fire(new t.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e2){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e2,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e2){return this._update(),this._renderTaskQueue.add(e2)}_cancelRenderFrame(e2){this._renderTaskQueue.remove(e2)}_render(e2){var i2,o2,r2,a2,n2;const l2=this._idleTriggered?this._fadeDuration:0,c3=((i2=this.style.projection)===null||i2===void 0?void 0:i2.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e2),this._removed)return;let h3=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const e3=this.transform.zoom,i3=s.now();this.style.zoomHistory.update(e3,i3);const o3=new t.F(e3,{now:i3,fadeDuration:l2,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),r3=o3.crossFadingFactor();r3===1&&r3===this._crossFadingFactor||(h3=!0,this._crossFadingFactor=r3),this.style.update(o3)}const u2=((o2=this.style.projection)===null||o2===void 0?void 0:o2.transitionState)>0!==c3;(r2=this.style.projection)===null||r2===void 0||r2.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((a2=this.style.projection)===null||a2===void 0?void 0:a2.transitionState,(n2=this.style.projection)===null||n2===void 0?void 0:n2.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||u2)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,l2,this._crossSourceCollisions,u2),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:l2,showPadding:this.showPadding}),this.fire(new t.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.cv.mark(t.cw.load),this.fire(new t.l("load"))),this.style&&(this.style.hasTransitions()||h3)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const d3=this._sourcesDirty||this._styleDirty||this._placementDirty;return d3||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.l("idle")),!this._loaded||this._fullyLoaded||d3||(this._fullyLoaded=!0,t.cv.mark(t.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var e2;this._hash&&this._hash.remove();for(const e3 of this._controls)e3.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),p2.removeThrottleControl(this._imageQueueHandle),(e2=this._resizeObserver)===null||e2===void 0||e2.disconnect();const i2=this.painter.context.gl.getExtension("WEBGL_lose_context");i2!=null&&i2.loseContext&&i2.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),n.remove(this._canvasContainer),n.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),t.cv.clearMetrics(),this._removed=!0,this.fire(new t.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,s.frame(this._frameRequest,e2=>{t.cv.frame(e2),this._frameRequest=null;try{this._render(e2)}catch(e3){if(!t.cx(e3)&&!function(e4){return e4.message===qo}(e3))throw e3}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e2){this._showTileBoundaries!==e2&&(this._showTileBoundaries=e2,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e2){this._showPadding!==e2&&(this._showPadding=e2,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e2){this._showCollisionBoxes!==e2&&(this._showCollisionBoxes=e2,e2?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e2){this._showOverdrawInspector!==e2&&(this._showOverdrawInspector=e2,this._update())}get repaint(){return!!this._repaint}set repaint(e2){this._repaint!==e2&&(this._repaint=e2,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e2){this._vertices=e2,this._update()}get version(){return Ua}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(e2){return this._lazyInitEmptyStyle(),this.style.setProjection(e2),this._update(!0)}},e.MapMouseEvent=jr,e.MapTouchEvent=Nr,e.MapWheelEvent=Zr,e.Marker=Ka,e.NavigationControl=class{constructor(e2){this._updateZoomButtons=()=>{const e3=this._map.getZoom(),t2=e3===this._map.getMaxZoom(),i2=e3===this._map.getMinZoom();this._zoomInButton.disabled=t2,this._zoomOutButton.disabled=i2,this._zoomInButton.setAttribute("aria-disabled",t2.toString()),this._zoomOutButton.setAttribute("aria-disabled",i2.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5),") rotateZ(").concat(-this._map.transform.roll,"deg) rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(-this._map.transform.bearing,"deg)"):this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(-this._map.transform.bearing,"deg)"):this.options.visualizeRoll?"rotate(".concat(-this._map.transform.bearing-this._map.transform.roll,"deg)"):"rotate(".concat(-this._map.transform.bearing,"deg)")},this._setButtonTitle=(e3,t2)=>{const i2=this._map._getUIString("NavigationControl.".concat(t2));e3.title=i2,e3.setAttribute("aria-label",i2)},this.options=t.e({},Va,e2),this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e3=>e3.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e3=>this._map.zoomIn({},{originalEvent:e3})),n.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e3=>this._map.zoomOut({},{originalEvent:e3})),n.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e3=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e3}):this._map.resetNorth({},{originalEvent:e3})}),this._compassIcon=n.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e2){return this._map=e2,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new $a(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e2,t2){const i2=n.create("button",e2,this._container);return i2.type="button",i2.addEventListener("click",t2),i2}},e.Popup=class extends t.E{constructor(e2){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?"".concat(this.options.locationOccludedOpacity):"")},this.remove=()=>(this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new t.l("close"))),this),this._onMouseUp=e3=>{this._update(e3.point)},this._onMouseMove=e3=>{this._update(e3.point)},this._onDrag=e3=>{this._update(e3.point)},this._update=e3=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=n.create("div","maplibregl-popup",this._map.getContainer()),this._tip=n.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e4 of this.options.className.split(" "))this._container.classList.add(e4);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Wa(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e3)return;const t2=this._flatPos=this._pos=this._trackPointer&&e3?e3:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e3?e3:this._map.transform.locationToScreenPoint(this._lngLat));let i2=this.options.anchor;const o2=as(this.options.offset);if(!i2){const e4=this._container.offsetWidth,r3=this._container.offsetHeight;let a2;a2=t2.y+o2.bottom.y<r3?["top"]:t2.y>this._map.transform.height-r3?["bottom"]:[],t2.x<e4/2?a2.push("left"):t2.x>this._map.transform.width-e4/2&&a2.push("right"),i2=a2.length===0?"bottom":a2.join("-")}let r2=t2.add(o2[i2]);this.options.subpixelPositioning||(r2=r2.round()),n.setTransform(this._container,"".concat(Ha[i2]," translate(").concat(r2.x,"px,").concat(r2.y,"px)")),Xa(this._container,i2,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=t.e(Object.create(os),e2)}addTo(e2){return this._map&&this.remove(),this._map=e2,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(e2){return this._lngLat=t.S.convert(e2),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e2){return this.setDOMContent(document.createTextNode(e2))}setHTML(e2){const t2=document.createDocumentFragment(),i2=document.createElement("body");let o2;for(i2.innerHTML=e2;o2=i2.firstChild,o2;)t2.appendChild(o2);return this.setDOMContent(t2)}getMaxWidth(){var e2;return(e2=this._container)===null||e2===void 0?void 0:e2.style.maxWidth}setMaxWidth(e2){return this.options.maxWidth=e2,this._update(),this}setDOMContent(e2){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e2),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e2){return this._container&&this._container.classList.add(e2),this}removeClassName(e2){return this._container&&this._container.classList.remove(e2),this}setOffset(e2){return this.options.offset=e2,this._update(),this}toggleClassName(e2){if(this._container)return this._container.classList.toggle(e2)}setSubpixelPositioning(e2){this.options.subpixelPositioning=e2}_createCloseButton(){this.options.closeButton&&(this._closeButton=n.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e2=this._container.querySelector(rs);e2&&e2.focus()}},e.RasterDEMTileSource=W,e.RasterTileSource=q2,e.ScaleControl=class{constructor(e2){this._onMove=()=>{ts(this._map,this._container,this.options)},this.setUnit=e3=>{this.options.unit=e3,ts(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},es),e2)}getDefaultPosition(){return"bottom-left"}onAdd(e2){return this._map=e2,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e2.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},e.ScrollZoomHandler=va,e.Style=wi,e.TerrainControl=class{constructor(e2){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=e2}onAdd(e2){return this._map=e2,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=n.create("button","maplibregl-ctrl-terrain",this._container),n.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){n.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},e.TwoFingersTouchPitchHandler=da,e.TwoFingersTouchRotateHandler=ha,e.TwoFingersTouchZoomHandler=la,e.TwoFingersTouchZoomRotateHandler=Pa,e.VectorTileSource=$,e.VideoSource=K,e.addSourceType=(e2,i2)=>t._(void 0,void 0,void 0,function*(){if(J(e2))throw new Error('A source type called "'.concat(e2,'" already exists.'));((e3,t2)=>{Q2[e3]=t2})(e2,i2)}),e.clearPrewarmedResources=function(){const e2=A;e2&&(e2.isPreloaded()&&e2.numActive()===1?(e2.release(R),A=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},e.createTileMesh=Xt,e.getMaxParallelImageRequests=function(){return t.a.MAX_PARALLEL_IMAGE_REQUESTS},e.getRTLTextPluginStatus=function(){return oe().getRTLTextPluginStatus()},e.getVersion=function(){return ss},e.getWorkerCount=function(){return z.workerCount},e.getWorkerUrl=function(){return t.a.WORKER_URL},e.importScriptInWorkers=function(e2){return B2().broadcast("IS",e2)},e.prewarm=function(){k().acquire(R)},e.setMaxParallelImageRequests=function(e2){t.a.MAX_PARALLEL_IMAGE_REQUESTS=e2},e.setRTLTextPlugin=function(e2,t2){return oe().setRTLTextPlugin(e2,t2)},e.setWorkerCount=function(e2){z.workerCount=e2},e.setWorkerUrl=function(e2){t.a.WORKER_URL=e2}});var maplibregl$1=maplibregl;return maplibregl$1})}(maplibreGl$1)),maplibreGl$1.exports}__name(requireMaplibreGl,"requireMaplibreGl");var maplibreGlExports=requireMaplibreGl();function ampCount(selector){let cnt=0;for(let i=0;i<selector.length;++i)selector[i]==="&"&&++cnt;return cnt}__name(ampCount,"ampCount");const seperatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(amp,selector){const nextAmp=[];return selector.split(seperatorRegex).forEach(partialSelector=>{let round=ampCount(partialSelector);if(round){if(round===1){amp.forEach(partialAmp=>{nextAmp.push(partialSelector.replace("&",partialAmp))});return}}else{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)});return}let partialNextAmp=[partialSelector];for(;round--;){const nextPartialNextAmp=[];partialNextAmp.forEach(selectorItr=>{amp.forEach(partialAmp=>{nextPartialNextAmp.push(selectorItr.replace("&",partialAmp))})}),partialNextAmp=nextPartialNextAmp}partialNextAmp.forEach(part=>nextAmp.push(part))}),nextAmp}__name(resolveSelectorWithAmp,"resolveSelectorWithAmp");function resolveSelector(amp,selector){const nextAmp=[];return selector.split(seperatorRegex).forEach(partialSelector=>{amp.forEach(partialAmp=>{nextAmp.push((partialAmp&&partialAmp+" ")+partialSelector)})}),nextAmp}__name(resolveSelector,"resolveSelector");function parseSelectorPath(selectorPaths){let amp=[""];return selectorPaths.forEach(selector=>{selector=selector&&selector.trim(),selector&&(selector.includes("&")?amp=resolveSelectorWithAmp(amp,selector):amp=resolveSelector(amp,selector))}),amp.join(", ").replace(extraSpaceRegex," ")}__name(parseSelectorPath,"parseSelectorPath");const kebabRegex=/[A-Z]/g;function kebabCase(pattern){return pattern.replace(kebabRegex,match=>"-"+match.toLowerCase())}__name(kebabCase,"kebabCase");function upwrapProperty(prop,indent="  "){return typeof prop=="object"&&prop!==null?" {\n"+Object.entries(prop).map(v=>indent+"  ".concat(kebabCase(v[0]),": ").concat(v[1],";")).join("\n")+"\n"+indent+"}":": ".concat(prop,";")}__name(upwrapProperty,"upwrapProperty");function upwrapProperties(props,instance2,params){return typeof props=="function"?props({context:instance2.context,props:params}):props}__name(upwrapProperties,"upwrapProperties");function createStyle(selector,props,instance2,params){if(!props)return"";const unwrappedProps=upwrapProperties(props,instance2,params);if(!unwrappedProps)return"";if(typeof unwrappedProps=="string")return"".concat(selector," {\n").concat(unwrappedProps,"\n}");const propertyNames=Object.keys(unwrappedProps);if(propertyNames.length===0)return instance2.config.keepEmptyBlock?selector+" {\n}":"";const statements=selector?[selector+" {"]:[];return propertyNames.forEach(propertyName=>{const property2=unwrappedProps[propertyName];if(propertyName==="raw"){statements.push("\n"+property2+"\n");return}propertyName=kebabCase(propertyName),property2!=null&&statements.push("  ".concat(propertyName).concat(upwrapProperty(property2)))}),selector&&statements.push("}"),statements.join("\n")}__name(createStyle,"createStyle");function loopCNodeListWithCallback(children,options,callback){children&&children.forEach(child=>{if(Array.isArray(child))loopCNodeListWithCallback(child,options,callback);else if(typeof child=="function"){const grandChildren=child(options);Array.isArray(grandChildren)?loopCNodeListWithCallback(grandChildren,options,callback):grandChildren&&callback(grandChildren)}else child&&callback(child)})}__name(loopCNodeListWithCallback,"loopCNodeListWithCallback");function traverseCNode(node,selectorPaths,styles,instance2,params,styleSheet){const $=node.$;!$||typeof $=="string"?selectorPaths.push($):typeof $=="function"?selectorPaths.push($({context:instance2.context,props:params})):($.before&&$.before(instance2.context),!$.$||typeof $.$=="string"?selectorPaths.push($.$):$.$&&selectorPaths.push($.$({context:instance2.context,props:params})));const selector=parseSelectorPath(selectorPaths),style2=createStyle(selector,node.props,instance2,params);styleSheet&&style2&&styleSheet.insertRule(style2),!styleSheet&&style2.length&&styles.push(style2),node.children&&loopCNodeListWithCallback(node.children,{context:instance2.context,props:params},childNode=>{if(typeof childNode=="string"){const style3=createStyle(selector,{raw:childNode},instance2,params);styleSheet?styleSheet.insertRule(style3):styles.push(style3)}else traverseCNode(childNode,selectorPaths,styles,instance2,params,styleSheet)}),selectorPaths.pop(),$&&$.after&&$.after(instance2.context)}__name(traverseCNode,"traverseCNode");function render4(node,instance2,props,insertRule=!1){const styles=[];return traverseCNode(node,[],styles,instance2,props,insertRule?node.instance.__styleSheet:void 0),insertRule?"":styles.join("\n\n")}__name(render4,"render");function removeElement(el){if(!el)return;const parentElement=el.parentElement;parentElement&&parentElement.removeChild(el)}__name(removeElement,"removeElement");function queryElement(id){return document.querySelector('style[cssr-id="'.concat(id,'"]'))}__name(queryElement,"queryElement");function createElement(id){const el=document.createElement("style");return el.setAttribute("cssr-id",id),el}__name(createElement,"createElement");window&&(window.__cssrContext={});function getCount(el){const count=el.getAttribute("mount-count");return count===null?null:Number(count)}__name(getCount,"getCount");function setCount(el,count){el.setAttribute("mount-count",String(count))}__name(setCount,"setCount");function unmount(intance,node,id,count){const{els}=node;if(id===void 0)els.forEach(removeElement),node.els=[];else{const target=queryElement(id);if(target&&els.includes(target)){const mountCount=getCount(target);count?mountCount===null?console.error("[css-render/unmount]: The style with target='".concat(id,"' is mounted in count mode.")):mountCount<=1?(removeElement(target),node.els=els.filter(el=>el!==target)):setCount(target,mountCount-1):mountCount!==null?console.error("[css-render/unmount]: The style with target='".concat(id,"' is mounted in no-count mode.")):(removeElement(target),node.els=els.filter(el=>el!==target))}}}__name(unmount,"unmount");function addElementToList(els,target){els.push(target)}__name(addElementToList,"addElementToList");function mount(instance2,node,id,props,head,count,boost,force,ssrAdapter2){if(boost&&!ssrAdapter2){if(id===void 0){console.error("[css-render/mount]: `id` is required in `boost` mode.");return}const cssrContext=window.__cssrContext;cssrContext[id]||(cssrContext[id]=!0,render4(node,instance2,props,boost));return}let target;const{els}=node;let style2;if(id===void 0&&(style2=node.render(props),id=murmur2(style2)),ssrAdapter2){ssrAdapter2(id,style2!=null?style2:node.render(props));return}const queriedTarget=queryElement(id);if(force||queriedTarget===null){if(target=queriedTarget===null?createElement(id):queriedTarget,style2===void 0&&(style2=node.render(props)),target.textContent=style2,queriedTarget!==null)return;if(head){const firstStyleEl=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(target,firstStyleEl)}else document.head.appendChild(target);count&&setCount(target,1),addElementToList(els,target)}else{const mountCount=getCount(queriedTarget);count?mountCount===null?console.error("[css-render/mount]: The style with id='".concat(id,"' has been mounted in no-count mode.")):setCount(queriedTarget,mountCount+1):mountCount!==null&&console.error("[css-render/mount]: The style with id='".concat(id,"' has been mounted in count mode."))}return queriedTarget!=null?queriedTarget:target}__name(mount,"mount");function wrappedRender(props){return render4(this,this.instance,props)}__name(wrappedRender,"wrappedRender");function wrappedMount(options={}){const{target,id,ssr,props,count=!1,head=!1,boost=!1,force=!1}=options;return mount(this.instance,this,id!=null?id:target,props,head,count,boost,force,ssr)}__name(wrappedMount,"wrappedMount");function wrappedUnmount(options={}){const{id,target,delay=0,count=!1}=options;delay===0?unmount(this.instance,this,id!=null?id:target,count):setTimeout(()=>unmount(this.instance,this,id!=null?id:target,count),delay)}__name(wrappedUnmount,"wrappedUnmount");const createCNode=__name(function(instance2,$,props,children){return{instance:instance2,$,props,children,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},"createCNode"),c$1=__name(function(instance2,$,props,children){return Array.isArray($)?createCNode(instance2,{$:null},null,$):Array.isArray(props)?createCNode(instance2,$,null,props):Array.isArray(children)?createCNode(instance2,$,props,children):createCNode(instance2,$,props,null)},"c$1");function CssRender(config={}){let styleSheet=null;const cssr2={c:__name((...args)=>c$1(cssr2,...args),"c"),use:__name((plugin2,...args)=>plugin2.install(cssr2,...args),"use"),find:queryElement,context:{},config,get __styleSheet(){if(!styleSheet){const style2=document.createElement("style");return document.head.appendChild(style2),styleSheet=document.styleSheets[document.styleSheets.length-1],styleSheet}return styleSheet}};return cssr2}__name(CssRender,"CssRender");const{c}=CssRender(),style=c(".xicon",{width:"1em",height:"1em",display:"inline-flex"},[c("svg",{width:"1em",height:"1em"}),c("svg:not([fill])",{fill:"currentColor"})]),mountStyle=__name(()=>{style.mount({id:"xicons-icon"})},"mountStyle");var BaseDirectory;(function(BaseDirectory2){BaseDirectory2[BaseDirectory2.Audio=1]="Audio",BaseDirectory2[BaseDirectory2.Cache=2]="Cache",BaseDirectory2[BaseDirectory2.Config=3]="Config",BaseDirectory2[BaseDirectory2.Data=4]="Data",BaseDirectory2[BaseDirectory2.LocalData=5]="LocalData",BaseDirectory2[BaseDirectory2.Document=6]="Document",BaseDirectory2[BaseDirectory2.Download=7]="Download",BaseDirectory2[BaseDirectory2.Picture=8]="Picture",BaseDirectory2[BaseDirectory2.Public=9]="Public",BaseDirectory2[BaseDirectory2.Video=10]="Video",BaseDirectory2[BaseDirectory2.Resource=11]="Resource",BaseDirectory2[BaseDirectory2.Temp=12]="Temp",BaseDirectory2[BaseDirectory2.AppConfig=13]="AppConfig",BaseDirectory2[BaseDirectory2.AppData=14]="AppData",BaseDirectory2[BaseDirectory2.AppLocalData=15]="AppLocalData",BaseDirectory2[BaseDirectory2.AppCache=16]="AppCache",BaseDirectory2[BaseDirectory2.AppLog=17]="AppLog",BaseDirectory2[BaseDirectory2.Desktop=18]="Desktop",BaseDirectory2[BaseDirectory2.Executable=19]="Executable",BaseDirectory2[BaseDirectory2.Font=20]="Font",BaseDirectory2[BaseDirectory2.Home=21]="Home",BaseDirectory2[BaseDirectory2.Runtime=22]="Runtime",BaseDirectory2[BaseDirectory2.Template=23]="Template"})(BaseDirectory||(BaseDirectory={}));var SeekMode;(function(SeekMode2){SeekMode2[SeekMode2.Start=0]="Start",SeekMode2[SeekMode2.Current=1]="Current",SeekMode2[SeekMode2.End=2]="End"})(SeekMode||(SeekMode={}));const creditInfo=JSON.parse('[{"id":"tauri","name":"Tauri","description":"A framework for building tiny, fast binaries for all major desktop and mobile platforms.","url":"https://github.com/tauri-apps/tauri","homepage":"https://v2.tauri.app/","licenseType":"MIT","license":"Code: (c) 2015 - Present - The Tauri Programme within The Commons Conservancy.\\n\\nMIT or MIT/Apache 2.0 where applicable."},{"id":"uuid","name":"uuid","description":"Generate a universally unique identifier (UUID) in JavaScript.","url":"https://github.com/uuidjs/uuid","licenseType":"MIT","license":"The MIT License (MIT)\\n\\n\\t\\tCopyright (c) 2010-2020 Robert Kieffer and other contributors\\n\\n\\t\\tPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\"Software\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n\\n\\t\\tThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n\\t\\t\\n\\t\\tTHE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."},{"id":"vue","name":"Vue.js","description":"An approachable, performant and versatile framework for building web user interfaces.","url":"https://github.com/vuejs/core","homepage":"https://vuejs.org","licenseType":"MIT","license":"\\n        The MIT License (MIT)\\n\\n\\t\\tCopyright (c) 2018-present, Yuxi (Evan) You and Vue contributors\\n\\n\\t\\tPermission is hereby granted, free of charge, to any person obtaining a copy\\n\\t\\tof this software and associated documentation files (the \\"Software\\"), to deal\\n\\t\\tin the Software without restriction, including without limitation the rights\\n\\t\\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n\\t\\tcopies of the Software, and to permit persons to whom the Software is\\n\\t\\tfurnished to do so, subject to the following conditions:\\n\\n\\t\\tThe above copyright notice and this permission notice shall be included in\\n\\t\\tall copies or substantial portions of the Software.\\n\\n\\t\\tTHE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n\\t\\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n\\t\\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n\\t\\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n\\t\\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n\\t\\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n\\t\\tTHE SOFTWARE."},{"id":"vue-router","name":"Vue Router","description":"Expressive, configurable and convenient routing for Vue.js.","url":"https://github.com/vuejs/router","homepage":"https://router.vuejs.org/","licenseType":"MIT","license":"\\n        The MIT License (MIT)\\n\\n        Copyright (c) 2019-present Eduardo San Martin Morote\\n\\n        Permission is hereby granted, free of charge, to any person obtaining a copy\\n        of this software and associated documentation files (the \\"Software\\"), to deal\\n        in the Software without restriction, including without limitation the rights\\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n        copies of the Software, and to permit persons to whom the Software is\\n        furnished to do so, subject to the following conditions:\\n\\n        The above copyright notice and this permission notice shall be included in all\\n        copies or substantial portions of the Software.\\n\\n        THE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\n        SOFTWARE."},{"id":"naive-ui","name":"Naive UI","description":"A Vue 3 based UI Components Library","url":"https://github.com/tusen-ai/naive-ui","homepage":"https://www.naiveui.com","licenseType":"MIT","license":"\\n        MIT License\\n\\n        Copyright (c) 2021 TuSimple\\n\\n        Permission is hereby granted, free of charge, to any person obtaining a copy\\n        of this software and associated documentation files (the \\"Software\\"), to deal\\n        in the Software without restriction, including without limitation the rights\\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n        copies of the Software, and to permit persons to whom the Software is\\n        furnished to do so, subject to the following conditions:\\n\\n        The above copyright notice and this permission notice shall be included in all\\n        copies or substantial portions of the Software.\\n\\n        THE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\n        SOFTWARE."},{"id":"uaparser-js","name":"UAParser.js","description":"The most comprehensive, compact, & up-to-date JavaScript library to detect user\'s Browser.","url":"https://github.com/faisalman/ua-parser-js","homepage":"https://uaparser.js.org/","licenseType":"AGPL-3.0","license":"\\n        GNU AFFERO GENERAL PUBLIC LICENSE\\n\\n        Version 3, 19 November 2007\\n\\nCopyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>\\nEveryone is permitted to copy and distribute verbatim copies\\nof this license document, but changing it is not allowed.\\n\\n             Preamble\\n\\nThe GNU Affero General Public License is a free, copyleft license for\\nsoftware and other kinds of works, specifically designed to ensure\\ncooperation with the community in the case of network server software.\\n\\nThe licenses for most software and other practical works are designed\\nto take away your freedom to share and change the works.  By contrast,\\nour General Public Licenses are intended to guarantee your freedom to\\nshare and change all versions of a program--to make sure it remains free\\nsoftware for all its users.\\n\\nWhen we speak of free software, we are referring to freedom, not\\nprice.  Our General Public Licenses are designed to make sure that you\\nhave the freedom to distribute copies of free software (and charge for\\nthem if you wish), that you receive source code or can get it if you\\nwant it, that you can change the software or use pieces of it in new\\nfree programs, and that you know you can do these things.\\n\\nDevelopers that use our General Public Licenses protect your rights\\nwith two steps: (1) assert copyright on the software, and (2) offer\\nyou this License which gives you legal permission to copy, distribute\\nand/or modify the software.\\n\\nA secondary benefit of defending all users\' freedom is that\\nimprovements made in alternate versions of the program, if they\\nreceive widespread use, become available for other developers to\\nincorporate.  Many developers of free software are heartened and\\nencouraged by the resulting cooperation.  However, in the case of\\nsoftware used on network servers, this result may fail to come about.\\nThe GNU General Public License permits making a modified version and\\nletting the public access it on a server without ever releasing its\\nsource code to the public.\\n\\nThe GNU Affero General Public License is designed specifically to\\nensure that, in such cases, the modified source code becomes available\\nto the community.  It requires the operator of a network server to\\nprovide the source code of the modified version running there to the\\nusers of that server.  Therefore, public use of a modified version, on\\na publicly accessible server, gives the public access to the source\\ncode of the modified version.\\n\\nAn older license, called the Affero General Public License and\\npublished by Affero, was designed to accomplish similar goals.  This is\\na different license, not a version of the Affero GPL, but Affero has\\nreleased a new version of the Affero GPL which permits relicensing under\\nthis license.\\n\\nThe precise terms and conditions for copying, distribution and\\nmodification follow.\\n\\n        TERMS AND CONDITIONS\\n\\n0. Definitions.\\n\\n\\"This License\\" refers to version 3 of the GNU Affero General Public License.\\n\\n\\"Copyright\\" also means copyright-like laws that apply to other kinds of\\nworks, such as semiconductor masks.\\n\\n\\"The Program\\" refers to any copyrightable work licensed under this\\nLicense.  Each licensee is addressed as \\"you\\".  \\"Licensees\\" and\\n\\"recipients\\" may be individuals or organizations.\\n\\nTo \\"modify\\" a work means to copy from or adapt all or part of the work\\nin a fashion requiring copyright permission, other than the making of an\\nexact copy.  The resulting work is called a \\"modified version\\" of the\\nearlier work or a work \\"based on\\" the earlier work.\\n\\nA \\"covered work\\" means either the unmodified Program or a work based\\non the Program.\\n\\nTo \\"propagate\\" a work means to do anything with it that, without\\npermission, would make you directly or secondarily liable for\\ninfringement under applicable copyright law, except executing it on a\\ncomputer or modifying a private copy.  Propagation includes copying,\\ndistribution (with or without modification), making available to the\\npublic, and in some countries other activities as well.\\n\\nTo \\"convey\\" a work means any kind of propagation that enables other\\nparties to make or receive copies.  Mere interaction with a user through\\na computer network, with no transfer of a copy, is not conveying.\\n\\nAn interactive user interface displays \\"Appropriate Legal Notices\\"\\nto the extent that it includes a convenient and prominently visible\\nfeature that (1) displays an appropriate copyright notice, and (2)\\ntells the user that there is no warranty for the work (except to the\\nextent that warranties are provided), that licensees may convey the\\nwork under this License, and how to view a copy of this License.  If\\nthe interface presents a list of user commands or options, such as a\\nmenu, a prominent item in the list meets this criterion.\\n\\n1. Source Code.\\n\\nThe \\"source code\\" for a work means the preferred form of the work\\nfor making modifications to it.  \\"Object code\\" means any non-source\\nform of a work.\\n\\nA \\"Standard Interface\\" means an interface that either is an official\\nstandard defined by a recognized standards body, or, in the case of\\ninterfaces specified for a particular programming language, one that\\nis widely used among developers working in that language.\\n\\nThe \\"System Libraries\\" of an executable work include anything, other\\nthan the work as a whole, that (a) is included in the normal form of\\npackaging a Major Component, but which is not part of that Major\\nComponent, and (b) serves only to enable use of the work with that\\nMajor Component, or to implement a Standard Interface for which an\\nimplementation is available to the public in source code form.  A\\n\\"Major Component\\", in this context, means a major essential component\\n(kernel, window system, and so on) of the specific operating system\\n(if any) on which the executable work runs, or a compiler used to\\nproduce the work, or an object code interpreter used to run it.\\n\\nThe \\"Corresponding Source\\" for a work in object code form means all\\nthe source code needed to generate, install, and (for an executable\\nwork) run the object code and to modify the work, including scripts to\\ncontrol those activities.  However, it does not include the work\'s\\nSystem Libraries, or general-purpose tools or generally available free\\nprograms which are used unmodified in performing those activities but\\nwhich are not part of the work.  For example, Corresponding Source\\nincludes interface definition files associated with source files for\\nthe work, and the source code for shared libraries and dynamically\\nlinked subprograms that the work is specifically designed to require,\\nsuch as by intimate data communication or control flow between those\\nsubprograms and other parts of the work.\\n\\nThe Corresponding Source need not include anything that users\\ncan regenerate automatically from other parts of the Corresponding\\nSource.\\n\\nThe Corresponding Source for a work in source code form is that\\nsame work.\\n\\n2. Basic Permissions.\\n\\nAll rights granted under this License are granted for the term of\\ncopyright on the Program, and are irrevocable provided the stated\\nconditions are met.  This License explicitly affirms your unlimited\\npermission to run the unmodified Program.  The output from running a\\ncovered work is covered by this License only if the output, given its\\ncontent, constitutes a covered work.  This License acknowledges your\\nrights of fair use or other equivalent, as provided by copyright law.\\n\\nYou may make, run and propagate covered works that you do not\\nconvey, without conditions so long as your license otherwise remains\\nin force.  You may convey covered works to others for the sole purpose\\nof having them make modifications exclusively for you, or provide you\\nwith facilities for running those works, provided that you comply with\\nthe terms of this License in conveying all material for which you do\\nnot control copyright.  Those thus making or running the covered works\\nfor you must do so exclusively on your behalf, under your direction\\nand control, on terms that prohibit them from making any copies of\\nyour copyrighted material outside their relationship with you.\\n\\nConveying under any other circumstances is permitted solely under\\nthe conditions stated below.  Sublicensing is not allowed; section 10\\nmakes it unnecessary.\\n\\n3. Protecting Users\' Legal Rights From Anti-Circumvention Law.\\n\\nNo covered work shall be deemed part of an effective technological\\nmeasure under any applicable law fulfilling obligations under article\\n11 of the WIPO copyright treaty adopted on 20 December 1996, or\\nsimilar laws prohibiting or restricting circumvention of such\\nmeasures.\\n\\nWhen you convey a covered work, you waive any legal power to forbid\\ncircumvention of technological measures to the extent such circumvention\\nis effected by exercising rights under this License with respect to\\nthe covered work, and you disclaim any intention to limit operation or\\nmodification of the work as a means of enforcing, against the work\'s\\nusers, your or third parties\' legal rights to forbid circumvention of\\ntechnological measures.\\n\\n4. Conveying Verbatim Copies.\\n\\nYou may convey verbatim copies of the Program\'s source code as you\\nreceive it, in any medium, provided that you conspicuously and\\nappropriately publish on each copy an appropriate copyright notice;\\nkeep intact all notices stating that this License and any\\nnon-permissive terms added in accord with section 7 apply to the code;\\nkeep intact all notices of the absence of any warranty; and give all\\nrecipients a copy of this License along with the Program.\\n\\nYou may charge any price or no price for each copy that you convey,\\nand you may offer support or warranty protection for a fee.\\n\\n5. Conveying Modified Source Versions.\\n\\nYou may convey a work based on the Program, or the modifications to\\nproduce it from the Program, in the form of source code under the\\nterms of section 4, provided that you also meet all of these conditions:\\n\\na) The work must carry prominent notices stating that you modified\\nit, and giving a relevant date.\\n\\nb) The work must carry prominent notices stating that it is\\nreleased under this License and any conditions added under section\\n7.  This requirement modifies the requirement in section 4 to\\n\\"keep intact all notices\\".\\n\\nc) You must license the entire work, as a whole, under this\\nLicense to anyone who comes into possession of a copy.  This\\nLicense will therefore apply, along with any applicable section 7\\nadditional terms, to the whole of the work, and all its parts,\\nregardless of how they are packaged.  This License gives no\\npermission to license the work in any other way, but it does not\\ninvalidate such permission if you have separately received it.\\n\\nd) If the work has interactive user interfaces, each must display\\nAppropriate Legal Notices; however, if the Program has interactive\\ninterfaces that do not display Appropriate Legal Notices, your\\nwork need not make them do so.\\n\\nA compilation of a covered work with other separate and independent\\nworks, which are not by their nature extensions of the covered work,\\nand which are not combined with it such as to form a larger program,\\nin or on a volume of a storage or distribution medium, is called an\\n\\"aggregate\\" if the compilation and its resulting copyright are not\\nused to limit the access or legal rights of the compilation\'s users\\nbeyond what the individual works permit.  Inclusion of a covered work\\nin an aggregate does not cause this License to apply to the other\\nparts of the aggregate.\\n\\n6. Conveying Non-Source Forms.\\n\\nYou may convey a covered work in object code form under the terms\\nof sections 4 and 5, provided that you also convey the\\nmachine-readable Corresponding Source under the terms of this License,\\nin one of these ways:\\n\\na) Convey the object code in, or embodied in, a physical product\\n(including a physical distribution medium), accompanied by the\\nCorresponding Source fixed on a durable physical medium\\ncustomarily used for software interchange.\\n\\nb) Convey the object code in, or embodied in, a physical product\\n(including a physical distribution medium), accompanied by a\\nwritten offer, valid for at least three years and valid for as\\nlong as you offer spare parts or customer support for that product\\nmodel, to give anyone who possesses the object code either (1) a\\ncopy of the Corresponding Source for all the software in the\\nproduct that is covered by this License, on a durable physical\\nmedium customarily used for software interchange, for a price no\\nmore than your reasonable cost of physically performing this\\nconveying of source, or (2) access to copy the\\nCorresponding Source from a network server at no charge.\\n\\nc) Convey individual copies of the object code with a copy of the\\nwritten offer to provide the Corresponding Source.  This\\nalternative is allowed only occasionally and noncommercially, and\\nonly if you received the object code with such an offer, in accord\\nwith subsection 6b.\\n\\nd) Convey the object code by offering access from a designated\\nplace (gratis or for a charge), and offer equivalent access to the\\nCorresponding Source in the same way through the same place at no\\nfurther charge.  You need not require recipients to copy the\\nCorresponding Source along with the object code.  If the place to\\ncopy the object code is a network server, the Corresponding Source\\nmay be on a different server (operated by you or a third party)\\nthat supports equivalent copying facilities, provided you maintain\\nclear directions next to the object code saying where to find the\\nCorresponding Source.  Regardless of what server hosts the\\nCorresponding Source, you remain obligated to ensure that it is\\navailable for as long as needed to satisfy these requirements.\\n\\ne) Convey the object code using peer-to-peer transmission, provided\\nyou inform other peers where the object code and Corresponding\\nSource of the work are being offered to the general public at no\\ncharge under subsection 6d.\\n\\nA separable portion of the object code, whose source code is excluded\\nfrom the Corresponding Source as a System Library, need not be\\nincluded in conveying the object code work.\\n\\nA \\"User Product\\" is either (1) a \\"consumer product\\", which means any\\ntangible personal property which is normally used for personal, family,\\nor household purposes, or (2) anything designed or sold for incorporation\\ninto a dwelling.  In determining whether a product is a consumer product,\\ndoubtful cases shall be resolved in favor of coverage.  For a particular\\nproduct received by a particular user, \\"normally used\\" refers to a\\ntypical or common use of that class of product, regardless of the status\\nof the particular user or of the way in which the particular user\\nactually uses, or expects or is expected to use, the product.  A product\\nis a consumer product regardless of whether the product has substantial\\ncommercial, industrial or non-consumer uses, unless such uses represent\\nthe only significant mode of use of the product.\\n\\n\\"Installation Information\\" for a User Product means any methods,\\nprocedures, authorization keys, or other information required to install\\nand execute modified versions of a covered work in that User Product from\\na modified version of its Corresponding Source.  The information must\\nsuffice to ensure that the continued functioning of the modified object\\ncode is in no case prevented or interfered with solely because\\nmodification has been made.\\n\\nIf you convey an object code work under this section in, or with, or\\nspecifically for use in, a User Product, and the conveying occurs as\\npart of a transaction in which the right of possession and use of the\\nUser Product is transferred to the recipient in perpetuity or for a\\nfixed term (regardless of how the transaction is characterized), the\\nCorresponding Source conveyed under this section must be accompanied\\nby the Installation Information.  But this requirement does not apply\\nif neither you nor any third party retains the ability to install\\nmodified object code on the User Product (for example, the work has\\nbeen installed in ROM).\\n\\nThe requirement to provide Installation Information does not include a\\nrequirement to continue to provide support service, warranty, or updates\\nfor a work that has been modified or installed by the recipient, or for\\nthe User Product in which it has been modified or installed.  Access to a\\nnetwork may be denied when the modification itself materially and\\nadversely affects the operation of the network or violates the rules and\\nprotocols for communication across the network.\\n\\nCorresponding Source conveyed, and Installation Information provided,\\nin accord with this section must be in a format that is publicly\\ndocumented (and with an implementation available to the public in\\nsource code form), and must require no special password or key for\\nunpacking, reading or copying.\\n\\n7. Additional Terms.\\n\\n\\"Additional permissions\\" are terms that supplement the terms of this\\nLicense by making exceptions from one or more of its conditions.\\nAdditional permissions that are applicable to the entire Program shall\\nbe treated as though they were included in this License, to the extent\\nthat they are valid under applicable law.  If additional permissions\\napply only to part of the Program, that part may be used separately\\nunder those permissions, but the entire Program remains governed by\\nthis License without regard to the additional permissions.\\n\\nWhen you convey a copy of a covered work, you may at your option\\nremove any additional permissions from that copy, or from any part of\\nit.  (Additional permissions may be written to require their own\\nremoval in certain cases when you modify the work.)  You may place\\nadditional permissions on material, added by you to a covered work,\\nfor which you have or can give appropriate copyright permission.\\n\\nNotwithstanding any other provision of this License, for material you\\nadd to a covered work, you may (if authorized by the copyright holders of\\nthat material) supplement the terms of this License with terms:\\n\\na) Disclaiming warranty or limiting liability differently from the\\nterms of sections 15 and 16 of this License; or\\n\\nb) Requiring preservation of specified reasonable legal notices or\\nauthor attributions in that material or in the Appropriate Legal\\nNotices displayed by works containing it; or\\n\\nc) Prohibiting misrepresentation of the origin of that material, or\\nrequiring that modified versions of such material be marked in\\nreasonable ways as different from the original version; or\\n\\nd) Limiting the use for publicity purposes of names of licensors or\\nauthors of the material; or\\n\\ne) Declining to grant rights under trademark law for use of some\\ntrade names, trademarks, or service marks; or\\n\\nf) Requiring indemnification of licensors and authors of that\\nmaterial by anyone who conveys the material (or modified versions of\\nit) with contractual assumptions of liability to the recipient, for\\nany liability that these contractual assumptions directly impose on\\nthose licensors and authors.\\n\\nAll other non-permissive additional terms are considered \\"further\\nrestrictions\\" within the meaning of section 10.  If the Program as you\\nreceived it, or any part of it, contains a notice stating that it is\\ngoverned by this License along with a term that is a further\\nrestriction, you may remove that term.  If a license document contains\\na further restriction but permits relicensing or conveying under this\\nLicense, you may add to a covered work material governed by the terms\\nof that license document, provided that the further restriction does\\nnot survive such relicensing or conveying.\\n\\nIf you add terms to a covered work in accord with this section, you\\nmust place, in the relevant source files, a statement of the\\nadditional terms that apply to those files, or a notice indicating\\nwhere to find the applicable terms.\\n\\nAdditional terms, permissive or non-permissive, may be stated in the\\nform of a separately written license, or stated as exceptions;\\nthe above requirements apply either way.\\n\\n8. Termination.\\n\\nYou may not propagate or modify a covered work except as expressly\\nprovided under this License.  Any attempt otherwise to propagate or\\nmodify it is void, and will automatically terminate your rights under\\nthis License (including any patent licenses granted under the third\\nparagraph of section 11).\\n\\nHowever, if you cease all violation of this License, then your\\nlicense from a particular copyright holder is reinstated (a)\\nprovisionally, unless and until the copyright holder explicitly and\\nfinally terminates your license, and (b) permanently, if the copyright\\nholder fails to notify you of the violation by some reasonable means\\nprior to 60 days after the cessation.\\n\\nMoreover, your license from a particular copyright holder is\\nreinstated permanently if the copyright holder notifies you of the\\nviolation by some reasonable means, this is the first time you have\\nreceived notice of violation of this License (for any work) from that\\ncopyright holder, and you cure the violation prior to 30 days after\\nyour receipt of the notice.\\n\\nTermination of your rights under this section does not terminate the\\nlicenses of parties who have received copies or rights from you under\\nthis License.  If your rights have been terminated and not permanently\\nreinstated, you do not qualify to receive new licenses for the same\\nmaterial under section 10.\\n\\n9. Acceptance Not Required for Having Copies.\\n\\nYou are not required to accept this License in order to receive or\\nrun a copy of the Program.  Ancillary propagation of a covered work\\noccurring solely as a consequence of using peer-to-peer transmission\\nto receive a copy likewise does not require acceptance.  However,\\nnothing other than this License grants you permission to propagate or\\nmodify any covered work.  These actions infringe copyright if you do\\nnot accept this License.  Therefore, by modifying or propagating a\\ncovered work, you indicate your acceptance of this License to do so.\\n\\n10. Automatic Licensing of Downstream Recipients.\\n\\nEach time you convey a covered work, the recipient automatically\\nreceives a license from the original licensors, to run, modify and\\npropagate that work, subject to this License.  You are not responsible\\nfor enforcing compliance by third parties with this License.\\n\\nAn \\"entity transaction\\" is a transaction transferring control of an\\norganization, or substantially all assets of one, or subdividing an\\norganization, or merging organizations.  If propagation of a covered\\nwork results from an entity transaction, each party to that\\ntransaction who receives a copy of the work also receives whatever\\nlicenses to the work the party\'s predecessor in interest had or could\\ngive under the previous paragraph, plus a right to possession of the\\nCorresponding Source of the work from the predecessor in interest, if\\nthe predecessor has it or can get it with reasonable efforts.\\n\\nYou may not impose any further restrictions on the exercise of the\\nrights granted or affirmed under this License.  For example, you may\\nnot impose a license fee, royalty, or other charge for exercise of\\nrights granted under this License, and you may not initiate litigation\\n(including a cross-claim or counterclaim in a lawsuit) alleging that\\nany patent claim is infringed by making, using, selling, offering for\\nsale, or importing the Program or any portion of it.\\n\\n11. Patents.\\n\\nA \\"contributor\\" is a copyright holder who authorizes use under this\\nLicense of the Program or a work on which the Program is based.  The\\nwork thus licensed is called the contributor\'s \\"contributor version\\".\\n\\nA contributor\'s \\"essential patent claims\\" are all patent claims\\nowned or controlled by the contributor, whether already acquired or\\nhereafter acquired, that would be infringed by some manner, permitted\\nby this License, of making, using, or selling its contributor version,\\nbut do not include claims that would be infringed only as a\\nconsequence of further modification of the contributor version.  For\\npurposes of this definition, \\"control\\" includes the right to grant\\npatent sublicenses in a manner consistent with the requirements of\\nthis License.\\n\\nEach contributor grants you a non-exclusive, worldwide, royalty-free\\npatent license under the contributor\'s essential patent claims, to\\nmake, use, sell, offer for sale, import and otherwise run, modify and\\npropagate the contents of its contributor version.\\n\\nIn the following three paragraphs, a \\"patent license\\" is any express\\nagreement or commitment, however denominated, not to enforce a patent\\n(such as an express permission to practice a patent or covenant not to\\nsue for patent infringement).  To \\"grant\\" such a patent license to a\\nparty means to make such an agreement or commitment not to enforce a\\npatent against the party.\\n\\nIf you convey a covered work, knowingly relying on a patent license,\\nand the Corresponding Source of the work is not available for anyone\\nto copy, free of charge and under the terms of this License, through a\\npublicly available network server or other readily accessible means,\\nthen you must either (1) cause the Corresponding Source to be so\\navailable, or (2) arrange to deprive yourself of the benefit of the\\npatent license for this particular work, or (3) arrange, in a manner\\nconsistent with the requirements of this License, to extend the patent\\nlicense to downstream recipients.  \\"Knowingly relying\\" means you have\\nactual knowledge that, but for the patent license, your conveying the\\ncovered work in a country, or your recipient\'s use of the covered work\\nin a country, would infringe one or more identifiable patents in that\\ncountry that you have reason to believe are valid.\\n\\nIf, pursuant to or in connection with a single transaction or\\narrangement, you convey, or propagate by procuring conveyance of, a\\ncovered work, and grant a patent license to some of the parties\\nreceiving the covered work authorizing them to use, propagate, modify\\nor convey a specific copy of the covered work, then the patent license\\nyou grant is automatically extended to all recipients of the covered\\nwork and works based on it.\\n\\nA patent license is \\"discriminatory\\" if it does not include within\\nthe scope of its coverage, prohibits the exercise of, or is\\nconditioned on the non-exercise of one or more of the rights that are\\nspecifically granted under this License.  You may not convey a covered\\nwork if you are a party to an arrangement with a third party that is\\nin the business of distributing software, under which you make payment\\nto the third party based on the extent of your activity of conveying\\nthe work, and under which the third party grants, to any of the\\nparties who would receive the covered work from you, a discriminatory\\npatent license (a) in connection with copies of the covered work\\nconveyed by you (or copies made from those copies), or (b) primarily\\nfor and in connection with specific products or compilations that\\ncontain the covered work, unless you entered into that arrangement,\\nor that patent license was granted, prior to 28 March 2007.\\n\\nNothing in this License shall be construed as excluding or limiting\\nany implied license or other defenses to infringement that may\\notherwise be available to you under applicable patent law.\\n\\n12. No Surrender of Others\' Freedom.\\n\\nIf conditions are imposed on you (whether by court order, agreement or\\notherwise) that contradict the conditions of this License, they do not\\nexcuse you from the conditions of this License.  If you cannot convey a\\ncovered work so as to satisfy simultaneously your obligations under this\\nLicense and any other pertinent obligations, then as a consequence you may\\nnot convey it at all.  For example, if you agree to terms that obligate you\\nto collect a royalty for further conveying from those to whom you convey\\nthe Program, the only way you could satisfy both those terms and this\\nLicense would be to refrain entirely from conveying the Program.\\n\\n13. Remote Network Interaction; Use with the GNU General Public License.\\n\\nNotwithstanding any other provision of this License, if you modify the\\nProgram, your modified version must prominently offer all users\\ninteracting with it remotely through a computer network (if your version\\nsupports such interaction) an opportunity to receive the Corresponding\\nSource of your version by providing access to the Corresponding Source\\nfrom a network server at no charge, through some standard or customary\\nmeans of facilitating copying of software.  This Corresponding Source\\nshall include the Corresponding Source for any work covered by version 3\\nof the GNU General Public License that is incorporated pursuant to the\\nfollowing paragraph.\\n\\nNotwithstanding any other provision of this License, you have\\npermission to link or combine any covered work with a work licensed\\nunder version 3 of the GNU General Public License into a single\\ncombined work, and to convey the resulting work.  The terms of this\\nLicense will continue to apply to the part which is the covered work,\\nbut the work with which it is combined will remain governed by version\\n3 of the GNU General Public License.\\n\\n14. Revised Versions of this License.\\n\\nThe Free Software Foundation may publish revised and/or new versions of\\nthe GNU Affero General Public License from time to time.  Such new versions\\nwill be similar in spirit to the present version, but may differ in detail to\\naddress new problems or concerns.\\n\\nEach version is given a distinguishing version number.  If the\\nProgram specifies that a certain numbered version of the GNU Affero General\\nPublic License \\"or any later version\\" applies to it, you have the\\noption of following the terms and conditions either of that numbered\\nversion or of any later version published by the Free Software\\nFoundation.  If the Program does not specify a version number of the\\nGNU Affero General Public License, you may choose any version ever published\\nby the Free Software Foundation.\\n\\nIf the Program specifies that a proxy can decide which future\\nversions of the GNU Affero General Public License can be used, that proxy\'s\\npublic statement of acceptance of a version permanently authorizes you\\nto choose that version for the Program.\\n\\nLater license versions may give you additional or different\\npermissions.  However, no additional obligations are imposed on any\\nauthor or copyright holder as a result of your choosing to follow a\\nlater version.\\n\\n15. Disclaimer of Warranty.\\n\\nTHERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \\"AS IS\\" WITHOUT WARRANTY\\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\\n\\n16. Limitation of Liability.\\n\\nIN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS\\nTHE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY\\nGENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE\\nUSE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF\\nDATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD\\nPARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),\\nEVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF\\nSUCH DAMAGES.\\n\\n17. Interpretation of Sections 15 and 16.\\n\\nIf the disclaimer of warranty and limitation of liability provided\\nabove cannot be given local legal effect according to their terms,\\nreviewing courts shall apply local law that most closely approximates\\nan absolute waiver of all civil liability in connection with the\\nProgram, unless a warranty or assumption of liability accompanies a\\ncopy of the Program in return for a fee.\\n\\n      END OF TERMS AND CONDITIONS\\n\\nHow to Apply These Terms to Your New Programs\\n\\nIf you develop a new program, and you want it to be of the greatest\\npossible use to the public, the best way to achieve this is to make it\\nfree software which everyone can redistribute and change under these terms.\\n\\nTo do so, attach the following notices to the program.  It is safest\\nto attach them to the start of each source file to most effectively\\nstate the exclusion of warranty; and each file should have at least\\nthe \\"copyright\\" line and a pointer to where the full notice is found.\\n\\n<one line to give the program\'s name and a brief idea of what it does.>\\nCopyright (C) <year>  <name of author>\\n\\nThis program is free software: you can redistribute it and/or modify\\nit under the terms of the GNU Affero General Public License as published by\\nthe Free Software Foundation, either version 3 of the License, or\\n(at your option) any later version.\\n\\nThis program is distributed in the hope that it will be useful,\\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\nGNU Affero General Public License for more details.\\n\\nYou should have received a copy of the GNU Affero General Public License\\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\\n\\nAlso add information on how to contact you by electronic and paper mail.\\n\\nIf your software can interact with users remotely through a computer\\nnetwork, you should also make sure that it provides a way for users to\\nget its source.  For example, if your program is a web application, its\\ninterface could display a \\"Source\\" link that leads users to an archive\\nof the code.  There are many ways you could offer source, and different\\nsolutions will be better for different programs; see section 13 for the\\nspecific requirements.\\n\\nYou should also get your employer (if you work as a programmer) or school,\\nif any, to sign a \\"copyright disclaimer\\" for the program, if necessary.\\nFor more information on this, and how to apply and follow the GNU AGPL, see\\n<https://www.gnu.org/licenses/>."},{"id":"gcoord","name":"gcoord","description":"A coordinates converter","url":"https://github.com/hujiulong/gcoord","licenseType":"MIT","license":"\\n\\t\\tMIT License\\n\\n\\t\\tCopyright (c) 2018-present, Jiulong Hu\\n\\n\\t\\tPermission is hereby granted, free of charge, to any person obtaining a copy\\n\\t\\tof this software and associated documentation files (the \\"Software\\"), to deal\\n\\t\\tin the Software without restriction, including without limitation the rights\\n\\t\\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n\\t\\tcopies of the Software, and to permit persons to whom the Software is\\n\\t\\tfurnished to do so, subject to the following conditions:\\n\\n\\t\\tThe above copyright notice and this permission notice shall be included in all\\n\\t\\tcopies or substantial portions of the Software.\\n\\n\\t\\tTHE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n\\t\\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n\\t\\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n\\t\\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n\\t\\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n\\t\\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\n\\t\\tSOFTWARE."},{"id":"localforage","name":"localForage","description":"A fast and simple storage library for JavaScript.","url":"https://github.com/localForage/localForage","homepage":"https://localforage.github.io/localForage/","licenseType":"Apache-2.0","license":"\\n        Apache License\\n\\n        Version 2.0, January 2004\\n\\n     http://www.apache.org/licenses/\\n\\nTERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\\n\\n1. Definitions.\\n\\n\\"License\\" shall mean the terms and conditions for use, reproduction,\\nand distribution as defined by Sections 1 through 9 of this document.\\n\\n\\"Licensor\\" shall mean the copyright owner or entity authorized by\\nthe copyright owner that is granting the License.\\n\\n\\"Legal Entity\\" shall mean the union of the acting entity and all\\nother entities that control, are controlled by, or are under common\\ncontrol with that entity. For the purposes of this definition,\\n\\"control\\" means (i) the power, direct or indirect, to cause the\\ndirection or management of such entity, whether by contract or\\notherwise, or (ii) ownership of fifty percent (50%) or more of the\\noutstanding shares, or (iii) beneficial ownership of such entity.\\n\\n\\"You\\" (or \\"Your\\") shall mean an individual or Legal Entity\\nexercising permissions granted by this License.\\n\\n\\"Source\\" form shall mean the preferred form for making modifications,\\nincluding but not limited to software source code, documentation\\nsource, and configuration files.\\n\\n\\"Object\\" form shall mean any form resulting from mechanical\\ntransformation or translation of a Source form, including but\\nnot limited to compiled object code, generated documentation,\\nand conversions to other media types.\\n\\n\\"Work\\" shall mean the work of authorship, whether in Source or\\nObject form, made available under the License, as indicated by a\\ncopyright notice that is included in or attached to the work\\n(an example is provided in the Appendix below).\\n\\n\\"Derivative Works\\" shall mean any work, whether in Source or Object\\nform, that is based on (or derived from) the Work and for which the\\neditorial revisions, annotations, elaborations, or other modifications\\nrepresent, as a whole, an original work of authorship. For the purposes\\nof this License, Derivative Works shall not include works that remain\\nseparable from, or merely link (or bind by name) to the interfaces of,\\nthe Work and Derivative Works thereof.\\n\\n\\"Contribution\\" shall mean any work of authorship, including\\nthe original version of the Work and any modifications or additions\\nto that Work or Derivative Works thereof, that is intentionally\\nsubmitted to Licensor for inclusion in the Work by the copyright owner\\nor by an individual or Legal Entity authorized to submit on behalf of\\nthe copyright owner. For the purposes of this definition, \\"submitted\\"\\nmeans any form of electronic, verbal, or written communication sent\\nto the Licensor or its representatives, including but not limited to\\ncommunication on electronic mailing lists, source code control systems,\\nand issue tracking systems that are managed by, or on behalf of, the\\nLicensor for the purpose of discussing and improving the Work, but\\nexcluding communication that is conspicuously marked or otherwise\\ndesignated in writing by the copyright owner as \\"Not a Contribution.\\"\\n\\n\\"Contributor\\" shall mean Licensor and any individual or Legal Entity\\non behalf of whom a Contribution has been received by Licensor and\\nsubsequently incorporated within the Work.\\n\\n2. Grant of Copyright License. Subject to the terms and conditions of\\nthis License, each Contributor hereby grants to You a perpetual,\\nworldwide, non-exclusive, no-charge, royalty-free, irrevocable\\ncopyright license to reproduce, prepare Derivative Works of,\\npublicly display, publicly perform, sublicense, and distribute the\\nWork and such Derivative Works in Source or Object form.\\n\\n3. Grant of Patent License. Subject to the terms and conditions of\\nthis License, each Contributor hereby grants to You a perpetual,\\nworldwide, non-exclusive, no-charge, royalty-free, irrevocable\\n(except as stated in this section) patent license to make, have made,\\nuse, offer to sell, sell, import, and otherwise transfer the Work,\\nwhere such license applies only to those patent claims licensable\\nby such Contributor that are necessarily infringed by their\\nContribution(s) alone or by combination of their Contribution(s)\\nwith the Work to which such Contribution(s) was submitted. If You\\ninstitute patent litigation against any entity (including a\\ncross-claim or counterclaim in a lawsuit) alleging that the Work\\nor a Contribution incorporated within the Work constitutes direct\\nor contributory patent infringement, then any patent licenses\\ngranted to You under this License for that Work shall terminate\\nas of the date such litigation is filed.\\n\\n4. Redistribution. You may reproduce and distribute copies of the\\nWork or Derivative Works thereof in any medium, with or without\\nmodifications, and in Source or Object form, provided that You\\nmeet the following conditions:\\n\\n(a) You must give any other recipients of the Work or\\nDerivative Works a copy of this License; and\\n\\n(b) You must cause any modified files to carry prominent notices\\nstating that You changed the files; and\\n\\n(c) You must retain, in the Source form of any Derivative Works\\nthat You distribute, all copyright, patent, trademark, and\\nattribution notices from the Source form of the Work,\\nexcluding those notices that do not pertain to any part of\\nthe Derivative Works; and\\n\\n(d) If the Work includes a \\"NOTICE\\" text file as part of its\\ndistribution, then any Derivative Works that You distribute must\\ninclude a readable copy of the attribution notices contained\\nwithin such NOTICE file, excluding those notices that do not\\npertain to any part of the Derivative Works, in at least one\\nof the following places: within a NOTICE text file distributed\\nas part of the Derivative Works; within the Source form or\\ndocumentation, if provided along with the Derivative Works; or,\\nwithin a display generated by the Derivative Works, if and\\nwherever such third-party notices normally appear. The contents\\nof the NOTICE file are for informational purposes only and\\ndo not modify the License. You may add Your own attribution\\nnotices within Derivative Works that You distribute, alongside\\nor as an addendum to the NOTICE text from the Work, provided\\nthat such additional attribution notices cannot be construed\\nas modifying the License.\\n\\nYou may add Your own copyright statement to Your modifications and\\nmay provide additional or different license terms and conditions\\nfor use, reproduction, or distribution of Your modifications, or\\nfor any such Derivative Works as a whole, provided Your use,\\nreproduction, and distribution of the Work otherwise complies with\\nthe conditions stated in this License.\\n\\n5. Submission of Contributions. Unless You explicitly state otherwise,\\nany Contribution intentionally submitted for inclusion in the Work\\nby You to the Licensor shall be under the terms and conditions of\\nthis License, without any additional terms or conditions.\\nNotwithstanding the above, nothing herein shall supersede or modify\\nthe terms of any separate license agreement you may have executed\\nwith Licensor regarding such Contributions.\\n\\n6. Trademarks. This License does not grant permission to use the trade\\nnames, trademarks, service marks, or product names of the Licensor,\\nexcept as required for reasonable and customary use in describing the\\norigin of the Work and reproducing the content of the NOTICE file.\\n\\n7. Disclaimer of Warranty. Unless required by applicable law or\\nagreed to in writing, Licensor provides the Work (and each\\nContributor provides its Contributions) on an \\"AS IS\\" BASIS,\\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\\nimplied, including, without limitation, any warranties or conditions\\nof TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\\nPARTICULAR PURPOSE. You are solely responsible for determining the\\nappropriateness of using or redistributing the Work and assume any\\nrisks associated with Your exercise of permissions under this License.\\n\\n8. Limitation of Liability. In no event and under no legal theory,\\nwhether in tort (including negligence), contract, or otherwise,\\nunless required by applicable law (such as deliberate and grossly\\nnegligent acts) or agreed to in writing, shall any Contributor be\\nliable to You for damages, including any direct, indirect, special,\\nincidental, or consequential damages of any character arising as a\\nresult of this License or out of the use or inability to use the\\nWork (including but not limited to damages for loss of goodwill,\\nwork stoppage, computer failure or malfunction, or any and all\\nother commercial damages or losses), even if such Contributor\\nhas been advised of the possibility of such damages.\\n\\n9. Accepting Warranty or Additional Liability. While redistributing\\nthe Work or Derivative Works thereof, You may choose to offer,\\nand charge a fee for, acceptance of support, warranty, indemnity,\\nor other liability obligations and/or rights consistent with this\\nLicense. However, in accepting such obligations, You may act only\\non Your own behalf and on Your sole responsibility, not on behalf\\nof any other Contributor, and only if You agree to indemnify,\\ndefend, and hold each Contributor harmless for any liability\\nincurred by, or claims asserted against, such Contributor by reason\\nof your accepting any such warranty or additional liability.\\n\\nEND OF TERMS AND CONDITIONS\\n\\nAPPENDIX: How to apply the Apache License to your work.\\n\\nTo apply the Apache License to your work, attach the following\\nboilerplate notice, with the fields enclosed by brackets \\"{}\\"\\nreplaced with your own identifying information. (Don\'t include\\nthe brackets!)  The text should be enclosed in the appropriate\\ncomment syntax for the file format. We also recommend that a\\nfile or class name and description of purpose be included on the\\nsame \\"printed page\\" as the copyright notice for easier\\nidentification within third-party archives.\\n\\nCopyright 2014 Mozilla\\n\\nLicensed under the Apache License, Version 2.0 (the \\"License\\");\\nyou may not use this file except in compliance with the License.\\nYou may obtain a copy of the License at\\n\\nhttp://www.apache.org/licenses/LICENSE-2.0\\n\\nUnless required by applicable law or agreed to in writing, software\\ndistributed under the License is distributed on an \\"AS IS\\" BASIS,\\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\nSee the License for the specific language governing permissions and\\nlimitations under the License."}]'),dataProviderInfo=[{name:"Open Street Map",id:"openstreetmap",url:"https://www.openstreetmap.org",license:"ODbL"},{name:"MapTiler",id:"maptiler",url:"https://www.maptiler.com"},{name:"FreeIPAPI",id:"freeipapi",url:"https://freeipapi.com/"}],modules=[{name:"trackmaker",moduleInit:__name(()=>new Promise(resolve2=>resolve2()),"moduleInit"),dependencies:["geolocation"]},{name:"geolocation",moduleInit:__name(async()=>{try{const updateService=new UpdateService;await updateService.build(()=>new Promise(resolve2=>{confirm("This app requires access to your location to track your movements.")?navigator.geolocation.getCurrentPosition(()=>resolve2(!0),e=>{alert("Fail to initialise geolocation module.\nError Message: "+e.message),resolve2()},{enableHighAccuracy:!1,timeout:3e4,maximumAge:1/0}):resolve2()})),await updateService.start(),window.UpdateService=updateService}catch(error2){return Promise.reject(error2)}},"moduleInit"),dependencies:[]}],dataProviders=dataProviderInfo,credits=creditInfo,router=createRouter({history:createMemoryHistory("./"),routes:[{path:"/",redirect:"/tracker"},{path:"/tracker",name:"Tracker",component:__name(()=>__vitePreload(()=>import("./TrackerView-B3R9V3Rr.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),"component"),meta:{timeout:5e3}},{path:"/about",name:"about",component:__name(()=>__vitePreload(()=>import("./AboutView-Dh2ceOzQ.js"),__vite__mapDeps([4,5,2,1]),import.meta.url),"component")},{path:"/settings",name:"settings",component:__name(()=>__vitePreload(()=>import("./SettingsView-BdaQbb5N.js"),__vite__mapDeps([6,5,2,3]),import.meta.url),"component")}]}),messageFormat={unloaded:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" has not been loaded yet'),"unloaded"),loading:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" is loading'),"loading"),loaded:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" has been loaded'),"loaded"),error:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" failed to load, Track back: \n').concat(args[1]),"error"),errorDetermined:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" failed to load, asserted by another instance, skip'),"errorDetermined"),alreadyLoading:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" is already loading by another instance, skip'),"alreadyLoading"),alreadyLoaded:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" has been loaded by another instance, skip'),"alreadyLoaded"),missingDependencies:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" is missing the following dependencies: ').concat(args[1]),"missingDependencies"),dependenciesReady:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" dependencies are ready'),"dependenciesReady"),dependenciesFailure:__name((...args)=>'[loadModules] Module "'.concat(args[0],'" dependencies failed to load. \n\n- Track back: \n').concat(args[1]),"dependenciesFailure")};async function loadModules(library,moduleName,timeout=1e4,printLog=!0){const module2=library.find(m=>m.name===moduleName);if(!module2)throw new Error('cannot exactly find module "'.concat(moduleName,'" from the library'));const moduleIndex=library.findIndex(m=>m.name===module2.name);if(library[moduleIndex].status==="loaded")return printLog&&console.info(messageFormat.alreadyLoaded(module2.name)),Promise.resolve();const dependencies=module2.dependencies||[],dependencyModules=library.filter(m=>dependencies.includes(m.name)),missingDependencies=dependencies.filter(name=>!library.find(m=>m.name===name));if(missingDependencies.length>0){const msg2=messageFormat.missingDependencies(module2.name,missingDependencies.join(", "));return printLog&&console.log(msg2),Promise.reject(msg2)}if(library[moduleIndex].status==="error"){const msg2=messageFormat.errorDetermined(module2.name);return printLog&&console.info(msg2),Promise.reject(msg2)}if(library[moduleIndex].status==="loading")return printLog&&console.info(messageFormat.alreadyLoading(module2.name)),await waitUntilModuleLoaded(library,module2.name,timeout),Promise.resolve();try{dependencyModules.length>0&&(await Promise.all(dependencyModules.map(m=>loadModules(library,m.name,timeout,printLog))),printLog&&console.log(messageFormat.dependenciesReady(module2.name))),library[moduleIndex].status="loading";try{return printLog&&console.log(messageFormat.loading(module2.name)),await module2.moduleInit(timeout),library[moduleIndex].status="loaded",printLog&&console.log(messageFormat.loaded(module2.name)),Promise.resolve()}catch(error2){return library[moduleIndex].status="error",console.log(messageFormat.error(module2.name,error2)),Promise.reject(messageFormat.error(module2.name,error2))}}catch(error2){return library[moduleIndex].status="error",Promise.reject(messageFormat.error(module2.name,error2))}}__name(loadModules,"loadModules");async function waitUntilModuleLoaded(library,moduleName,timeout=1e4){const startTime=Date.now();return new Promise((resolve2,reject)=>{const intervalId=setInterval(async()=>{const module2=library.find(m=>m.name===moduleName);module2&&module2.status==="loaded"?(clearInterval(intervalId),resolve2()):Date.now()-startTime>timeout&&(clearInterval(intervalId),reject(new Error("Load module ".concat(moduleName," timeout"))))})})}__name(waitUntilModuleLoaded,"waitUntilModuleLoaded");function triggerHandlers(){for(const handler of DeviceOrientationService.handlers)handler.callback(DeviceOrientationService.bearing)}__name(triggerHandlers,"triggerHandlers");var DeviceOrientationService;(DeviceOrientationService2=>{DeviceOrientationService2.bearing=0;let started=!1;DeviceOrientationService2.handlers=[];function updater(event){if(!(isNumber(event.alpha)||typeof event.webkitCompassHeading<"u")){stop();return}DeviceOrientationService2.bearing=event.alpha,typeof event.webkitCompassHeading<"u"&&(DeviceOrientationService2.bearing=event.webkitCompassHeading),triggerHandlers()}__name(updater,"updater"),DeviceOrientationService2.updater=updater;function addHandler2(callback){const id=DeviceOrientationService2.handlers.length>0?DeviceOrientationService2.handlers[DeviceOrientationService2.handlers.length-1].id+1:0;return DeviceOrientationService2.handlers.push({callback,id}),id}__name(addHandler2,"addHandler"),DeviceOrientationService2.addHandler=addHandler2;function start(){started||(window.addEventListener("deviceorientation",updater,!0),started=!0)}__name(start,"start"),DeviceOrientationService2.start=start;function stop(){started&&(window.removeEventListener("deviceorientation",updater,!0),started=!1)}__name(stop,"stop"),DeviceOrientationService2.stop=stop})(DeviceOrientationService||(DeviceOrientationService={}));const app=createApp(_sfc_main);app.use(createPinia());app.use(router);app.use(i18n);loadModules(modules,"trackmaker",3e4,!1).then(()=>{var _a4;DeviceOrientationService.start(),app.mount("#app"),(_a4=document.getElementById("splash"))==null||_a4.remove()}).catch(e=>{var _a4,_b;console.error("Fail to initialise all the modules"),console.error(e);const msg2=String(e.toString());if(msg2.toLowerCase().includes("timeout")){const trackback=msg2.split("Trackback").map(s=>s.replace(/((^:\s*)|(,\s*$))/g,""));console.table(trackback.map(t=>({Trackback:t})),["Trackback"]),(_a4=document.getElementById("splash"))==null||_a4.remove(),document.getElementById("timeout").style.display="flex"}else(_b=document.getElementById("splash"))==null||_b.remove(),document.getElementById("error-msg").innerHTML=msg2,document.getElementById("loading-error").style.display="flex"});export{nextTick as $,createKey as A,useThemeClass as B,ref as C,createInjectionKey as D,ErrorIcon as E,cNotM as F,watch as G,inject as H,InfoIcon as I,resolveSlotWithTypedProps as J,Scrollbar as K,Fragment as L,inputLight as M,NBaseClose as N,isSafari as O,useStyle as P,toRef as Q,useMergedState as R,SuccessIcon as S,useFormItem as T,useMemo as U,VResizeObserver as V,WarningIcon as W,onMounted as X,getCurrentInstance as Y,watchEffect as Z,provide as _,__vite_legacy_guard,createBaseVNode as a,storeInit as a$,on as a0,call as a1,off as a2,throwError as a3,messageApiInjectionKey as a4,formatLength as a5,progressLight as a6,fadeInTransition as a7,NBaseLoading as a8,Transition as a9,storeSet as aA,cloneDeep as aB,storeSave as aC,isEqual as aD,mergeModels as aE,useModel as aF,createBlock as aG,withCtx as aH,unref as aI,NModal as aJ,createVNode as aK,createTextVNode as aL,resolveDynamicComponent as aM,toDisplayString$1 as aN,useTemplateRef as aO,withDirectives as aP,vShow as aQ,useCssVars as aR,_export_sfc as aS,renderList as aT,NDropdown as aU,normalizeStyle as aV,normalizeClass as aW,withModifiers as aX,useI18n as aY,withKeys as aZ,useSettingsStore as a_,spinLight as aa,pxfy as ab,useCompitable as ac,iconSwitchTransition as ad,isBrowser$1 as ae,error as af,Button as ag,NIconSwitchTransition as ah,warn as ai,Teleport as aj,uploadLight as ak,createId as al,derived as am,configProviderInjectionKey as an,markRaw as ao,shallowRef as ap,onBeforeUnmount as aq,maplibreGlExports as ar,createCommentVNode as as,isRef as at,reactive as au,onBeforeMount as av,mountStyle as aw,renderSlot as ax,defineStore as ay,storeGet as az,createStaticVNode as b,anchorLight as b$,NCard as b0,NPopover as b1,NText as b2,collapseLight as b3,useFalseUntilTruthy as b4,resolveWrappedSlotWithProps as b5,happensIn as b6,ChevronRightIcon as b7,dividerLight as b8,flatten$1 as b9,internalSelectionMenuInjectionKey as bA,internalSelectMenuLight as bB,createIndexGetter as bC,internalSelectionMenuBodyInjectionKey as bD,Wrapper as bE,VOverflow as bF,internalSelectionLight as bG,Binder as bH,VTarget as bI,VFollower as bJ,useAdjustedTo as bK,clickoutside as bL,selectLight as bM,createTreeMate as bN,getPreciseEventTarget as bO,markEventEffectPerformed as bP,radioLight as bQ,isSlotEmpty as bR,switchLight as bS,useWindowSize as bT,root as bU,isObject$1 as bV,keysOf as bW,tagLight as bX,color2Class as bY,onFontsReady as bZ,keep as b_,Comment as ba,spaceLight as bb,getGap as bc,depx as bd,elementLight as be,typographyLight as bf,onUnmounted as bg,dataProviders as bh,credits as bi,NIcon as bj,toString$1 as bk,fadeInScaleUpTransition as bl,LazyTeleport as bm,zindexable as bn,imageLight as bo,isMounted as bp,NTooltip as bq,beforeNextFrameOnce as br,useSsrAdapter as bs,c$2 as bt,cssrAnchorMetaName$1 as bu,onActivated as bv,onDeactivated as bw,resizeObserverManager as bx,emptyLight as by,render$1 as bz,createElementBlock as c,insideModal as c0,insidePopover as c1,listLight as c2,isSymbol as c3,defineComponent as d,isArray as e,baseGetTag as f,cB as g,h,isObjectLike as i,cE as j,cM as k,fadeInHeightExpandTransition as l,c$4 as m,mergeProps as n,openBlock as o,resolveSlot as p,NBaseIcon as q,replaceable as r,resolveWrappedSlot as s,NFadeInExpandTransition as t,useConfig as u,useTheme as v,alertLight as w,useRtl as x,computed as y,getMargin as z};
