import{B as M,i as X,g as T,f as Y,p as Z,d as V,h as p,D as H,t as J}from"./index-CsdEbwkQ.js";import{o as Q,ar as ee,v as K,c as te,x as ne,y as A,U as re}from"./Card-DLNm2QQL.js";const U=new WeakSet;function Ge(e){U.add(e)}function Ie(e){return!U.has(e)}function _e(e,...t){return typeof e=="function"?e(...t):typeof e=="string"?M(e):typeof e=="number"?M(String(e)):null}const R=Q("n-form-item");function Oe(e,{defaultSize:t="medium",mergedSize:n,mergedDisabled:i}={}){const r=X(R,null);Z(R,null);const a=T(n?()=>n(r):()=>{const{size:u}=e;if(u)return u;if(r){const{mergedSize:c}=r;if(c.value!==void 0)return c.value}return t}),s=T(i?()=>i(r):()=>{const{disabled:u}=e;return u!==void 0?u:r?r.disabled.value:!1}),d=T(()=>{const{status:u}=e;return u||(r==null?void 0:r.mergedValidationStatus.value)});return Y(()=>{r&&r.restoreValidation()}),{mergedSizeRef:a,mergedDisabledRef:s,mergedStatusRef:d,nTriggerFormBlur(){r&&r.handleContentBlur()},nTriggerFormChange(){r&&r.handleContentChange()},nTriggerFormFocus(){r&&r.handleContentFocus()},nTriggerFormInput(){r&&r.handleContentInput()}}}const ie=V({name:"BaseIconSwitchTransition",setup(e,{slots:t}){const n=ee();return()=>p(H,{name:"icon-switch-transition",appear:n.value},t)}}),{cubicBezierEaseInOut:se}=te;function j({originalTransform:e="",left:t=0,top:n=0,transition:i=`all .3s ${se} !important`}={}){return[K("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:`${e} scale(0.75)`,left:t,top:n,opacity:0}),K("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${e}`,left:t,top:n,opacity:1}),K("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:t,top:n,transition:i})]}const ae=K([K("@keyframes rotator",`
 0% {
 -webkit-transform: rotate(0deg);
 transform: rotate(0deg);
 }
 100% {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }`),ne("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[A("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[j()]),A("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[j({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),A("container",`
 animation: rotator 3s linear infinite both;
 `,[A("icon",`
 height: 1em;
 width: 1em;
 `)])])]),$="1.6s",oe={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},Fe=V({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},oe),setup(e){re("-base-loading",ae,J(e,"clsPrefix"))},render(){const{clsPrefix:e,radius:t,strokeWidth:n,stroke:i,scale:r}=this,a=t/r;return p("div",{class:`${e}-base-loading`,role:"img","aria-label":"loading"},p(ie,null,{default:()=>this.show?p("div",{key:"icon",class:`${e}-base-loading__transition-wrapper`},p("div",{class:`${e}-base-loading__container`},p("svg",{class:`${e}-base-loading__icon`,viewBox:`0 0 ${2*a} ${2*a}`,xmlns:"http://www.w3.org/2000/svg",style:{color:i}},p("g",null,p("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};270 ${a} ${a}`,begin:"0s",dur:$,fill:"freeze",repeatCount:"indefinite"}),p("circle",{class:`${e}-base-loading__icon`,fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:a,cy:a,r:t-n/2,"stroke-dasharray":5.67*t,"stroke-dashoffset":18.48*t},p("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${a} ${a};135 ${a} ${a};450 ${a} ${a}`,begin:"0s",dur:$,fill:"freeze",repeatCount:"indefinite"}),p("animate",{attributeName:"stroke-dashoffset",values:`${5.67*t};${1.42*t};${5.67*t}`,begin:"0s",dur:$,fill:"freeze",repeatCount:"indefinite"})))))):p("div",{key:"placeholder",class:`${e}-base-loading__placeholder`},this.$slots)}))}});function z(e){return Array.isArray(e)?e:[e]}const O={STOP:"STOP"};function W(e,t){const n=t(e);e.children!==void 0&&n!==O.STOP&&e.children.forEach(i=>W(i,t))}function le(e,t={}){const{preserveGroup:n=!1}=t,i=[],r=n?s=>{s.isLeaf||(i.push(s.key),a(s.children))}:s=>{s.isLeaf||(s.isGroup||i.push(s.key),a(s.children))};function a(s){s.forEach(r)}return a(e),i}function ue(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function ce(e){return e.children}function de(e){return e.key}function fe(){return!1}function he(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function ge(e){return e.disabled===!0}function ye(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function G(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function I(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function me(e,t){const n=new Set(e);return t.forEach(i=>{n.has(i)||n.add(i)}),Array.from(n)}function pe(e,t){const n=new Set(e);return t.forEach(i=>{n.has(i)&&n.delete(i)}),Array.from(n)}function ve(e){return(e==null?void 0:e.type)==="group"}function Be(e){const t=new Map;return e.forEach((n,i)=>{t.set(n.key,i)}),n=>{var i;return(i=t.get(n))!==null&&i!==void 0?i:null}}class be extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function ke(e,t,n,i){return P(t.concat(e),n,i,!1)}function we(e,t){const n=new Set;return e.forEach(i=>{const r=t.treeNodeMap.get(i);if(r!==void 0){let a=r.parent;for(;a!==null&&!(a.disabled||n.has(a.key));)n.add(a.key),a=a.parent}}),n}function Se(e,t,n,i){const r=P(t,n,i,!1),a=P(e,n,i,!0),s=we(e,n),d=[];return r.forEach(u=>{(a.has(u)||s.has(u))&&d.push(u)}),d.forEach(u=>r.delete(u)),r}function _(e,t){const{checkedKeys:n,keysToCheck:i,keysToUncheck:r,indeterminateKeys:a,cascade:s,leafOnly:d,checkStrategy:u,allowNotLoaded:c}=e;if(!s)return i!==void 0?{checkedKeys:me(n,i),indeterminateKeys:Array.from(a)}:r!==void 0?{checkedKeys:pe(n,r),indeterminateKeys:Array.from(a)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(a)};const{levelTreeNodeMap:h}=t;let f;r!==void 0?f=Se(r,n,t,c):i!==void 0?f=ke(i,n,t,c):f=P(n,t,c,!1);const b=u==="parent",x=u==="child"||d,y=f,C=new Set,E=Math.max.apply(null,Array.from(h.keys()));for(let N=E;N>=0;N-=1){const L=N===0,S=h.get(N);for(const o of S){if(o.isLeaf)continue;const{key:l,shallowLoaded:m}=o;if(x&&m&&o.children.forEach(g=>{!g.disabled&&!g.isLeaf&&g.shallowLoaded&&y.has(g.key)&&y.delete(g.key)}),o.disabled||!m)continue;let k=!0,v=!1,w=!0;for(const g of o.children){const B=g.key;if(!g.disabled){if(w&&(w=!1),y.has(B))v=!0;else if(C.has(B)){v=!0,k=!1;break}else if(k=!1,v)break}}k&&!w?(b&&o.children.forEach(g=>{!g.disabled&&y.has(g.key)&&y.delete(g.key)}),y.add(l)):v&&C.add(l),L&&x&&y.has(l)&&y.delete(l)}}return{checkedKeys:Array.from(y),indeterminateKeys:Array.from(C)}}function P(e,t,n,i){const{treeNodeMap:r,getChildren:a}=t,s=new Set,d=new Set(e);return e.forEach(u=>{const c=r.get(u);c!==void 0&&W(c,h=>{if(h.disabled)return O.STOP;const{key:f}=h;if(!s.has(f)&&(s.add(f),d.add(f),ye(h.rawNode,a))){if(i)return O.STOP;if(!n)throw new be}})}),d}function Ne(e,{includeGroup:t=!1,includeSelf:n=!0},i){var r;const a=i.treeNodeMap;let s=e==null?null:(r=a.get(e))!==null&&r!==void 0?r:null;const d={keyPath:[],treeNodePath:[],treeNode:s};if(s!=null&&s.ignored)return d.treeNode=null,d;for(;s;)!s.ignored&&(t||!s.isGroup)&&d.treeNodePath.push(s),s=s.parent;return d.treeNodePath.reverse(),n||d.treeNodePath.pop(),d.keyPath=d.treeNodePath.map(u=>u.key),d}function Ce(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function Ke(e,t){const n=e.siblings,i=n.length,{index:r}=e;return t?n[(r+1)%i]:r===n.length-1?null:n[r+1]}function D(e,t,{loop:n=!1,includeDisabled:i=!1}={}){const r=t==="prev"?xe:Ke,a={reverse:t==="prev"};let s=!1,d=null;function u(c){if(c!==null){if(c===e){if(!s)s=!0;else if(!e.disabled&&!e.isGroup){d=e;return}}else if((!c.disabled||i)&&!c.ignored&&!c.isGroup){d=c;return}if(c.isGroup){const h=F(c,a);h!==null?d=h:u(r(c,n))}else{const h=r(c,!1);if(h!==null)u(h);else{const f=Ae(c);f!=null&&f.isGroup?u(r(f,n)):n&&u(r(c,!0))}}}}return u(e),d}function xe(e,t){const n=e.siblings,i=n.length,{index:r}=e;return t?n[(r-1+i)%i]:r===0?null:n[r-1]}function Ae(e){return e.parent}function F(e,t={}){const{reverse:n=!1}=t,{children:i}=e;if(i){const{length:r}=i,a=n?r-1:0,s=n?-1:r,d=n?-1:1;for(let u=a;u!==s;u+=d){const c=i[u];if(!c.disabled&&!c.ignored)if(c.isGroup){const h=F(c,t);if(h!==null)return h}else return c}}return null}const Pe={getChild(){return this.ignored?null:F(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return D(this,"next",e)},getPrev(e={}){return D(this,"prev",e)}};function Ee(e,t){const n=t?new Set(t):void 0,i=[];function r(a){a.forEach(s=>{i.push(s),!(s.isLeaf||!s.children||s.ignored)&&(s.isGroup||n===void 0||n.has(s.key))&&r(s.children)})}return r(e),i}function Le(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function q(e,t,n,i,r,a=null,s=0){const d=[];return e.forEach((u,c)=>{var h;const f=Object.create(i);if(f.rawNode=u,f.siblings=d,f.level=s,f.index=c,f.isFirstChild=c===0,f.isLastChild=c+1===e.length,f.parent=a,!f.ignored){const b=r(u);Array.isArray(b)&&(f.children=q(b,t,n,i,r,f,s+1))}d.push(f),t.set(f.key,f),n.has(s)||n.set(s,[]),(h=n.get(s))===null||h===void 0||h.push(f)}),d}function Me(e,t={}){var n;const i=new Map,r=new Map,{getDisabled:a=ge,getIgnored:s=fe,getIsGroup:d=ve,getKey:u=de}=t,c=(n=t.getChildren)!==null&&n!==void 0?n:ce,h=t.ignoreEmptyChildren?o=>{const l=c(o);return Array.isArray(l)?l.length?l:null:l}:c,f=Object.assign({get key(){return u(this.rawNode)},get disabled(){return a(this.rawNode)},get isGroup(){return d(this.rawNode)},get isLeaf(){return ue(this.rawNode,h)},get shallowLoaded(){return he(this.rawNode,h)},get ignored(){return s(this.rawNode)},contains(o){return Le(this,o)}},Pe),b=q(e,i,r,f,h);function x(o){if(o==null)return null;const l=i.get(o);return l&&!l.isGroup&&!l.ignored?l:null}function y(o){if(o==null)return null;const l=i.get(o);return l&&!l.ignored?l:null}function C(o,l){const m=y(o);return m?m.getPrev(l):null}function E(o,l){const m=y(o);return m?m.getNext(l):null}function N(o){const l=y(o);return l?l.getParent():null}function L(o){const l=y(o);return l?l.getChild():null}const S={treeNodes:b,treeNodeMap:i,levelTreeNodeMap:r,maxLevel:Math.max(...r.keys()),getChildren:h,getFlattenedNodes(o){return Ee(b,o)},getNode:x,getPrev:C,getNext:E,getParent:N,getChild:L,getFirstAvailableNode(){return Ce(b)},getPath(o,l={}){return Ne(o,l,S)},getCheckedKeys(o,l={}){const{cascade:m=!0,leafOnly:k=!1,checkStrategy:v="all",allowNotLoaded:w=!1}=l;return _({checkedKeys:G(o),indeterminateKeys:I(o),cascade:m,leafOnly:k,checkStrategy:v,allowNotLoaded:w},S)},check(o,l,m={}){const{cascade:k=!0,leafOnly:v=!1,checkStrategy:w="all",allowNotLoaded:g=!1}=m;return _({checkedKeys:G(l),indeterminateKeys:I(l),keysToCheck:o==null?[]:z(o),cascade:k,leafOnly:v,checkStrategy:w,allowNotLoaded:g},S)},uncheck(o,l,m={}){const{cascade:k=!0,leafOnly:v=!1,checkStrategy:w="all",allowNotLoaded:g=!1}=m;return _({checkedKeys:G(l),indeterminateKeys:I(l),keysToUncheck:o==null?[]:z(o),cascade:k,leafOnly:v,checkStrategy:w,allowNotLoaded:g},S)},getNonLeafKeys(o={}){return le(b,o)}};return S}export{ie as N,Fe as a,Be as b,Me as c,Ie as e,j as i,Ge as m,_e as r,Oe as u};
