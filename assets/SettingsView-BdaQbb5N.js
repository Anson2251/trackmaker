var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{C as ref,y as computed,U as useMemo,_ as provide,d as defineComponent,H as inject,h,V as VResizeObserver,n as mergeProps,bs as useSsrAdapter,bt as c,bu as cssrAnchorMetaName,X as onMounted,bv as onActivated,bw as onDeactivated,Q as toRef,bd as depx,ab as pxfy,br as beforeNextFrameOnce,bx as resizeObserverManager,G as watch,aq as onBeforeUnmount,g as cB,j as cE,m as c$1,q as NBaseIcon,u as useConfig,v as useTheme,by as emptyLight,A as createKey,B as useThemeClass,bz as render,bA as internalSelectionMenuInjectionKey,a9 as Transition,k as cM,F as cNotM,bl as fadeInScaleUpTransition,s as resolveWrappedSlot,a8 as NBaseLoading,K as Scrollbar,p as resolveSlot,x as useRtl,bB as internalSelectMenuLight,bC as createIndexGetter,$ as nextTick,z as getMargin,b6 as happensIn,bD as internalSelectionMenuBodyInjectionKey,bE as Wrapper,bF as VOverflow,L as Fragment,b1 as NPopover,bG as internalSelectionLight,Z as watchEffect,bH as Binder,bI as VTarget,bJ as VFollower,bK as useAdjustedTo,aP as withDirectives,aQ as vShow,bL as clickoutside,bM as selectLight,R as useMergedState,ac as useCompitable,bN as createTreeMate,T as useFormItem,bp as isMounted,bO as getPreciseEventTarget,bP as markEventEffectPerformed,a1 as call,D as createInjectionKey,b9 as flatten,bQ as radioLight,ad as iconSwitchTransition,bR as isSlotEmpty,ah as NIconSwitchTransition,bS as switchLight,bT as useWindowSize,aY as useI18n,c as createElementBlock,a as createBaseVNode,aG as createBlock,as as createCommentVNode,aT as renderList,aH as withCtx,aI as unref,o as openBlock,aK as createVNode,aN as toDisplayString,b0 as NCard,aS as _export_sfc}from"./index-CW4GV-YS.js";import{b as NTag,e as getTitleAttribute,g as getSlot,a as NAnchor,c as NList,d as NListItem,N as NAnchorLink}from"./ListItem-C9bCXnTr.js";import{a as NBaseSuffix}from"./Suffix-C-BHSqzD.js";import{u as useLocale}from"./use-locale-BMHbt4wc.js";function lowBit(n){return n&-n}__name(lowBit,"lowBit");const _FinweckTree=class _FinweckTree{constructor(l,min){this.l=l,this.min=min;const ft=new Array(l+1);for(let i=0;i<l+1;++i)ft[i]=0;this.ft=ft}add(i,n){if(n===0)return;const{l,ft}=this;for(i+=1;i<=l;)ft[i]+=n,i+=lowBit(i)}get(i){return this.sum(i+1)-this.sum(i)}sum(i){if(i===void 0&&(i=this.l),i<=0)return 0;const{ft,min,l}=this;if(i>l)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let ret=i*min;for(;i>0;)ret+=ft[i],i-=lowBit(i);return ret}getBound(threshold){let l=0,r=this.l;for(;r>l;){const m=Math.floor((l+r)/2),sumM=this.sum(m);if(sumM>threshold){r=m;continue}else if(sumM<threshold){if(l===m)return this.sum(l+1)<=threshold?l+1:m;l=m}else return m}return l}};__name(_FinweckTree,"FinweckTree");let FinweckTree=_FinweckTree,maybeTouch;function ensureMaybeTouch(){return typeof document>"u"?!1:(maybeTouch===void 0&&("matchMedia"in window?maybeTouch=window.matchMedia("(pointer:coarse)").matches:maybeTouch=!1),maybeTouch)}__name(ensureMaybeTouch,"ensureMaybeTouch");let wheelScale;function ensureWheelScale(){return typeof document>"u"?1:(wheelScale===void 0&&(wheelScale="chrome"in window?window.devicePixelRatio:1),wheelScale)}__name(ensureWheelScale,"ensureWheelScale");const xScrollInjextionKey="VVirtualListXScroll";function setupXScroll({columnsRef,renderColRef,renderItemWithColsRef}){const listWidthRef=ref(0),scrollLeftRef=ref(0),xFinweckTreeRef=computed(()=>{const columns=columnsRef.value;if(columns.length===0)return null;const ft=new FinweckTree(columns.length,0);return columns.forEach((column,index)=>{ft.add(index,column.width)}),ft}),startIndexRef=useMemo(()=>{const xFinweckTree=xFinweckTreeRef.value;return xFinweckTree!==null?Math.max(xFinweckTree.getBound(scrollLeftRef.value)-1,0):0}),getLeft=__name(index=>{const xFinweckTree=xFinweckTreeRef.value;return xFinweckTree!==null?xFinweckTree.sum(index):0},"getLeft"),endIndexRef=useMemo(()=>{const xFinweckTree=xFinweckTreeRef.value;return xFinweckTree!==null?Math.min(xFinweckTree.getBound(scrollLeftRef.value+listWidthRef.value)+1,columnsRef.value.length-1):0});return provide(xScrollInjextionKey,{startIndexRef,endIndexRef,columnsRef,renderColRef,renderItemWithColsRef,getLeft}),{listWidthRef,scrollLeftRef}}__name(setupXScroll,"setupXScroll");const VirtualListRow=defineComponent({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef,endIndexRef,columnsRef,getLeft,renderColRef,renderItemWithColsRef}=inject(xScrollInjextionKey);return{startIndex:startIndexRef,endIndex:endIndexRef,columns:columnsRef,renderCol:renderColRef,renderItemWithCols:renderItemWithColsRef,getLeft}},render(){const{startIndex,endIndex,columns,renderCol,renderItemWithCols,getLeft,item}=this;if(renderItemWithCols!=null)return renderItemWithCols({itemIndex:this.index,startColIndex:startIndex,endColIndex:endIndex,allColumns:columns,item,getLeft});if(renderCol!=null){const items=[];for(let i=startIndex;i<=endIndex;++i){const column=columns[i];items.push(renderCol({column,left:getLeft(i),item}))}return items}return null}}),styles=c(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[c("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[c("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),VVirtualList=defineComponent({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:__name(()=>[],"default")},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:__name(()=>[],"default")},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(props){const ssrAdapter=useSsrAdapter();styles.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:ssrAdapter}),onMounted(()=>{const{defaultScrollIndex,defaultScrollKey}=props;defaultScrollIndex!=null?scrollTo({index:defaultScrollIndex}):defaultScrollKey!=null&&scrollTo({key:defaultScrollKey})});let isDeactivated=!1,activateStateInitialized=!1;onActivated(()=>{if(isDeactivated=!1,!activateStateInitialized){activateStateInitialized=!0;return}scrollTo({top:scrollTopRef.value,left:scrollLeftRef.value})}),onDeactivated(()=>{isDeactivated=!0,activateStateInitialized||(activateStateInitialized=!0)});const totalWidthRef=useMemo(()=>{if(props.renderCol==null&&props.renderItemWithCols==null||props.columns.length===0)return;let width=0;return props.columns.forEach(column=>{width+=column.width}),width}),keyIndexMapRef=computed(()=>{const map=new Map,{keyField}=props;return props.items.forEach((item,index)=>{map.set(item[keyField],index)}),map}),{scrollLeftRef,listWidthRef}=setupXScroll({columnsRef:toRef(props,"columns"),renderColRef:toRef(props,"renderCol"),renderItemWithColsRef:toRef(props,"renderItemWithCols")}),listElRef=ref(null),listHeightRef=ref(void 0),keyToHeightOffset=new Map,finweckTreeRef=computed(()=>{const{items,itemSize,keyField}=props,ft=new FinweckTree(items.length,itemSize);return items.forEach((item,index)=>{const key=item[keyField],heightOffset=keyToHeightOffset.get(key);heightOffset!==void 0&&ft.add(index,heightOffset)}),ft}),finweckTreeUpdateTrigger=ref(0),scrollTopRef=ref(0),startIndexRef=useMemo(()=>Math.max(finweckTreeRef.value.getBound(scrollTopRef.value-depx(props.paddingTop))-1,0)),viewportItemsRef=computed(()=>{const{value:listHeight}=listHeightRef;if(listHeight===void 0)return[];const{items,itemSize}=props,startIndex=startIndexRef.value,endIndex=Math.min(startIndex+Math.ceil(listHeight/itemSize+1),items.length-1),viewportItems=[];for(let i=startIndex;i<=endIndex;++i)viewportItems.push(items[i]);return viewportItems}),scrollTo=__name((options,y)=>{if(typeof options=="number"){scrollToPosition(options,y,"auto");return}const{left,top,index,key,position,behavior,debounce=!0}=options;if(left!==void 0||top!==void 0)scrollToPosition(left,top,behavior);else if(index!==void 0)scrollToIndex(index,behavior,debounce);else if(key!==void 0){const toIndex=keyIndexMapRef.value.get(key);toIndex!==void 0&&scrollToIndex(toIndex,behavior,debounce)}else position==="bottom"?scrollToPosition(0,Number.MAX_SAFE_INTEGER,behavior):position==="top"&&scrollToPosition(0,0,behavior)},"scrollTo");let anchorIndex,anchorTimerId=null;function scrollToIndex(index,behavior,debounce){const{value:ft}=finweckTreeRef,targetTop=ft.sum(index)+depx(props.paddingTop);if(!debounce)listElRef.value.scrollTo({left:0,top:targetTop,behavior});else{anchorIndex=index,anchorTimerId!==null&&window.clearTimeout(anchorTimerId),anchorTimerId=window.setTimeout(()=>{anchorIndex=void 0,anchorTimerId=null},16);const{scrollTop,offsetHeight}=listElRef.value;if(targetTop>scrollTop){const itemSize=ft.get(index);targetTop+itemSize<=scrollTop+offsetHeight||listElRef.value.scrollTo({left:0,top:targetTop+itemSize-offsetHeight,behavior})}else listElRef.value.scrollTo({left:0,top:targetTop,behavior})}}__name(scrollToIndex,"scrollToIndex");function scrollToPosition(left,top,behavior){listElRef.value.scrollTo({left,top,behavior})}__name(scrollToPosition,"scrollToPosition");function handleItemResize(key,entry){var _a,_b,_c;if(isDeactivated||props.ignoreItemResize||isHideByVShow(entry.target))return;const{value:ft}=finweckTreeRef,index=keyIndexMapRef.value.get(key),previousHeight=ft.get(index),height=(_c=(_b=(_a=entry.borderBoxSize)===null||_a===void 0?void 0:_a[0])===null||_b===void 0?void 0:_b.blockSize)!==null&&_c!==void 0?_c:entry.contentRect.height;if(height===previousHeight)return;height-props.itemSize===0?keyToHeightOffset.delete(key):keyToHeightOffset.set(key,height-props.itemSize);const delta=height-previousHeight;if(delta===0)return;ft.add(index,delta);const listEl=listElRef.value;if(listEl!=null){if(anchorIndex===void 0){const previousHeightSum=ft.sum(index);listEl.scrollTop>previousHeightSum&&listEl.scrollBy(0,delta)}else if(index<anchorIndex)listEl.scrollBy(0,delta);else if(index===anchorIndex){const previousHeightSum=ft.sum(index);height+previousHeightSum>listEl.scrollTop+listEl.offsetHeight&&listEl.scrollBy(0,delta)}syncViewport()}finweckTreeUpdateTrigger.value++}__name(handleItemResize,"handleItemResize");const mayUseWheel=!ensureMaybeTouch();let wheelCatched=!1;function handleListScroll(e){var _a;(_a=props.onScroll)===null||_a===void 0||_a.call(props,e),(!mayUseWheel||!wheelCatched)&&syncViewport()}__name(handleListScroll,"handleListScroll");function handleListWheel(e){var _a;if((_a=props.onWheel)===null||_a===void 0||_a.call(props,e),mayUseWheel){const listEl=listElRef.value;if(listEl!=null){if(e.deltaX===0&&(listEl.scrollTop===0&&e.deltaY<=0||listEl.scrollTop+listEl.offsetHeight>=listEl.scrollHeight&&e.deltaY>=0))return;e.preventDefault(),listEl.scrollTop+=e.deltaY/ensureWheelScale(),listEl.scrollLeft+=e.deltaX/ensureWheelScale(),syncViewport(),wheelCatched=!0,beforeNextFrameOnce(()=>{wheelCatched=!1})}}}__name(handleListWheel,"handleListWheel");function handleListResize(entry){if(isDeactivated||isHideByVShow(entry.target))return;if(props.renderCol==null&&props.renderItemWithCols==null){if(entry.contentRect.height===listHeightRef.value)return}else if(entry.contentRect.height===listHeightRef.value&&entry.contentRect.width===listWidthRef.value)return;listHeightRef.value=entry.contentRect.height,listWidthRef.value=entry.contentRect.width;const{onResize}=props;onResize!==void 0&&onResize(entry)}__name(handleListResize,"handleListResize");function syncViewport(){const{value:listEl}=listElRef;listEl!=null&&(scrollTopRef.value=listEl.scrollTop,scrollLeftRef.value=listEl.scrollLeft)}__name(syncViewport,"syncViewport");function isHideByVShow(el){let cursor=el;for(;cursor!==null;){if(cursor.style.display==="none")return!0;cursor=cursor.parentElement}return!1}return __name(isHideByVShow,"isHideByVShow"),{listHeight:listHeightRef,listStyle:{overflow:"auto"},keyToIndex:keyIndexMapRef,itemsStyle:computed(()=>{const{itemResizable}=props,height=pxfy(finweckTreeRef.value.sum());return finweckTreeUpdateTrigger.value,[props.itemsStyle,{boxSizing:"content-box",width:pxfy(totalWidthRef.value),height:itemResizable?"":height,minHeight:itemResizable?height:"",paddingTop:pxfy(props.paddingTop),paddingBottom:pxfy(props.paddingBottom)}]}),visibleItemsStyle:computed(()=>(finweckTreeUpdateTrigger.value,{transform:"translateY(".concat(pxfy(finweckTreeRef.value.sum(startIndexRef.value)),")")})),viewportItems:viewportItemsRef,listElRef,itemsElRef:ref(null),scrollTo,handleListResize,handleListScroll,handleListWheel,handleItemResize}},render(){const{itemResizable,keyField,keyToIndex,visibleItemsTag}=this;return h(VResizeObserver,{onResize:this.handleListResize},{default:__name(()=>{var _a,_b;return h("div",mergeProps(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(visibleItemsTag,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:__name(()=>{const{renderCol,renderItemWithCols}=this;return this.viewportItems.map(item=>{const key=item[keyField],index=keyToIndex.get(key),renderedCols=renderCol!=null?h(VirtualListRow,{index,item}):void 0,renderedItemWithCols=renderItemWithCols!=null?h(VirtualListRow,{index,item}):void 0,itemVNode=this.$slots.default({item,renderedCols,renderedItemWithCols,index})[0];return itemResizable?h(VResizeObserver,{key,onResize:__name(entry=>this.handleItemResize(key,entry),"onResize")},{default:__name(()=>itemVNode,"default")}):(itemVNode.key=key,itemVNode)})},"default")})]):(_b=(_a=this.$slots).empty)===null||_b===void 0?void 0:_b.call(_a)])},"default")})}});function useOnResize(elRef,onResize){onResize&&(onMounted(()=>{const{value:el}=elRef;el&&resizeObserverManager.registerHandler(el,onResize)}),watch(elRef,(_,oldEl)=>{oldEl&&resizeObserverManager.unregisterHandler(oldEl)},{deep:!1}),onBeforeUnmount(()=>{const{value:el}=elRef;el&&resizeObserverManager.unregisterHandler(el)}))}__name(useOnResize,"useOnResize");function mergeEventHandlers(handlers){const filteredHandlers=handlers.filter(handler=>handler!==void 0);if(filteredHandlers.length!==0)return filteredHandlers.length===1?filteredHandlers[0]:e=>{handlers.forEach(handler=>{handler&&handler(e)})}}__name(mergeEventHandlers,"mergeEventHandlers");const FinishedIcon=defineComponent({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),EmptyIcon=defineComponent({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),FocusDetector=defineComponent({props:{onFocus:Function,onBlur:Function},setup(props){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:props.onFocus,onBlur:props.onBlur})}}),style$5=cB("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[cE("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[c$1("+",[cE("description","\n margin-top: 8px;\n ")])]),cE("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),cE("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),emptyProps=Object.assign(Object.assign({},useTheme.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),NEmpty=defineComponent({name:"Empty",props:emptyProps,slots:Object,setup(props){const{mergedClsPrefixRef,inlineThemeDisabled,mergedComponentPropsRef}=useConfig(props),themeRef=useTheme("Empty","-empty",style$5,emptyLight,props,mergedClsPrefixRef),{localeRef}=useLocale("Empty"),mergedDescriptionRef=computed(()=>{var _a,_b,_c;return(_a=props.description)!==null&&_a!==void 0?_a:(_c=(_b=mergedComponentPropsRef==null?void 0:mergedComponentPropsRef.value)===null||_b===void 0?void 0:_b.Empty)===null||_c===void 0?void 0:_c.description}),mergedRenderIconRef=computed(()=>{var _a,_b;return((_b=(_a=mergedComponentPropsRef==null?void 0:mergedComponentPropsRef.value)===null||_a===void 0?void 0:_a.Empty)===null||_b===void 0?void 0:_b.renderIcon)||(()=>h(EmptyIcon,null))}),cssVarsRef=computed(()=>{const{size}=props,{common:{cubicBezierEaseInOut},self:{[createKey("iconSize",size)]:iconSize,[createKey("fontSize",size)]:fontSize,textColor,iconColor,extraTextColor}}=themeRef.value;return{"--n-icon-size":iconSize,"--n-font-size":fontSize,"--n-bezier":cubicBezierEaseInOut,"--n-text-color":textColor,"--n-icon-color":iconColor,"--n-extra-text-color":extraTextColor}}),themeClassHandle=inlineThemeDisabled?useThemeClass("empty",computed(()=>{let hash="";const{size}=props;return hash+=size[0],hash}),cssVarsRef,props):void 0;return{mergedClsPrefix:mergedClsPrefixRef,mergedRenderIcon:mergedRenderIconRef,localizedDescription:computed(()=>mergedDescriptionRef.value||localeRef.value.description),cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{$slots,mergedClsPrefix,onRender}=this;return onRender==null||onRender(),h("div",{class:["".concat(mergedClsPrefix,"-empty"),this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:"".concat(mergedClsPrefix,"-empty__icon")},$slots.icon?$slots.icon():h(NBaseIcon,{clsPrefix:mergedClsPrefix},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:"".concat(mergedClsPrefix,"-empty__description")},$slots.default?$slots.default():this.localizedDescription):null,$slots.extra?h("div",{class:"".concat(mergedClsPrefix,"-empty__extra")},$slots.extra()):null)}}),NSelectGroupHeader=defineComponent({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef,renderOptionRef,labelFieldRef,nodePropsRef}=inject(internalSelectionMenuInjectionKey);return{labelField:labelFieldRef,nodeProps:nodePropsRef,renderLabel:renderLabelRef,renderOption:renderOptionRef}},render(){const{clsPrefix,renderLabel,renderOption,nodeProps,tmNode:{rawNode}}=this,attrs=nodeProps==null?void 0:nodeProps(rawNode),children=renderLabel?renderLabel(rawNode,!1):render(rawNode[this.labelField],rawNode,!1),node=h("div",Object.assign({},attrs,{class:["".concat(clsPrefix,"-base-select-group-header"),attrs==null?void 0:attrs.class]}),children);return rawNode.render?rawNode.render({node,option:rawNode}):renderOption?renderOption({node,option:rawNode,selected:!1}):node}});function renderCheckMark(show,clsPrefix){return h(Transition,{name:"fade-in-scale-up-transition"},{default:__name(()=>show?h(NBaseIcon,{clsPrefix,class:"".concat(clsPrefix,"-base-select-option__check")},{default:__name(()=>h(FinishedIcon),"default")}):null,"default")})}__name(renderCheckMark,"renderCheckMark");const NSelectOption=defineComponent({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(props){const{valueRef,pendingTmNodeRef,multipleRef,valueSetRef,renderLabelRef,renderOptionRef,labelFieldRef,valueFieldRef,showCheckmarkRef,nodePropsRef,handleOptionClick,handleOptionMouseEnter}=inject(internalSelectionMenuInjectionKey),isPendingRef=useMemo(()=>{const{value:pendingTmNode}=pendingTmNodeRef;return pendingTmNode?props.tmNode.key===pendingTmNode.key:!1});function handleClick(e){const{tmNode}=props;tmNode.disabled||handleOptionClick(e,tmNode)}__name(handleClick,"handleClick");function handleMouseEnter(e){const{tmNode}=props;tmNode.disabled||handleOptionMouseEnter(e,tmNode)}__name(handleMouseEnter,"handleMouseEnter");function handleMouseMove(e){const{tmNode}=props,{value:isPending}=isPendingRef;tmNode.disabled||isPending||handleOptionMouseEnter(e,tmNode)}return __name(handleMouseMove,"handleMouseMove"),{multiple:multipleRef,isGrouped:useMemo(()=>{const{tmNode}=props,{parent}=tmNode;return parent&&parent.rawNode.type==="group"}),showCheckmark:showCheckmarkRef,nodeProps:nodePropsRef,isPending:isPendingRef,isSelected:useMemo(()=>{const{value}=valueRef,{value:multiple}=multipleRef;if(value===null)return!1;const optionValue=props.tmNode.rawNode[valueFieldRef.value];if(multiple){const{value:valueSet}=valueSetRef;return valueSet.has(optionValue)}else return value===optionValue}),labelField:labelFieldRef,renderLabel:renderLabelRef,renderOption:renderOptionRef,handleMouseMove,handleMouseEnter,handleClick}},render(){const{clsPrefix,tmNode:{rawNode},isSelected,isPending,isGrouped,showCheckmark,nodeProps,renderOption,renderLabel,handleClick,handleMouseEnter,handleMouseMove}=this,checkmark=renderCheckMark(isSelected,clsPrefix),children=renderLabel?[renderLabel(rawNode,isSelected),showCheckmark&&checkmark]:[render(rawNode[this.labelField],rawNode,isSelected),showCheckmark&&checkmark],attrs=nodeProps==null?void 0:nodeProps(rawNode),node=h("div",Object.assign({},attrs,{class:["".concat(clsPrefix,"-base-select-option"),rawNode.class,attrs==null?void 0:attrs.class,{["".concat(clsPrefix,"-base-select-option--disabled")]:rawNode.disabled,["".concat(clsPrefix,"-base-select-option--selected")]:isSelected,["".concat(clsPrefix,"-base-select-option--grouped")]:isGrouped,["".concat(clsPrefix,"-base-select-option--pending")]:isPending,["".concat(clsPrefix,"-base-select-option--show-checkmark")]:showCheckmark}],style:[(attrs==null?void 0:attrs.style)||"",rawNode.style||""],onClick:mergeEventHandlers([handleClick,attrs==null?void 0:attrs.onClick]),onMouseenter:mergeEventHandlers([handleMouseEnter,attrs==null?void 0:attrs.onMouseenter]),onMousemove:mergeEventHandlers([handleMouseMove,attrs==null?void 0:attrs.onMousemove])}),h("div",{class:"".concat(clsPrefix,"-base-select-option__content")},children));return rawNode.render?rawNode.render({node,option:rawNode,selected:isSelected}):renderOption?renderOption({node,option:rawNode,selected:isSelected}):node}}),style$4=cB("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[cB("scrollbar","\n max-height: var(--n-height);\n "),cB("virtual-list","\n max-height: var(--n-height);\n "),cB("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[cE("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),cB("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),cB("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),cE("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),cE("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),cE("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),cE("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),cB("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),cB("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[cM("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),c$1("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),c$1("&:active","\n color: var(--n-option-text-color-pressed);\n "),cM("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),cM("pending",[c$1("&::before","\n background-color: var(--n-option-color-pending);\n ")]),cM("selected","\n color: var(--n-option-text-color-active);\n ",[c$1("&::before","\n background-color: var(--n-option-color-active);\n "),cM("pending",[c$1("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),cM("disabled","\n cursor: not-allowed;\n ",[cNotM("selected","\n color: var(--n-option-text-color-disabled);\n "),cM("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),cE("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[fadeInScaleUpTransition({enterScale:"0.5"})])])]),NInternalSelectMenu=defineComponent({name:"InternalSelectMenu",props:Object.assign(Object.assign({},useTheme.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(props){const{mergedClsPrefixRef,mergedRtlRef}=useConfig(props),rtlEnabledRef=useRtl("InternalSelectMenu",mergedRtlRef,mergedClsPrefixRef),themeRef=useTheme("InternalSelectMenu","-internal-select-menu",style$4,internalSelectMenuLight,props,toRef(props,"clsPrefix")),selfRef=ref(null),virtualListRef=ref(null),scrollbarRef=ref(null),flattenedNodesRef=computed(()=>props.treeMate.getFlattenedNodes()),fIndexGetterRef=computed(()=>createIndexGetter(flattenedNodesRef.value)),pendingNodeRef=ref(null);function initPendingNode(){const{treeMate}=props;let defaultPendingNode=null;const{value}=props;value===null?defaultPendingNode=treeMate.getFirstAvailableNode():(props.multiple?defaultPendingNode=treeMate.getNode((value||[])[(value||[]).length-1]):defaultPendingNode=treeMate.getNode(value),(!defaultPendingNode||defaultPendingNode.disabled)&&(defaultPendingNode=treeMate.getFirstAvailableNode())),setPendingTmNode(defaultPendingNode||null)}__name(initPendingNode,"initPendingNode");function clearPendingNodeIfInvalid(){const{value:pendingNode}=pendingNodeRef;pendingNode&&!props.treeMate.getNode(pendingNode.key)&&(pendingNodeRef.value=null)}__name(clearPendingNodeIfInvalid,"clearPendingNodeIfInvalid");let initPendingNodeWatchStopHandle;watch(()=>props.show,show=>{show?initPendingNodeWatchStopHandle=watch(()=>props.treeMate,()=>{props.resetMenuOnOptionsChange?(props.autoPending?initPendingNode():clearPendingNodeIfInvalid(),nextTick(scrollToPendingNode)):clearPendingNodeIfInvalid()},{immediate:!0}):initPendingNodeWatchStopHandle==null||initPendingNodeWatchStopHandle()},{immediate:!0}),onBeforeUnmount(()=>{initPendingNodeWatchStopHandle==null||initPendingNodeWatchStopHandle()});const itemSizeRef=computed(()=>depx(themeRef.value.self[createKey("optionHeight",props.size)])),paddingRef=computed(()=>getMargin(themeRef.value.self[createKey("padding",props.size)])),valueSetRef=computed(()=>props.multiple&&Array.isArray(props.value)?new Set(props.value):new Set),emptyRef=computed(()=>{const tmNodes=flattenedNodesRef.value;return tmNodes&&tmNodes.length===0});function doToggle(tmNode){const{onToggle}=props;onToggle&&onToggle(tmNode)}__name(doToggle,"doToggle");function doScroll(e){const{onScroll}=props;onScroll&&onScroll(e)}__name(doScroll,"doScroll");function handleVirtualListScroll(e){var _a;(_a=scrollbarRef.value)===null||_a===void 0||_a.sync(),doScroll(e)}__name(handleVirtualListScroll,"handleVirtualListScroll");function handleVirtualListResize(){var _a;(_a=scrollbarRef.value)===null||_a===void 0||_a.sync()}__name(handleVirtualListResize,"handleVirtualListResize");function getPendingTmNode(){const{value:pendingTmNode}=pendingNodeRef;return pendingTmNode||null}__name(getPendingTmNode,"getPendingTmNode");function handleOptionMouseEnter(e,tmNode){tmNode.disabled||setPendingTmNode(tmNode,!1)}__name(handleOptionMouseEnter,"handleOptionMouseEnter");function handleOptionClick(e,tmNode){tmNode.disabled||doToggle(tmNode)}__name(handleOptionClick,"handleOptionClick");function handleKeyUp(e){var _a;happensIn(e,"action")||(_a=props.onKeyup)===null||_a===void 0||_a.call(props,e)}__name(handleKeyUp,"handleKeyUp");function handleKeyDown(e){var _a;happensIn(e,"action")||(_a=props.onKeydown)===null||_a===void 0||_a.call(props,e)}__name(handleKeyDown,"handleKeyDown");function handleMouseDown(e){var _a;(_a=props.onMousedown)===null||_a===void 0||_a.call(props,e),!props.focusable&&e.preventDefault()}__name(handleMouseDown,"handleMouseDown");function next(){const{value:pendingTmNode}=pendingNodeRef;pendingTmNode&&setPendingTmNode(pendingTmNode.getNext({loop:!0}),!0)}__name(next,"next");function prev(){const{value:pendingTmNode}=pendingNodeRef;pendingTmNode&&setPendingTmNode(pendingTmNode.getPrev({loop:!0}),!0)}__name(prev,"prev");function setPendingTmNode(tmNode,doScroll2=!1){pendingNodeRef.value=tmNode,doScroll2&&scrollToPendingNode()}__name(setPendingTmNode,"setPendingTmNode");function scrollToPendingNode(){var _a,_b;const tmNode=pendingNodeRef.value;if(!tmNode)return;const fIndex=fIndexGetterRef.value(tmNode.key);fIndex!==null&&(props.virtualScroll?(_a=virtualListRef.value)===null||_a===void 0||_a.scrollTo({index:fIndex}):(_b=scrollbarRef.value)===null||_b===void 0||_b.scrollTo({index:fIndex,elSize:itemSizeRef.value}))}__name(scrollToPendingNode,"scrollToPendingNode");function handleFocusin(e){var _a,_b;!((_a=selfRef.value)===null||_a===void 0)&&_a.contains(e.target)&&((_b=props.onFocus)===null||_b===void 0||_b.call(props,e))}__name(handleFocusin,"handleFocusin");function handleFocusout(e){var _a,_b;!((_a=selfRef.value)===null||_a===void 0)&&_a.contains(e.relatedTarget)||(_b=props.onBlur)===null||_b===void 0||_b.call(props,e)}__name(handleFocusout,"handleFocusout"),provide(internalSelectionMenuInjectionKey,{handleOptionMouseEnter,handleOptionClick,valueSetRef,pendingTmNodeRef:pendingNodeRef,nodePropsRef:toRef(props,"nodeProps"),showCheckmarkRef:toRef(props,"showCheckmark"),multipleRef:toRef(props,"multiple"),valueRef:toRef(props,"value"),renderLabelRef:toRef(props,"renderLabel"),renderOptionRef:toRef(props,"renderOption"),labelFieldRef:toRef(props,"labelField"),valueFieldRef:toRef(props,"valueField")}),provide(internalSelectionMenuBodyInjectionKey,selfRef),onMounted(()=>{const{value}=scrollbarRef;value&&value.sync()});const cssVarsRef=computed(()=>{const{size}=props,{common:{cubicBezierEaseInOut},self:{height,borderRadius,color,groupHeaderTextColor,actionDividerColor,optionTextColorPressed,optionTextColor,optionTextColorDisabled,optionTextColorActive,optionOpacityDisabled,optionCheckColor,actionTextColor,optionColorPending,optionColorActive,loadingColor,loadingSize,optionColorActivePending,[createKey("optionFontSize",size)]:fontSize,[createKey("optionHeight",size)]:optionHeight,[createKey("optionPadding",size)]:optionPadding}}=themeRef.value;return{"--n-height":height,"--n-action-divider-color":actionDividerColor,"--n-action-text-color":actionTextColor,"--n-bezier":cubicBezierEaseInOut,"--n-border-radius":borderRadius,"--n-color":color,"--n-option-font-size":fontSize,"--n-group-header-text-color":groupHeaderTextColor,"--n-option-check-color":optionCheckColor,"--n-option-color-pending":optionColorPending,"--n-option-color-active":optionColorActive,"--n-option-color-active-pending":optionColorActivePending,"--n-option-height":optionHeight,"--n-option-opacity-disabled":optionOpacityDisabled,"--n-option-text-color":optionTextColor,"--n-option-text-color-active":optionTextColorActive,"--n-option-text-color-disabled":optionTextColorDisabled,"--n-option-text-color-pressed":optionTextColorPressed,"--n-option-padding":optionPadding,"--n-option-padding-left":getMargin(optionPadding,"left"),"--n-option-padding-right":getMargin(optionPadding,"right"),"--n-loading-color":loadingColor,"--n-loading-size":loadingSize}}),{inlineThemeDisabled}=props,themeClassHandle=inlineThemeDisabled?useThemeClass("internal-select-menu",computed(()=>props.size[0]),cssVarsRef,props):void 0,exposedProps={selfRef,next,prev,getPendingTmNode};return useOnResize(selfRef,props.onResize),Object.assign({mergedTheme:themeRef,mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,virtualListRef,scrollbarRef,itemSize:itemSizeRef,padding:paddingRef,flattenedNodes:flattenedNodesRef,empty:emptyRef,virtualListContainer(){const{value}=virtualListRef;return value==null?void 0:value.listElRef},virtualListContent(){const{value}=virtualListRef;return value==null?void 0:value.itemsElRef},doScroll,handleFocusin,handleFocusout,handleKeyUp,handleKeyDown,handleMouseDown,handleVirtualListResize,handleVirtualListScroll,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender},exposedProps)},render(){const{$slots,virtualScroll,clsPrefix,mergedTheme,themeClass,onRender}=this;return onRender==null||onRender(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:["".concat(clsPrefix,"-base-select-menu"),this.rtlEnabled&&"".concat(clsPrefix,"-base-select-menu--rtl"),themeClass,this.multiple&&"".concat(clsPrefix,"-base-select-menu--multiple")],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},resolveWrappedSlot($slots.header,children=>children&&h("div",{class:"".concat(clsPrefix,"-base-select-menu__header"),"data-header":!0,key:"header"},children)),this.loading?h("div",{class:"".concat(clsPrefix,"-base-select-menu__loading")},h(NBaseLoading,{clsPrefix,strokeWidth:20})):this.empty?h("div",{class:"".concat(clsPrefix,"-base-select-menu__empty"),"data-empty":!0},resolveSlot($slots.empty,()=>[h(NEmpty,{theme:mergedTheme.peers.Empty,themeOverrides:mergedTheme.peerOverrides.Empty,size:this.size})])):h(Scrollbar,{ref:"scrollbarRef",theme:mergedTheme.peers.Scrollbar,themeOverrides:mergedTheme.peerOverrides.Scrollbar,scrollable:this.scrollable,container:virtualScroll?this.virtualListContainer:void 0,content:virtualScroll?this.virtualListContent:void 0,onScroll:virtualScroll?void 0:this.doScroll},{default:__name(()=>virtualScroll?h(VVirtualList,{ref:"virtualListRef",class:"".concat(clsPrefix,"-virtual-list"),items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:__name(({item:tmNode})=>tmNode.isGroup?h(NSelectGroupHeader,{key:tmNode.key,clsPrefix,tmNode}):tmNode.ignored?null:h(NSelectOption,{clsPrefix,key:tmNode.key,tmNode}),"default")}):h("div",{class:"".concat(clsPrefix,"-base-select-menu-option-wrapper"),style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(tmNode=>tmNode.isGroup?h(NSelectGroupHeader,{key:tmNode.key,clsPrefix,tmNode}):h(NSelectOption,{clsPrefix,key:tmNode.key,tmNode}))),"default")}),resolveWrappedSlot($slots.action,children=>children&&[h("div",{class:"".concat(clsPrefix,"-base-select-menu__action"),"data-action":!0,key:"action"},children),h(FocusDetector,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),style$3=c$1([cB("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[cB("base-loading","\n color: var(--n-loading-color);\n "),cB("base-selection-tags","min-height: var(--n-height);"),cE("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),cE("state-border","\n z-index: 1;\n border-color: #0000;\n "),cB("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[cE("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),cB("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[cE("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),cB("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[cE("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),cB("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),cB("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[cB("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[cE("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),cE("render-label","\n color: var(--n-text-color);\n ")]),cNotM("disabled",[c$1("&:hover",[cE("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),cM("focus",[cE("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),cM("active",[cE("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),cB("base-selection-label","background-color: var(--n-color-active);"),cB("base-selection-tags","background-color: var(--n-color-active);")])]),cM("disabled","cursor: not-allowed;",[cE("arrow","\n color: var(--n-arrow-color-disabled);\n "),cB("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[cB("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),cE("render-label","\n color: var(--n-text-color-disabled);\n ")]),cB("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),cB("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),cB("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[cE("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),cE("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map(status=>cM("".concat(status,"-status"),[cE("state-border","border: var(--n-border-".concat(status,");")),cNotM("disabled",[c$1("&:hover",[cE("state-border","\n box-shadow: var(--n-box-shadow-hover-".concat(status,");\n border: var(--n-border-hover-").concat(status,");\n "))]),cM("active",[cE("state-border","\n box-shadow: var(--n-box-shadow-active-".concat(status,");\n border: var(--n-border-active-").concat(status,");\n ")),cB("base-selection-label","background-color: var(--n-color-active-".concat(status,");")),cB("base-selection-tags","background-color: var(--n-color-active-".concat(status,");"))]),cM("focus",[cE("state-border","\n box-shadow: var(--n-box-shadow-focus-".concat(status,");\n border: var(--n-border-focus-").concat(status,");\n "))])])]))]),cB("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),cB("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[c$1("&:last-child","padding-right: 0;"),cB("tag","\n font-size: 14px;\n max-width: 100%;\n ",[cE("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),NInternalSelection=defineComponent({name:"InternalSelection",props:Object.assign(Object.assign({},useTheme.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(props){const{mergedClsPrefixRef,mergedRtlRef}=useConfig(props),rtlEnabledRef=useRtl("InternalSelection",mergedRtlRef,mergedClsPrefixRef),patternInputMirrorRef=ref(null),patternInputRef=ref(null),selfRef=ref(null),multipleElRef=ref(null),singleElRef=ref(null),patternInputWrapperRef=ref(null),counterRef=ref(null),counterWrapperRef=ref(null),overflowRef=ref(null),inputTagElRef=ref(null),showTagsPopoverRef=ref(!1),patternInputFocusedRef=ref(!1),hoverRef=ref(!1),themeRef=useTheme("InternalSelection","-internal-selection",style$3,internalSelectionLight,props,toRef(props,"clsPrefix")),mergedClearableRef=computed(()=>props.clearable&&!props.disabled&&(hoverRef.value||props.active)),filterablePlaceholderRef=computed(()=>props.selectedOption?props.renderTag?props.renderTag({option:props.selectedOption,handleClose:__name(()=>{},"handleClose")}):props.renderLabel?props.renderLabel(props.selectedOption,!0):render(props.selectedOption[props.labelField],props.selectedOption,!0):props.placeholder),labelRef=computed(()=>{const option=props.selectedOption;if(option)return option[props.labelField]}),selectedRef=computed(()=>props.multiple?!!(Array.isArray(props.selectedOptions)&&props.selectedOptions.length):props.selectedOption!==null);function syncMirrorWidth(){var _a;const{value:patternInputMirrorEl}=patternInputMirrorRef;if(patternInputMirrorEl){const{value:patternInputEl}=patternInputRef;patternInputEl&&(patternInputEl.style.width="".concat(patternInputMirrorEl.offsetWidth,"px"),props.maxTagCount!=="responsive"&&((_a=overflowRef.value)===null||_a===void 0||_a.sync({showAllItemsBeforeCalculate:!1})))}}__name(syncMirrorWidth,"syncMirrorWidth");function hideInputTag(){const{value:inputTagEl}=inputTagElRef;inputTagEl&&(inputTagEl.style.display="none")}__name(hideInputTag,"hideInputTag");function showInputTag(){const{value:inputTagEl}=inputTagElRef;inputTagEl&&(inputTagEl.style.display="inline-block")}__name(showInputTag,"showInputTag"),watch(toRef(props,"active"),value=>{value||hideInputTag()}),watch(toRef(props,"pattern"),()=>{props.multiple&&nextTick(syncMirrorWidth)});function doFocus(e){const{onFocus}=props;onFocus&&onFocus(e)}__name(doFocus,"doFocus");function doBlur(e){const{onBlur}=props;onBlur&&onBlur(e)}__name(doBlur,"doBlur");function doDeleteOption(value){const{onDeleteOption}=props;onDeleteOption&&onDeleteOption(value)}__name(doDeleteOption,"doDeleteOption");function doClear(e){const{onClear}=props;onClear&&onClear(e)}__name(doClear,"doClear");function doPatternInput(value){const{onPatternInput}=props;onPatternInput&&onPatternInput(value)}__name(doPatternInput,"doPatternInput");function handleFocusin(e){var _a;(!e.relatedTarget||!(!((_a=selfRef.value)===null||_a===void 0)&&_a.contains(e.relatedTarget)))&&doFocus(e)}__name(handleFocusin,"handleFocusin");function handleFocusout(e){var _a;!((_a=selfRef.value)===null||_a===void 0)&&_a.contains(e.relatedTarget)||doBlur(e)}__name(handleFocusout,"handleFocusout");function handleClear(e){doClear(e)}__name(handleClear,"handleClear");function handleMouseEnter(){hoverRef.value=!0}__name(handleMouseEnter,"handleMouseEnter");function handleMouseLeave(){hoverRef.value=!1}__name(handleMouseLeave,"handleMouseLeave");function handleMouseDown(e){!props.active||!props.filterable||e.target!==patternInputRef.value&&e.preventDefault()}__name(handleMouseDown,"handleMouseDown");function handleDeleteOption(option){doDeleteOption(option)}__name(handleDeleteOption,"handleDeleteOption");const isComposingRef=ref(!1);function handlePatternKeyDown(e){if(e.key==="Backspace"&&!isComposingRef.value&&!props.pattern.length){const{selectedOptions}=props;selectedOptions!=null&&selectedOptions.length&&handleDeleteOption(selectedOptions[selectedOptions.length-1])}}__name(handlePatternKeyDown,"handlePatternKeyDown");let cachedInputEvent=null;function handlePatternInputInput(e){const{value:patternInputMirrorEl}=patternInputMirrorRef;if(patternInputMirrorEl){const inputText=e.target.value;patternInputMirrorEl.textContent=inputText,syncMirrorWidth()}props.ignoreComposition&&isComposingRef.value?cachedInputEvent=e:doPatternInput(e)}__name(handlePatternInputInput,"handlePatternInputInput");function handleCompositionStart(){isComposingRef.value=!0}__name(handleCompositionStart,"handleCompositionStart");function handleCompositionEnd(){isComposingRef.value=!1,props.ignoreComposition&&doPatternInput(cachedInputEvent),cachedInputEvent=null}__name(handleCompositionEnd,"handleCompositionEnd");function handlePatternInputFocus(e){var _a;patternInputFocusedRef.value=!0,(_a=props.onPatternFocus)===null||_a===void 0||_a.call(props,e)}__name(handlePatternInputFocus,"handlePatternInputFocus");function handlePatternInputBlur(e){var _a;patternInputFocusedRef.value=!1,(_a=props.onPatternBlur)===null||_a===void 0||_a.call(props,e)}__name(handlePatternInputBlur,"handlePatternInputBlur");function blur(){var _a,_b;if(props.filterable)patternInputFocusedRef.value=!1,(_a=patternInputWrapperRef.value)===null||_a===void 0||_a.blur(),(_b=patternInputRef.value)===null||_b===void 0||_b.blur();else if(props.multiple){const{value:multipleEl}=multipleElRef;multipleEl==null||multipleEl.blur()}else{const{value:singleEl}=singleElRef;singleEl==null||singleEl.blur()}}__name(blur,"blur");function focus(){var _a,_b,_c;props.filterable?(patternInputFocusedRef.value=!1,(_a=patternInputWrapperRef.value)===null||_a===void 0||_a.focus()):props.multiple?(_b=multipleElRef.value)===null||_b===void 0||_b.focus():(_c=singleElRef.value)===null||_c===void 0||_c.focus()}__name(focus,"focus");function focusInput(){const{value:patternInputEl}=patternInputRef;patternInputEl&&(showInputTag(),patternInputEl.focus())}__name(focusInput,"focusInput");function blurInput(){const{value:patternInputEl}=patternInputRef;patternInputEl&&patternInputEl.blur()}__name(blurInput,"blurInput");function updateCounter(count){const{value}=counterRef;value&&value.setTextContent("+".concat(count))}__name(updateCounter,"updateCounter");function getCounter(){const{value}=counterWrapperRef;return value}__name(getCounter,"getCounter");function getTail(){return patternInputRef.value}__name(getTail,"getTail");let enterTimerId=null;function clearEnterTimer(){enterTimerId!==null&&window.clearTimeout(enterTimerId)}__name(clearEnterTimer,"clearEnterTimer");function handleMouseEnterCounter(){props.active||(clearEnterTimer(),enterTimerId=window.setTimeout(()=>{selectedRef.value&&(showTagsPopoverRef.value=!0)},100))}__name(handleMouseEnterCounter,"handleMouseEnterCounter");function handleMouseLeaveCounter(){clearEnterTimer()}__name(handleMouseLeaveCounter,"handleMouseLeaveCounter");function onPopoverUpdateShow(show){show||(clearEnterTimer(),showTagsPopoverRef.value=!1)}__name(onPopoverUpdateShow,"onPopoverUpdateShow"),watch(selectedRef,value=>{value||(showTagsPopoverRef.value=!1)}),onMounted(()=>{watchEffect(()=>{const patternInputWrapperEl=patternInputWrapperRef.value;patternInputWrapperEl&&(props.disabled?patternInputWrapperEl.removeAttribute("tabindex"):patternInputWrapperEl.tabIndex=patternInputFocusedRef.value?-1:0)})}),useOnResize(selfRef,props.onResize);const{inlineThemeDisabled}=props,cssVarsRef=computed(()=>{const{size}=props,{common:{cubicBezierEaseInOut},self:{fontWeight,borderRadius,color,placeholderColor,textColor,paddingSingle,paddingMultiple,caretColor,colorDisabled,textColorDisabled,placeholderColorDisabled,colorActive,boxShadowFocus,boxShadowActive,boxShadowHover,border,borderFocus,borderHover,borderActive,arrowColor,arrowColorDisabled,loadingColor,colorActiveWarning,boxShadowFocusWarning,boxShadowActiveWarning,boxShadowHoverWarning,borderWarning,borderFocusWarning,borderHoverWarning,borderActiveWarning,colorActiveError,boxShadowFocusError,boxShadowActiveError,boxShadowHoverError,borderError,borderFocusError,borderHoverError,borderActiveError,clearColor,clearColorHover,clearColorPressed,clearSize,arrowSize,[createKey("height",size)]:height,[createKey("fontSize",size)]:fontSize}}=themeRef.value,paddingSingleDiscrete=getMargin(paddingSingle),paddingMultipleDiscrete=getMargin(paddingMultiple);return{"--n-bezier":cubicBezierEaseInOut,"--n-border":border,"--n-border-active":borderActive,"--n-border-focus":borderFocus,"--n-border-hover":borderHover,"--n-border-radius":borderRadius,"--n-box-shadow-active":boxShadowActive,"--n-box-shadow-focus":boxShadowFocus,"--n-box-shadow-hover":boxShadowHover,"--n-caret-color":caretColor,"--n-color":color,"--n-color-active":colorActive,"--n-color-disabled":colorDisabled,"--n-font-size":fontSize,"--n-height":height,"--n-padding-single-top":paddingSingleDiscrete.top,"--n-padding-multiple-top":paddingMultipleDiscrete.top,"--n-padding-single-right":paddingSingleDiscrete.right,"--n-padding-multiple-right":paddingMultipleDiscrete.right,"--n-padding-single-left":paddingSingleDiscrete.left,"--n-padding-multiple-left":paddingMultipleDiscrete.left,"--n-padding-single-bottom":paddingSingleDiscrete.bottom,"--n-padding-multiple-bottom":paddingMultipleDiscrete.bottom,"--n-placeholder-color":placeholderColor,"--n-placeholder-color-disabled":placeholderColorDisabled,"--n-text-color":textColor,"--n-text-color-disabled":textColorDisabled,"--n-arrow-color":arrowColor,"--n-arrow-color-disabled":arrowColorDisabled,"--n-loading-color":loadingColor,"--n-color-active-warning":colorActiveWarning,"--n-box-shadow-focus-warning":boxShadowFocusWarning,"--n-box-shadow-active-warning":boxShadowActiveWarning,"--n-box-shadow-hover-warning":boxShadowHoverWarning,"--n-border-warning":borderWarning,"--n-border-focus-warning":borderFocusWarning,"--n-border-hover-warning":borderHoverWarning,"--n-border-active-warning":borderActiveWarning,"--n-color-active-error":colorActiveError,"--n-box-shadow-focus-error":boxShadowFocusError,"--n-box-shadow-active-error":boxShadowActiveError,"--n-box-shadow-hover-error":boxShadowHoverError,"--n-border-error":borderError,"--n-border-focus-error":borderFocusError,"--n-border-hover-error":borderHoverError,"--n-border-active-error":borderActiveError,"--n-clear-size":clearSize,"--n-clear-color":clearColor,"--n-clear-color-hover":clearColorHover,"--n-clear-color-pressed":clearColorPressed,"--n-arrow-size":arrowSize,"--n-font-weight":fontWeight}}),themeClassHandle=inlineThemeDisabled?useThemeClass("internal-selection",computed(()=>props.size[0]),cssVarsRef,props):void 0;return{mergedTheme:themeRef,mergedClearable:mergedClearableRef,mergedClsPrefix:mergedClsPrefixRef,rtlEnabled:rtlEnabledRef,patternInputFocused:patternInputFocusedRef,filterablePlaceholder:filterablePlaceholderRef,label:labelRef,selected:selectedRef,showTagsPanel:showTagsPopoverRef,isComposing:isComposingRef,counterRef,counterWrapperRef,patternInputMirrorRef,patternInputRef,selfRef,multipleElRef,singleElRef,patternInputWrapperRef,overflowRef,inputTagElRef,handleMouseDown,handleFocusin,handleClear,handleMouseEnter,handleMouseLeave,handleDeleteOption,handlePatternKeyDown,handlePatternInputInput,handlePatternInputBlur,handlePatternInputFocus,handleMouseEnterCounter,handleMouseLeaveCounter,handleFocusout,handleCompositionEnd,handleCompositionStart,onPopoverUpdateShow,focus,focusInput,blur,blurInput,updateCounter,getCounter,getTail,renderLabel:props.renderLabel,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{status,multiple,size,disabled,filterable,maxTagCount,bordered,clsPrefix,ellipsisTagPopoverProps,onRender,renderTag,renderLabel}=this;onRender==null||onRender();const maxTagCountResponsive=maxTagCount==="responsive",maxTagCountNumeric=typeof maxTagCount=="number",useMaxTagCount=maxTagCountResponsive||maxTagCountNumeric,suffix=h(Wrapper,null,{default:__name(()=>h(NBaseSuffix,{clsPrefix,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:__name(()=>{var _a,_b;return(_b=(_a=this.$slots).arrow)===null||_b===void 0?void 0:_b.call(_a)},"default")}),"default")});let body;if(multiple){const{labelField}=this,createTag=__name(option=>h("div",{class:"".concat(clsPrefix,"-base-selection-tag-wrapper"),key:option.value},renderTag?renderTag({option,handleClose:__name(()=>{this.handleDeleteOption(option)},"handleClose")}):h(NTag,{size,closable:!option.disabled,disabled,onClose:__name(()=>{this.handleDeleteOption(option)},"onClose"),internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:__name(()=>renderLabel?renderLabel(option,!0):render(option[labelField],option,!0),"default")})),"createTag"),createOriginalTagNodes=__name(()=>(maxTagCountNumeric?this.selectedOptions.slice(0,maxTagCount):this.selectedOptions).map(createTag),"createOriginalTagNodes"),input=filterable?h("div",{class:"".concat(clsPrefix,"-base-selection-input-tag"),ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled,value:this.pattern,autofocus:this.autofocus,class:"".concat(clsPrefix,"-base-selection-input-tag__input"),onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:"".concat(clsPrefix,"-base-selection-input-tag__mirror")},this.pattern)):null,renderCounter=maxTagCountResponsive?()=>h("div",{class:"".concat(clsPrefix,"-base-selection-tag-wrapper"),ref:"counterWrapperRef"},h(NTag,{size,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled})):void 0;let counter;if(maxTagCountNumeric){const rest=this.selectedOptions.length-maxTagCount;rest>0&&(counter=h("div",{class:"".concat(clsPrefix,"-base-selection-tag-wrapper"),key:"__counter__"},h(NTag,{size,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled},{default:__name(()=>"+".concat(rest),"default")})))}const tags=maxTagCountResponsive?filterable?h(VOverflow,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:createOriginalTagNodes,counter:renderCounter,tail:__name(()=>input,"tail")}):h(VOverflow,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:createOriginalTagNodes,counter:renderCounter}):maxTagCountNumeric&&counter?createOriginalTagNodes().concat(counter):createOriginalTagNodes(),renderPopover=useMaxTagCount?()=>h("div",{class:"".concat(clsPrefix,"-base-selection-popover")},maxTagCountResponsive?createOriginalTagNodes():this.selectedOptions.map(createTag)):void 0,popoverProps=useMaxTagCount?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},ellipsisTagPopoverProps):null,placeholder=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?h("div",{class:"".concat(clsPrefix,"-base-selection-placeholder ").concat(clsPrefix,"-base-selection-overlay")},h("div",{class:"".concat(clsPrefix,"-base-selection-placeholder__inner")},this.placeholder)):null,popoverTrigger=filterable?h("div",{ref:"patternInputWrapperRef",class:"".concat(clsPrefix,"-base-selection-tags")},tags,maxTagCountResponsive?null:input,suffix):h("div",{ref:"multipleElRef",class:"".concat(clsPrefix,"-base-selection-tags"),tabindex:disabled?void 0:0},tags,suffix);body=h(Fragment,null,useMaxTagCount?h(NPopover,Object.assign({},popoverProps,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:__name(()=>popoverTrigger,"trigger"),default:renderPopover}):popoverTrigger,placeholder)}else if(filterable){const hasInput=this.pattern||this.isComposing,showPlaceholder=this.active?!hasInput:!this.selected,showSelectedLabel=this.active?!1:this.selected;body=h("div",{ref:"patternInputWrapperRef",class:"".concat(clsPrefix,"-base-selection-label"),title:this.patternInputFocused?void 0:getTitleAttribute(this.label)},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:"".concat(clsPrefix,"-base-selection-input"),value:this.active?this.pattern:"",placeholder:"",readonly:disabled,disabled,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),showSelectedLabel?h("div",{class:"".concat(clsPrefix,"-base-selection-label__render-label ").concat(clsPrefix,"-base-selection-overlay"),key:"input"},h("div",{class:"".concat(clsPrefix,"-base-selection-overlay__wrapper")},renderTag?renderTag({option:this.selectedOption,handleClose:__name(()=>{},"handleClose")}):renderLabel?renderLabel(this.selectedOption,!0):render(this.label,this.selectedOption,!0))):null,showPlaceholder?h("div",{class:"".concat(clsPrefix,"-base-selection-placeholder ").concat(clsPrefix,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(clsPrefix,"-base-selection-overlay__wrapper")},this.filterablePlaceholder)):null,suffix)}else body=h("div",{ref:"singleElRef",class:"".concat(clsPrefix,"-base-selection-label"),tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:"".concat(clsPrefix,"-base-selection-input"),title:getTitleAttribute(this.label),key:"input"},h("div",{class:"".concat(clsPrefix,"-base-selection-input__content")},renderTag?renderTag({option:this.selectedOption,handleClose:__name(()=>{},"handleClose")}):renderLabel?renderLabel(this.selectedOption,!0):render(this.label,this.selectedOption,!0))):h("div",{class:"".concat(clsPrefix,"-base-selection-placeholder ").concat(clsPrefix,"-base-selection-overlay"),key:"placeholder"},h("div",{class:"".concat(clsPrefix,"-base-selection-placeholder__inner")},this.placeholder)),suffix);return h("div",{ref:"selfRef",class:["".concat(clsPrefix,"-base-selection"),this.rtlEnabled&&"".concat(clsPrefix,"-base-selection--rtl"),this.themeClass,status&&"".concat(clsPrefix,"-base-selection--").concat(status,"-status"),{["".concat(clsPrefix,"-base-selection--active")]:this.active,["".concat(clsPrefix,"-base-selection--selected")]:this.selected||this.active&&this.pattern,["".concat(clsPrefix,"-base-selection--disabled")]:this.disabled,["".concat(clsPrefix,"-base-selection--multiple")]:this.multiple,["".concat(clsPrefix,"-base-selection--focus")]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},body,bordered?h("div",{class:"".concat(clsPrefix,"-base-selection__border")}):null,bordered?h("div",{class:"".concat(clsPrefix,"-base-selection__state-border")}):null)}});function getIsGroup(option){return option.type==="group"}__name(getIsGroup,"getIsGroup");function getIgnored(option){return option.type==="ignored"}__name(getIgnored,"getIgnored");function patternMatched(pattern,value){try{return!!(1+value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()))}catch(_a){return!1}}__name(patternMatched,"patternMatched");function createTmOptions(valueField,childrenField){return{getIsGroup,getIgnored,getKey(option){return getIsGroup(option)?option.name||option.key||"key-required":option[valueField]},getChildren(option){return option[childrenField]}}}__name(createTmOptions,"createTmOptions");function filterOptions(originalOpts,filter,pattern,childrenField){if(!filter)return originalOpts;function traverse(options){if(!Array.isArray(options))return[];const filteredOptions=[];for(const option of options)if(getIsGroup(option)){const children=traverse(option[childrenField]);children.length&&filteredOptions.push(Object.assign({},option,{[childrenField]:children}))}else{if(getIgnored(option))continue;filter(pattern,option)&&filteredOptions.push(option)}return filteredOptions}return __name(traverse,"traverse"),traverse(originalOpts)}__name(filterOptions,"filterOptions");function createValOptMap(options,valueField,childrenField){const valOptMap=new Map;return options.forEach(option=>{getIsGroup(option)?option[childrenField].forEach(selectGroupOption=>{valOptMap.set(selectGroupOption[valueField],selectGroupOption)}):valOptMap.set(option[valueField],option)}),valOptMap}__name(createValOptMap,"createValOptMap");const style$2=c$1([cB("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n "),cB("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[fadeInScaleUpTransition({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),selectProps=Object.assign(Object.assign({},useTheme.props),{to:useAdjustedTo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:__name(()=>[],"default")},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),NSelect=defineComponent({name:"Select",props:selectProps,slots:Object,setup(props){const{mergedClsPrefixRef,mergedBorderedRef,namespaceRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Select","-select",style$2,selectLight,props,mergedClsPrefixRef),uncontrolledValueRef=ref(props.defaultValue),controlledValueRef=toRef(props,"value"),mergedValueRef=useMergedState(controlledValueRef,uncontrolledValueRef),focusedRef=ref(!1),patternRef=ref(""),compitableOptionsRef=useCompitable(props,["items","options"]),createdOptionsRef=ref([]),beingCreatedOptionsRef=ref([]),localOptionsRef=computed(()=>beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value)),resolvedFilterRef=computed(()=>{const{filter}=props;if(filter)return filter;const{labelField,valueField}=props;return(pattern,option)=>{if(!option)return!1;const label=option[labelField];if(typeof label=="string")return patternMatched(pattern,label);const value=option[valueField];return typeof value=="string"?patternMatched(pattern,value):typeof value=="number"?patternMatched(pattern,String(value)):!1}}),filteredOptionsRef=computed(()=>{if(props.remote)return compitableOptionsRef.value;{const{value:localOptions}=localOptionsRef,{value:pattern}=patternRef;return!pattern.length||!props.filterable?localOptions:filterOptions(localOptions,resolvedFilterRef.value,pattern,props.childrenField)}}),treeMateRef=computed(()=>{const{valueField,childrenField}=props,options=createTmOptions(valueField,childrenField);return createTreeMate(filteredOptionsRef.value,options)}),valOptMapRef=computed(()=>createValOptMap(localOptionsRef.value,props.valueField,props.childrenField)),uncontrolledShowRef=ref(!1),mergedShowRef=useMergedState(toRef(props,"show"),uncontrolledShowRef),triggerRef=ref(null),followerRef=ref(null),menuRef=ref(null),{localeRef}=useLocale("Select"),localizedPlaceholderRef=computed(()=>{var _a;return(_a=props.placeholder)!==null&&_a!==void 0?_a:localeRef.value.placeholder}),emptyArray=[],memoValOptMapRef=ref(new Map),wrappedFallbackOptionRef=computed(()=>{const{fallbackOption}=props;if(fallbackOption===void 0){const{labelField,valueField}=props;return value=>({[labelField]:String(value),[valueField]:value})}return fallbackOption===!1?!1:value=>Object.assign(fallbackOption(value),{value})});function getMergedOptions(values){const remote=props.remote,{value:memoValOptMap}=memoValOptMapRef,{value:valOptMap}=valOptMapRef,{value:wrappedFallbackOption}=wrappedFallbackOptionRef,options=[];return values.forEach(value=>{if(valOptMap.has(value))options.push(valOptMap.get(value));else if(remote&&memoValOptMap.has(value))options.push(memoValOptMap.get(value));else if(wrappedFallbackOption){const option=wrappedFallbackOption(value);option&&options.push(option)}}),options}__name(getMergedOptions,"getMergedOptions");const selectedOptionsRef=computed(()=>{if(props.multiple){const{value:values}=mergedValueRef;return Array.isArray(values)?getMergedOptions(values):[]}return null}),selectedOptionRef=computed(()=>{const{value:mergedValue}=mergedValueRef;return!props.multiple&&!Array.isArray(mergedValue)?mergedValue===null?null:getMergedOptions([mergedValue])[0]||null:null}),formItem=useFormItem(props),{mergedSizeRef,mergedDisabledRef,mergedStatusRef}=formItem;function doUpdateValue(value,option){const{onChange,"onUpdate:value":_onUpdateValue,onUpdateValue}=props,{nTriggerFormChange,nTriggerFormInput}=formItem;onChange&&call(onChange,value,option),onUpdateValue&&call(onUpdateValue,value,option),_onUpdateValue&&call(_onUpdateValue,value,option),uncontrolledValueRef.value=value,nTriggerFormChange(),nTriggerFormInput()}__name(doUpdateValue,"doUpdateValue");function doBlur(e){const{onBlur}=props,{nTriggerFormBlur}=formItem;onBlur&&call(onBlur,e),nTriggerFormBlur()}__name(doBlur,"doBlur");function doClear(){const{onClear}=props;onClear&&call(onClear)}__name(doClear,"doClear");function doFocus(e){const{onFocus,showOnFocus}=props,{nTriggerFormFocus}=formItem;onFocus&&call(onFocus,e),nTriggerFormFocus(),showOnFocus&&openMenu()}__name(doFocus,"doFocus");function doSearch(value){const{onSearch}=props;onSearch&&call(onSearch,value)}__name(doSearch,"doSearch");function doScroll(e){const{onScroll}=props;onScroll&&call(onScroll,e)}__name(doScroll,"doScroll");function updateMemorizedOptions(){var _a;const{remote,multiple}=props;if(remote){const{value:memoValOptMap}=memoValOptMapRef;if(multiple){const{valueField}=props;(_a=selectedOptionsRef.value)===null||_a===void 0||_a.forEach(option=>{memoValOptMap.set(option[valueField],option)})}else{const option=selectedOptionRef.value;option&&memoValOptMap.set(option[props.valueField],option)}}}__name(updateMemorizedOptions,"updateMemorizedOptions");function doUpdateShow(value){const{onUpdateShow,"onUpdate:show":_onUpdateShow}=props;onUpdateShow&&call(onUpdateShow,value),_onUpdateShow&&call(_onUpdateShow,value),uncontrolledShowRef.value=value}__name(doUpdateShow,"doUpdateShow");function openMenu(){mergedDisabledRef.value||(doUpdateShow(!0),uncontrolledShowRef.value=!0,props.filterable&&focusSelectionInput())}__name(openMenu,"openMenu");function closeMenu(){doUpdateShow(!1)}__name(closeMenu,"closeMenu");function handleMenuAfterLeave(){patternRef.value="",beingCreatedOptionsRef.value=emptyArray}__name(handleMenuAfterLeave,"handleMenuAfterLeave");const activeWithoutMenuOpenRef=ref(!1);function onTriggerInputFocus(){props.filterable&&(activeWithoutMenuOpenRef.value=!0)}__name(onTriggerInputFocus,"onTriggerInputFocus");function onTriggerInputBlur(){props.filterable&&(activeWithoutMenuOpenRef.value=!1,mergedShowRef.value||handleMenuAfterLeave())}__name(onTriggerInputBlur,"onTriggerInputBlur");function handleTriggerClick(){mergedDisabledRef.value||(mergedShowRef.value?props.filterable?focusSelectionInput():closeMenu():openMenu())}__name(handleTriggerClick,"handleTriggerClick");function handleTriggerBlur(e){var _a,_b;!((_b=(_a=menuRef.value)===null||_a===void 0?void 0:_a.selfRef)===null||_b===void 0)&&_b.contains(e.relatedTarget)||(focusedRef.value=!1,doBlur(e),closeMenu())}__name(handleTriggerBlur,"handleTriggerBlur");function handleTriggerFocus(e){doFocus(e),focusedRef.value=!0}__name(handleTriggerFocus,"handleTriggerFocus");function handleMenuFocus(){focusedRef.value=!0}__name(handleMenuFocus,"handleMenuFocus");function handleMenuBlur(e){var _a;!((_a=triggerRef.value)===null||_a===void 0)&&_a.$el.contains(e.relatedTarget)||(focusedRef.value=!1,doBlur(e),closeMenu())}__name(handleMenuBlur,"handleMenuBlur");function handleMenuTabOut(){var _a;(_a=triggerRef.value)===null||_a===void 0||_a.focus(),closeMenu()}__name(handleMenuTabOut,"handleMenuTabOut");function handleMenuClickOutside(e){var _a;mergedShowRef.value&&(!((_a=triggerRef.value)===null||_a===void 0)&&_a.$el.contains(getPreciseEventTarget(e))||closeMenu())}__name(handleMenuClickOutside,"handleMenuClickOutside");function createClearedMultipleSelectValue(value){if(!Array.isArray(value))return[];if(wrappedFallbackOptionRef.value)return Array.from(value);{const{remote}=props,{value:valOptMap}=valOptMapRef;if(remote){const{value:memoValOptMap}=memoValOptMapRef;return value.filter(v=>valOptMap.has(v)||memoValOptMap.has(v))}else return value.filter(v=>valOptMap.has(v))}}__name(createClearedMultipleSelectValue,"createClearedMultipleSelectValue");function handleToggleByTmNode(tmNode){handleToggleByOption(tmNode.rawNode)}__name(handleToggleByTmNode,"handleToggleByTmNode");function handleToggleByOption(option){if(mergedDisabledRef.value)return;const{tag,remote,clearFilterAfterSelect,valueField}=props;if(tag&&!remote){const{value:beingCreatedOptions}=beingCreatedOptionsRef,beingCreatedOption=beingCreatedOptions[0]||null;if(beingCreatedOption){const createdOptions=createdOptionsRef.value;createdOptions.length?createdOptions.push(beingCreatedOption):createdOptionsRef.value=[beingCreatedOption],beingCreatedOptionsRef.value=emptyArray}}if(remote&&memoValOptMapRef.value.set(option[valueField],option),props.multiple){const changedValue=createClearedMultipleSelectValue(mergedValueRef.value),index=changedValue.findIndex(value=>value===option[valueField]);if(~index){if(changedValue.splice(index,1),tag&&!remote){const createdOptionIndex=getCreatedOptionIndex(option[valueField]);~createdOptionIndex&&(createdOptionsRef.value.splice(createdOptionIndex,1),clearFilterAfterSelect&&(patternRef.value=""))}}else changedValue.push(option[valueField]),clearFilterAfterSelect&&(patternRef.value="");doUpdateValue(changedValue,getMergedOptions(changedValue))}else{if(tag&&!remote){const createdOptionIndex=getCreatedOptionIndex(option[valueField]);~createdOptionIndex?createdOptionsRef.value=[createdOptionsRef.value[createdOptionIndex]]:createdOptionsRef.value=emptyArray}focusSelection(),closeMenu(),doUpdateValue(option[valueField],option)}}__name(handleToggleByOption,"handleToggleByOption");function getCreatedOptionIndex(optionValue){return createdOptionsRef.value.findIndex(createdOption=>createdOption[props.valueField]===optionValue)}__name(getCreatedOptionIndex,"getCreatedOptionIndex");function handlePatternInput(e){mergedShowRef.value||openMenu();const{value}=e.target;patternRef.value=value;const{tag,remote}=props;if(doSearch(value),tag&&!remote){if(!value){beingCreatedOptionsRef.value=emptyArray;return}const{onCreate}=props,optionBeingCreated=onCreate?onCreate(value):{[props.labelField]:value,[props.valueField]:value},{valueField,labelField}=props;compitableOptionsRef.value.some(option=>option[valueField]===optionBeingCreated[valueField]||option[labelField]===optionBeingCreated[labelField])||createdOptionsRef.value.some(option=>option[valueField]===optionBeingCreated[valueField]||option[labelField]===optionBeingCreated[labelField])?beingCreatedOptionsRef.value=emptyArray:beingCreatedOptionsRef.value=[optionBeingCreated]}}__name(handlePatternInput,"handlePatternInput");function handleClear(e){e.stopPropagation();const{multiple}=props;!multiple&&props.filterable&&closeMenu(),doClear(),multiple?doUpdateValue([],[]):doUpdateValue(null,null)}__name(handleClear,"handleClear");function handleMenuMousedown(e){!happensIn(e,"action")&&!happensIn(e,"empty")&&!happensIn(e,"header")&&e.preventDefault()}__name(handleMenuMousedown,"handleMenuMousedown");function handleMenuScroll(e){doScroll(e)}__name(handleMenuScroll,"handleMenuScroll");function handleKeydown(e){var _a,_b,_c,_d,_e;if(!props.keyboard){e.preventDefault();return}switch(e.key){case" ":if(props.filterable)break;e.preventDefault();case"Enter":if(!(!((_a=triggerRef.value)===null||_a===void 0)&&_a.isComposing)){if(mergedShowRef.value){const pendingTmNode=(_b=menuRef.value)===null||_b===void 0?void 0:_b.getPendingTmNode();pendingTmNode?handleToggleByTmNode(pendingTmNode):props.filterable||(closeMenu(),focusSelection())}else if(openMenu(),props.tag&&activeWithoutMenuOpenRef.value){const beingCreatedOption=beingCreatedOptionsRef.value[0];if(beingCreatedOption){const optionValue=beingCreatedOption[props.valueField],{value:mergedValue}=mergedValueRef;props.multiple&&Array.isArray(mergedValue)&&mergedValue.includes(optionValue)||handleToggleByOption(beingCreatedOption)}}}e.preventDefault();break;case"ArrowUp":if(e.preventDefault(),props.loading)return;mergedShowRef.value&&((_c=menuRef.value)===null||_c===void 0||_c.prev());break;case"ArrowDown":if(e.preventDefault(),props.loading)return;mergedShowRef.value?(_d=menuRef.value)===null||_d===void 0||_d.next():openMenu();break;case"Escape":mergedShowRef.value&&(markEventEffectPerformed(e),closeMenu()),(_e=triggerRef.value)===null||_e===void 0||_e.focus();break}}__name(handleKeydown,"handleKeydown");function focusSelection(){var _a;(_a=triggerRef.value)===null||_a===void 0||_a.focus()}__name(focusSelection,"focusSelection");function focusSelectionInput(){var _a;(_a=triggerRef.value)===null||_a===void 0||_a.focusInput()}__name(focusSelectionInput,"focusSelectionInput");function handleTriggerOrMenuResize(){var _a;mergedShowRef.value&&((_a=followerRef.value)===null||_a===void 0||_a.syncPosition())}__name(handleTriggerOrMenuResize,"handleTriggerOrMenuResize"),updateMemorizedOptions(),watch(toRef(props,"options"),updateMemorizedOptions);const exposedMethods={focus:__name(()=>{var _a;(_a=triggerRef.value)===null||_a===void 0||_a.focus()},"focus"),focusInput:__name(()=>{var _a;(_a=triggerRef.value)===null||_a===void 0||_a.focusInput()},"focusInput"),blur:__name(()=>{var _a;(_a=triggerRef.value)===null||_a===void 0||_a.blur()},"blur"),blurInput:__name(()=>{var _a;(_a=triggerRef.value)===null||_a===void 0||_a.blurInput()},"blurInput")},cssVarsRef=computed(()=>{const{self:{menuBoxShadow}}=themeRef.value;return{"--n-menu-box-shadow":menuBoxShadow}}),themeClassHandle=inlineThemeDisabled?useThemeClass("select",void 0,cssVarsRef,props):void 0;return Object.assign(Object.assign({},exposedMethods),{mergedStatus:mergedStatusRef,mergedClsPrefix:mergedClsPrefixRef,mergedBordered:mergedBorderedRef,namespace:namespaceRef,treeMate:treeMateRef,isMounted:isMounted(),triggerRef,menuRef,pattern:patternRef,uncontrolledShow:uncontrolledShowRef,mergedShow:mergedShowRef,adjustedTo:useAdjustedTo(props),uncontrolledValue:uncontrolledValueRef,mergedValue:mergedValueRef,followerRef,localizedPlaceholder:localizedPlaceholderRef,selectedOption:selectedOptionRef,selectedOptions:selectedOptionsRef,mergedSize:mergedSizeRef,mergedDisabled:mergedDisabledRef,focused:focusedRef,activeWithoutMenuOpen:activeWithoutMenuOpenRef,inlineThemeDisabled,onTriggerInputFocus,onTriggerInputBlur,handleTriggerOrMenuResize,handleMenuFocus,handleMenuBlur,handleMenuTabOut,handleTriggerClick,handleToggle:handleToggleByTmNode,handleDeleteOption:handleToggleByOption,handlePatternInput,handleClear,handleTriggerBlur,handleTriggerFocus,handleKeydown,handleMenuAfterLeave,handleMenuClickOutside,handleMenuScroll,handleMenuKeydown:handleKeydown,handleMenuMousedown,mergedTheme:themeRef,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender})},render(){return h("div",{class:"".concat(this.mergedClsPrefix,"-select")},h(Binder,null,{default:__name(()=>[h(VTarget,null,{default:__name(()=>h(NInternalSelection,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:__name(()=>{var _a,_b;return[(_b=(_a=this.$slots).arrow)===null||_b===void 0?void 0:_b.call(_a)]},"arrow")}),"default")}),h(VFollower,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:__name(()=>h(Transition,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:__name(()=>{var _a,_b,_c;return this.mergedShow||this.displayDirective==="show"?((_a=this.onRender)===null||_a===void 0||_a.call(this),withDirectives(h(NInternalSelectMenu,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:["".concat(this.mergedClsPrefix,"-select-menu"),this.themeClass,(_b=this.menuProps)===null||_b===void 0?void 0:_b.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(_c=this.menuProps)===null||_c===void 0?void 0:_c.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:__name(()=>{var _a2,_b2;return[(_b2=(_a2=this.$slots).empty)===null||_b2===void 0?void 0:_b2.call(_a2)]},"empty"),header:__name(()=>{var _a2,_b2;return[(_b2=(_a2=this.$slots).header)===null||_b2===void 0?void 0:_b2.call(_a2)]},"header"),action:__name(()=>{var _a2,_b2;return[(_b2=(_a2=this.$slots).action)===null||_b2===void 0?void 0:_b2.call(_a2)]},"action")}),this.displayDirective==="show"?[[vShow,this.mergedShow],[clickoutside,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[clickoutside,this.handleMenuClickOutside,void 0,{capture:!0}]])):null},"default")}),"default")})],"default")}))}}),radioBaseProps={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},radioGroupInjectionKey=createInjectionKey("n-radio-group");function setup(props){const NRadioGroup2=inject(radioGroupInjectionKey,null),formItem=useFormItem(props,{mergedSize(NFormItem){const{size}=props;if(size!==void 0)return size;if(NRadioGroup2){const{mergedSizeRef:{value:mergedSize}}=NRadioGroup2;if(mergedSize!==void 0)return mergedSize}return NFormItem?NFormItem.mergedSize.value:"medium"},mergedDisabled(NFormItem){return!!(props.disabled||NRadioGroup2!=null&&NRadioGroup2.disabledRef.value||NFormItem!=null&&NFormItem.disabled.value)}}),{mergedSizeRef,mergedDisabledRef}=formItem,inputRef=ref(null),labelRef=ref(null),uncontrolledCheckedRef=ref(props.defaultChecked),controlledCheckedRef=toRef(props,"checked"),mergedCheckedRef=useMergedState(controlledCheckedRef,uncontrolledCheckedRef),renderSafeCheckedRef=useMemo(()=>NRadioGroup2?NRadioGroup2.valueRef.value===props.value:mergedCheckedRef.value),mergedNameRef=useMemo(()=>{const{name}=props;if(name!==void 0)return name;if(NRadioGroup2)return NRadioGroup2.nameRef.value}),focusRef=ref(!1);function doUpdateChecked(){if(NRadioGroup2){const{doUpdateValue}=NRadioGroup2,{value}=props;call(doUpdateValue,value)}else{const{onUpdateChecked,"onUpdate:checked":_onUpdateChecked}=props,{nTriggerFormInput,nTriggerFormChange}=formItem;onUpdateChecked&&call(onUpdateChecked,!0),_onUpdateChecked&&call(_onUpdateChecked,!0),nTriggerFormInput(),nTriggerFormChange(),uncontrolledCheckedRef.value=!0}}__name(doUpdateChecked,"doUpdateChecked");function toggle(){mergedDisabledRef.value||renderSafeCheckedRef.value||doUpdateChecked()}__name(toggle,"toggle");function handleRadioInputChange(){toggle(),inputRef.value&&(inputRef.value.checked=renderSafeCheckedRef.value)}__name(handleRadioInputChange,"handleRadioInputChange");function handleRadioInputBlur(){focusRef.value=!1}__name(handleRadioInputBlur,"handleRadioInputBlur");function handleRadioInputFocus(){focusRef.value=!0}return __name(handleRadioInputFocus,"handleRadioInputFocus"),{mergedClsPrefix:NRadioGroup2?NRadioGroup2.mergedClsPrefixRef:useConfig(props).mergedClsPrefixRef,inputRef,labelRef,mergedName:mergedNameRef,mergedDisabled:mergedDisabledRef,renderSafeChecked:renderSafeCheckedRef,focus:focusRef,mergedSize:mergedSizeRef,handleRadioInputChange,handleRadioInputBlur,handleRadioInputFocus}}__name(setup,"setup");const NRadioButton=defineComponent({name:"RadioButton",props:radioBaseProps,setup,render(){const{mergedClsPrefix}=this;return h("label",{class:["".concat(mergedClsPrefix,"-radio-button"),this.mergedDisabled&&"".concat(mergedClsPrefix,"-radio-button--disabled"),this.renderSafeChecked&&"".concat(mergedClsPrefix,"-radio-button--checked"),this.focus&&["".concat(mergedClsPrefix,"-radio-button--focus")]]},h("input",{ref:"inputRef",type:"radio",class:"".concat(mergedClsPrefix,"-radio-input"),value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:"".concat(mergedClsPrefix,"-radio-button__state-border")}),resolveWrappedSlot(this.$slots.default,children=>!children&&!this.label?null:h("div",{ref:"labelRef",class:"".concat(mergedClsPrefix,"-radio__label")},children||this.label)))}}),style$1=cB("radio-group","\n display: inline-block;\n font-size: var(--n-font-size);\n",[cE("splitor","\n display: inline-block;\n vertical-align: bottom;\n width: 1px;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n background: var(--n-button-border-color);\n ",[cM("checked",{backgroundColor:"var(--n-button-border-color-active)"}),cM("disabled",{opacity:"var(--n-opacity-disabled)"})]),cM("button-group","\n white-space: nowrap;\n height: var(--n-height);\n line-height: var(--n-height);\n ",[cB("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),cE("splitor",{height:"var(--n-height)"})]),cB("radio-button","\n vertical-align: bottom;\n outline: none;\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n display: inline-block;\n box-sizing: border-box;\n padding-left: 14px;\n padding-right: 14px;\n white-space: nowrap;\n transition:\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n background: var(--n-button-color);\n color: var(--n-button-text-color);\n border-top: 1px solid var(--n-button-border-color);\n border-bottom: 1px solid var(--n-button-border-color);\n ",[cB("radio-input","\n pointer-events: none;\n position: absolute;\n border: 0;\n border-radius: inherit;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n opacity: 0;\n z-index: 1;\n "),cE("state-border","\n z-index: 1;\n pointer-events: none;\n position: absolute;\n box-shadow: var(--n-button-box-shadow);\n transition: box-shadow .3s var(--n-bezier);\n left: -1px;\n bottom: -1px;\n right: -1px;\n top: -1px;\n "),c$1("&:first-child","\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n border-left: 1px solid var(--n-button-border-color);\n ",[cE("state-border","\n border-top-left-radius: var(--n-button-border-radius);\n border-bottom-left-radius: var(--n-button-border-radius);\n ")]),c$1("&:last-child","\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n border-right: 1px solid var(--n-button-border-color);\n ",[cE("state-border","\n border-top-right-radius: var(--n-button-border-radius);\n border-bottom-right-radius: var(--n-button-border-radius);\n ")]),cNotM("disabled","\n cursor: pointer;\n ",[c$1("&:hover",[cE("state-border","\n transition: box-shadow .3s var(--n-bezier);\n box-shadow: var(--n-button-box-shadow-hover);\n "),cNotM("checked",{color:"var(--n-button-text-color-hover)"})]),cM("focus",[c$1("&:not(:active)",[cE("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),cM("checked","\n background: var(--n-button-color-active);\n color: var(--n-button-text-color-active);\n border-color: var(--n-button-border-color-active);\n "),cM("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ")])]);function mapSlot(defaultSlot,value,clsPrefix){var _a;const children=[];let isButtonGroup=!1;for(let i=0;i<defaultSlot.length;++i){const wrappedInstance=defaultSlot[i],name=(_a=wrappedInstance.type)===null||_a===void 0?void 0:_a.name;name==="RadioButton"&&(isButtonGroup=!0);const instanceProps=wrappedInstance.props;if(name!=="RadioButton"){children.push(wrappedInstance);continue}if(i===0)children.push(wrappedInstance);else{const lastInstanceProps=children[children.length-1].props,lastInstanceChecked=value===lastInstanceProps.value,lastInstanceDisabled=lastInstanceProps.disabled,currentInstanceChecked=value===instanceProps.value,currentInstanceDisabled=instanceProps.disabled,lastInstancePriority=(lastInstanceChecked?2:0)+(lastInstanceDisabled?0:1),currentInstancePriority=(currentInstanceChecked?2:0)+(currentInstanceDisabled?0:1),lastInstanceClass={["".concat(clsPrefix,"-radio-group__splitor--disabled")]:lastInstanceDisabled,["".concat(clsPrefix,"-radio-group__splitor--checked")]:lastInstanceChecked},currentInstanceClass={["".concat(clsPrefix,"-radio-group__splitor--disabled")]:currentInstanceDisabled,["".concat(clsPrefix,"-radio-group__splitor--checked")]:currentInstanceChecked},splitorClass=lastInstancePriority<currentInstancePriority?currentInstanceClass:lastInstanceClass;children.push(h("div",{class:["".concat(clsPrefix,"-radio-group__splitor"),splitorClass]}),wrappedInstance)}}return{children,isButtonGroup}}__name(mapSlot,"mapSlot");const radioGroupProps=Object.assign(Object.assign({},useTheme.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),NRadioGroup=defineComponent({name:"RadioGroup",props:radioGroupProps,setup(props){const selfElRef=ref(null),{mergedSizeRef,mergedDisabledRef,nTriggerFormChange,nTriggerFormInput,nTriggerFormBlur,nTriggerFormFocus}=useFormItem(props),{mergedClsPrefixRef,inlineThemeDisabled,mergedRtlRef}=useConfig(props),themeRef=useTheme("Radio","-radio-group",style$1,radioLight,props,mergedClsPrefixRef),uncontrolledValueRef=ref(props.defaultValue),controlledValueRef=toRef(props,"value"),mergedValueRef=useMergedState(controlledValueRef,uncontrolledValueRef);function doUpdateValue(value){const{onUpdateValue,"onUpdate:value":_onUpdateValue}=props;onUpdateValue&&call(onUpdateValue,value),_onUpdateValue&&call(_onUpdateValue,value),uncontrolledValueRef.value=value,nTriggerFormChange(),nTriggerFormInput()}__name(doUpdateValue,"doUpdateValue");function handleFocusin(e){const{value:selfEl}=selfElRef;selfEl&&(selfEl.contains(e.relatedTarget)||nTriggerFormFocus())}__name(handleFocusin,"handleFocusin");function handleFocusout(e){const{value:selfEl}=selfElRef;selfEl&&(selfEl.contains(e.relatedTarget)||nTriggerFormBlur())}__name(handleFocusout,"handleFocusout"),provide(radioGroupInjectionKey,{mergedClsPrefixRef,nameRef:toRef(props,"name"),valueRef:mergedValueRef,disabledRef:mergedDisabledRef,mergedSizeRef,doUpdateValue});const rtlEnabledRef=useRtl("Radio",mergedRtlRef,mergedClsPrefixRef),cssVarsRef=computed(()=>{const{value:size}=mergedSizeRef,{common:{cubicBezierEaseInOut},self:{buttonBorderColor,buttonBorderColorActive,buttonBorderRadius,buttonBoxShadow,buttonBoxShadowFocus,buttonBoxShadowHover,buttonColor,buttonColorActive,buttonTextColor,buttonTextColorActive,buttonTextColorHover,opacityDisabled,[createKey("buttonHeight",size)]:height,[createKey("fontSize",size)]:fontSize}}=themeRef.value;return{"--n-font-size":fontSize,"--n-bezier":cubicBezierEaseInOut,"--n-button-border-color":buttonBorderColor,"--n-button-border-color-active":buttonBorderColorActive,"--n-button-border-radius":buttonBorderRadius,"--n-button-box-shadow":buttonBoxShadow,"--n-button-box-shadow-focus":buttonBoxShadowFocus,"--n-button-box-shadow-hover":buttonBoxShadowHover,"--n-button-color":buttonColor,"--n-button-color-active":buttonColorActive,"--n-button-text-color":buttonTextColor,"--n-button-text-color-hover":buttonTextColorHover,"--n-button-text-color-active":buttonTextColorActive,"--n-height":height,"--n-opacity-disabled":opacityDisabled}}),themeClassHandle=inlineThemeDisabled?useThemeClass("radio-group",computed(()=>mergedSizeRef.value[0]),cssVarsRef,props):void 0;return{selfElRef,rtlEnabled:rtlEnabledRef,mergedClsPrefix:mergedClsPrefixRef,mergedValue:mergedValueRef,handleFocusout,handleFocusin,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){var _a;const{mergedValue,mergedClsPrefix,handleFocusin,handleFocusout}=this,{children,isButtonGroup}=mapSlot(flatten(getSlot(this)),mergedValue,mergedClsPrefix);return(_a=this.onRender)===null||_a===void 0||_a.call(this),h("div",{onFocusin:handleFocusin,onFocusout:handleFocusout,ref:"selfElRef",class:["".concat(mergedClsPrefix,"-radio-group"),this.rtlEnabled&&"".concat(mergedClsPrefix,"-radio-group--rtl"),this.themeClass,isButtonGroup&&"".concat(mergedClsPrefix,"-radio-group--button-group")],style:this.cssVars},children)}}),style=cB("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[cE("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),cE("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),cE("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),cB("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[iconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),cE("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),cE("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),cE("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),c$1("&:focus",[cE("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),cM("round",[cE("rail","border-radius: calc(var(--n-rail-height) / 2);",[cE("button","border-radius: calc(var(--n-button-height) / 2);")])]),cNotM("disabled",[cNotM("icon",[cM("rubber-band",[cM("pressed",[cE("rail",[cE("button","max-width: var(--n-button-width-pressed);")])]),cE("rail",[c$1("&:active",[cE("button","max-width: var(--n-button-width-pressed);")])]),cM("active",[cM("pressed",[cE("rail",[cE("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),cE("rail",[c$1("&:active",[cE("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),cM("active",[cE("rail",[cE("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),cE("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[cE("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[iconSwitchTransition()]),cE("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),cM("active",[cE("rail","background-color: var(--n-rail-color-active);")]),cM("loading",[cE("rail","\n cursor: wait;\n ")]),cM("disabled",[cE("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),switchProps=Object.assign(Object.assign({},useTheme.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let supportCssMax;const NSwitch=defineComponent({name:"Switch",props:switchProps,slots:Object,setup(props){supportCssMax===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?supportCssMax=CSS.supports("width","max(1px)"):supportCssMax=!1:supportCssMax=!0);const{mergedClsPrefixRef,inlineThemeDisabled}=useConfig(props),themeRef=useTheme("Switch","-switch",style,switchLight,props,mergedClsPrefixRef),formItem=useFormItem(props),{mergedSizeRef,mergedDisabledRef}=formItem,uncontrolledValueRef=ref(props.defaultValue),controlledValueRef=toRef(props,"value"),mergedValueRef=useMergedState(controlledValueRef,uncontrolledValueRef),checkedRef=computed(()=>mergedValueRef.value===props.checkedValue),pressedRef=ref(!1),focusedRef=ref(!1),mergedRailStyleRef=computed(()=>{const{railStyle}=props;if(railStyle)return railStyle({focused:focusedRef.value,checked:checkedRef.value})});function doUpdateValue(value){const{"onUpdate:value":_onUpdateValue,onChange,onUpdateValue}=props,{nTriggerFormInput,nTriggerFormChange}=formItem;_onUpdateValue&&call(_onUpdateValue,value),onUpdateValue&&call(onUpdateValue,value),onChange&&call(onChange,value),uncontrolledValueRef.value=value,nTriggerFormInput(),nTriggerFormChange()}__name(doUpdateValue,"doUpdateValue");function doFocus(){const{nTriggerFormFocus}=formItem;nTriggerFormFocus()}__name(doFocus,"doFocus");function doBlur(){const{nTriggerFormBlur}=formItem;nTriggerFormBlur()}__name(doBlur,"doBlur");function handleClick(){props.loading||mergedDisabledRef.value||(mergedValueRef.value!==props.checkedValue?doUpdateValue(props.checkedValue):doUpdateValue(props.uncheckedValue))}__name(handleClick,"handleClick");function handleFocus(){focusedRef.value=!0,doFocus()}__name(handleFocus,"handleFocus");function handleBlur(){focusedRef.value=!1,doBlur(),pressedRef.value=!1}__name(handleBlur,"handleBlur");function handleKeyup(e){props.loading||mergedDisabledRef.value||e.key===" "&&(mergedValueRef.value!==props.checkedValue?doUpdateValue(props.checkedValue):doUpdateValue(props.uncheckedValue),pressedRef.value=!1)}__name(handleKeyup,"handleKeyup");function handleKeydown(e){props.loading||mergedDisabledRef.value||e.key===" "&&(e.preventDefault(),pressedRef.value=!0)}__name(handleKeydown,"handleKeydown");const cssVarsRef=computed(()=>{const{value:size}=mergedSizeRef,{self:{opacityDisabled,railColor,railColorActive,buttonBoxShadow,buttonColor,boxShadowFocus,loadingColor,textColor,iconColor,[createKey("buttonHeight",size)]:buttonHeight,[createKey("buttonWidth",size)]:buttonWidth,[createKey("buttonWidthPressed",size)]:buttonWidthPressed,[createKey("railHeight",size)]:railHeight,[createKey("railWidth",size)]:railWidth,[createKey("railBorderRadius",size)]:railBorderRadius,[createKey("buttonBorderRadius",size)]:buttonBorderRadius},common:{cubicBezierEaseInOut}}=themeRef.value;let offset,height,width;return supportCssMax?(offset="calc((".concat(railHeight," - ").concat(buttonHeight,") / 2)"),height="max(".concat(railHeight,", ").concat(buttonHeight,")"),width="max(".concat(railWidth,", calc(").concat(railWidth," + ").concat(buttonHeight," - ").concat(railHeight,"))")):(offset=pxfy((depx(railHeight)-depx(buttonHeight))/2),height=pxfy(Math.max(depx(railHeight),depx(buttonHeight))),width=depx(railHeight)>depx(buttonHeight)?railWidth:pxfy(depx(railWidth)+depx(buttonHeight)-depx(railHeight))),{"--n-bezier":cubicBezierEaseInOut,"--n-button-border-radius":buttonBorderRadius,"--n-button-box-shadow":buttonBoxShadow,"--n-button-color":buttonColor,"--n-button-width":buttonWidth,"--n-button-width-pressed":buttonWidthPressed,"--n-button-height":buttonHeight,"--n-height":height,"--n-offset":offset,"--n-opacity-disabled":opacityDisabled,"--n-rail-border-radius":railBorderRadius,"--n-rail-color":railColor,"--n-rail-color-active":railColorActive,"--n-rail-height":railHeight,"--n-rail-width":railWidth,"--n-width":width,"--n-box-shadow-focus":boxShadowFocus,"--n-loading-color":loadingColor,"--n-text-color":textColor,"--n-icon-color":iconColor}}),themeClassHandle=inlineThemeDisabled?useThemeClass("switch",computed(()=>mergedSizeRef.value[0]),cssVarsRef,props):void 0;return{handleClick,handleBlur,handleFocus,handleKeyup,handleKeydown,mergedRailStyle:mergedRailStyleRef,pressed:pressedRef,mergedClsPrefix:mergedClsPrefixRef,mergedValue:mergedValueRef,checked:checkedRef,mergedDisabled:mergedDisabledRef,cssVars:inlineThemeDisabled?void 0:cssVarsRef,themeClass:themeClassHandle==null?void 0:themeClassHandle.themeClass,onRender:themeClassHandle==null?void 0:themeClassHandle.onRender}},render(){const{mergedClsPrefix,mergedDisabled,checked,mergedRailStyle,onRender,$slots}=this;onRender==null||onRender();const{checked:checkedSlot,unchecked:uncheckedSlot,icon:iconSlot,"checked-icon":checkedIconSlot,"unchecked-icon":uncheckedIconSlot}=$slots,hasIcon=!(isSlotEmpty(iconSlot)&&isSlotEmpty(checkedIconSlot)&&isSlotEmpty(uncheckedIconSlot));return h("div",{role:"switch","aria-checked":checked,class:["".concat(mergedClsPrefix,"-switch"),this.themeClass,hasIcon&&"".concat(mergedClsPrefix,"-switch--icon"),checked&&"".concat(mergedClsPrefix,"-switch--active"),mergedDisabled&&"".concat(mergedClsPrefix,"-switch--disabled"),this.round&&"".concat(mergedClsPrefix,"-switch--round"),this.loading&&"".concat(mergedClsPrefix,"-switch--loading"),this.pressed&&"".concat(mergedClsPrefix,"-switch--pressed"),this.rubberBand&&"".concat(mergedClsPrefix,"-switch--rubber-band")],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},h("div",{class:"".concat(mergedClsPrefix,"-switch__rail"),"aria-hidden":"true",style:mergedRailStyle},resolveWrappedSlot(checkedSlot,checkedSlotChildren=>resolveWrappedSlot(uncheckedSlot,uncheckedSlotChildren=>checkedSlotChildren||uncheckedSlotChildren?h("div",{"aria-hidden":!0,class:"".concat(mergedClsPrefix,"-switch__children-placeholder")},h("div",{class:"".concat(mergedClsPrefix,"-switch__rail-placeholder")},h("div",{class:"".concat(mergedClsPrefix,"-switch__button-placeholder")}),checkedSlotChildren),h("div",{class:"".concat(mergedClsPrefix,"-switch__rail-placeholder")},h("div",{class:"".concat(mergedClsPrefix,"-switch__button-placeholder")}),uncheckedSlotChildren)):null)),h("div",{class:"".concat(mergedClsPrefix,"-switch__button")},resolveWrappedSlot(iconSlot,icon=>resolveWrappedSlot(checkedIconSlot,checkedIcon=>resolveWrappedSlot(uncheckedIconSlot,uncheckedIcon=>h(NIconSwitchTransition,null,{default:__name(()=>this.loading?h(NBaseLoading,{key:"loading",clsPrefix:mergedClsPrefix,strokeWidth:20}):this.checked&&(checkedIcon||icon)?h("div",{class:"".concat(mergedClsPrefix,"-switch__button-icon"),key:checkedIcon?"checked-icon":"icon"},checkedIcon||icon):!this.checked&&(uncheckedIcon||icon)?h("div",{class:"".concat(mergedClsPrefix,"-switch__button-icon"),key:uncheckedIcon?"unchecked-icon":"icon"},uncheckedIcon||icon):null,"default")})))),resolveWrappedSlot(checkedSlot,children=>children&&h("div",{key:"checked",class:"".concat(mergedClsPrefix,"-switch__checked")},children)),resolveWrappedSlot(uncheckedSlot,children=>children&&h("div",{key:"unchecked",class:"".concat(mergedClsPrefix,"-switch__unchecked")},children)))))}}),_hoisted_1={class:"settings-view"},_hoisted_2={class:"settings-layout"},_hoisted_3={class:"settings-content"},_hoisted_4={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center"}},_hoisted_5={style:{"white-space":"nowrap"}},_hoisted_6={key:0},_hoisted_7={key:1},_hoisted_8={key:2},_sfc_main=defineComponent({__name:"SettingsView",setup(__props){const{width}=useWindowSize(),isNarrowScreen=computed(()=>width.value<640),isExtremeNarrowScreen=computed(()=>width.value<480),{t,availableLocales}=useI18n();useI18n();const settingsStore=inject("settings"),configs=computed(()=>[{title:"appearance",items:[{title:"theme",type:"radio",items:[{value:"light",label:t("settings.appearance.theme.options.light")},{value:"dark",label:t("settings.appearance.theme.options.dark")},{value:"system",label:t("settings.appearance.theme.options.system")}]}]},{title:"geolocation",items:[{title:"watchCompatibilityMode",type:"checkbox"}]},{title:"language",items:[{title:"interfaceLanguage",type:"select",items:availableLocales.map(l=>({value:l,label:t("settings.language.interfaceLanguage.options.".concat(l))}))},{title:"mapLanguage",type:"select",items:availableLocales.map(l=>({value:l,label:t("settings.language.mapLanguage.options.".concat(l))})).concat([{value:"interface",label:t("settings.language.mapLanguage.options.interface")}])}]}]);return onMounted(()=>{settingsStore.init()}),(_ctx,_cache)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(configs.value,section=>(openBlock(),createBlock(unref(NCard),{id:"appearance",title:_ctx.$t("settings.".concat(section.title,".title")),key:section.title},{default:withCtx(()=>[createVNode(unref(NList),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(section.items,item=>(openBlock(),createBlock(unref(NListItem),null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,toDisplayString(item.items?_ctx.$t("settings.".concat(section.title,".").concat(item.title,".title")):_ctx.$t("settings.".concat(section.title,".").concat(item.title))),1),item.type==="radio"?(openBlock(),createElementBlock("div",_hoisted_6,[isNarrowScreen.value?(openBlock(),createBlock(unref(NSelect),{key:1,options:item.items,value:unref(settingsStore).settings[item.title],"onUpdate:value":__name($event=>unref(settingsStore).settings[item.title]=$event,"onUpdate:value"),"consistent-menu-width":!1},null,8,["options","value","onUpdate:value"])):(openBlock(),createBlock(unref(NRadioGroup),{key:0,value:unref(settingsStore).settings[item.title],"onUpdate:value":__name($event=>unref(settingsStore).settings[item.title]=$event,"onUpdate:value")},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(item.items,option=>(openBlock(),createBlock(unref(NRadioButton),{key:option.value,value:option.value,label:option.label,checked:unref(settingsStore).settings[item.title]===option.value},null,8,["value","label","checked"]))),128))]),_:2},1032,["value","onUpdate:value"]))])):item.type==="select"?(openBlock(),createElementBlock("div",_hoisted_7,[createVNode(unref(NSelect),{options:item.items,value:unref(settingsStore).settings[item.title],"onUpdate:value":__name($event=>unref(settingsStore).settings[item.title]=$event,"onUpdate:value"),"consistent-menu-width":!1},null,8,["options","value","onUpdate:value"])])):item.type==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_8,[createVNode(unref(NSwitch),{value:unref(settingsStore).settings[item.title],"onUpdate:value":__name($event=>unref(settingsStore).settings[item.title]=$event,"onUpdate:value")},null,8,["value","onUpdate:value"])])):createCommentVNode("",!0)])]),_:2},1024))),256))]),_:2},1024)]),_:2},1032,["title"]))),128))]),isExtremeNarrowScreen.value?createCommentVNode("",!0):(openBlock(),createBlock(unref(NAnchor),{key:0,"show-rail":!0,class:"settings-nav",style:{width:"128px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(configs.value,section=>(openBlock(),createBlock(unref(NAnchorLink),{key:section.title,title:_ctx.$t("settings.".concat(section.title,".title")),href:"#".concat(section.title.toLowerCase())},null,8,["title","href"]))),128))]),_:1}))])]))}}),SettingsView=_export_sfc(_sfc_main,[["__scopeId","data-v-4183b5a7"]]);export{SettingsView as default};
