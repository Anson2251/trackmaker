var mt=Object.defineProperty;var pt=(t,e,o)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var I=(t,e,o)=>pt(t,typeof e!="symbol"?e+"":e,o);import{r as T,b as Ve,w as ne,e as we,f as gt,S as ke,i as vt,g as wt,h as bt,j as yt,k as Ct,l as xt,m as Se,d as E,n as l,p as w,q as _,s as c,t as te,v as G,x as zt,y as le,z as kt,A as F,B as $e,C as de,N as St,D as _e,E as x,F as $t,G as Q,H as be,I as ye,J as Ye,K as _t,L as Mt,M as Bt,O as Rt,P as ie,Q as pe,R as Et,T as Xe,U as Dt,V as Ke,W as ce,X as Pt,Y as It,Z as Ht,_ as ge,$ as se,a0 as Me,a1 as Tt,a2 as Lt,a3 as Y,a4 as Ge,a5 as Ft,a6 as Ot,a7 as Nt,a8 as At,a9 as jt,aa as Ut,ab as Wt,ac as Be,ad as Re,ae as Ee,o as R,c as U,af as z,ag as Vt,a as M,ah as b,ai as ae,aj as Ce,ak as K,al as v,am as ee,an as Yt,ao as ve,ap as Xt,aq as qe,ar as Ze,as as Kt,at as Gt,au as qt,av as fe,aw as Zt,ax as re}from"./index-BxwWertw.js";import{a as Jt,b as Qt,B as eo}from"./customized-touchpad-behavior-Vqze0Zkc.js";import{b as to,B as xe}from"./map-manager-C0XSxbB8.js";import{i as oo}from"./Element-DtPtFevC.js";import{u as ro,N as me}from"./Card-_jrAyLy_.js";const no=new WeakSet;function io(t){return!no.has(t)}let q=0,De="",Pe="",Ie="",He="";const Te=T("0px");function so(t){if(typeof document>"u")return;const e=document.documentElement;let o,r=!1;const n=()=>{e.style.marginRight=De,e.style.overflow=Pe,e.style.overflowX=Ie,e.style.overflowY=He,Te.value="0px"};Ve(()=>{o=ne(t,a=>{if(a){if(!q){const i=window.innerWidth-e.offsetWidth;i>0&&(De=e.style.marginRight,e.style.marginRight="".concat(i,"px"),Te.value="".concat(i,"px")),Pe=e.style.overflow,Ie=e.style.overflowX,He=e.style.overflowY,e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden"}r=!0,q++}else q--,q||n(),r=!1},{immediate:!0})}),we(()=>{o==null||o(),r&&(q--,q||n(),r=!1)})}const ze=T(!1);function Le(){ze.value=!0}function Fe(){ze.value=!1}let oe=0;function ao(){return oo&&(gt(()=>{oe||(window.addEventListener("compositionstart",Le),window.addEventListener("compositionend",Fe)),oe++}),we(()=>{oe<=1?(window.removeEventListener("compositionstart",Le),window.removeEventListener("compositionend",Fe),oe=0):oe--})),ze}function lo(t,e,o,r){for(var n=t.length,a=o+-1;++a<n;)if(e(t[a],a,t))return a;return-1}function co(t){return t!==t}function uo(t,e,o){for(var r=o-1,n=t.length;++r<n;)if(t[r]===e)return r;return-1}function ho(t,e,o){return e===e?uo(t,e,o):lo(t,co,o)}function fo(t,e){var o=t==null?0:t.length;return!!o&&ho(t,e,0)>-1}var Oe=ke?ke.isConcatSpreadable:void 0;function mo(t){return vt(t)||wt(t)||!!(Oe&&t&&t[Oe])}function po(t,e,o,r,n){var a=-1,i=t.length;for(o||(o=mo),n||(n=[]);++a<i;){var f=t[a];o(f)&&bt(n,f)}return n}var go=200;function vo(t,e,o,r){var n=-1,a=fo,i=!0,f=t.length,s=[],h=e.length;if(!f)return s;e.length>=go&&(a=Ct,i=!1,e=new yt(e));e:for(;++n<f;){var p=t[n],g=p;if(p=p!==0?p:0,i&&g===g){for(var D=h;D--;)if(e[D]===g)continue e;s.push(p)}else a(e,g,r)||s.push(p)}return s}var Ne=xt(function(t,e){return Se(t)?vo(t,po(e,1,Se)):[]});const wo=E({name:"Empty",render(){return l("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),l("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),bo=w("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[_("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[c("+",[_("description","\n margin-top: 8px;\n ")])]),_("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),_("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),yo=Object.assign(Object.assign({},G.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Ae=E({name:"Empty",props:yo,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:o}=te(t),r=G("Empty","-empty",bo,zt,t,e),{localeRef:n}=ro("Empty"),a=le(kt,null),i=F(()=>{var p,g,D;return(p=t.description)!==null&&p!==void 0?p:(D=(g=a==null?void 0:a.mergedComponentPropsRef.value)===null||g===void 0?void 0:g.Empty)===null||D===void 0?void 0:D.description}),f=F(()=>{var p,g;return((g=(p=a==null?void 0:a.mergedComponentPropsRef.value)===null||p===void 0?void 0:p.Empty)===null||g===void 0?void 0:g.renderIcon)||(()=>l(wo,null))}),s=F(()=>{const{size:p}=t,{common:{cubicBezierEaseInOut:g},self:{[$e("iconSize",p)]:D,[$e("fontSize",p)]:O,textColor:P,iconColor:N,extraTextColor:W}}=r.value;return{"--n-icon-size":D,"--n-font-size":O,"--n-bezier":g,"--n-text-color":P,"--n-icon-color":N,"--n-extra-text-color":W}}),h=o?de("empty",F(()=>{let p="";const{size:g}=t;return p+=g[0],p}),s,t):void 0;return{mergedClsPrefix:e,mergedRenderIcon:f,localizedDescription:F(()=>i.value||n.value.description),cssVars:o?void 0:s,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){const{$slots:t,mergedClsPrefix:e,onRender:o}=this;return o==null||o(),l("div",{class:["".concat(e,"-empty"),this.themeClass],style:this.cssVars},this.showIcon?l("div",{class:"".concat(e,"-empty__icon")},t.icon?t.icon():l(St,{clsPrefix:e},{default:this.mergedRenderIcon})):null,this.showDescription?l("div",{class:"".concat(e,"-empty__description")},t.default?t.default():this.localizedDescription):null,t.extra?l("div",{class:"".concat(e,"-empty__extra")},t.extra()):null)}}),$="0!important",Je="-1px!important";function Z(t){return x("".concat(t,"-type"),[c("& +",[w("button",{},[x("".concat(t,"-type"),[_("border",{borderLeftWidth:$}),_("state-border",{left:Je})])])])])}function J(t){return x("".concat(t,"-type"),[c("& +",[w("button",[x("".concat(t,"-type"),[_("border",{borderTopWidth:$}),_("state-border",{top:Je})])])])])}const Co=w("button-group","\n flex-wrap: nowrap;\n display: inline-flex;\n position: relative;\n",[_e("vertical",{flexDirection:"row"},[_e("rtl",[w("button",[c("&:first-child:not(:last-child)","\n margin-right: ".concat($,";\n border-top-right-radius: ").concat($,";\n border-bottom-right-radius: ").concat($,";\n ")),c("&:last-child:not(:first-child)","\n margin-left: ".concat($,";\n border-top-left-radius: ").concat($,";\n border-bottom-left-radius: ").concat($,";\n ")),c("&:not(:first-child):not(:last-child)","\n margin-left: ".concat($,";\n margin-right: ").concat($,";\n border-radius: ").concat($,";\n ")),Z("default"),x("ghost",[Z("primary"),Z("info"),Z("success"),Z("warning"),Z("error")])])])]),x("vertical",{flexDirection:"column"},[w("button",[c("&:first-child:not(:last-child)","\n margin-bottom: ".concat($,";\n margin-left: ").concat($,";\n margin-right: ").concat($,";\n border-bottom-left-radius: ").concat($,";\n border-bottom-right-radius: ").concat($,";\n ")),c("&:last-child:not(:first-child)","\n margin-top: ".concat($,";\n margin-left: ").concat($,";\n margin-right: ").concat($,";\n border-top-left-radius: ").concat($,";\n border-top-right-radius: ").concat($,";\n ")),c("&:not(:first-child):not(:last-child)","\n margin: ".concat($,";\n border-radius: ").concat($,";\n ")),J("default"),x("ghost",[J("primary"),J("info"),J("success"),J("warning"),J("error")])])])]),xo={size:{type:String,default:void 0},vertical:Boolean},zo=E({name:"ButtonGroup",props:xo,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:o}=te(t);return $t("-button-group",Co,e),Q(to,t),{rtlEnabled:be("ButtonGroup",o,e),mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return l("div",{class:["".concat(t,"-button-group"),this.rtlEnabled&&"".concat(t,"-button-group--rtl"),this.vertical&&"".concat(t,"-button-group--vertical")],role:"group"},this.$slots)}}),ko=E({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(t){const e=T(!!t.show),o=T(null),r=le(ye);let n=0,a="",i=null;const f=T(!1),s=T(!1),h=F(()=>t.placement==="top"||t.placement==="bottom"),{mergedClsPrefixRef:p,mergedRtlRef:g}=te(t),D=be("Drawer",g,p),O=u,P=m=>{s.value=!0,n=h.value?m.clientY:m.clientX,a=document.body.style.cursor,document.body.style.cursor=h.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",L),document.body.addEventListener("mouseleave",O),document.body.addEventListener("mouseup",u)},N=()=>{i!==null&&(window.clearTimeout(i),i=null),s.value?f.value=!0:i=window.setTimeout(()=>{f.value=!0},300)},W=()=>{i!==null&&(window.clearTimeout(i),i=null),f.value=!1},{doUpdateHeight:C,doUpdateWidth:k}=r,d=m=>{const{maxWidth:B}=t;if(B&&m>B)return B;const{minWidth:A}=t;return A&&m<A?A:m},S=m=>{const{maxHeight:B}=t;if(B&&m>B)return B;const{minHeight:A}=t;return A&&m<A?A:m};function L(m){var B,A;if(s.value)if(h.value){let j=((B=o.value)===null||B===void 0?void 0:B.offsetHeight)||0;const V=n-m.clientY;j+=t.placement==="bottom"?V:-V,j=S(j),C(j),n=m.clientY}else{let j=((A=o.value)===null||A===void 0?void 0:A.offsetWidth)||0;const V=n-m.clientX;j+=t.placement==="right"?V:-V,j=d(j),k(j),n=m.clientX}}function u(){s.value&&(n=0,s.value=!1,document.body.style.cursor=a,document.body.removeEventListener("mousemove",L),document.body.removeEventListener("mouseup",u),document.body.removeEventListener("mouseleave",O))}Ye(()=>{t.show&&(e.value=!0)}),ne(()=>t.show,m=>{m||u()}),we(()=>{u()});const y=F(()=>{const{show:m}=t,B=[[pe,m]];return t.showMask||B.push([_t,t.onClickoutside,void 0,{capture:!0}]),B});function H(){var m;e.value=!1,(m=t.onAfterLeave)===null||m===void 0||m.call(t)}return so(F(()=>t.blockScroll&&e.value)),Q(Mt,o),Q(Bt,null),Q(Rt,null),{bodyRef:o,rtlEnabled:D,mergedClsPrefix:r.mergedClsPrefixRef,isMounted:r.isMountedRef,mergedTheme:r.mergedThemeRef,displayed:e,transitionName:F(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[t.placement]),handleAfterLeave:H,bodyDirectives:y,handleMousedownResizeTrigger:P,handleMouseenterResizeTrigger:N,handleMouseleaveResizeTrigger:W,isDragging:s,isHoverOnResizeTrigger:f}},render(){const{$slots:t,mergedClsPrefix:e}=this;return this.displayDirective==="show"||this.displayed||this.show?ie(l("div",{role:"none"},l(Et,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>l(Xe,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ie(l("div",Dt(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:["".concat(e,"-drawer"),this.rtlEnabled&&"".concat(e,"-drawer--rtl"),"".concat(e,"-drawer--").concat(this.placement,"-placement"),this.isDragging&&"".concat(e,"-drawer--unselectable"),this.nativeScrollbar&&"".concat(e,"-drawer--native-scrollbar")]}),[this.resizable?l("div",{class:["".concat(e,"-drawer__resize-trigger"),(this.isDragging||this.isHoverOnResizeTrigger)&&"".concat(e,"-drawer__resize-trigger--hover")],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?l("div",{class:["".concat(e,"-drawer-content-wrapper"),this.contentClass],style:this.contentStyle,role:"none"},t):l(Ke,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:["".concat(e,"-drawer-content-wrapper"),this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),t)]),this.bodyDirectives)})})),[[pe,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:So,cubicBezierEaseOut:$o}=ce;function _o({duration:t="0.3s",leaveDuration:e="0.2s",name:o="slide-in-from-right"}={}){return[c("&.".concat(o,"-transition-leave-active"),{transition:"transform ".concat(e," ").concat(So)}),c("&.".concat(o,"-transition-enter-active"),{transition:"transform ".concat(t," ").concat($o)}),c("&.".concat(o,"-transition-enter-to"),{transform:"translateX(0)"}),c("&.".concat(o,"-transition-enter-from"),{transform:"translateX(100%)"}),c("&.".concat(o,"-transition-leave-from"),{transform:"translateX(0)"}),c("&.".concat(o,"-transition-leave-to"),{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Mo,cubicBezierEaseOut:Bo}=ce;function Ro({duration:t="0.3s",leaveDuration:e="0.2s",name:o="slide-in-from-left"}={}){return[c("&.".concat(o,"-transition-leave-active"),{transition:"transform ".concat(e," ").concat(Mo)}),c("&.".concat(o,"-transition-enter-active"),{transition:"transform ".concat(t," ").concat(Bo)}),c("&.".concat(o,"-transition-enter-to"),{transform:"translateX(0)"}),c("&.".concat(o,"-transition-enter-from"),{transform:"translateX(-100%)"}),c("&.".concat(o,"-transition-leave-from"),{transform:"translateX(0)"}),c("&.".concat(o,"-transition-leave-to"),{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Eo,cubicBezierEaseOut:Do}=ce;function Po({duration:t="0.3s",leaveDuration:e="0.2s",name:o="slide-in-from-top"}={}){return[c("&.".concat(o,"-transition-leave-active"),{transition:"transform ".concat(e," ").concat(Eo)}),c("&.".concat(o,"-transition-enter-active"),{transition:"transform ".concat(t," ").concat(Do)}),c("&.".concat(o,"-transition-enter-to"),{transform:"translateY(0)"}),c("&.".concat(o,"-transition-enter-from"),{transform:"translateY(-100%)"}),c("&.".concat(o,"-transition-leave-from"),{transform:"translateY(0)"}),c("&.".concat(o,"-transition-leave-to"),{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Io,cubicBezierEaseOut:Ho}=ce;function To({duration:t="0.3s",leaveDuration:e="0.2s",name:o="slide-in-from-bottom"}={}){return[c("&.".concat(o,"-transition-leave-active"),{transition:"transform ".concat(e," ").concat(Io)}),c("&.".concat(o,"-transition-enter-active"),{transition:"transform ".concat(t," ").concat(Ho)}),c("&.".concat(o,"-transition-enter-to"),{transform:"translateY(0)"}),c("&.".concat(o,"-transition-enter-from"),{transform:"translateY(100%)"}),c("&.".concat(o,"-transition-leave-from"),{transform:"translateY(0)"}),c("&.".concat(o,"-transition-leave-to"),{transform:"translateY(100%)"})]}const Lo=c([w("drawer","\n word-break: break-word;\n line-height: var(--n-line-height);\n position: absolute;\n pointer-events: all;\n box-shadow: var(--n-box-shadow);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n background-color: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n ",[_o(),Ro(),Po(),To(),x("unselectable","\n user-select: none; \n -webkit-user-select: none;\n "),x("native-scrollbar",[w("drawer-content-wrapper","\n overflow: auto;\n height: 100%;\n ")]),_("resize-trigger","\n position: absolute;\n background-color: #0000;\n transition: background-color .3s var(--n-bezier);\n ",[x("hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")]),w("drawer-content-wrapper","\n box-sizing: border-box;\n "),w("drawer-content","\n height: 100%;\n display: flex;\n flex-direction: column;\n ",[x("native-scrollbar",[w("drawer-body-content-wrapper","\n height: 100%;\n overflow: auto;\n ")]),w("drawer-body","\n flex: 1 0 0;\n overflow: hidden;\n "),w("drawer-body-content-wrapper","\n box-sizing: border-box;\n padding: var(--n-body-padding);\n "),w("drawer-header","\n font-weight: var(--n-title-font-weight);\n line-height: 1;\n font-size: var(--n-title-font-size);\n color: var(--n-title-text-color);\n padding: var(--n-header-padding);\n transition: border .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-divider-color);\n border-bottom: var(--n-header-border-bottom);\n display: flex;\n justify-content: space-between;\n align-items: center;\n ",[_("close","\n margin-left: 6px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),w("drawer-footer","\n display: flex;\n justify-content: flex-end;\n border-top: var(--n-footer-border-top);\n transition: border .3s var(--n-bezier);\n padding: var(--n-footer-padding);\n ")]),x("right-placement","\n top: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-bottom-left-radius: var(--n-border-radius);\n ",[_("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n left: 0;\n transform: translateX(-1.5px);\n cursor: ew-resize;\n ")]),x("left-placement","\n top: 0;\n bottom: 0;\n left: 0;\n border-top-right-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[_("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n right: 0;\n transform: translateX(1.5px);\n cursor: ew-resize;\n ")]),x("top-placement","\n top: 0;\n left: 0;\n right: 0;\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[_("resize-trigger","\n width: 100%;\n height: 3px;\n bottom: 0;\n left: 0;\n transform: translateY(1.5px);\n cursor: ns-resize;\n ")]),x("bottom-placement","\n left: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-top-right-radius: var(--n-border-radius);\n ",[_("resize-trigger","\n width: 100%;\n height: 3px;\n top: 0;\n left: 0;\n transform: translateY(-1.5px);\n cursor: ns-resize;\n ")])]),c("body",[c(">",[w("drawer-container","\n position: fixed;\n ")])]),w("drawer-container","\n position: relative;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n ",[c("> *","\n pointer-events: all;\n ")]),w("drawer-mask","\n background-color: rgba(0, 0, 0, .3);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[x("invisible","\n background-color: rgba(0, 0, 0, 0)\n "),Pt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Fo=Object.assign(Object.assign({},G.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Oo=E({name:"Drawer",inheritAttrs:!1,props:Fo,setup(t){const{mergedClsPrefixRef:e,namespaceRef:o,inlineThemeDisabled:r}=te(t),n=It(),a=G("Drawer","-drawer",Lo,Ht,t,e),i=T(t.defaultWidth),f=T(t.defaultHeight),s=ge(se(t,"width"),i),h=ge(se(t,"height"),f),p=F(()=>{const{placement:u}=t;return u==="top"||u==="bottom"?"":Me(s.value)}),g=F(()=>{const{placement:u}=t;return u==="left"||u==="right"?"":Me(h.value)}),D=u=>{const{onUpdateWidth:y,"onUpdate:width":H}=t;y&&Y(y,u),H&&Y(H,u),i.value=u},O=u=>{const{onUpdateHeight:y,"onUpdate:width":H}=t;y&&Y(y,u),H&&Y(H,u),f.value=u},P=F(()=>[{width:p.value,height:g.value},t.drawerStyle||""]);function N(u){const{onMaskClick:y,maskClosable:H}=t;H&&d(!1),y&&y(u)}function W(u){N(u)}const C=ao();function k(u){var y;(y=t.onEsc)===null||y===void 0||y.call(t),t.show&&t.closeOnEsc&&io(u)&&(C.value||d(!1))}function d(u){const{onHide:y,onUpdateShow:H,"onUpdate:show":m}=t;H&&Y(H,u),m&&Y(m,u),y&&!u&&Y(y,u)}Q(ye,{isMountedRef:n,mergedThemeRef:a,mergedClsPrefixRef:e,doUpdateShow:d,doUpdateHeight:O,doUpdateWidth:D});const S=F(()=>{const{common:{cubicBezierEaseInOut:u,cubicBezierEaseIn:y,cubicBezierEaseOut:H},self:{color:m,textColor:B,boxShadow:A,lineHeight:j,headerPadding:V,footerPadding:ue,borderRadius:he,bodyPadding:X,titleFontSize:et,titleTextColor:tt,titleFontWeight:ot,headerBorderBottom:rt,footerBorderTop:nt,closeIconColor:it,closeIconColorHover:st,closeIconColorPressed:at,closeColorHover:lt,closeColorPressed:dt,closeIconSize:ct,closeSize:ut,closeBorderRadius:ht,resizableTriggerColorHover:ft}}=a.value;return{"--n-line-height":j,"--n-color":m,"--n-border-radius":he,"--n-text-color":B,"--n-box-shadow":A,"--n-bezier":u,"--n-bezier-out":H,"--n-bezier-in":y,"--n-header-padding":V,"--n-body-padding":X,"--n-footer-padding":ue,"--n-title-text-color":tt,"--n-title-font-size":et,"--n-title-font-weight":ot,"--n-header-border-bottom":rt,"--n-footer-border-top":nt,"--n-close-icon-color":it,"--n-close-icon-color-hover":st,"--n-close-icon-color-pressed":at,"--n-close-size":ut,"--n-close-color-hover":lt,"--n-close-color-pressed":dt,"--n-close-icon-size":ct,"--n-close-border-radius":ht,"--n-resize-trigger-color-hover":ft}}),L=r?de("drawer",void 0,S,t):void 0;return{mergedClsPrefix:e,namespace:o,mergedBodyStyle:P,handleOutsideClick:W,handleMaskClick:N,handleEsc:k,mergedTheme:a,cssVars:r?void 0:S,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender,isMounted:n}},render(){const{mergedClsPrefix:t}=this;return l(Lt,{to:this.to,show:this.show},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),ie(l("div",{class:["".concat(t,"-drawer-container"),this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?l(Xe,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?l("div",{"aria-hidden":!0,class:["".concat(t,"-drawer-mask"),this.showMask==="transparent"&&"".concat(t,"-drawer-mask--invisible")],onClick:this.handleMaskClick}):null}):null,l(ko,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[Tt,{zIndex:this.zIndex,enabled:this.show}]])}})}}),No={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Ao=E({name:"DrawerContent",props:No,setup(){const t=le(ye,null);t||Ge("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:e}=t;function o(){e(!1)}return{handleCloseClick:o,mergedTheme:t.mergedThemeRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{title:t,mergedClsPrefix:e,nativeScrollbar:o,mergedTheme:r,bodyClass:n,bodyStyle:a,bodyContentClass:i,bodyContentStyle:f,headerClass:s,headerStyle:h,footerClass:p,footerStyle:g,scrollbarProps:D,closable:O,$slots:P}=this;return l("div",{role:"none",class:["".concat(e,"-drawer-content"),o&&"".concat(e,"-drawer-content--native-scrollbar")]},P.header||t||O?l("div",{class:["".concat(e,"-drawer-header"),s],style:h,role:"none"},l("div",{class:"".concat(e,"-drawer-header__main"),role:"heading","aria-level":"1"},P.header!==void 0?P.header():t),O&&l(Ft,{onClick:this.handleCloseClick,clsPrefix:e,class:"".concat(e,"-drawer-header__close"),absolute:!0})):null,o?l("div",{class:["".concat(e,"-drawer-body"),n],style:a,role:"none"},l("div",{class:["".concat(e,"-drawer-body-content-wrapper"),i],style:f,role:"none"},P)):l(Ke,Object.assign({themeOverrides:r.peerOverrides.Scrollbar,theme:r.peers.Scrollbar},D,{class:"".concat(e,"-drawer-body"),contentClass:["".concat(e,"-drawer-body-content-wrapper"),i],contentStyle:f}),P),P.footer?l("div",{class:["".concat(e,"-drawer-footer"),p],style:g,role:"none"},P.footer()):null)}}),jo=c([w("list","\n --n-merged-border-color: var(--n-border-color);\n --n-merged-color: var(--n-color);\n --n-merged-color-hover: var(--n-color-hover);\n margin: 0;\n font-size: var(--n-font-size);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n padding: 0;\n list-style-type: none;\n color: var(--n-text-color);\n background-color: var(--n-merged-color);\n ",[x("show-divider",[w("list-item",[c("&:not(:last-child)",[_("divider","\n background-color: var(--n-merged-border-color);\n ")])])]),x("clickable",[w("list-item","\n cursor: pointer;\n ")]),x("bordered","\n border: 1px solid var(--n-merged-border-color);\n border-radius: var(--n-border-radius);\n "),x("hoverable",[w("list-item","\n border-radius: var(--n-border-radius);\n ",[c("&:hover","\n background-color: var(--n-merged-color-hover);\n ",[_("divider","\n background-color: transparent;\n ")])])]),x("bordered, hoverable",[w("list-item","\n padding: 12px 20px;\n "),_("header, footer","\n padding: 12px 20px;\n ")]),_("header, footer","\n padding: 12px 0;\n box-sizing: border-box;\n transition: border-color .3s var(--n-bezier);\n ",[c("&:not(:last-child)","\n border-bottom: 1px solid var(--n-merged-border-color);\n ")]),w("list-item","\n position: relative;\n padding: 12px 0; \n box-sizing: border-box;\n display: flex;\n flex-wrap: nowrap;\n align-items: center;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[_("prefix","\n margin-right: 20px;\n flex: 0;\n "),_("suffix","\n margin-left: 20px;\n flex: 0;\n "),_("main","\n flex: 1;\n "),_("divider","\n height: 1px;\n position: absolute;\n bottom: 0;\n left: 0;\n right: 0;\n background-color: transparent;\n transition: background-color .3s var(--n-bezier);\n pointer-events: none;\n ")])]),Ot(w("list","\n --n-merged-color-hover: var(--n-color-hover-modal);\n --n-merged-color: var(--n-color-modal);\n --n-merged-border-color: var(--n-border-color-modal);\n ")),Nt(w("list","\n --n-merged-color-hover: var(--n-color-hover-popover);\n --n-merged-color: var(--n-color-popover);\n --n-merged-border-color: var(--n-border-color-popover);\n "))]),Uo=Object.assign(Object.assign({},G.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),Qe=jt("n-list"),Wo=E({name:"List",props:Uo,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:o,mergedRtlRef:r}=te(t),n=be("List",r,e),a=G("List","-list",jo,At,t,e);Q(Qe,{showDividerRef:se(t,"showDivider"),mergedClsPrefixRef:e});const i=F(()=>{const{common:{cubicBezierEaseInOut:s},self:{fontSize:h,textColor:p,color:g,colorModal:D,colorPopover:O,borderColor:P,borderColorModal:N,borderColorPopover:W,borderRadius:C,colorHover:k,colorHoverModal:d,colorHoverPopover:S}}=a.value;return{"--n-font-size":h,"--n-bezier":s,"--n-text-color":p,"--n-color":g,"--n-border-radius":C,"--n-border-color":P,"--n-border-color-modal":N,"--n-border-color-popover":W,"--n-color-modal":D,"--n-color-popover":O,"--n-color-hover":k,"--n-color-hover-modal":d,"--n-color-hover-popover":S}}),f=o?de("list",void 0,i,t):void 0;return{mergedClsPrefix:e,rtlEnabled:n,cssVars:o?void 0:i,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var t;const{$slots:e,mergedClsPrefix:o,onRender:r}=this;return r==null||r(),l("ul",{class:["".concat(o,"-list"),this.rtlEnabled&&"".concat(o,"-list--rtl"),this.bordered&&"".concat(o,"-list--bordered"),this.showDivider&&"".concat(o,"-list--show-divider"),this.hoverable&&"".concat(o,"-list--hoverable"),this.clickable&&"".concat(o,"-list--clickable"),this.themeClass],style:this.cssVars},e.header?l("div",{class:"".concat(o,"-list__header")},e.header()):null,(t=e.default)===null||t===void 0?void 0:t.call(e),e.footer?l("div",{class:"".concat(o,"-list__footer")},e.footer()):null)}}),Vo=E({name:"ListItem",setup(){const t=le(Qe,null);return t||Ge("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:t.showDividerRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{$slots:t,mergedClsPrefix:e}=this;return l("li",{class:"".concat(e,"-list-item")},t.prefix?l("div",{class:"".concat(e,"-list-item__prefix")},t.prefix()):null,t.default?l("div",{class:"".concat(e,"-list-item__main")},t):null,t.suffix?l("div",{class:"".concat(e,"-list-item__suffix")},t.suffix()):null,this.showDivider&&l("div",{class:"".concat(e,"-list-item__divider")}))}});function Yo(t){const{primaryColorHover:e,borderColor:o}=t;return{resizableTriggerColorHover:e,resizableTriggerColor:o}}const Xo={name:"Split",common:Ut,self:Yo},Ko=w("split","\n display: flex;\n width: 100%;\n height: 100%;\n",[x("horizontal","\n flex-direction: row;\n "),x("vertical","\n flex-direction: column;\n "),w("split-pane-1","\n overflow: hidden;\n "),w("split-pane-2","\n overflow: hidden;\n flex: 1;\n "),_("resize-trigger","\n background-color: var(--n-resize-trigger-color);\n transition: background-color .3s var(--n-bezier);\n ",[x("hover","\n background-color: var(--n-resize-trigger-color-hover);\n "),c("&:hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")])]),Go=Object.assign(Object.assign({},G.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),je=E({name:"Split",props:Go,setup(t){var e;const{mergedClsPrefixRef:o,inlineThemeDisabled:r}=te(t),n=G("Split","-split",Ko,Xo,t,o),a=F(()=>{const{common:{cubicBezierEaseInOut:d},self:{resizableTriggerColor:S,resizableTriggerColorHover:L}}=n.value;return{"--n-bezier":d,"--n-resize-trigger-color":S,"--n-resize-trigger-color-hover":L}}),i=T(null),f=T(!1),s=se(t,"size"),h=T(t.defaultSize);!((e=t.watchProps)===null||e===void 0)&&e.includes("defaultSize")&&Ye(()=>h.value=t.defaultSize);const p=d=>{const S=t["onUpdate:size"];t.onUpdateSize&&Y(t.onUpdateSize,d),S&&Y(S,d),h.value=d},g=ge(s,h),D=F(()=>{const d=g.value;if(typeof d=="string")return{flex:"0 0 ".concat(d)};if(typeof d=="number"){const S=d*100;return{flex:"0 0 calc(".concat(S,"% - ").concat(t.resizeTriggerSize*S/100,"px)")}}}),O=F(()=>t.direction==="horizontal"?{width:"".concat(t.resizeTriggerSize,"px"),height:"100%"}:{width:"100%",height:"".concat(t.resizeTriggerSize,"px")}),P=F(()=>{const d=t.direction==="horizontal";return{width:d?"".concat(t.resizeTriggerSize,"px"):"",height:d?"":"".concat(t.resizeTriggerSize,"px"),cursor:t.direction==="horizontal"?"col-resize":"row-resize"}});let N=0;const W=d=>{d.preventDefault(),f.value=!0,t.onDragStart&&t.onDragStart(d);const S="mousemove",L="mouseup",u=m=>{C(m),t.onDragMove&&t.onDragMove(m)},y=()=>{Ee(S,document,u),Ee(L,document,y),f.value=!1,t.onDragEnd&&t.onDragEnd(d),document.body.style.cursor=""};document.body.style.cursor=P.value.cursor,Be(S,document,u),Be(L,document,y);const H=i.value;if(H){const m=H.getBoundingClientRect();t.direction==="horizontal"?N=d.clientX-m.left:N=m.top-d.clientY}C(d)};function C(d){var S,L;const u=(L=(S=i.value)===null||S===void 0?void 0:S.parentElement)===null||L===void 0?void 0:L.getBoundingClientRect();if(!u)return;const{direction:y}=t,H=u.width-t.resizeTriggerSize,m=u.height-t.resizeTriggerSize,B=y==="horizontal"?H:m,A=y==="horizontal"?d.clientX-u.left-N:d.clientY-u.top+N,{min:j,max:V}=t,ue=typeof j=="string"?Re(j):j*B,he=typeof V=="string"?Re(V):V*B;let X=A;X=Math.max(X,ue),X=Math.min(X,he,B),typeof g.value=="string"?p("".concat(X,"px")):p(X/B)}const k=r?de("split",void 0,a,t):void 0;return{themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender,cssVars:r?void 0:a,resizeTriggerElRef:i,isDragging:f,mergedClsPrefix:o,resizeTriggerWrapperStyle:P,resizeTriggerStyle:O,handleMouseDown:W,firstPaneStyle:D}},render(){var t,e,o,r,n;return(t=this.onRender)===null||t===void 0||t.call(this),l("div",{class:["".concat(this.mergedClsPrefix,"-split"),"".concat(this.mergedClsPrefix,"-split--").concat(this.direction),this.themeClass],style:this.cssVars},l("div",{class:["".concat(this.mergedClsPrefix,"-split-pane-1"),this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(o=(e=this.$slots)[1])===null||o===void 0?void 0:o.call(e)),!this.disabled&&l("div",{ref:"resizeTriggerElRef",class:"".concat(this.mergedClsPrefix,"-split__resize-trigger-wrapper"),style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},Wt(this.$slots["resize-trigger"],()=>[l("div",{style:this.resizeTriggerStyle,class:["".concat(this.mergedClsPrefix,"-split__resize-trigger"),this.isDragging&&"".concat(this.mergedClsPrefix,"-split__resize-trigger--hover")]})])),l("div",{class:["".concat(this.mergedClsPrefix,"-split-pane-2"),this.pane2Class],style:this.pane2Style},(n=(r=this.$slots)[2])===null||n===void 0?void 0:n.call(r)))}}),qo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Zo=z("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Jo=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 176v160"},null,-1),Qo=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 256H176"},null,-1),er=[Zo,Jo,Qo],tr=E({name:"AddCircleOutline",render:function(e,o){return R(),U("svg",qo,er)}}),or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},rr=z("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),nr=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320L192 192"},null,-1),ir=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 320l128-128"},null,-1),sr=[rr,nr,ir],ar=E({name:"CloseCircleOutline",render:function(e,o){return R(),U("svg",or,sr)}}),lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},dr=z("path",{d:"M408 96H252.11a23.89 23.89 0 0 1-13.31-4L211 73.41A55.77 55.77 0 0 0 179.89 64H104a56.06 56.06 0 0 0-56 56v24h416c0-30.88-25.12-48-56-48z",fill:"currentColor"},null,-1),cr=z("path",{d:"M423.75 448H88.25a56 56 0 0 1-55.93-55.15L16.18 228.11v-.28A48 48 0 0 1 64 176h384.1a48 48 0 0 1 47.8 51.83v.28l-16.22 164.74A56 56 0 0 1 423.75 448zm56.15-221.45z",fill:"currentColor"},null,-1),ur=[dr,cr],hr=E({name:"FolderOpen",render:function(e,o){return R(),U("svg",lr,ur)}}),fr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mr=z("path",{d:"M313.27 124.64L198.73 51.36a32 32 0 0 0-29.28.35L56.51 127.49A16 16 0 0 0 48 141.63v295.8a16 16 0 0 0 23.49 14.14l97.82-63.79a32 32 0 0 1 29.5-.24l111.86 73a32 32 0 0 0 29.27-.11l115.43-75.94a16 16 0 0 0 8.63-14.2V74.57a16 16 0 0 0-23.49-14.14l-98 63.86a32 32 0 0 1-29.24.35z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),pr=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M328 128v336"},null,-1),gr=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M184 48v336"},null,-1),vr=[mr,pr,gr],wr=E({name:"MapOutline",render:function(e,o){return R(),U("svg",fr,vr)}}),br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yr=z("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Cr=z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 256H176"},null,-1),xr=[yr,Cr],zr=E({name:"RemoveCircleOutline",render:function(e,o){return R(),U("svg",br,xr)}}),kr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Sr=z("path",{d:"M465.94 119.76l-73.7-73.7A47.68 47.68 0 0 0 358.3 32H96a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V153.7a47.68 47.68 0 0 0-14.06-33.94zM120 112h176a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H120a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8zm139.75 319.91a80 80 0 1 1 76.16-76.16a80.06 80.06 0 0 1-76.16 76.16z",fill:"currentColor"},null,-1),$r=z("circle",{cx:"256",cy:"352",r:"48",fill:"currentColor"},null,-1),_r=[Sr,$r],Mr=E({name:"Save",render:function(e,o){return R(),U("svg",kr,_r)}}),Br={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Rr=z("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M336 320H32L184 48l152 272z"},null,-1),Er=z("path",{d:"M265.32 194.51A144 144 0 1 1 192 320",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Dr=[Rr,Er],Pr=E({name:"ShapesOutline",render:function(e,o){return R(),U("svg",Br,Dr)}});class Ir{constructor(e){I(this,"host");I(this,"space");I(this,"id");I(this,"containerID");I(this,"previousScale");I(this,"enable",e=>{const o=document.getElementById(e),r=Number(window.getComputedStyle(o).borderRadius.match(/\d+/g)),n="".concat(e,"-force-hidpi-style-support"),a=document.getElementById(n)||(()=>{const i=document.createElement("style");return i.id=n,document.head.appendChild(i),i})();return a.innerHTML="\n            #".concat(e," > div {\n                transform: scale(").concat(1/window.devicePixelRatio,") !important;\n                transform-origin: top left !important;\n                width: ").concat(window.devicePixelRatio*100,"% !important;\n                height: ").concat(window.devicePixelRatio*100,"% !important;\n            }\n            #").concat(e," * {\n                border-radius: ").concat(window.devicePixelRatio*r,"px !important;\n            }\n        "),n});this.host=e,this.space="liteModeHiDpi",this.containerID=e.container.id,this.previousScale=window.devicePixelRatio}mount(){return this.host.plugins[this.space]=this,this.host.properties.liteModeForceHiDPI&&(this.id=this.enableLiteForceHiDPI()),!0}unmount(){return this.host.plugins[this.space]=null,this.host.properties.liteModeForceHiDPI?this.disableLiteForceHiDPI():!0}onResize(){this.previousScale!==window.devicePixelRatio&&(this.previousScale=window.devicePixelRatio,this.enable(this.containerID))}enableLiteForceHiDPI(){return window.addEventListener("resize",()=>this.onResize()),this.enable(this.containerID)}disableLiteForceHiDPI(){const e="".concat(this.containerID,"-force-hidpi-style-support"),o=document.getElementById(e);if(o)document.head.removeChild(o);else return!1;return window.removeEventListener("resize",()=>this.onResize()),!0}}const Hr=[Vt,Jt,Qt,Ir],Tr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Lr=z("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[z("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}),z("path",{d:"M7 9l5-5l5 5"}),z("path",{d:"M12 4v12"})],-1),Fr=[Lr],Or=E({name:"Upload",render:function(e,o){return R(),U("svg",Tr,Fr)}}),Nr={class:"container"},Ar={style:{height:"100%",width:"100%",display:"flex","justify-items":"center"}},jr=E({__name:"SketchSelector",props:{list:{type:Array,default:()=>[]}},emits:["select","remove"],setup(t,{emit:e}){const o=t,r=e;function n(i){r("select",i)}function a(i){confirm("Are you sure to delete this CartoSketch?\nBoth Route and Drafts will be deleted")&&r("remove",i)}return(i,f)=>(R(),U("div",Nr,[M(v(Wo),{class:"select-listview",hoverable:""},{default:b(()=>[(R(!0),U(ae,null,Ce(o.list,s=>(R(),K(v(Vo),{title:s.name,key:s.id,onClick:h=>n(s.id)},{prefix:b(()=>[z("div",Ar,[M(v(ee),{size:"20"},{default:b(()=>[M(v(Pr))]),_:1})])]),suffix:b(()=>[M(v(xe),{quaternary:"",circle:"",onClick:Yt(h=>a(s.id),["stop"])},{icon:b(()=>[M(v(ee),null,{default:b(()=>[M(v(zr))]),_:1})]),_:2},1032,["onClick"])]),default:b(()=>[ve(" "+Xt(s.name),1)]),_:2},1032,["title","onClick"]))),128))]),_:1})]))}}),Ur=qe(jr,[["__scopeId","data-v-f96e4745"]]),Wr=E({__name:"SelectorDrawer",props:{active:{type:Boolean,default:()=>!1},placement:{type:String,default:()=>"right"},list:{type:Array,default:()=>[]}},emits:["new","update:active","remove","select","import"],setup(t,{emit:e}){const o=t,r=[{title:"import",icon:Or,callback:()=>{i("import")},secondary:!0,iconSize:17,type:"default"},{title:"new",icon:tr,callback:()=>i("new"),secondary:!0,iconSize:20,type:"default"},{title:"close",icon:ar,callback:()=>{n.value=!1},secondary:!0,iconSize:20,type:"error"}],n=T(!1),a=T(o.placement);ne(o,()=>{n.value=o.active,a.value=o.placement},{deep:!0}),ne(n,()=>{i("update:active",n.value)});const i=e;return(f,s)=>(R(),K(v(Oo),{show:n.value,"onUpdate:show":s[2]||(s[2]=h=>n.value=h),width:502,placement:a.value,"auto-focus":!1},{default:b(()=>[M(v(Ao),{title:"CartoSketch Library"},{footer:b(()=>[M(v(zo),null,{default:b(()=>[(R(),U(ae,null,Ce(r,h=>M(v(xe),{secondary:h.secondary,key:h.title,type:h.type,title:h.title,onClick:h.callback},{icon:b(()=>[M(v(ee),{size:h.iconSize},{default:b(()=>[(R(),K(Ze(h.icon)))]),_:2},1032,["size"])]),_:2},1032,["secondary","type","title","onClick"])),64))]),_:1})]),default:b(()=>[M(Ur,{list:t.list,onRemove:s[0]||(s[0]=h=>i("remove",h)),onSelect:s[1]||(s[1]=h=>i("select",h))},null,8,["list"])]),_:1})]),_:1},8,["show","placement"]))}});class Vr{constructor(e){I(this,"history",[]);I(this,"hostMap");I(this,"handlers",[]);I(this,"name");I(this,"id");I(this,"componentLibrary",new Map);I(this,"componentClassification",new Map);I(this,"previousComponentIDs",new Set);I(this,"shownComponentIDs",new Set);this.hostMap=e,this.initialiseBackend().then(()=>{this.executeHandler("ready"),this.startSyncComponents()}).catch(o=>{throw new Error("Fail to initialise drawing backend: ".concat(o))})}startSyncComponents(){this.addHandler("change",()=>{try{this.syncFromMapToBackend(),this.syncFromBackendToMap()}catch(e){console.error("Fail to sync components, reason: \na",e)}})}executeHandler(e){this.handlers.forEach(o=>{o.type===e&&o.handler(this)})}addHandler(e,o){const r=this.handlers.length>0?this.handlers[this.handlers.length-1].id+1:0;this.handlers.push({type:e,id:r,handler:o})}showByID(e,o=!1){this.shownComponentIDs.add(e),o||this.executeHandler("change")}show(e,o=!1){this.showByID(e.id,o)}hideByID(e,o=!1){this.shownComponentIDs.delete(e),o||this.executeHandler("change")}hide(e,o=!1){this.hideByID(e.id,o)}add(e,o="unknown"){this.componentLibrary.set(e.id,e),this.registerPrimitive(e,o)}remove(e,o=!1){try{this.hide(e)}finally{this.componentLibrary.delete(e.id),this.componentClassification.delete(e.id),this.componentLibrary.delete(e.id),o||this.executeHandler("change")}}addHistory(e,o){this.history.push([{type:e,data:o}])}generateShowHideHistory(){const e=Ue(this.shownComponentIDs,this.previousComponentIDs),o=Ue(this.previousComponentIDs,this.shownComponentIDs),r=[];return e.length>0&&r.push({type:"show",data:e}),o.length>0&&r.push({type:"delete",data:o}),this.previousComponentIDs=Kt(this.shownComponentIDs),r}findCorrespondingUndoAction(){let e=1,o=0;for(let r=this.history.length-1;r>=0;r--)if(this.history[r][0].type==="undo"?e+=1:o+=1,e===o)return this.history[r];return[]}findCorrespondingRedoAction(){let e=0,o=1;for(let r=this.history.length-1;r>=0;r--){const n=this.history[r][0].type;if(n==="undo"?e+=1:n==="redo"&&(o+=1),n!=="redo"&&n!=="undo")return[];if(e===o)return this.history[r]}return[]}undo(){if(console.log(this.history),this.history.length>=1){const e=this.findCorrespondingUndoAction();if(e.length===0){console.warn("No action to undo");return}e[0].type!=="redo"?(e.forEach(o=>{o.type==="add"?o.data.forEach(r=>this.hide(r,!0)):o.type==="delete"&&o.data.forEach(r=>this.show(r,!0))}),this.executeHandler("change"),this.addHistory("undo",e)):(e[0].data.forEach(o=>{o.type==="add"?o.data.forEach(r=>this.hide(r,!0)):o.type==="delete"&&o.data.forEach(r=>this.show(r,!0))}),this.executeHandler("change"),this.addHistory("undo",e[0].data))}}redo(){if(this.history.length>=1){const e=this.findCorrespondingRedoAction();if(e.length===0){console.warn("No action to redo");return}e[0].data.forEach(o=>{o.type==="add"?o.data.forEach(r=>this.show(r,!0)):o.type==="delete"&&o.data.forEach(r=>this.hide(r,!0))}),this.executeHandler("change"),this.addHistory("redo",e[0].data)}}editComponent(e){const o=this.componentLibrary.get(e);if(o)this.editPrimitive(o);else throw new Error("No corresponding primitive found by id: ".concat(e))}getComponentMeta(e){return{id:e.id,className:this.componentClassification.get(e.id)||"unknown",name:e.name,type:e.type,properties:e.properties}}registerPrimitive(e,o){this.componentClassification.set(e.id,o||"unknown")}getClassificationInfo(){const e=Array.from(this.componentLibrary).map(r=>r[1]),o=r=>e.filter(n=>this.getComponentMeta(n).className===r).map(n=>this.getComponentMeta(n));return{routes:o("route"),drafts:o("draft"),unknowns:o("unknown")}}getClassifiedProxyComponents(){const e=Array.from(this.componentLibrary).map(o=>o[1]);return{routes:e.filter(o=>this.getComponentMeta(o).className==="route"),drafts:e.filter(o=>this.getComponentMeta(o).className==="draft"),unknowns:e.filter(o=>this.getComponentMeta(o).className==="unknown")}}}function Ue(t,e){const o=new Set(e);return Array.from(t).filter(r=>!o.has(r))}class Yr{constructor(e=[]){I(this,"forwardMap",new Map);I(this,"backwardMap",new Map);e.forEach(o=>{this.forwardMap.set(o.key1,o.key2),this.backwardMap.set(o.key2,o.key1)})}getForward(e){return this.forwardMap.get(e)}getBackward(e){return this.backwardMap.get(e)}set(e,o){this.forwardMap.set(e,o),this.backwardMap.set(o,e)}removeForward(e){this.backwardMap.delete(this.getForward(e)),this.forwardMap.delete(e)}removeBackward(e){this.forwardMap.delete(this.getBackward(e)),this.backwardMap.delete(e)}forwardKeys(){return Array.from(this.forwardMap.keys())}backwardKeys(){return Array.from(this.backwardMap.keys())}iterateForward(e){this.forwardMap.forEach((o,r,n)=>e(r,o,n))}iterateBackward(e){this.backwardMap.forEach((o,r,n)=>e(r,o,n))}hasForward(e){return this.forwardMap.has(e)}hasBackward(e){return this.backwardMap.has(e)}}class Xr extends Vr{constructor(){super(...arguments);I(this,"primitiveComponentMap",new Yr);I(this,"previousPrimitiveIDs",[])}syncFromMapToBackend(){const o=this.hostMap.plugins.drawingTools.getAllPrimitiveIDs(),r=Ne(o,this.previousPrimitiveIDs),n=Ne(this.previousPrimitiveIDs,o);this.previousPrimitiveIDs=o;const a=[];r&&r.forEach(i=>{const f=this.hostMap.plugins.drawingTools.getPrimitiveByID(i),s=Gt(f);this.add(s),this.showByID(s.id,!0),a.push(s.id),this.primitiveComponentMap.set(i,s.id)}),n&&n.forEach(i=>{const f=this.primitiveComponentMap.getForward(i);if(!f)throw new Error("correspondingComponentID ".concat(i," is undefined"));const s=this.componentLibrary.get(f);this.hide(s,!0),this.remove(s),this.primitiveComponentMap.removeForward(i)})}syncFromBackendToMap(){}getShownComponentIDs(){return this.primitiveComponentMap.backwardKeys()}escape(){this.hostMap.plugins.drawingTools.stopDrawing()}initialiseBackend(){return this.hostMap.plugins.drawingTools.initialised?Promise.resolve():new Promise(o=>{this.hostMap.plugins.drawingTools.addHandler("ready",()=>{this.hostMap.plugins.drawingTools.addHandler("drawingChanged",()=>{this.executeHandler("change")}),o()})})}clear(){this.hostMap.plugins.drawingTools.clear()}editPrimitive(o){const r=this.getPrimitiveFromComponent(o);if(r===void 0)throw new Error("Fail to find primitive with id ".concat(o.id));this.hostMap.plugins.drawingTools.edit(r)}getPrimitiveFromComponent(o){const r=this.primitiveComponentMap.getBackward(o.id);if(r!==void 0)return this.hostMap.plugins.drawingTools.getPrimitiveByID(r)}}const Kr={class:"edit-layout"},Gr=["onClick","title"],We=20,qr=E({__name:"SketchEdit",props:{liteMode:{type:Boolean},forceHighDpi:{type:Boolean},mapType:{}},setup(t){const e=t,o=new qt,r=T([]);let n=T(!1);const a=T(Microsoft.Maps.MapTypeId.road),i=T(!1),f=T("right"),s={open:()=>i.value=!0,close:()=>i.value=!1},h=T(Hr),p=[{title:"save",icon:Mr,iconSize:We,callback:o.save.bind(o)},{title:"Open",icon:hr,iconSize:We,callback:s.open}];function g(C){console.log(C);const k=new Xr(C);o.setBackend(k),window.adapter=o,n.value=!0}async function D(){const C=prompt("Enter the name of the new CartoSketch");C&&(await re.write(new re(C)),O())}function O(){re.getInfoList().then(C=>{r.value=C})}async function P(C){await re.remove(C),O()}async function N(C){await o.load(C),console.log("selected sketch, id:",C),s.close()}function W(C){alert(C)}return Ve(()=>{O()}),(C,k)=>(R(),U(ae,null,[M(Wr,{list:r.value,active:i.value,"onUpdate:active":k[0]||(k[0]=d=>i.value=d),placement:f.value,onNew:D,onRemove:P,onSelect:N,onActiveStateSync:k[1]||(k[1]=d=>{i.value=d}),onImport:k[2]||(k[2]=d=>W("Not implemented"))},null,8,["list","active","placement"]),M(v(je),{direction:"horizontal",max:.8,min:.4,"default-size":.7},{1:b(()=>[M(v(me),{class:"map-container","content-style":"padding: 0"},{default:b(()=>[ie(M(eo,{"map-type":a.value,plugin:h.value,"lite-mode":e.liteMode,forceHiDPI:e.forceHighDpi,onReady:g},null,8,["map-type","plugin","lite-mode","forceHiDPI"]),[[pe,v(n)]]),v(n)?fe("",!0):(R(),K(v(Ae),{key:0,description:"Map",size:"huge",style:{height:"100%","justify-content":"center"}},{icon:b(()=>[M(v(ee),null,{default:b(()=>[M(v(wr))]),_:1})]),_:1}))]),_:1})]),2:b(()=>[z("div",Kr,[M(v(me),{"content-class":"route-edit-tool-tip"},{default:b(()=>[(R(),U(ae,null,Ce(p,(d,S)=>z("div",{key:S,onClick:d.callback,title:d.title,class:"tool-tip-item"},[M(v(ee),{size:d.iconSize},{default:b(()=>[(R(),K(Ze(d.icon)))]),_:2},1032,["size"])],8,Gr)),64))]),_:1}),M(v(me),{class:"draft-container"},Zt({default:b(()=>[v(n)?(R(),K(v(je),{key:0,direction:"vertical",max:.8,min:.3,"default-size":.7},{1:b(()=>[]),2:b(()=>[]),_:1})):fe("",!0),v(n)?fe("",!0):(R(),K(v(Ae),{key:1,description:"No sketch selected",style:{height:"100%","justify-content":"center"}},{icon:b(()=>[M(v(ee))]),extra:b(()=>[M(v(xe),{size:"small",onClick:k[3]||(k[3]=d=>s.open())},{default:b(()=>[ve("Select a sketch")]),_:1})]),_:1}))]),_:2},[v(n)?{name:"header",fn:b(()=>[ve(" Components ")]),key:"0"}:void 0]),1024)])]),_:1})],64))}}),Zr=qe(qr,[["__scopeId","data-v-f1c86884"]]),nn=E({__name:"EditView",setup(t){return(e,o)=>(R(),K(Zr,{"lite-mode":!0,"force-high-dpi":!1}))}});export{nn as default};
